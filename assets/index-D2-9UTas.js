var AV=Object.defineProperty;var cV=(n,e,t)=>e in n?AV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var dn=(n,e,t)=>cV(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function wa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function G8(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var iR={exports:{}},m5={},oR={exports:{}},Oo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=Symbol.for("react.element"),hV=Symbol.for("react.portal"),dV=Symbol.for("react.fragment"),fV=Symbol.for("react.strict_mode"),pV=Symbol.for("react.profiler"),mV=Symbol.for("react.provider"),gV=Symbol.for("react.context"),yV=Symbol.for("react.forward_ref"),vV=Symbol.for("react.suspense"),_V=Symbol.for("react.memo"),CV=Symbol.for("react.lazy"),UT=Symbol.iterator;function bV(n){return n===null||typeof n!="object"?null:(n=UT&&n[UT]||n["@@iterator"],typeof n=="function"?n:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sR=Object.assign,lR={};function Wv(n,e,t){this.props=n,this.context=e,this.refs=lR,this.updater=t||aR}Wv.prototype.isReactComponent={};Wv.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Wv.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function uR(){}uR.prototype=Wv.prototype;function Q8(n,e,t){this.props=n,this.context=e,this.refs=lR,this.updater=t||aR}var $8=Q8.prototype=new uR;$8.constructor=Q8;sR($8,Wv.prototype);$8.isPureReactComponent=!0;var zT=Array.isArray,AR=Object.prototype.hasOwnProperty,Y8={current:null},cR={key:!0,ref:!0,__self:!0,__source:!0};function hR(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)AR.call(e,r)&&!cR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var f=Array(a),m=0;m<a;m++)f[m]=arguments[m+2];i.children=f}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hb,type:n,key:o,ref:s,props:i,_owner:Y8.current}}function xV(n,e){return{$$typeof:Hb,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function q8(n){return typeof n=="object"&&n!==null&&n.$$typeof===Hb}function wV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var jT=/\/+/g;function RS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?wV(""+n.key):e.toString(36)}function U3(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Hb:case hV:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+RS(s,0):r,zT(i)?(t="",n!=null&&(t=n.replace(jT,"$&/")+"/"),U3(i,e,t,"",function(m){return m})):i!=null&&(q8(i)&&(i=xV(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jT,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",zT(n))for(var a=0;a<n.length;a++){o=n[a];var f=r+RS(o,a);s+=U3(o,e,t,f,i)}else if(f=bV(n),typeof f=="function")for(n=f.call(n),a=0;!(o=n.next()).done;)o=o.value,f=r+RS(o,a++),s+=U3(o,e,t,f,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Lx(n,e,t){if(n==null)return n;var r=[],i=0;return U3(n,r,"","",function(o){return e.call(t,o,i++)}),r}function MV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var oc={current:null},z3={transition:null},SV={ReactCurrentDispatcher:oc,ReactCurrentBatchConfig:z3,ReactCurrentOwner:Y8};Oo.Children={map:Lx,forEach:function(n,e,t){Lx(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Lx(n,function(){e++}),e},toArray:function(n){return Lx(n,function(e){return e})||[]},only:function(n){if(!q8(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Oo.Component=Wv;Oo.Fragment=dV;Oo.Profiler=pV;Oo.PureComponent=Q8;Oo.StrictMode=fV;Oo.Suspense=vV;Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SV;Oo.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=sR({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Y8.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(f in e)AR.call(e,f)&&!cR.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&a!==void 0?a[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=t;else if(1<f){a=Array(f);for(var m=0;m<f;m++)a[m]=arguments[m+2];r.children=a}return{$$typeof:Hb,type:n.type,key:i,ref:o,props:r,_owner:s}};Oo.createContext=function(n){return n={$$typeof:gV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:mV,_context:n},n.Consumer=n};Oo.createElement=hR;Oo.createFactory=function(n){var e=hR.bind(null,n);return e.type=n,e};Oo.createRef=function(){return{current:null}};Oo.forwardRef=function(n){return{$$typeof:yV,render:n}};Oo.isValidElement=q8;Oo.lazy=function(n){return{$$typeof:CV,_payload:{_status:-1,_result:n},_init:MV}};Oo.memo=function(n,e){return{$$typeof:_V,type:n,compare:e===void 0?null:e}};Oo.startTransition=function(n){var e=z3.transition;z3.transition={};try{n()}finally{z3.transition=e}};Oo.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oo.useCallback=function(n,e){return oc.current.useCallback(n,e)};Oo.useContext=function(n){return oc.current.useContext(n)};Oo.useDebugValue=function(){};Oo.useDeferredValue=function(n){return oc.current.useDeferredValue(n)};Oo.useEffect=function(n,e){return oc.current.useEffect(n,e)};Oo.useId=function(){return oc.current.useId()};Oo.useImperativeHandle=function(n,e,t){return oc.current.useImperativeHandle(n,e,t)};Oo.useInsertionEffect=function(n,e){return oc.current.useInsertionEffect(n,e)};Oo.useLayoutEffect=function(n,e){return oc.current.useLayoutEffect(n,e)};Oo.useMemo=function(n,e){return oc.current.useMemo(n,e)};Oo.useReducer=function(n,e,t){return oc.current.useReducer(n,e,t)};Oo.useRef=function(n){return oc.current.useRef(n)};Oo.useState=function(n){return oc.current.useState(n)};Oo.useSyncExternalStore=function(n,e,t){return oc.current.useSyncExternalStore(n,e,t)};Oo.useTransition=function(){return oc.current.useTransition()};Oo.version="18.2.0";oR.exports=Oo;var Wn=oR.exports;const Sn=wa(Wn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV=Wn,OV=Symbol.for("react.element"),BV=Symbol.for("react.fragment"),IV=Object.prototype.hasOwnProperty,kV=EV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TV={key:!0,ref:!0,__self:!0,__source:!0};function dR(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)IV.call(e,r)&&!TV.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OV,type:n,key:o,ref:s,props:i,_owner:kV.current}}m5.Fragment=BV;m5.jsx=dR;m5.jsxs=dR;iR.exports=m5;var q=iR.exports,fR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W6=Sn.createContext&&Sn.createContext(fR),PV=["attr","size","title"];function KV(n,e){if(n==null)return{};var t=LV(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LV(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function d4(){return d4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},d4.apply(this,arguments)}function NT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function f4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(t),!0).forEach(function(r){DV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DV(n,e,t){return e=FV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FV(n){var e=RV(n,"string");return typeof e=="symbol"?e:String(e)}function RV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pR(n){return n&&n.map((e,t)=>Sn.createElement(e.tag,f4({key:t},e.attr),pR(e.child)))}function Zs(n){return e=>Sn.createElement(UV,d4({attr:f4({},n.attr)},e),pR(n.child))}function UV(n){var e=t=>{var{attr:r,size:i,title:o}=n,s=KV(n,PV),a=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Sn.createElement("svg",d4({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:f,style:f4(f4({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Sn.createElement("title",null,o),n.children)};return W6!==void 0?Sn.createElement(W6.Consumer,null,t=>e(t)):e(fR)}var mR={exports:{}},Oh={},gR={exports:{}},yR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(_t,ft){var $e=_t.length;_t.push(ft);e:for(;0<$e;){var et=$e-1>>>1,nt=_t[et];if(0<i(nt,ft))_t[et]=ft,_t[$e]=nt,$e=et;else break e}}function t(_t){return _t.length===0?null:_t[0]}function r(_t){if(_t.length===0)return null;var ft=_t[0],$e=_t.pop();if($e!==ft){_t[0]=$e;e:for(var et=0,nt=_t.length,en=nt>>>1;et<en;){var nn=2*(et+1)-1,Et=_t[nn],Vt=nn+1,Jt=_t[Vt];if(0>i(Et,$e))Vt<nt&&0>i(Jt,Et)?(_t[et]=Jt,_t[Vt]=$e,et=Vt):(_t[et]=Et,_t[nn]=$e,et=nn);else if(Vt<nt&&0>i(Jt,$e))_t[et]=Jt,_t[Vt]=$e,et=Vt;else break e}}return ft}function i(_t,ft){var $e=_t.sortIndex-ft.sortIndex;return $e!==0?$e:_t.id-ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var f=[],m=[],C=1,B=null,I=3,K=!1,L=!1,Y=!1,ee=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(_t){for(var ft=t(m);ft!==null;){if(ft.callback===null)r(m);else if(ft.startTime<=_t)r(m),ft.sortIndex=ft.expirationTime,e(f,ft);else break;ft=t(m)}}function ce(_t){if(Y=!1,ne(_t),!L)if(t(f)!==null)L=!0,Ot(ge);else{var ft=t(m);ft!==null&&St(ce,ft.startTime-_t)}}function ge(_t,ft){L=!1,Y&&(Y=!1,V(X),X=-1),K=!0;var $e=I;try{for(ne(ft),B=t(f);B!==null&&(!(B.expirationTime>ft)||_t&&!Fe());){var et=B.callback;if(typeof et=="function"){B.callback=null,I=B.priorityLevel;var nt=et(B.expirationTime<=ft);ft=n.unstable_now(),typeof nt=="function"?B.callback=nt:B===t(f)&&r(f),ne(ft)}else r(f);B=t(f)}if(B!==null)var en=!0;else{var nn=t(m);nn!==null&&St(ce,nn.startTime-ft),en=!1}return en}finally{B=null,I=$e,K=!1}}var fe=!1,H=null,X=-1,Me=5,be=-1;function Fe(){return!(n.unstable_now()-be<Me)}function Ue(){if(H!==null){var _t=n.unstable_now();be=_t;var ft=!0;try{ft=H(!0,_t)}finally{ft?me():(fe=!1,H=null)}}else fe=!1}var me;if(typeof W=="function")me=function(){W(Ue)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,_e=Ve.port2;Ve.port1.onmessage=Ue,me=function(){_e.postMessage(null)}}else me=function(){ee(Ue,0)};function Ot(_t){H=_t,fe||(fe=!0,me())}function St(_t,ft){X=ee(function(){_t(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_t){_t.callback=null},n.unstable_continueExecution=function(){L||K||(L=!0,Ot(ge))},n.unstable_forceFrameRate=function(_t){0>_t||125<_t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<_t?Math.floor(1e3/_t):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(_t){switch(I){case 1:case 2:case 3:var ft=3;break;default:ft=I}var $e=I;I=ft;try{return _t()}finally{I=$e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(_t,ft){switch(_t){case 1:case 2:case 3:case 4:case 5:break;default:_t=3}var $e=I;I=_t;try{return ft()}finally{I=$e}},n.unstable_scheduleCallback=function(_t,ft,$e){var et=n.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?et+$e:et):$e=et,_t){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=$e+nt,_t={id:C++,callback:ft,priorityLevel:_t,startTime:$e,expirationTime:nt,sortIndex:-1},$e>et?(_t.sortIndex=$e,e(m,_t),t(f)===null&&_t===t(m)&&(Y?(V(X),X=-1):Y=!0,St(ce,$e-et))):(_t.sortIndex=nt,e(f,_t),L||K||(L=!0,Ot(ge))),_t},n.unstable_shouldYield=Fe,n.unstable_wrapCallback=function(_t){var ft=I;return function(){var $e=I;I=ft;try{return _t.apply(this,arguments)}finally{I=$e}}}})(yR);gR.exports=yR;var zV=gR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR=Wn,Eh=zV;function Qn(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _R=new Set,rb={};function m1(n,e){xv(n,e),xv(n+"Capture",e)}function xv(n,e){for(rb[n]=e,n=0;n<e.length;n++)_R.add(e[n])}var bm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G6=Object.prototype.hasOwnProperty,jV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WT={},GT={};function NV(n){return G6.call(GT,n)?!0:G6.call(WT,n)?!1:jV.test(n)?GT[n]=!0:(WT[n]=!0,!1)}function WV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function GV(n,e,t,r){if(e===null||typeof e>"u"||WV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ac(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var uA={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){uA[n]=new ac(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];uA[e]=new ac(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){uA[n]=new ac(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){uA[n]=new ac(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){uA[n]=new ac(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){uA[n]=new ac(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){uA[n]=new ac(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){uA[n]=new ac(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){uA[n]=new ac(n,5,!1,n.toLowerCase(),null,!1,!1)});var V8=/[\-:]([a-z])/g;function H8(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(V8,H8);uA[e]=new ac(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(V8,H8);uA[e]=new ac(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(V8,H8);uA[e]=new ac(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){uA[n]=new ac(n,1,!1,n.toLowerCase(),null,!1,!1)});uA.xlinkHref=new ac("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){uA[n]=new ac(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z8(n,e,t,r){var i=uA.hasOwnProperty(e)?uA[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GV(e,t,i,r)&&(t=null),r||i===null?NV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Em=vR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dx=Symbol.for("react.element"),xy=Symbol.for("react.portal"),wy=Symbol.for("react.fragment"),X8=Symbol.for("react.strict_mode"),Q6=Symbol.for("react.profiler"),CR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),J8=Symbol.for("react.forward_ref"),$6=Symbol.for("react.suspense"),Y6=Symbol.for("react.suspense_list"),e7=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),xR=Symbol.for("react.offscreen"),QT=Symbol.iterator;function U_(n){return n===null||typeof n!="object"?null:(n=QT&&n[QT]||n["@@iterator"],typeof n=="function"?n:null)}var Hs=Object.assign,US;function cC(n){if(US===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);US=e&&e[1]||""}return`
`+US+n}var zS=!1;function jS(n,e){if(!n||zS)return"";zS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(n,[],e)}else{try{e.call()}catch(m){r=m}n.call(e.prototype)}else{try{throw Error()}catch(m){r=m}n()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=s&&0<=a);break}}}finally{zS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?cC(n):""}function QV(n){switch(n.tag){case 5:return cC(n.type);case 16:return cC("Lazy");case 13:return cC("Suspense");case 19:return cC("SuspenseList");case 0:case 2:case 15:return n=jS(n.type,!1),n;case 11:return n=jS(n.type.render,!1),n;case 1:return n=jS(n.type,!0),n;default:return""}}function q6(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case wy:return"Fragment";case xy:return"Portal";case Q6:return"Profiler";case X8:return"StrictMode";case $6:return"Suspense";case Y6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bR:return(n.displayName||"Context")+".Consumer";case CR:return(n._context.displayName||"Context")+".Provider";case J8:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case e7:return e=n.displayName||null,e!==null?e:q6(n.type)||"Memo";case n0:e=n._payload,n=n._init;try{return q6(n(e))}catch{}}return null}function $V(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q6(e);case 8:return e===X8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function T0(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YV(n){var e=wR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Fx(n){n._valueTracker||(n._valueTracker=YV(n))}function MR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=wR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function p4(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function V6(n,e){var t=e.checked;return Hs({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function $T(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=T0(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SR(n,e){e=e.checked,e!=null&&Z8(n,"checked",e,!1)}function H6(n,e){SR(n,e);var t=T0(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Z6(n,e.type,t):e.hasOwnProperty("defaultValue")&&Z6(n,e.type,T0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function YT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Z6(n,e,t){(e!=="number"||p4(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hC=Array.isArray;function qy(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+T0(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function X6(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qn(91));return Hs({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function qT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Qn(92));if(hC(t)){if(1<t.length)throw Error(Qn(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:T0(t)}}function ER(n,e){var t=T0(e.value),r=T0(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function VT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function OR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J6(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?OR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Rx,BR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Rx=Rx||document.createElement("div"),Rx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ib(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var OC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qV=["Webkit","ms","Moz","O"];Object.keys(OC).forEach(function(n){qV.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),OC[e]=OC[n]})});function IR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||OC.hasOwnProperty(n)&&OC[n]?(""+e).trim():e+"px"}function kR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=IR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var VV=Hs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eO(n,e){if(e){if(VV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qn(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qn(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qn(62))}}function tO(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nO=null;function t7(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rO=null,Vy=null,Hy=null;function HT(n){if(n=Jb(n)){if(typeof rO!="function")throw Error(Qn(280));var e=n.stateNode;e&&(e=C5(e),rO(n.stateNode,n.type,e))}}function TR(n){Vy?Hy?Hy.push(n):Hy=[n]:Vy=n}function PR(){if(Vy){var n=Vy,e=Hy;if(Hy=Vy=null,HT(n),e)for(n=0;n<e.length;n++)HT(e[n])}}function KR(n,e){return n(e)}function LR(){}var NS=!1;function DR(n,e,t){if(NS)return n(e,t);NS=!0;try{return KR(n,e,t)}finally{NS=!1,(Vy!==null||Hy!==null)&&(LR(),PR())}}function ob(n,e){var t=n.stateNode;if(t===null)return null;var r=C5(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Qn(231,e,typeof t));return t}var iO=!1;if(bm)try{var z_={};Object.defineProperty(z_,"passive",{get:function(){iO=!0}}),window.addEventListener("test",z_,z_),window.removeEventListener("test",z_,z_)}catch{iO=!1}function HV(n,e,t,r,i,o,s,a,f){var m=Array.prototype.slice.call(arguments,3);try{e.apply(t,m)}catch(C){this.onError(C)}}var BC=!1,m4=null,g4=!1,oO=null,ZV={onError:function(n){BC=!0,m4=n}};function XV(n,e,t,r,i,o,s,a,f){BC=!1,m4=null,HV.apply(ZV,arguments)}function JV(n,e,t,r,i,o,s,a,f){if(XV.apply(this,arguments),BC){if(BC){var m=m4;BC=!1,m4=null}else throw Error(Qn(198));g4||(g4=!0,oO=m)}}function g1(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function FR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ZT(n){if(g1(n)!==n)throw Error(Qn(188))}function eH(n){var e=n.alternate;if(!e){if(e=g1(n),e===null)throw Error(Qn(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return ZT(i),n;if(o===r)return ZT(i),e;o=o.sibling}throw Error(Qn(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(Qn(189))}}if(t.alternate!==r)throw Error(Qn(190))}if(t.tag!==3)throw Error(Qn(188));return t.stateNode.current===t?n:e}function RR(n){return n=eH(n),n!==null?UR(n):null}function UR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=UR(n);if(e!==null)return e;n=n.sibling}return null}var zR=Eh.unstable_scheduleCallback,XT=Eh.unstable_cancelCallback,tH=Eh.unstable_shouldYield,nH=Eh.unstable_requestPaint,Il=Eh.unstable_now,rH=Eh.unstable_getCurrentPriorityLevel,n7=Eh.unstable_ImmediatePriority,jR=Eh.unstable_UserBlockingPriority,y4=Eh.unstable_NormalPriority,iH=Eh.unstable_LowPriority,NR=Eh.unstable_IdlePriority,g5=null,yp=null;function oH(n){if(yp&&typeof yp.onCommitFiberRoot=="function")try{yp.onCommitFiberRoot(g5,n,void 0,(n.current.flags&128)===128)}catch{}}var Af=Math.clz32?Math.clz32:lH,aH=Math.log,sH=Math.LN2;function lH(n){return n>>>=0,n===0?32:31-(aH(n)/sH|0)|0}var Ux=64,zx=4194304;function dC(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function v4(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=dC(a):(o&=s,o!==0&&(r=dC(o)))}else s=t&~i,s!==0?r=dC(s):o!==0&&(r=dC(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Af(e),i=1<<t,r|=n[t],e&=~i;return r}function uH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Af(o),a=1<<s,f=i[s];f===-1?(!(a&t)||a&r)&&(i[s]=uH(a,e)):f<=e&&(n.expiredLanes|=a),o&=~a}}function aO(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WR(){var n=Ux;return Ux<<=1,!(Ux&4194240)&&(Ux=64),n}function WS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Zb(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Af(e),n[e]=t}function cH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Af(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function r7(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Af(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xa=0;function GR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var QR,i7,$R,YR,qR,sO=!1,jx=[],y0=null,v0=null,_0=null,ab=new Map,sb=new Map,s0=[],hH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JT(n,e){switch(n){case"focusin":case"focusout":y0=null;break;case"dragenter":case"dragleave":v0=null;break;case"mouseover":case"mouseout":_0=null;break;case"pointerover":case"pointerout":ab.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sb.delete(e.pointerId)}}function j_(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jb(e),e!==null&&i7(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dH(n,e,t,r,i){switch(e){case"focusin":return y0=j_(y0,n,e,t,r,i),!0;case"dragenter":return v0=j_(v0,n,e,t,r,i),!0;case"mouseover":return _0=j_(_0,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return ab.set(o,j_(ab.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,sb.set(o,j_(sb.get(o)||null,n,e,t,r,i)),!0}return!1}function VR(n){var e=Tg(n.target);if(e!==null){var t=g1(e);if(t!==null){if(e=t.tag,e===13){if(e=FR(t),e!==null){n.blockedOn=e,qR(n.priority,function(){$R(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function j3(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=lO(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);nO=r,t.target.dispatchEvent(r),nO=null}else return e=Jb(t),e!==null&&i7(e),n.blockedOn=t,!1;e.shift()}return!0}function e9(n,e,t){j3(n)&&t.delete(e)}function fH(){sO=!1,y0!==null&&j3(y0)&&(y0=null),v0!==null&&j3(v0)&&(v0=null),_0!==null&&j3(_0)&&(_0=null),ab.forEach(e9),sb.forEach(e9)}function N_(n,e){n.blockedOn===e&&(n.blockedOn=null,sO||(sO=!0,Eh.unstable_scheduleCallback(Eh.unstable_NormalPriority,fH)))}function lb(n){function e(i){return N_(i,n)}if(0<jx.length){N_(jx[0],n);for(var t=1;t<jx.length;t++){var r=jx[t];r.blockedOn===n&&(r.blockedOn=null)}}for(y0!==null&&N_(y0,n),v0!==null&&N_(v0,n),_0!==null&&N_(_0,n),ab.forEach(e),sb.forEach(e),t=0;t<s0.length;t++)r=s0[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<s0.length&&(t=s0[0],t.blockedOn===null);)VR(t),t.blockedOn===null&&s0.shift()}var Zy=Em.ReactCurrentBatchConfig,_4=!0;function pH(n,e,t,r){var i=xa,o=Zy.transition;Zy.transition=null;try{xa=1,o7(n,e,t,r)}finally{xa=i,Zy.transition=o}}function mH(n,e,t,r){var i=xa,o=Zy.transition;Zy.transition=null;try{xa=4,o7(n,e,t,r)}finally{xa=i,Zy.transition=o}}function o7(n,e,t,r){if(_4){var i=lO(n,e,t,r);if(i===null)JS(n,e,r,C4,t),JT(n,r);else if(dH(i,n,e,t,r))r.stopPropagation();else if(JT(n,r),e&4&&-1<hH.indexOf(n)){for(;i!==null;){var o=Jb(i);if(o!==null&&QR(o),o=lO(n,e,t,r),o===null&&JS(n,e,r,C4,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else JS(n,e,r,null,t)}}var C4=null;function lO(n,e,t,r){if(C4=null,n=t7(r),n=Tg(n),n!==null)if(e=g1(n),e===null)n=null;else if(t=e.tag,t===13){if(n=FR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return C4=n,null}function HR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rH()){case n7:return 1;case jR:return 4;case y4:case iH:return 16;case NR:return 536870912;default:return 16}default:return 16}}var A0=null,a7=null,N3=null;function ZR(){if(N3)return N3;var n,e=a7,t=e.length,r,i="value"in A0?A0.value:A0.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return N3=i.slice(n,1<r?1-r:void 0)}function W3(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Nx(){return!0}function t9(){return!1}function Bh(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nx:t9,this.isPropagationStopped=t9,this}return Hs(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Nx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Nx)},persist:function(){},isPersistent:Nx}),e}var Gv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s7=Bh(Gv),Xb=Hs({},Gv,{view:0,detail:0}),gH=Bh(Xb),GS,QS,W_,y5=Hs({},Xb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l7,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==W_&&(W_&&n.type==="mousemove"?(GS=n.screenX-W_.screenX,QS=n.screenY-W_.screenY):QS=GS=0,W_=n),GS)},movementY:function(n){return"movementY"in n?n.movementY:QS}}),n9=Bh(y5),yH=Hs({},y5,{dataTransfer:0}),vH=Bh(yH),_H=Hs({},Xb,{relatedTarget:0}),$S=Bh(_H),CH=Hs({},Gv,{animationName:0,elapsedTime:0,pseudoElement:0}),bH=Bh(CH),xH=Hs({},Gv,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wH=Bh(xH),MH=Hs({},Gv,{data:0}),r9=Bh(MH),SH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=OH[n])?!!e[n]:!1}function l7(){return BH}var IH=Hs({},Xb,{key:function(n){if(n.key){var e=SH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=W3(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l7,charCode:function(n){return n.type==="keypress"?W3(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?W3(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kH=Bh(IH),TH=Hs({},y5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i9=Bh(TH),PH=Hs({},Xb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l7}),KH=Bh(PH),LH=Hs({},Gv,{propertyName:0,elapsedTime:0,pseudoElement:0}),DH=Bh(LH),FH=Hs({},y5,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RH=Bh(FH),UH=[9,13,27,32],u7=bm&&"CompositionEvent"in window,IC=null;bm&&"documentMode"in document&&(IC=document.documentMode);var zH=bm&&"TextEvent"in window&&!IC,XR=bm&&(!u7||IC&&8<IC&&11>=IC),o9=" ",a9=!1;function JR(n,e){switch(n){case"keyup":return UH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var My=!1;function jH(n,e){switch(n){case"compositionend":return eU(e);case"keypress":return e.which!==32?null:(a9=!0,o9);case"textInput":return n=e.data,n===o9&&a9?null:n;default:return null}}function NH(n,e){if(My)return n==="compositionend"||!u7&&JR(n,e)?(n=ZR(),N3=a7=A0=null,My=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XR&&e.locale!=="ko"?null:e.data;default:return null}}var WH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!WH[n.type]:e==="textarea"}function tU(n,e,t,r){TR(r),e=b4(e,"onChange"),0<e.length&&(t=new s7("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var kC=null,ub=null;function GH(n){hU(n,0)}function v5(n){var e=Oy(n);if(MR(e))return n}function QH(n,e){if(n==="change")return e}var nU=!1;if(bm){var YS;if(bm){var qS="oninput"in document;if(!qS){var l9=document.createElement("div");l9.setAttribute("oninput","return;"),qS=typeof l9.oninput=="function"}YS=qS}else YS=!1;nU=YS&&(!document.documentMode||9<document.documentMode)}function u9(){kC&&(kC.detachEvent("onpropertychange",rU),ub=kC=null)}function rU(n){if(n.propertyName==="value"&&v5(ub)){var e=[];tU(e,ub,n,t7(n)),DR(GH,e)}}function $H(n,e,t){n==="focusin"?(u9(),kC=e,ub=t,kC.attachEvent("onpropertychange",rU)):n==="focusout"&&u9()}function YH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return v5(ub)}function qH(n,e){if(n==="click")return v5(e)}function VH(n,e){if(n==="input"||n==="change")return v5(e)}function HH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var df=typeof Object.is=="function"?Object.is:HH;function Ab(n,e){if(df(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!G6.call(e,i)||!df(n[i],e[i]))return!1}return!0}function A9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function c9(n,e){var t=A9(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=A9(t)}}function iU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?iU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oU(){for(var n=window,e=p4();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=p4(n.document)}return e}function A7(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZH(n){var e=oU(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&iU(t.ownerDocument.documentElement,t)){if(r!==null&&A7(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=c9(t,o);var s=c9(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var XH=bm&&"documentMode"in document&&11>=document.documentMode,Sy=null,uO=null,TC=null,AO=!1;function h9(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;AO||Sy==null||Sy!==p4(r)||(r=Sy,"selectionStart"in r&&A7(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),TC&&Ab(TC,r)||(TC=r,r=b4(uO,"onSelect"),0<r.length&&(e=new s7("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Sy)))}function Wx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ey={animationend:Wx("Animation","AnimationEnd"),animationiteration:Wx("Animation","AnimationIteration"),animationstart:Wx("Animation","AnimationStart"),transitionend:Wx("Transition","TransitionEnd")},VS={},aU={};bm&&(aU=document.createElement("div").style,"AnimationEvent"in window||(delete Ey.animationend.animation,delete Ey.animationiteration.animation,delete Ey.animationstart.animation),"TransitionEvent"in window||delete Ey.transitionend.transition);function _5(n){if(VS[n])return VS[n];if(!Ey[n])return n;var e=Ey[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aU)return VS[n]=e[t];return n}var sU=_5("animationend"),lU=_5("animationiteration"),uU=_5("animationstart"),AU=_5("transitionend"),cU=new Map,d9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function F0(n,e){cU.set(n,e),m1(e,[n])}for(var HS=0;HS<d9.length;HS++){var ZS=d9[HS],JH=ZS.toLowerCase(),eZ=ZS[0].toUpperCase()+ZS.slice(1);F0(JH,"on"+eZ)}F0(sU,"onAnimationEnd");F0(lU,"onAnimationIteration");F0(uU,"onAnimationStart");F0("dblclick","onDoubleClick");F0("focusin","onFocus");F0("focusout","onBlur");F0(AU,"onTransitionEnd");xv("onMouseEnter",["mouseout","mouseover"]);xv("onMouseLeave",["mouseout","mouseover"]);xv("onPointerEnter",["pointerout","pointerover"]);xv("onPointerLeave",["pointerout","pointerover"]);m1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));m1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));m1("onBeforeInput",["compositionend","keypress","textInput","paste"]);m1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));m1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));m1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(fC));function f9(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,JV(r,e,void 0,n),n.currentTarget=null}function hU(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,m=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;f9(i,a,m),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,m=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;f9(i,a,m),o=f}}}if(g4)throw n=oO,g4=!1,oO=null,n}function ys(n,e){var t=e[pO];t===void 0&&(t=e[pO]=new Set);var r=n+"__bubble";t.has(r)||(dU(e,n,2,!1),t.add(r))}function XS(n,e,t){var r=0;e&&(r|=4),dU(t,n,r,e)}var Gx="_reactListening"+Math.random().toString(36).slice(2);function cb(n){if(!n[Gx]){n[Gx]=!0,_R.forEach(function(t){t!=="selectionchange"&&(tZ.has(t)||XS(t,!1,n),XS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Gx]||(e[Gx]=!0,XS("selectionchange",!1,e))}}function dU(n,e,t,r){switch(HR(e)){case 1:var i=pH;break;case 4:i=mH;break;default:i=o7}t=i.bind(null,e,t,n),i=void 0,!iO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function JS(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Tg(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}DR(function(){var m=o,C=t7(t),B=[];e:{var I=cU.get(n);if(I!==void 0){var K=s7,L=n;switch(n){case"keypress":if(W3(t)===0)break e;case"keydown":case"keyup":K=kH;break;case"focusin":L="focus",K=$S;break;case"focusout":L="blur",K=$S;break;case"beforeblur":case"afterblur":K=$S;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=n9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=KH;break;case sU:case lU:case uU:K=bH;break;case AU:K=DH;break;case"scroll":K=gH;break;case"wheel":K=RH;break;case"copy":case"cut":case"paste":K=wH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=i9}var Y=(e&4)!==0,ee=!Y&&n==="scroll",V=Y?I!==null?I+"Capture":null:I;Y=[];for(var W=m,ne;W!==null;){ne=W;var ce=ne.stateNode;if(ne.tag===5&&ce!==null&&(ne=ce,V!==null&&(ce=ob(W,V),ce!=null&&Y.push(hb(W,ce,ne)))),ee)break;W=W.return}0<Y.length&&(I=new K(I,L,null,t,C),B.push({event:I,listeners:Y}))}}if(!(e&7)){e:{if(I=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",I&&t!==nO&&(L=t.relatedTarget||t.fromElement)&&(Tg(L)||L[xm]))break e;if((K||I)&&(I=C.window===C?C:(I=C.ownerDocument)?I.defaultView||I.parentWindow:window,K?(L=t.relatedTarget||t.toElement,K=m,L=L?Tg(L):null,L!==null&&(ee=g1(L),L!==ee||L.tag!==5&&L.tag!==6)&&(L=null)):(K=null,L=m),K!==L)){if(Y=n9,ce="onMouseLeave",V="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(Y=i9,ce="onPointerLeave",V="onPointerEnter",W="pointer"),ee=K==null?I:Oy(K),ne=L==null?I:Oy(L),I=new Y(ce,W+"leave",K,t,C),I.target=ee,I.relatedTarget=ne,ce=null,Tg(C)===m&&(Y=new Y(V,W+"enter",L,t,C),Y.target=ne,Y.relatedTarget=ee,ce=Y),ee=ce,K&&L)t:{for(Y=K,V=L,W=0,ne=Y;ne;ne=H1(ne))W++;for(ne=0,ce=V;ce;ce=H1(ce))ne++;for(;0<W-ne;)Y=H1(Y),W--;for(;0<ne-W;)V=H1(V),ne--;for(;W--;){if(Y===V||V!==null&&Y===V.alternate)break t;Y=H1(Y),V=H1(V)}Y=null}else Y=null;K!==null&&p9(B,I,K,Y,!1),L!==null&&ee!==null&&p9(B,ee,L,Y,!0)}}e:{if(I=m?Oy(m):window,K=I.nodeName&&I.nodeName.toLowerCase(),K==="select"||K==="input"&&I.type==="file")var ge=QH;else if(s9(I))if(nU)ge=VH;else{ge=YH;var fe=$H}else(K=I.nodeName)&&K.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(ge=qH);if(ge&&(ge=ge(n,m))){tU(B,ge,t,C);break e}fe&&fe(n,I,m),n==="focusout"&&(fe=I._wrapperState)&&fe.controlled&&I.type==="number"&&Z6(I,"number",I.value)}switch(fe=m?Oy(m):window,n){case"focusin":(s9(fe)||fe.contentEditable==="true")&&(Sy=fe,uO=m,TC=null);break;case"focusout":TC=uO=Sy=null;break;case"mousedown":AO=!0;break;case"contextmenu":case"mouseup":case"dragend":AO=!1,h9(B,t,C);break;case"selectionchange":if(XH)break;case"keydown":case"keyup":h9(B,t,C)}var H;if(u7)e:{switch(n){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else My?JR(n,t)&&(X="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(X="onCompositionStart");X&&(XR&&t.locale!=="ko"&&(My||X!=="onCompositionStart"?X==="onCompositionEnd"&&My&&(H=ZR()):(A0=C,a7="value"in A0?A0.value:A0.textContent,My=!0)),fe=b4(m,X),0<fe.length&&(X=new r9(X,n,null,t,C),B.push({event:X,listeners:fe}),H?X.data=H:(H=eU(t),H!==null&&(X.data=H)))),(H=zH?jH(n,t):NH(n,t))&&(m=b4(m,"onBeforeInput"),0<m.length&&(C=new r9("onBeforeInput","beforeinput",null,t,C),B.push({event:C,listeners:m}),C.data=H))}hU(B,e)})}function hb(n,e,t){return{instance:n,listener:e,currentTarget:t}}function b4(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ob(n,t),o!=null&&r.unshift(hb(n,o,i)),o=ob(n,e),o!=null&&r.push(hb(n,o,i))),n=n.return}return r}function H1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function p9(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,f=a.alternate,m=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&m!==null&&(a=m,i?(f=ob(t,o),f!=null&&s.unshift(hb(t,f,a))):i||(f=ob(t,o),f!=null&&s.push(hb(t,f,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var nZ=/\r\n?/g,rZ=/\u0000|\uFFFD/g;function m9(n){return(typeof n=="string"?n:""+n).replace(nZ,`
`).replace(rZ,"")}function Qx(n,e,t){if(e=m9(e),m9(n)!==e&&t)throw Error(Qn(425))}function x4(){}var cO=null,hO=null;function dO(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fO=typeof setTimeout=="function"?setTimeout:void 0,iZ=typeof clearTimeout=="function"?clearTimeout:void 0,g9=typeof Promise=="function"?Promise:void 0,oZ=typeof queueMicrotask=="function"?queueMicrotask:typeof g9<"u"?function(n){return g9.resolve(null).then(n).catch(aZ)}:fO;function aZ(n){setTimeout(function(){throw n})}function eE(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),lb(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);lb(e)}function C0(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function y9(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Qv=Math.random().toString(36).slice(2),cp="__reactFiber$"+Qv,db="__reactProps$"+Qv,xm="__reactContainer$"+Qv,pO="__reactEvents$"+Qv,sZ="__reactListeners$"+Qv,lZ="__reactHandles$"+Qv;function Tg(n){var e=n[cp];if(e)return e;for(var t=n.parentNode;t;){if(e=t[xm]||t[cp]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=y9(n);n!==null;){if(t=n[cp])return t;n=y9(n)}return e}n=t,t=n.parentNode}return null}function Jb(n){return n=n[cp]||n[xm],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Oy(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Qn(33))}function C5(n){return n[db]||null}var mO=[],By=-1;function R0(n){return{current:n}}function ws(n){0>By||(n.current=mO[By],mO[By]=null,By--)}function cs(n,e){By++,mO[By]=n.current,n.current=e}var P0={},FA=R0(P0),kc=R0(!1),e1=P0;function wv(n,e){var t=n.type.contextTypes;if(!t)return P0;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Tc(n){return n=n.childContextTypes,n!=null}function w4(){ws(kc),ws(FA)}function v9(n,e,t){if(FA.current!==P0)throw Error(Qn(168));cs(FA,e),cs(kc,t)}function fU(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qn(108,$V(n)||"Unknown",i));return Hs({},t,r)}function M4(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||P0,e1=FA.current,cs(FA,n),cs(kc,kc.current),!0}function _9(n,e,t){var r=n.stateNode;if(!r)throw Error(Qn(169));t?(n=fU(n,e,e1),r.__reactInternalMemoizedMergedChildContext=n,ws(kc),ws(FA),cs(FA,n)):ws(kc),cs(kc,t)}var lm=null,b5=!1,tE=!1;function pU(n){lm===null?lm=[n]:lm.push(n)}function uZ(n){b5=!0,pU(n)}function U0(){if(!tE&&lm!==null){tE=!0;var n=0,e=xa;try{var t=lm;for(xa=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}lm=null,b5=!1}catch(i){throw lm!==null&&(lm=lm.slice(n+1)),zR(n7,U0),i}finally{xa=e,tE=!1}}return null}var Iy=[],ky=0,S4=null,E4=0,cd=[],hd=0,t1=null,fm=1,pm="";function vg(n,e){Iy[ky++]=E4,Iy[ky++]=S4,S4=n,E4=e}function mU(n,e,t){cd[hd++]=fm,cd[hd++]=pm,cd[hd++]=t1,t1=n;var r=fm;n=pm;var i=32-Af(r)-1;r&=~(1<<i),t+=1;var o=32-Af(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fm=1<<32-Af(e)+i|t<<i|r,pm=o+n}else fm=1<<o|t<<i|r,pm=n}function c7(n){n.return!==null&&(vg(n,1),mU(n,1,0))}function h7(n){for(;n===S4;)S4=Iy[--ky],Iy[ky]=null,E4=Iy[--ky],Iy[ky]=null;for(;n===t1;)t1=cd[--hd],cd[hd]=null,pm=cd[--hd],cd[hd]=null,fm=cd[--hd],cd[hd]=null}var wh=null,Ch=null,Ts=!1,lf=null;function gU(n,e){var t=fd(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function C9(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,wh=n,Ch=C0(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,wh=n,Ch=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=t1!==null?{id:fm,overflow:pm}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=fd(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,wh=n,Ch=null,!0):!1;default:return!1}}function gO(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yO(n){if(Ts){var e=Ch;if(e){var t=e;if(!C9(n,e)){if(gO(n))throw Error(Qn(418));e=C0(t.nextSibling);var r=wh;e&&C9(n,e)?gU(r,t):(n.flags=n.flags&-4097|2,Ts=!1,wh=n)}}else{if(gO(n))throw Error(Qn(418));n.flags=n.flags&-4097|2,Ts=!1,wh=n}}}function b9(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wh=n}function $x(n){if(n!==wh)return!1;if(!Ts)return b9(n),Ts=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!dO(n.type,n.memoizedProps)),e&&(e=Ch)){if(gO(n))throw yU(),Error(Qn(418));for(;e;)gU(n,e),e=C0(e.nextSibling)}if(b9(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Qn(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ch=C0(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ch=null}}else Ch=wh?C0(n.stateNode.nextSibling):null;return!0}function yU(){for(var n=Ch;n;)n=C0(n.nextSibling)}function Mv(){Ch=wh=null,Ts=!1}function d7(n){lf===null?lf=[n]:lf.push(n)}var AZ=Em.ReactCurrentBatchConfig;function nf(n,e){if(n&&n.defaultProps){e=Hs({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var O4=R0(null),B4=null,Ty=null,f7=null;function p7(){f7=Ty=B4=null}function m7(n){var e=O4.current;ws(O4),n._currentValue=e}function vO(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Xy(n,e){B4=n,f7=Ty=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ic=!0),n.firstContext=null)}function _d(n){var e=n._currentValue;if(f7!==n)if(n={context:n,memoizedValue:e,next:null},Ty===null){if(B4===null)throw Error(Qn(308));Ty=n,B4.dependencies={lanes:0,firstContext:n}}else Ty=Ty.next=n;return e}var Pg=null;function g7(n){Pg===null?Pg=[n]:Pg.push(n)}function vU(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,g7(e)):(t.next=i.next,i.next=t),e.interleaved=t,wm(n,r)}function wm(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var r0=!1;function y7(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _U(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mm(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function b0(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,$o&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wm(n,t)}return i=r.interleaved,i===null?(e.next=e,g7(r)):(e.next=i.next,i.next=e),r.interleaved=e,wm(n,t)}function G3(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,r7(n,t)}}function x9(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function I4(n,e,t,r){var i=n.updateQueue;r0=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,m=f.next;f.next=null,s===null?o=m:s.next=m,s=f;var C=n.alternate;C!==null&&(C=C.updateQueue,a=C.lastBaseUpdate,a!==s&&(a===null?C.firstBaseUpdate=m:a.next=m,C.lastBaseUpdate=f))}if(o!==null){var B=i.baseState;s=0,C=m=f=null,a=o;do{var I=a.lane,K=a.eventTime;if((r&I)===I){C!==null&&(C=C.next={eventTime:K,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var L=n,Y=a;switch(I=e,K=t,Y.tag){case 1:if(L=Y.payload,typeof L=="function"){B=L.call(K,B,I);break e}B=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=Y.payload,I=typeof L=="function"?L.call(K,B,I):L,I==null)break e;B=Hs({},B,I);break e;case 2:r0=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,I=i.effects,I===null?i.effects=[a]:I.push(a))}else K={eventTime:K,lane:I,tag:a.tag,payload:a.payload,callback:a.callback,next:null},C===null?(m=C=K,f=B):C=C.next=K,s|=I;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;I=a,a=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);if(C===null&&(f=B),i.baseState=f,i.firstBaseUpdate=m,i.lastBaseUpdate=C,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);r1|=s,n.lanes=s,n.memoizedState=B}}function w9(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Qn(191,i));i.call(r)}}}var CU=new vR.Component().refs;function _O(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Hs({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var x5={isMounted:function(n){return(n=n._reactInternals)?g1(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=rc(),i=w0(n),o=mm(r,i);o.payload=e,t!=null&&(o.callback=t),e=b0(n,o,i),e!==null&&(cf(e,n,i,r),G3(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=rc(),i=w0(n),o=mm(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=b0(n,o,i),e!==null&&(cf(e,n,i,r),G3(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=rc(),r=w0(n),i=mm(t,r);i.tag=2,e!=null&&(i.callback=e),e=b0(n,i,r),e!==null&&(cf(e,n,r,t),G3(e,n,r))}};function M9(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ab(t,r)||!Ab(i,o):!0}function bU(n,e,t){var r=!1,i=P0,o=e.contextType;return typeof o=="object"&&o!==null?o=_d(o):(i=Tc(e)?e1:FA.current,r=e.contextTypes,o=(r=r!=null)?wv(n,i):P0),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=x5,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function S9(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&x5.enqueueReplaceState(e,e.state,null)}function CO(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=CU,y7(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_d(o):(o=Tc(e)?e1:FA.current,i.context=wv(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_O(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&x5.enqueueReplaceState(i,i.state,null),I4(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function G_(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Qn(309));var r=t.stateNode}if(!r)throw Error(Qn(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===CU&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(Qn(284));if(!t._owner)throw Error(Qn(290,n))}return n}function Yx(n,e){throw n=Object.prototype.toString.call(e),Error(Qn(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function E9(n){var e=n._init;return e(n._payload)}function xU(n){function e(V,W){if(n){var ne=V.deletions;ne===null?(V.deletions=[W],V.flags|=16):ne.push(W)}}function t(V,W){if(!n)return null;for(;W!==null;)e(V,W),W=W.sibling;return null}function r(V,W){for(V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function i(V,W){return V=M0(V,W),V.index=0,V.sibling=null,V}function o(V,W,ne){return V.index=ne,n?(ne=V.alternate,ne!==null?(ne=ne.index,ne<W?(V.flags|=2,W):ne):(V.flags|=2,W)):(V.flags|=1048576,W)}function s(V){return n&&V.alternate===null&&(V.flags|=2),V}function a(V,W,ne,ce){return W===null||W.tag!==6?(W=lE(ne,V.mode,ce),W.return=V,W):(W=i(W,ne),W.return=V,W)}function f(V,W,ne,ce){var ge=ne.type;return ge===wy?C(V,W,ne.props.children,ce,ne.key):W!==null&&(W.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===n0&&E9(ge)===W.type)?(ce=i(W,ne.props),ce.ref=G_(V,W,ne),ce.return=V,ce):(ce=H3(ne.type,ne.key,ne.props,null,V.mode,ce),ce.ref=G_(V,W,ne),ce.return=V,ce)}function m(V,W,ne,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=uE(ne,V.mode,ce),W.return=V,W):(W=i(W,ne.children||[]),W.return=V,W)}function C(V,W,ne,ce,ge){return W===null||W.tag!==7?(W=Gg(ne,V.mode,ce,ge),W.return=V,W):(W=i(W,ne),W.return=V,W)}function B(V,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number")return W=lE(""+W,V.mode,ne),W.return=V,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Dx:return ne=H3(W.type,W.key,W.props,null,V.mode,ne),ne.ref=G_(V,null,W),ne.return=V,ne;case xy:return W=uE(W,V.mode,ne),W.return=V,W;case n0:var ce=W._init;return B(V,ce(W._payload),ne)}if(hC(W)||U_(W))return W=Gg(W,V.mode,ne,null),W.return=V,W;Yx(V,W)}return null}function I(V,W,ne,ce){var ge=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ge!==null?null:a(V,W,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Dx:return ne.key===ge?f(V,W,ne,ce):null;case xy:return ne.key===ge?m(V,W,ne,ce):null;case n0:return ge=ne._init,I(V,W,ge(ne._payload),ce)}if(hC(ne)||U_(ne))return ge!==null?null:C(V,W,ne,ce,null);Yx(V,ne)}return null}function K(V,W,ne,ce,ge){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return V=V.get(ne)||null,a(W,V,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Dx:return V=V.get(ce.key===null?ne:ce.key)||null,f(W,V,ce,ge);case xy:return V=V.get(ce.key===null?ne:ce.key)||null,m(W,V,ce,ge);case n0:var fe=ce._init;return K(V,W,ne,fe(ce._payload),ge)}if(hC(ce)||U_(ce))return V=V.get(ne)||null,C(W,V,ce,ge,null);Yx(W,ce)}return null}function L(V,W,ne,ce){for(var ge=null,fe=null,H=W,X=W=0,Me=null;H!==null&&X<ne.length;X++){H.index>X?(Me=H,H=null):Me=H.sibling;var be=I(V,H,ne[X],ce);if(be===null){H===null&&(H=Me);break}n&&H&&be.alternate===null&&e(V,H),W=o(be,W,X),fe===null?ge=be:fe.sibling=be,fe=be,H=Me}if(X===ne.length)return t(V,H),Ts&&vg(V,X),ge;if(H===null){for(;X<ne.length;X++)H=B(V,ne[X],ce),H!==null&&(W=o(H,W,X),fe===null?ge=H:fe.sibling=H,fe=H);return Ts&&vg(V,X),ge}for(H=r(V,H);X<ne.length;X++)Me=K(H,V,X,ne[X],ce),Me!==null&&(n&&Me.alternate!==null&&H.delete(Me.key===null?X:Me.key),W=o(Me,W,X),fe===null?ge=Me:fe.sibling=Me,fe=Me);return n&&H.forEach(function(Fe){return e(V,Fe)}),Ts&&vg(V,X),ge}function Y(V,W,ne,ce){var ge=U_(ne);if(typeof ge!="function")throw Error(Qn(150));if(ne=ge.call(ne),ne==null)throw Error(Qn(151));for(var fe=ge=null,H=W,X=W=0,Me=null,be=ne.next();H!==null&&!be.done;X++,be=ne.next()){H.index>X?(Me=H,H=null):Me=H.sibling;var Fe=I(V,H,be.value,ce);if(Fe===null){H===null&&(H=Me);break}n&&H&&Fe.alternate===null&&e(V,H),W=o(Fe,W,X),fe===null?ge=Fe:fe.sibling=Fe,fe=Fe,H=Me}if(be.done)return t(V,H),Ts&&vg(V,X),ge;if(H===null){for(;!be.done;X++,be=ne.next())be=B(V,be.value,ce),be!==null&&(W=o(be,W,X),fe===null?ge=be:fe.sibling=be,fe=be);return Ts&&vg(V,X),ge}for(H=r(V,H);!be.done;X++,be=ne.next())be=K(H,V,X,be.value,ce),be!==null&&(n&&be.alternate!==null&&H.delete(be.key===null?X:be.key),W=o(be,W,X),fe===null?ge=be:fe.sibling=be,fe=be);return n&&H.forEach(function(Ue){return e(V,Ue)}),Ts&&vg(V,X),ge}function ee(V,W,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===wy&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Dx:e:{for(var ge=ne.key,fe=W;fe!==null;){if(fe.key===ge){if(ge=ne.type,ge===wy){if(fe.tag===7){t(V,fe.sibling),W=i(fe,ne.props.children),W.return=V,V=W;break e}}else if(fe.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===n0&&E9(ge)===fe.type){t(V,fe.sibling),W=i(fe,ne.props),W.ref=G_(V,fe,ne),W.return=V,V=W;break e}t(V,fe);break}else e(V,fe);fe=fe.sibling}ne.type===wy?(W=Gg(ne.props.children,V.mode,ce,ne.key),W.return=V,V=W):(ce=H3(ne.type,ne.key,ne.props,null,V.mode,ce),ce.ref=G_(V,W,ne),ce.return=V,V=ce)}return s(V);case xy:e:{for(fe=ne.key;W!==null;){if(W.key===fe)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){t(V,W.sibling),W=i(W,ne.children||[]),W.return=V,V=W;break e}else{t(V,W);break}else e(V,W);W=W.sibling}W=uE(ne,V.mode,ce),W.return=V,V=W}return s(V);case n0:return fe=ne._init,ee(V,W,fe(ne._payload),ce)}if(hC(ne))return L(V,W,ne,ce);if(U_(ne))return Y(V,W,ne,ce);Yx(V,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,W!==null&&W.tag===6?(t(V,W.sibling),W=i(W,ne),W.return=V,V=W):(t(V,W),W=lE(ne,V.mode,ce),W.return=V,V=W),s(V)):t(V,W)}return ee}var Sv=xU(!0),wU=xU(!1),e2={},vp=R0(e2),fb=R0(e2),pb=R0(e2);function Kg(n){if(n===e2)throw Error(Qn(174));return n}function v7(n,e){switch(cs(pb,e),cs(fb,n),cs(vp,e2),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J6(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=J6(e,n)}ws(vp),cs(vp,e)}function Ev(){ws(vp),ws(fb),ws(pb)}function MU(n){Kg(pb.current);var e=Kg(vp.current),t=J6(e,n.type);e!==t&&(cs(fb,n),cs(vp,t))}function _7(n){fb.current===n&&(ws(vp),ws(fb))}var $s=R0(0);function k4(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nE=[];function C7(){for(var n=0;n<nE.length;n++)nE[n]._workInProgressVersionPrimary=null;nE.length=0}var Q3=Em.ReactCurrentDispatcher,rE=Em.ReactCurrentBatchConfig,n1=0,Vs=null,hu=null,Fu=null,T4=!1,PC=!1,mb=0,cZ=0;function kA(){throw Error(Qn(321))}function b7(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!df(n[t],e[t]))return!1;return!0}function x7(n,e,t,r,i,o){if(n1=o,Vs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q3.current=n===null||n.memoizedState===null?pZ:mZ,n=t(r,i),PC){o=0;do{if(PC=!1,mb=0,25<=o)throw Error(Qn(301));o+=1,Fu=hu=null,e.updateQueue=null,Q3.current=gZ,n=t(r,i)}while(PC)}if(Q3.current=P4,e=hu!==null&&hu.next!==null,n1=0,Fu=hu=Vs=null,T4=!1,e)throw Error(Qn(300));return n}function w7(){var n=mb!==0;return mb=0,n}function np(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fu===null?Vs.memoizedState=Fu=n:Fu=Fu.next=n,Fu}function Cd(){if(hu===null){var n=Vs.alternate;n=n!==null?n.memoizedState:null}else n=hu.next;var e=Fu===null?Vs.memoizedState:Fu.next;if(e!==null)Fu=e,hu=n;else{if(n===null)throw Error(Qn(310));hu=n,n={memoizedState:hu.memoizedState,baseState:hu.baseState,baseQueue:hu.baseQueue,queue:hu.queue,next:null},Fu===null?Vs.memoizedState=Fu=n:Fu=Fu.next=n}return Fu}function gb(n,e){return typeof e=="function"?e(n):e}function iE(n){var e=Cd(),t=e.queue;if(t===null)throw Error(Qn(311));t.lastRenderedReducer=n;var r=hu,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,m=o;do{var C=m.lane;if((n1&C)===C)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:n(r,m.action);else{var B={lane:C,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(a=f=B,s=r):f=f.next=B,Vs.lanes|=C,r1|=C}m=m.next}while(m!==null&&m!==o);f===null?s=r:f.next=a,df(r,e.memoizedState)||(Ic=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=f,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Vs.lanes|=o,r1|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function oE(n){var e=Cd(),t=e.queue;if(t===null)throw Error(Qn(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);df(o,e.memoizedState)||(Ic=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function SU(){}function EU(n,e){var t=Vs,r=Cd(),i=e(),o=!df(r.memoizedState,i);if(o&&(r.memoizedState=i,Ic=!0),r=r.queue,M7(IU.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Fu!==null&&Fu.memoizedState.tag&1){if(t.flags|=2048,yb(9,BU.bind(null,t,r,i,e),void 0,null),Uu===null)throw Error(Qn(349));n1&30||OU(t,e,i)}return i}function OU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Vs.updateQueue,e===null?(e={lastEffect:null,stores:null},Vs.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function BU(n,e,t,r){e.value=t,e.getSnapshot=r,kU(e)&&TU(n)}function IU(n,e,t){return t(function(){kU(e)&&TU(n)})}function kU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!df(n,t)}catch{return!0}}function TU(n){var e=wm(n,1);e!==null&&cf(e,n,1,-1)}function O9(n){var e=np();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gb,lastRenderedState:n},e.queue=n,n=n.dispatch=fZ.bind(null,Vs,n),[e.memoizedState,n]}function yb(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Vs.updateQueue,e===null?(e={lastEffect:null,stores:null},Vs.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function PU(){return Cd().memoizedState}function $3(n,e,t,r){var i=np();Vs.flags|=n,i.memoizedState=yb(1|e,t,void 0,r===void 0?null:r)}function w5(n,e,t,r){var i=Cd();r=r===void 0?null:r;var o=void 0;if(hu!==null){var s=hu.memoizedState;if(o=s.destroy,r!==null&&b7(r,s.deps)){i.memoizedState=yb(e,t,o,r);return}}Vs.flags|=n,i.memoizedState=yb(1|e,t,o,r)}function B9(n,e){return $3(8390656,8,n,e)}function M7(n,e){return w5(2048,8,n,e)}function KU(n,e){return w5(4,2,n,e)}function LU(n,e){return w5(4,4,n,e)}function DU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function FU(n,e,t){return t=t!=null?t.concat([n]):null,w5(4,4,DU.bind(null,e,n),t)}function S7(){}function RU(n,e){var t=Cd();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&b7(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function UU(n,e){var t=Cd();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&b7(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function zU(n,e,t){return n1&21?(df(t,e)||(t=WR(),Vs.lanes|=t,r1|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ic=!0),n.memoizedState=t)}function hZ(n,e){var t=xa;xa=t!==0&&4>t?t:4,n(!0);var r=rE.transition;rE.transition={};try{n(!1),e()}finally{xa=t,rE.transition=r}}function jU(){return Cd().memoizedState}function dZ(n,e,t){var r=w0(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},NU(n))WU(e,t);else if(t=vU(n,e,t,r),t!==null){var i=rc();cf(t,n,r,i),GU(t,e,r)}}function fZ(n,e,t){var r=w0(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(NU(n))WU(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,df(a,s)){var f=e.interleaved;f===null?(i.next=i,g7(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}t=vU(n,e,i,r),t!==null&&(i=rc(),cf(t,n,r,i),GU(t,e,r))}}function NU(n){var e=n.alternate;return n===Vs||e!==null&&e===Vs}function WU(n,e){PC=T4=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function GU(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,r7(n,t)}}var P4={readContext:_d,useCallback:kA,useContext:kA,useEffect:kA,useImperativeHandle:kA,useInsertionEffect:kA,useLayoutEffect:kA,useMemo:kA,useReducer:kA,useRef:kA,useState:kA,useDebugValue:kA,useDeferredValue:kA,useTransition:kA,useMutableSource:kA,useSyncExternalStore:kA,useId:kA,unstable_isNewReconciler:!1},pZ={readContext:_d,useCallback:function(n,e){return np().memoizedState=[n,e===void 0?null:e],n},useContext:_d,useEffect:B9,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,$3(4194308,4,DU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return $3(4194308,4,n,e)},useInsertionEffect:function(n,e){return $3(4,2,n,e)},useMemo:function(n,e){var t=np();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=np();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=dZ.bind(null,Vs,n),[r.memoizedState,n]},useRef:function(n){var e=np();return n={current:n},e.memoizedState=n},useState:O9,useDebugValue:S7,useDeferredValue:function(n){return np().memoizedState=n},useTransition:function(){var n=O9(!1),e=n[0];return n=hZ.bind(null,n[1]),np().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Vs,i=np();if(Ts){if(t===void 0)throw Error(Qn(407));t=t()}else{if(t=e(),Uu===null)throw Error(Qn(349));n1&30||OU(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,B9(IU.bind(null,r,o,n),[n]),r.flags|=2048,yb(9,BU.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=np(),e=Uu.identifierPrefix;if(Ts){var t=pm,r=fm;t=(r&~(1<<32-Af(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mb++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=cZ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},mZ={readContext:_d,useCallback:RU,useContext:_d,useEffect:M7,useImperativeHandle:FU,useInsertionEffect:KU,useLayoutEffect:LU,useMemo:UU,useReducer:iE,useRef:PU,useState:function(){return iE(gb)},useDebugValue:S7,useDeferredValue:function(n){var e=Cd();return zU(e,hu.memoizedState,n)},useTransition:function(){var n=iE(gb)[0],e=Cd().memoizedState;return[n,e]},useMutableSource:SU,useSyncExternalStore:EU,useId:jU,unstable_isNewReconciler:!1},gZ={readContext:_d,useCallback:RU,useContext:_d,useEffect:M7,useImperativeHandle:FU,useInsertionEffect:KU,useLayoutEffect:LU,useMemo:UU,useReducer:oE,useRef:PU,useState:function(){return oE(gb)},useDebugValue:S7,useDeferredValue:function(n){var e=Cd();return hu===null?e.memoizedState=n:zU(e,hu.memoizedState,n)},useTransition:function(){var n=oE(gb)[0],e=Cd().memoizedState;return[n,e]},useMutableSource:SU,useSyncExternalStore:EU,useId:jU,unstable_isNewReconciler:!1};function Ov(n,e){try{var t="",r=e;do t+=QV(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function aE(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function bO(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var yZ=typeof WeakMap=="function"?WeakMap:Map;function QU(n,e,t){t=mm(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){L4||(L4=!0,TO=r),bO(n,e)},t}function $U(n,e,t){t=mm(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){bO(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){bO(n,e),typeof r!="function"&&(x0===null?x0=new Set([this]):x0.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function I9(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new yZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=TZ.bind(null,n,e,t),e.then(n,n))}function k9(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function T9(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=mm(-1,1),e.tag=2,b0(t,e,1))),t.lanes|=1),n)}var vZ=Em.ReactCurrentOwner,Ic=!1;function JA(n,e,t,r){e.child=n===null?wU(e,null,t,r):Sv(e,n.child,t,r)}function P9(n,e,t,r,i){t=t.render;var o=e.ref;return Xy(e,i),r=x7(n,e,t,r,o,i),t=w7(),n!==null&&!Ic?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Mm(n,e,i)):(Ts&&t&&c7(e),e.flags|=1,JA(n,e,r,i),e.child)}function K9(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!K7(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,YU(n,e,o,r,i)):(n=H3(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:Ab,t(s,r)&&n.ref===e.ref)return Mm(n,e,i)}return e.flags|=1,n=M0(o,r),n.ref=e.ref,n.return=e,e.child=n}function YU(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Ab(o,r)&&n.ref===e.ref)if(Ic=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Ic=!0);else return e.lanes=n.lanes,Mm(n,e,i)}return xO(n,e,t,r,i)}function qU(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cs(Ky,mh),mh|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,cs(Ky,mh),mh|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,cs(Ky,mh),mh|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,cs(Ky,mh),mh|=r;return JA(n,e,i,t),e.child}function VU(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xO(n,e,t,r,i){var o=Tc(t)?e1:FA.current;return o=wv(e,o),Xy(e,i),t=x7(n,e,t,r,o,i),r=w7(),n!==null&&!Ic?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Mm(n,e,i)):(Ts&&r&&c7(e),e.flags|=1,JA(n,e,t,i),e.child)}function L9(n,e,t,r,i){if(Tc(t)){var o=!0;M4(e)}else o=!1;if(Xy(e,i),e.stateNode===null)Y3(n,e),bU(e,t,r),CO(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var f=s.context,m=t.contextType;typeof m=="object"&&m!==null?m=_d(m):(m=Tc(t)?e1:FA.current,m=wv(e,m));var C=t.getDerivedStateFromProps,B=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function";B||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==m)&&S9(e,s,r,m),r0=!1;var I=e.memoizedState;s.state=I,I4(e,r,s,i),f=e.memoizedState,a!==r||I!==f||kc.current||r0?(typeof C=="function"&&(_O(e,t,C,r),f=e.memoizedState),(a=r0||M9(e,t,a,r,I,f,m))?(B||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=m,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,_U(n,e),a=e.memoizedProps,m=e.type===e.elementType?a:nf(e.type,a),s.props=m,B=e.pendingProps,I=s.context,f=t.contextType,typeof f=="object"&&f!==null?f=_d(f):(f=Tc(t)?e1:FA.current,f=wv(e,f));var K=t.getDerivedStateFromProps;(C=typeof K=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==B||I!==f)&&S9(e,s,r,f),r0=!1,I=e.memoizedState,s.state=I,I4(e,r,s,i);var L=e.memoizedState;a!==B||I!==L||kc.current||r0?(typeof K=="function"&&(_O(e,t,K,r),L=e.memoizedState),(m=r0||M9(e,t,m,r,I,L,f)||!1)?(C||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,L,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,L,f)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),s.props=r,s.state=L,s.context=f,r=m):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&I===n.memoizedState||(e.flags|=1024),r=!1)}return wO(n,e,t,r,o,i)}function wO(n,e,t,r,i,o){VU(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_9(e,t,!1),Mm(n,e,o);r=e.stateNode,vZ.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Sv(e,n.child,null,o),e.child=Sv(e,null,a,o)):JA(n,e,a,o),e.memoizedState=r.state,i&&_9(e,t,!0),e.child}function HU(n){var e=n.stateNode;e.pendingContext?v9(n,e.pendingContext,e.pendingContext!==e.context):e.context&&v9(n,e.context,!1),v7(n,e.containerInfo)}function D9(n,e,t,r,i){return Mv(),d7(i),e.flags|=256,JA(n,e,t,r),e.child}var MO={dehydrated:null,treeContext:null,retryLane:0};function SO(n){return{baseLanes:n,cachePool:null,transitions:null}}function ZU(n,e,t){var r=e.pendingProps,i=$s.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),cs($s,i&1),n===null)return yO(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=E5(s,r,0,null),n=Gg(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=SO(t),e.memoizedState=MO,n):E7(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _Z(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=M0(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=M0(a,o):(o=Gg(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?SO(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=MO,r}return o=n.child,n=o.sibling,r=M0(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function E7(n,e){return e=E5({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function qx(n,e,t,r){return r!==null&&d7(r),Sv(e,n.child,null,t),n=E7(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _Z(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=aE(Error(Qn(422))),qx(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=E5({mode:"visible",children:r.children},i,0,null),o=Gg(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Sv(e,n.child,null,s),e.child.memoizedState=SO(s),e.memoizedState=MO,o);if(!(e.mode&1))return qx(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Qn(419)),r=aE(o,r,void 0),qx(n,e,s,r)}if(a=(s&n.childLanes)!==0,Ic||a){if(r=Uu,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wm(n,i),cf(r,n,i,-1))}return P7(),r=aE(Error(Qn(421))),qx(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=PZ.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,Ch=C0(i.nextSibling),wh=e,Ts=!0,lf=null,n!==null&&(cd[hd++]=fm,cd[hd++]=pm,cd[hd++]=t1,fm=n.id,pm=n.overflow,t1=e),e=E7(e,r.children),e.flags|=4096,e)}function F9(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),vO(n.return,e,t)}function sE(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function XU(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(JA(n,e,r.children,t),r=$s.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&F9(n,t,e);else if(n.tag===19)F9(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(cs($s,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&k4(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),sE(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&k4(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}sE(e,!0,t,null,o);break;case"together":sE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Y3(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Mm(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),r1|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Qn(153));if(e.child!==null){for(n=e.child,t=M0(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=M0(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function CZ(n,e,t){switch(e.tag){case 3:HU(e),Mv();break;case 5:MU(e);break;case 1:Tc(e.type)&&M4(e);break;case 4:v7(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cs(O4,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cs($s,$s.current&1),e.flags|=128,null):t&e.child.childLanes?ZU(n,e,t):(cs($s,$s.current&1),n=Mm(n,e,t),n!==null?n.sibling:null);cs($s,$s.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return XU(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cs($s,$s.current),r)break;return null;case 22:case 23:return e.lanes=0,qU(n,e,t)}return Mm(n,e,t)}var JU,EO,ez,tz;JU=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};EO=function(){};ez=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Kg(vp.current);var o=null;switch(t){case"input":i=V6(n,i),r=V6(n,r),o=[];break;case"select":i=Hs({},i,{value:void 0}),r=Hs({},r,{value:void 0}),o=[];break;case"textarea":i=X6(n,i),r=X6(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=x4)}eO(t,r);var s;t=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var a=i[m];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(rb.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var f=r[m];if(a=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&f!==a&&(f!=null||a!=null))if(m==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(t||(t={}),t[s]=f[s])}else t||(o||(o=[]),o.push(m,t)),t=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(rb.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&ys("scroll",n),o||a===f||(o=[])):(o=o||[]).push(m,f))}t&&(o=o||[]).push("style",t);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};tz=function(n,e,t,r){t!==r&&(e.flags|=4)};function Q_(n,e){if(!Ts)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function TA(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function bZ(n,e,t){var r=e.pendingProps;switch(h7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return TA(e),null;case 1:return Tc(e.type)&&w4(),TA(e),null;case 3:return r=e.stateNode,Ev(),ws(kc),ws(FA),C7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&($x(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lf!==null&&(LO(lf),lf=null))),EO(n,e),TA(e),null;case 5:_7(e);var i=Kg(pb.current);if(t=e.type,n!==null&&e.stateNode!=null)ez(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qn(166));return TA(e),null}if(n=Kg(vp.current),$x(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[cp]=e,r[db]=o,n=(e.mode&1)!==0,t){case"dialog":ys("cancel",r),ys("close",r);break;case"iframe":case"object":case"embed":ys("load",r);break;case"video":case"audio":for(i=0;i<fC.length;i++)ys(fC[i],r);break;case"source":ys("error",r);break;case"img":case"image":case"link":ys("error",r),ys("load",r);break;case"details":ys("toggle",r);break;case"input":$T(r,o),ys("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ys("invalid",r);break;case"textarea":qT(r,o),ys("invalid",r)}eO(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qx(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qx(r.textContent,a,n),i=["children",""+a]):rb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ys("scroll",r)}switch(t){case"input":Fx(r),YT(r,o,!0);break;case"textarea":Fx(r),VT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=x4)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=OR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[cp]=e,n[db]=r,JU(n,e,!1,!1),e.stateNode=n;e:{switch(s=tO(t,r),t){case"dialog":ys("cancel",n),ys("close",n),i=r;break;case"iframe":case"object":case"embed":ys("load",n),i=r;break;case"video":case"audio":for(i=0;i<fC.length;i++)ys(fC[i],n);i=r;break;case"source":ys("error",n),i=r;break;case"img":case"image":case"link":ys("error",n),ys("load",n),i=r;break;case"details":ys("toggle",n),i=r;break;case"input":$T(n,r),i=V6(n,r),ys("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Hs({},r,{value:void 0}),ys("invalid",n);break;case"textarea":qT(n,r),i=X6(n,r),ys("invalid",n);break;default:i=r}eO(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?kR(n,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&BR(n,f)):o==="children"?typeof f=="string"?(t!=="textarea"||f!=="")&&ib(n,f):typeof f=="number"&&ib(n,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rb.hasOwnProperty(o)?f!=null&&o==="onScroll"&&ys("scroll",n):f!=null&&Z8(n,o,f,s))}switch(t){case"input":Fx(n),YT(n,r,!1);break;case"textarea":Fx(n),VT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+T0(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?qy(n,!!r.multiple,o,!1):r.defaultValue!=null&&qy(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=x4)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return TA(e),null;case 6:if(n&&e.stateNode!=null)tz(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qn(166));if(t=Kg(pb.current),Kg(vp.current),$x(e)){if(r=e.stateNode,t=e.memoizedProps,r[cp]=e,(o=r.nodeValue!==t)&&(n=wh,n!==null))switch(n.tag){case 3:Qx(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qx(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[cp]=e,e.stateNode=r}return TA(e),null;case 13:if(ws($s),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ts&&Ch!==null&&e.mode&1&&!(e.flags&128))yU(),Mv(),e.flags|=98560,o=!1;else if(o=$x(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Qn(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Qn(317));o[cp]=e}else Mv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;TA(e),o=!1}else lf!==null&&(LO(lf),lf=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||$s.current&1?du===0&&(du=3):P7())),e.updateQueue!==null&&(e.flags|=4),TA(e),null);case 4:return Ev(),EO(n,e),n===null&&cb(e.stateNode.containerInfo),TA(e),null;case 10:return m7(e.type._context),TA(e),null;case 17:return Tc(e.type)&&w4(),TA(e),null;case 19:if(ws($s),o=e.memoizedState,o===null)return TA(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Q_(o,!1);else{if(du!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=k4(n),s!==null){for(e.flags|=128,Q_(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return cs($s,$s.current&1|2),e.child}n=n.sibling}o.tail!==null&&Il()>Bv&&(e.flags|=128,r=!0,Q_(o,!1),e.lanes=4194304)}else{if(!r)if(n=k4(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Q_(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ts)return TA(e),null}else 2*Il()-o.renderingStartTime>Bv&&t!==1073741824&&(e.flags|=128,r=!0,Q_(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Il(),e.sibling=null,t=$s.current,cs($s,r?t&1|2:t&1),e):(TA(e),null);case 22:case 23:return T7(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mh&1073741824&&(TA(e),e.subtreeFlags&6&&(e.flags|=8192)):TA(e),null;case 24:return null;case 25:return null}throw Error(Qn(156,e.tag))}function xZ(n,e){switch(h7(e),e.tag){case 1:return Tc(e.type)&&w4(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ev(),ws(kc),ws(FA),C7(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return _7(e),null;case 13:if(ws($s),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Qn(340));Mv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ws($s),null;case 4:return Ev(),null;case 10:return m7(e.type._context),null;case 22:case 23:return T7(),null;case 24:return null;default:return null}}var Vx=!1,DA=!1,wZ=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function Py(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Al(n,e,r)}else t.current=null}function OO(n,e,t){try{t()}catch(r){Al(n,e,r)}}var R9=!1;function MZ(n,e){if(cO=_4,n=oU(),A7(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,f=-1,m=0,C=0,B=n,I=null;t:for(;;){for(var K;B!==t||i!==0&&B.nodeType!==3||(a=s+i),B!==o||r!==0&&B.nodeType!==3||(f=s+r),B.nodeType===3&&(s+=B.nodeValue.length),(K=B.firstChild)!==null;)I=B,B=K;for(;;){if(B===n)break t;if(I===t&&++m===i&&(a=s),I===o&&++C===r&&(f=s),(K=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=K}t=a===-1||f===-1?null:{start:a,end:f}}else t=null}t=t||{start:0,end:0}}else t=null;for(hO={focusedElem:n,selectionRange:t},_4=!1,Fr=e;Fr!==null;)if(e=Fr,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Fr=n;else for(;Fr!==null;){e=Fr;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var Y=L.memoizedProps,ee=L.memoizedState,V=e.stateNode,W=V.getSnapshotBeforeUpdate(e.elementType===e.type?Y:nf(e.type,Y),ee);V.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var ne=e.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qn(163))}}catch(ce){Al(e,e.return,ce)}if(n=e.sibling,n!==null){n.return=e.return,Fr=n;break}Fr=e.return}return L=R9,R9=!1,L}function KC(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&OO(e,t,o)}i=i.next}while(i!==r)}}function M5(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function BO(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function nz(n){var e=n.alternate;e!==null&&(n.alternate=null,nz(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[cp],delete e[db],delete e[pO],delete e[sZ],delete e[lZ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rz(n){return n.tag===5||n.tag===3||n.tag===4}function U9(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rz(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function IO(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=x4));else if(r!==4&&(n=n.child,n!==null))for(IO(n,e,t),n=n.sibling;n!==null;)IO(n,e,t),n=n.sibling}function kO(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(kO(n,e,t),n=n.sibling;n!==null;)kO(n,e,t),n=n.sibling}var oA=null,af=!1;function Ym(n,e,t){for(t=t.child;t!==null;)iz(n,e,t),t=t.sibling}function iz(n,e,t){if(yp&&typeof yp.onCommitFiberUnmount=="function")try{yp.onCommitFiberUnmount(g5,t)}catch{}switch(t.tag){case 5:DA||Py(t,e);case 6:var r=oA,i=af;oA=null,Ym(n,e,t),oA=r,af=i,oA!==null&&(af?(n=oA,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):oA.removeChild(t.stateNode));break;case 18:oA!==null&&(af?(n=oA,t=t.stateNode,n.nodeType===8?eE(n.parentNode,t):n.nodeType===1&&eE(n,t),lb(n)):eE(oA,t.stateNode));break;case 4:r=oA,i=af,oA=t.stateNode.containerInfo,af=!0,Ym(n,e,t),oA=r,af=i;break;case 0:case 11:case 14:case 15:if(!DA&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&OO(t,e,s),i=i.next}while(i!==r)}Ym(n,e,t);break;case 1:if(!DA&&(Py(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Al(t,e,a)}Ym(n,e,t);break;case 21:Ym(n,e,t);break;case 22:t.mode&1?(DA=(r=DA)||t.memoizedState!==null,Ym(n,e,t),DA=r):Ym(n,e,t);break;default:Ym(n,e,t)}}function z9(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new wZ),e.forEach(function(r){var i=KZ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Xd(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:oA=a.stateNode,af=!1;break e;case 3:oA=a.stateNode.containerInfo,af=!0;break e;case 4:oA=a.stateNode.containerInfo,af=!0;break e}a=a.return}if(oA===null)throw Error(Qn(160));iz(o,s,i),oA=null,af=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(m){Al(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oz(e,n),e=e.sibling}function oz(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xd(e,n),ep(n),r&4){try{KC(3,n,n.return),M5(3,n)}catch(Y){Al(n,n.return,Y)}try{KC(5,n,n.return)}catch(Y){Al(n,n.return,Y)}}break;case 1:Xd(e,n),ep(n),r&512&&t!==null&&Py(t,t.return);break;case 5:if(Xd(e,n),ep(n),r&512&&t!==null&&Py(t,t.return),n.flags&32){var i=n.stateNode;try{ib(i,"")}catch(Y){Al(n,n.return,Y)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&SR(i,o),tO(a,s);var m=tO(a,o);for(s=0;s<f.length;s+=2){var C=f[s],B=f[s+1];C==="style"?kR(i,B):C==="dangerouslySetInnerHTML"?BR(i,B):C==="children"?ib(i,B):Z8(i,C,B,m)}switch(a){case"input":H6(i,o);break;case"textarea":ER(i,o);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var K=o.value;K!=null?qy(i,!!o.multiple,K,!1):I!==!!o.multiple&&(o.defaultValue!=null?qy(i,!!o.multiple,o.defaultValue,!0):qy(i,!!o.multiple,o.multiple?[]:"",!1))}i[db]=o}catch(Y){Al(n,n.return,Y)}}break;case 6:if(Xd(e,n),ep(n),r&4){if(n.stateNode===null)throw Error(Qn(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(Y){Al(n,n.return,Y)}}break;case 3:if(Xd(e,n),ep(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{lb(e.containerInfo)}catch(Y){Al(n,n.return,Y)}break;case 4:Xd(e,n),ep(n);break;case 13:Xd(e,n),ep(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(I7=Il())),r&4&&z9(n);break;case 22:if(C=t!==null&&t.memoizedState!==null,n.mode&1?(DA=(m=DA)||C,Xd(e,n),DA=m):Xd(e,n),ep(n),r&8192){if(m=n.memoizedState!==null,(n.stateNode.isHidden=m)&&!C&&n.mode&1)for(Fr=n,C=n.child;C!==null;){for(B=Fr=C;Fr!==null;){switch(I=Fr,K=I.child,I.tag){case 0:case 11:case 14:case 15:KC(4,I,I.return);break;case 1:Py(I,I.return);var L=I.stateNode;if(typeof L.componentWillUnmount=="function"){r=I,t=I.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(Y){Al(r,t,Y)}}break;case 5:Py(I,I.return);break;case 22:if(I.memoizedState!==null){N9(B);continue}}K!==null?(K.return=I,Fr=K):N9(B)}C=C.sibling}e:for(C=null,B=n;;){if(B.tag===5){if(C===null){C=B;try{i=B.stateNode,m?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=B.stateNode,f=B.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=IR("display",s))}catch(Y){Al(n,n.return,Y)}}}else if(B.tag===6){if(C===null)try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(Y){Al(n,n.return,Y)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===n)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===n)break e;for(;B.sibling===null;){if(B.return===null||B.return===n)break e;C===B&&(C=null),B=B.return}C===B&&(C=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Xd(e,n),ep(n),r&4&&z9(n);break;case 21:break;default:Xd(e,n),ep(n)}}function ep(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(rz(t)){var r=t;break e}t=t.return}throw Error(Qn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ib(i,""),r.flags&=-33);var o=U9(n);kO(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=U9(n);IO(n,a,s);break;default:throw Error(Qn(161))}}catch(f){Al(n,n.return,f)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function SZ(n,e,t){Fr=n,az(n)}function az(n,e,t){for(var r=(n.mode&1)!==0;Fr!==null;){var i=Fr,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Vx;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||DA;a=Vx;var m=DA;if(Vx=s,(DA=f)&&!m)for(Fr=i;Fr!==null;)s=Fr,f=s.child,s.tag===22&&s.memoizedState!==null?W9(i):f!==null?(f.return=s,Fr=f):W9(i);for(;o!==null;)Fr=o,az(o),o=o.sibling;Fr=i,Vx=a,DA=m}j9(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Fr=o):j9(n)}}function j9(n){for(;Fr!==null;){var e=Fr;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:DA||M5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!DA)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:nf(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&w9(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}w9(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&t.focus();break;case"img":f.src&&(t.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var C=m.memoizedState;if(C!==null){var B=C.dehydrated;B!==null&&lb(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qn(163))}DA||e.flags&512&&BO(e)}catch(I){Al(e,e.return,I)}}if(e===n){Fr=null;break}if(t=e.sibling,t!==null){t.return=e.return,Fr=t;break}Fr=e.return}}function N9(n){for(;Fr!==null;){var e=Fr;if(e===n){Fr=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Fr=t;break}Fr=e.return}}function W9(n){for(;Fr!==null;){var e=Fr;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{M5(4,e)}catch(f){Al(e,t,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){Al(e,i,f)}}var o=e.return;try{BO(e)}catch(f){Al(e,o,f)}break;case 5:var s=e.return;try{BO(e)}catch(f){Al(e,s,f)}}}catch(f){Al(e,e.return,f)}if(e===n){Fr=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Fr=a;break}Fr=e.return}}var EZ=Math.ceil,K4=Em.ReactCurrentDispatcher,O7=Em.ReactCurrentOwner,gd=Em.ReactCurrentBatchConfig,$o=0,Uu=null,$l=null,sA=0,mh=0,Ky=R0(0),du=0,vb=null,r1=0,S5=0,B7=0,LC=null,Oc=null,I7=0,Bv=1/0,om=null,L4=!1,TO=null,x0=null,Hx=!1,c0=null,D4=0,DC=0,PO=null,q3=-1,V3=0;function rc(){return $o&6?Il():q3!==-1?q3:q3=Il()}function w0(n){return n.mode&1?$o&2&&sA!==0?sA&-sA:AZ.transition!==null?(V3===0&&(V3=WR()),V3):(n=xa,n!==0||(n=window.event,n=n===void 0?16:HR(n.type)),n):1}function cf(n,e,t,r){if(50<DC)throw DC=0,PO=null,Error(Qn(185));Zb(n,t,r),(!($o&2)||n!==Uu)&&(n===Uu&&(!($o&2)&&(S5|=t),du===4&&l0(n,sA)),Pc(n,r),t===1&&$o===0&&!(e.mode&1)&&(Bv=Il()+500,b5&&U0()))}function Pc(n,e){var t=n.callbackNode;AH(n,e);var r=v4(n,n===Uu?sA:0);if(r===0)t!==null&&XT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&XT(t),e===1)n.tag===0?uZ(G9.bind(null,n)):pU(G9.bind(null,n)),oZ(function(){!($o&6)&&U0()}),t=null;else{switch(GR(r)){case 1:t=n7;break;case 4:t=jR;break;case 16:t=y4;break;case 536870912:t=NR;break;default:t=y4}t=fz(t,sz.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function sz(n,e){if(q3=-1,V3=0,$o&6)throw Error(Qn(327));var t=n.callbackNode;if(Jy()&&n.callbackNode!==t)return null;var r=v4(n,n===Uu?sA:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=F4(n,r);else{e=r;var i=$o;$o|=2;var o=uz();(Uu!==n||sA!==e)&&(om=null,Bv=Il()+500,Wg(n,e));do try{IZ();break}catch(a){lz(n,a)}while(!0);p7(),K4.current=o,$o=i,$l!==null?e=0:(Uu=null,sA=0,e=du)}if(e!==0){if(e===2&&(i=aO(n),i!==0&&(r=i,e=KO(n,i))),e===1)throw t=vb,Wg(n,0),l0(n,r),Pc(n,Il()),t;if(e===6)l0(n,r);else{if(i=n.current.alternate,!(r&30)&&!OZ(i)&&(e=F4(n,r),e===2&&(o=aO(n),o!==0&&(r=o,e=KO(n,o))),e===1))throw t=vb,Wg(n,0),l0(n,r),Pc(n,Il()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Qn(345));case 2:_g(n,Oc,om);break;case 3:if(l0(n,r),(r&130023424)===r&&(e=I7+500-Il(),10<e)){if(v4(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){rc(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=fO(_g.bind(null,n,Oc,om),e);break}_g(n,Oc,om);break;case 4:if(l0(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-Af(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Il()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EZ(r/1960))-r,10<r){n.timeoutHandle=fO(_g.bind(null,n,Oc,om),r);break}_g(n,Oc,om);break;case 5:_g(n,Oc,om);break;default:throw Error(Qn(329))}}}return Pc(n,Il()),n.callbackNode===t?sz.bind(null,n):null}function KO(n,e){var t=LC;return n.current.memoizedState.isDehydrated&&(Wg(n,e).flags|=256),n=F4(n,e),n!==2&&(e=Oc,Oc=t,e!==null&&LO(e)),n}function LO(n){Oc===null?Oc=n:Oc.push.apply(Oc,n)}function OZ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!df(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function l0(n,e){for(e&=~B7,e&=~S5,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Af(e),r=1<<t;n[t]=-1,e&=~r}}function G9(n){if($o&6)throw Error(Qn(327));Jy();var e=v4(n,0);if(!(e&1))return Pc(n,Il()),null;var t=F4(n,e);if(n.tag!==0&&t===2){var r=aO(n);r!==0&&(e=r,t=KO(n,r))}if(t===1)throw t=vb,Wg(n,0),l0(n,e),Pc(n,Il()),t;if(t===6)throw Error(Qn(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_g(n,Oc,om),Pc(n,Il()),null}function k7(n,e){var t=$o;$o|=1;try{return n(e)}finally{$o=t,$o===0&&(Bv=Il()+500,b5&&U0())}}function i1(n){c0!==null&&c0.tag===0&&!($o&6)&&Jy();var e=$o;$o|=1;var t=gd.transition,r=xa;try{if(gd.transition=null,xa=1,n)return n()}finally{xa=r,gd.transition=t,$o=e,!($o&6)&&U0()}}function T7(){mh=Ky.current,ws(Ky)}function Wg(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,iZ(t)),$l!==null)for(t=$l.return;t!==null;){var r=t;switch(h7(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w4();break;case 3:Ev(),ws(kc),ws(FA),C7();break;case 5:_7(r);break;case 4:Ev();break;case 13:ws($s);break;case 19:ws($s);break;case 10:m7(r.type._context);break;case 22:case 23:T7()}t=t.return}if(Uu=n,$l=n=M0(n.current,null),sA=mh=e,du=0,vb=null,B7=S5=r1=0,Oc=LC=null,Pg!==null){for(e=0;e<Pg.length;e++)if(t=Pg[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}Pg=null}return n}function lz(n,e){do{var t=$l;try{if(p7(),Q3.current=P4,T4){for(var r=Vs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T4=!1}if(n1=0,Fu=hu=Vs=null,PC=!1,mb=0,O7.current=null,t===null||t.return===null){du=1,vb=e,$l=null;break}e:{var o=n,s=t.return,a=t,f=e;if(e=sA,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,C=a,B=C.tag;if(!(C.mode&1)&&(B===0||B===11||B===15)){var I=C.alternate;I?(C.updateQueue=I.updateQueue,C.memoizedState=I.memoizedState,C.lanes=I.lanes):(C.updateQueue=null,C.memoizedState=null)}var K=k9(s);if(K!==null){K.flags&=-257,T9(K,s,a,o,e),K.mode&1&&I9(o,m,e),e=K,f=m;var L=e.updateQueue;if(L===null){var Y=new Set;Y.add(f),e.updateQueue=Y}else L.add(f);break e}else{if(!(e&1)){I9(o,m,e),P7();break e}f=Error(Qn(426))}}else if(Ts&&a.mode&1){var ee=k9(s);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),T9(ee,s,a,o,e),d7(Ov(f,a));break e}}o=f=Ov(f,a),du!==4&&(du=2),LC===null?LC=[o]:LC.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var V=QU(o,f,e);x9(o,V);break e;case 1:a=f;var W=o.type,ne=o.stateNode;if(!(o.flags&128)&&(typeof W.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(x0===null||!x0.has(ne)))){o.flags|=65536,e&=-e,o.lanes|=e;var ce=$U(o,a,e);x9(o,ce);break e}}o=o.return}while(o!==null)}cz(t)}catch(ge){e=ge,$l===t&&t!==null&&($l=t=t.return);continue}break}while(!0)}function uz(){var n=K4.current;return K4.current=P4,n===null?P4:n}function P7(){(du===0||du===3||du===2)&&(du=4),Uu===null||!(r1&268435455)&&!(S5&268435455)||l0(Uu,sA)}function F4(n,e){var t=$o;$o|=2;var r=uz();(Uu!==n||sA!==e)&&(om=null,Wg(n,e));do try{BZ();break}catch(i){lz(n,i)}while(!0);if(p7(),$o=t,K4.current=r,$l!==null)throw Error(Qn(261));return Uu=null,sA=0,du}function BZ(){for(;$l!==null;)Az($l)}function IZ(){for(;$l!==null&&!tH();)Az($l)}function Az(n){var e=dz(n.alternate,n,mh);n.memoizedProps=n.pendingProps,e===null?cz(n):$l=e,O7.current=null}function cz(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=xZ(t,e),t!==null){t.flags&=32767,$l=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{du=6,$l=null;return}}else if(t=bZ(t,e,mh),t!==null){$l=t;return}if(e=e.sibling,e!==null){$l=e;return}$l=e=n}while(e!==null);du===0&&(du=5)}function _g(n,e,t){var r=xa,i=gd.transition;try{gd.transition=null,xa=1,kZ(n,e,t,r)}finally{gd.transition=i,xa=r}return null}function kZ(n,e,t,r){do Jy();while(c0!==null);if($o&6)throw Error(Qn(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Qn(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(cH(n,o),n===Uu&&($l=Uu=null,sA=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Hx||(Hx=!0,fz(y4,function(){return Jy(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=gd.transition,gd.transition=null;var s=xa;xa=1;var a=$o;$o|=4,O7.current=null,MZ(n,t),oz(t,n),ZH(hO),_4=!!cO,hO=cO=null,n.current=t,SZ(t),nH(),$o=a,xa=s,gd.transition=o}else n.current=t;if(Hx&&(Hx=!1,c0=n,D4=i),o=n.pendingLanes,o===0&&(x0=null),oH(t.stateNode),Pc(n,Il()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(L4)throw L4=!1,n=TO,TO=null,n;return D4&1&&n.tag!==0&&Jy(),o=n.pendingLanes,o&1?n===PO?DC++:(DC=0,PO=n):DC=0,U0(),null}function Jy(){if(c0!==null){var n=GR(D4),e=gd.transition,t=xa;try{if(gd.transition=null,xa=16>n?16:n,c0===null)var r=!1;else{if(n=c0,c0=null,D4=0,$o&6)throw Error(Qn(331));var i=$o;for($o|=4,Fr=n.current;Fr!==null;){var o=Fr,s=o.child;if(Fr.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var m=a[f];for(Fr=m;Fr!==null;){var C=Fr;switch(C.tag){case 0:case 11:case 15:KC(8,C,o)}var B=C.child;if(B!==null)B.return=C,Fr=B;else for(;Fr!==null;){C=Fr;var I=C.sibling,K=C.return;if(nz(C),C===m){Fr=null;break}if(I!==null){I.return=K,Fr=I;break}Fr=K}}}var L=o.alternate;if(L!==null){var Y=L.child;if(Y!==null){L.child=null;do{var ee=Y.sibling;Y.sibling=null,Y=ee}while(Y!==null)}}Fr=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Fr=s;else e:for(;Fr!==null;){if(o=Fr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:KC(9,o,o.return)}var V=o.sibling;if(V!==null){V.return=o.return,Fr=V;break e}Fr=o.return}}var W=n.current;for(Fr=W;Fr!==null;){s=Fr;var ne=s.child;if(s.subtreeFlags&2064&&ne!==null)ne.return=s,Fr=ne;else e:for(s=W;Fr!==null;){if(a=Fr,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:M5(9,a)}}catch(ge){Al(a,a.return,ge)}if(a===s){Fr=null;break e}var ce=a.sibling;if(ce!==null){ce.return=a.return,Fr=ce;break e}Fr=a.return}}if($o=i,U0(),yp&&typeof yp.onPostCommitFiberRoot=="function")try{yp.onPostCommitFiberRoot(g5,n)}catch{}r=!0}return r}finally{xa=t,gd.transition=e}}return!1}function Q9(n,e,t){e=Ov(t,e),e=QU(n,e,1),n=b0(n,e,1),e=rc(),n!==null&&(Zb(n,1,e),Pc(n,e))}function Al(n,e,t){if(n.tag===3)Q9(n,n,t);else for(;e!==null;){if(e.tag===3){Q9(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(x0===null||!x0.has(r))){n=Ov(t,n),n=$U(e,n,1),e=b0(e,n,1),n=rc(),e!==null&&(Zb(e,1,n),Pc(e,n));break}}e=e.return}}function TZ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=rc(),n.pingedLanes|=n.suspendedLanes&t,Uu===n&&(sA&t)===t&&(du===4||du===3&&(sA&130023424)===sA&&500>Il()-I7?Wg(n,0):B7|=t),Pc(n,e)}function hz(n,e){e===0&&(n.mode&1?(e=zx,zx<<=1,!(zx&130023424)&&(zx=4194304)):e=1);var t=rc();n=wm(n,e),n!==null&&(Zb(n,e,t),Pc(n,t))}function PZ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),hz(n,t)}function KZ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Qn(314))}r!==null&&r.delete(e),hz(n,t)}var dz;dz=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||kc.current)Ic=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ic=!1,CZ(n,e,t);Ic=!!(n.flags&131072)}else Ic=!1,Ts&&e.flags&1048576&&mU(e,E4,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Y3(n,e),n=e.pendingProps;var i=wv(e,FA.current);Xy(e,t),i=x7(null,e,r,n,i,t);var o=w7();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tc(r)?(o=!0,M4(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y7(e),i.updater=x5,e.stateNode=i,i._reactInternals=e,CO(e,r,n,t),e=wO(null,e,r,!0,o,t)):(e.tag=0,Ts&&o&&c7(e),JA(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Y3(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DZ(r),n=nf(r,n),i){case 0:e=xO(null,e,r,n,t);break e;case 1:e=L9(null,e,r,n,t);break e;case 11:e=P9(null,e,r,n,t);break e;case 14:e=K9(null,e,r,nf(r.type,n),t);break e}throw Error(Qn(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nf(r,i),xO(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nf(r,i),L9(n,e,r,i,t);case 3:e:{if(HU(e),n===null)throw Error(Qn(387));r=e.pendingProps,o=e.memoizedState,i=o.element,_U(n,e),I4(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ov(Error(Qn(423)),e),e=D9(n,e,r,t,i);break e}else if(r!==i){i=Ov(Error(Qn(424)),e),e=D9(n,e,r,t,i);break e}else for(Ch=C0(e.stateNode.containerInfo.firstChild),wh=e,Ts=!0,lf=null,t=wU(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Mv(),r===i){e=Mm(n,e,t);break e}JA(n,e,r,t)}e=e.child}return e;case 5:return MU(e),n===null&&yO(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,dO(r,i)?s=null:o!==null&&dO(r,o)&&(e.flags|=32),VU(n,e),JA(n,e,s,t),e.child;case 6:return n===null&&yO(e),null;case 13:return ZU(n,e,t);case 4:return v7(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Sv(e,null,r,t):JA(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nf(r,i),P9(n,e,r,i,t);case 7:return JA(n,e,e.pendingProps,t),e.child;case 8:return JA(n,e,e.pendingProps.children,t),e.child;case 12:return JA(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,cs(O4,r._currentValue),r._currentValue=s,o!==null)if(df(o.value,s)){if(o.children===i.children&&!kc.current){e=Mm(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=mm(-1,t&-t),f.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var C=m.pending;C===null?f.next=f:(f.next=C.next,C.next=f),m.pending=f}}o.lanes|=t,f=o.alternate,f!==null&&(f.lanes|=t),vO(o.return,t,e),a.lanes|=t;break}f=f.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Qn(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),vO(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}JA(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xy(e,t),i=_d(i),r=r(i),e.flags|=1,JA(n,e,r,t),e.child;case 14:return r=e.type,i=nf(r,e.pendingProps),i=nf(r.type,i),K9(n,e,r,i,t);case 15:return YU(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nf(r,i),Y3(n,e),e.tag=1,Tc(r)?(n=!0,M4(e)):n=!1,Xy(e,t),bU(e,r,i),CO(e,r,i,t),wO(null,e,r,!0,n,t);case 19:return XU(n,e,t);case 22:return qU(n,e,t)}throw Error(Qn(156,e.tag))};function fz(n,e){return zR(n,e)}function LZ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fd(n,e,t,r){return new LZ(n,e,t,r)}function K7(n){return n=n.prototype,!(!n||!n.isReactComponent)}function DZ(n){if(typeof n=="function")return K7(n)?1:0;if(n!=null){if(n=n.$$typeof,n===J8)return 11;if(n===e7)return 14}return 2}function M0(n,e){var t=n.alternate;return t===null?(t=fd(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function H3(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")K7(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case wy:return Gg(t.children,i,o,e);case X8:s=8,i|=8;break;case Q6:return n=fd(12,t,e,i|2),n.elementType=Q6,n.lanes=o,n;case $6:return n=fd(13,t,e,i),n.elementType=$6,n.lanes=o,n;case Y6:return n=fd(19,t,e,i),n.elementType=Y6,n.lanes=o,n;case xR:return E5(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case CR:s=10;break e;case bR:s=9;break e;case J8:s=11;break e;case e7:s=14;break e;case n0:s=16,r=null;break e}throw Error(Qn(130,n==null?n:typeof n,""))}return e=fd(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function Gg(n,e,t,r){return n=fd(7,n,r,e),n.lanes=t,n}function E5(n,e,t,r){return n=fd(22,n,r,e),n.elementType=xR,n.lanes=t,n.stateNode={isHidden:!1},n}function lE(n,e,t){return n=fd(6,n,null,e),n.lanes=t,n}function uE(n,e,t){return e=fd(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function FZ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WS(0),this.expirationTimes=WS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L7(n,e,t,r,i,o,s,a,f){return n=new FZ(n,e,t,a,f),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fd(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},y7(o),n}function RZ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xy,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function pz(n){if(!n)return P0;n=n._reactInternals;e:{if(g1(n)!==n||n.tag!==1)throw Error(Qn(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qn(171))}if(n.tag===1){var t=n.type;if(Tc(t))return fU(n,t,e)}return e}function mz(n,e,t,r,i,o,s,a,f){return n=L7(t,r,!0,n,i,o,s,a,f),n.context=pz(null),t=n.current,r=rc(),i=w0(t),o=mm(r,i),o.callback=e??null,b0(t,o,i),n.current.lanes=i,Zb(n,i,r),Pc(n,r),n}function O5(n,e,t,r){var i=e.current,o=rc(),s=w0(i);return t=pz(t),e.context===null?e.context=t:e.pendingContext=t,e=mm(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=b0(i,e,s),n!==null&&(cf(n,i,s,o),G3(n,i,s)),s}function R4(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $9(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function D7(n,e){$9(n,e),(n=n.alternate)&&$9(n,e)}function UZ(){return null}var gz=typeof reportError=="function"?reportError:function(n){console.error(n)};function F7(n){this._internalRoot=n}B5.prototype.render=F7.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Qn(409));O5(n,e,null,null)};B5.prototype.unmount=F7.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;i1(function(){O5(null,n,null,null)}),e[xm]=null}};function B5(n){this._internalRoot=n}B5.prototype.unstable_scheduleHydration=function(n){if(n){var e=YR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<s0.length&&e!==0&&e<s0[t].priority;t++);s0.splice(t,0,n),t===0&&VR(n)}};function R7(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function I5(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Y9(){}function zZ(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var m=R4(s);o.call(m)}}var s=mz(e,r,n,0,null,!1,!1,"",Y9);return n._reactRootContainer=s,n[xm]=s.current,cb(n.nodeType===8?n.parentNode:n),i1(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var m=R4(f);a.call(m)}}var f=L7(n,0,!1,null,null,!1,!1,"",Y9);return n._reactRootContainer=f,n[xm]=f.current,cb(n.nodeType===8?n.parentNode:n),i1(function(){O5(e,f,t,r)}),f}function k5(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=R4(s);a.call(f)}}O5(e,s,n,i)}else s=zZ(t,e,n,i,r);return R4(s)}QR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=dC(e.pendingLanes);t!==0&&(r7(e,t|1),Pc(e,Il()),!($o&6)&&(Bv=Il()+500,U0()))}break;case 13:i1(function(){var r=wm(n,1);if(r!==null){var i=rc();cf(r,n,1,i)}}),D7(n,1)}};i7=function(n){if(n.tag===13){var e=wm(n,134217728);if(e!==null){var t=rc();cf(e,n,134217728,t)}D7(n,134217728)}};$R=function(n){if(n.tag===13){var e=w0(n),t=wm(n,e);if(t!==null){var r=rc();cf(t,n,e,r)}D7(n,e)}};YR=function(){return xa};qR=function(n,e){var t=xa;try{return xa=n,e()}finally{xa=t}};rO=function(n,e,t){switch(e){case"input":if(H6(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=C5(r);if(!i)throw Error(Qn(90));MR(r),H6(r,i)}}}break;case"textarea":ER(n,t);break;case"select":e=t.value,e!=null&&qy(n,!!t.multiple,e,!1)}};KR=k7;LR=i1;var jZ={usingClientEntryPoint:!1,Events:[Jb,Oy,C5,TR,PR,k7]},$_={findFiberByHostInstance:Tg,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NZ={bundleType:$_.bundleType,version:$_.version,rendererPackageName:$_.rendererPackageName,rendererConfig:$_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Em.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=RR(n),n===null?null:n.stateNode},findFiberByHostInstance:$_.findFiberByHostInstance||UZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zx.isDisabled&&Zx.supportsFiber)try{g5=Zx.inject(NZ),yp=Zx}catch{}}Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jZ;Oh.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R7(e))throw Error(Qn(200));return RZ(n,e,null,t)};Oh.createRoot=function(n,e){if(!R7(n))throw Error(Qn(299));var t=!1,r="",i=gz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L7(n,1,!1,null,null,t,!1,r,i),n[xm]=e.current,cb(n.nodeType===8?n.parentNode:n),new F7(e)};Oh.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Qn(188)):(n=Object.keys(n).join(","),Error(Qn(268,n)));return n=RR(e),n=n===null?null:n.stateNode,n};Oh.flushSync=function(n){return i1(n)};Oh.hydrate=function(n,e,t){if(!I5(e))throw Error(Qn(200));return k5(null,n,e,!0,t)};Oh.hydrateRoot=function(n,e,t){if(!R7(n))throw Error(Qn(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=gz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=mz(e,null,n,1,t??null,i,!1,o,s),n[xm]=e.current,cb(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new B5(e)};Oh.render=function(n,e,t){if(!I5(e))throw Error(Qn(200));return k5(null,n,e,!1,t)};Oh.unmountComponentAtNode=function(n){if(!I5(n))throw Error(Qn(40));return n._reactRootContainer?(i1(function(){k5(null,null,n,!1,function(){n._reactRootContainer=null,n[xm]=null})}),!0):!1};Oh.unstable_batchedUpdates=k7;Oh.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!I5(t))throw Error(Qn(200));if(n==null||n._reactInternals===void 0)throw Error(Qn(38));return k5(n,e,t,!1,r)};Oh.version="18.2.0-next-9e3b772b8-20220608";function yz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yz)}catch(n){console.error(n)}}yz(),mR.exports=Oh;var z0=mR.exports;const WZ=wa(z0);var vz,q9=z0;vz=q9.createRoot,q9.hydrateRoot;const GZ="modulepreload",QZ=function(n){return"/maputnik/"+n},V9={},Y_=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(f=>{if(f=QZ(f),f in V9)return;V9[f]=!0;const m=f.endsWith(".css"),C=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${C}`))return;const B=document.createElement("link");if(B.rel=m?"stylesheet":GZ,m||(B.as="script"),B.crossOrigin="",B.href=f,a&&B.setAttribute("nonce",a),document.head.appendChild(B),m)return new Promise((I,K)=>{B.addEventListener("load",I),B.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},$Z=(n,e,t)=>{const r=n[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})},YZ={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class U4{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||YZ,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new U4(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new U4(this.logger,e)}}var pp=new U4;let T5=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,f]=s;for(let m=0;m<f;m++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,f]=s;for(let m=0;m<f;m++)a.apply(a,[e,...r])})}};function q_(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function H9(n){return n==null?"":""+n}function qZ(n,e,t){n.forEach(r=>{e[r]&&(t[r]=e[r])})}const VZ=/###/g;function FC(n,e,t){function r(a){return a&&a.indexOf("###")>-1?a.replace(VZ,"."):a}function i(){return!n||typeof n=="string"}const o=typeof e!="string"?e:e.split(".");let s=0;for(;s<o.length-1;){if(i())return{};const a=r(o[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return i()?{}:{obj:n,k:r(o[s])}}function Z9(n,e,t){const{obj:r,k:i}=FC(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=FC(n,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=FC(n,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t}function HZ(n,e,t,r){const{obj:i,k:o}=FC(n,e,Object);i[o]=i[o]||[],i[o].push(t)}function z4(n,e){const{obj:t,k:r}=FC(n,e);if(t)return t[r]}function ZZ(n,e,t){const r=z4(n,t);return r!==void 0?r:z4(e,t)}function _z(n,e,t){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?typeof n[r]=="string"||n[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(n[r]=e[r]):_z(n[r],e[r],t):n[r]=e[r]);return n}function Z1(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function JZ(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>XZ[e]):n}class eX{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const tX=[" ",",","?","!",";"],nX=new eX(20);function rX(n,e,t){e=e||"",t=t||"";const r=tX.filter(s=>e.indexOf(s)<0&&t.indexOf(s)<0);if(r.length===0)return!0;const i=nX.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(n);if(!o){const s=n.indexOf(t);s>0&&!i.test(n.substring(0,s))&&(o=!0)}return o}function DO(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let i=n;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let f=o;f<r.length;++f)if(f!==o&&(a+=t),a+=r[f],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&f<r.length-1)continue;o+=f-o+1;break}i=s}return i}function j4(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class X9 extends T5{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const f=z4(this.data,a);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),f||!s||typeof r!="string"?f:DO(this.data&&this.data[e]&&this.data[e][t],r,o)}addResource(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),Z9(this.data,a,i),o.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let f=z4(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?_z(f,r,o):f={...f,...r},Z9(this.data,a,f),s.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var Cz={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,t,r,i))}),e}};const J9={};class N4 extends T5{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),qZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!rX(e,r,i);if(s&&!a){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:o};const m=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(i)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),f=a[a.length-1],m=t.lng||this.language,C=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(C){const ce=t.nsSeparator||this.options.nsSeparator;return i?{res:`${f}${ce}${s}`,usedKey:s,exactUsedKey:s,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${ce}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:s}const B=this.resolve(e,t);let I=B&&B.res;const K=B&&B.usedKey||s,L=B&&B.exactUsedKey||s,Y=Object.prototype.toString.apply(I),ee=["[object Number]","[object Function]","[object RegExp]"],V=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,W=!this.i18nFormat||this.i18nFormat.handleAsObject;if(W&&I&&(typeof I!="string"&&typeof I!="boolean"&&typeof I!="number")&&ee.indexOf(Y)<0&&!(typeof V=="string"&&Array.isArray(I))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ce=this.options.returnedObjectHandler?this.options.returnedObjectHandler(K,I,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(B.res=ce,B.usedParams=this.getUsedParamsDetails(t),B):ce}if(o){const ce=Array.isArray(I),ge=ce?[]:{},fe=ce?L:K;for(const H in I)if(Object.prototype.hasOwnProperty.call(I,H)){const X=`${fe}${o}${H}`;ge[H]=this.translate(X,{...t,joinArrays:!1,ns:a}),ge[H]===X&&(ge[H]=I[H])}I=ge}}else if(W&&typeof V=="string"&&Array.isArray(I))I=I.join(V),I&&(I=this.extendTranslation(I,e,t,r));else{let ce=!1,ge=!1;const fe=t.count!==void 0&&typeof t.count!="string",H=N4.hasDefaultValue(t),X=fe?this.pluralResolver.getSuffix(m,t.count,t):"",Me=t.ordinal&&fe?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",be=fe&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),Fe=be&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${X}`]||t[`defaultValue${Me}`]||t.defaultValue;!this.isValidLookup(I)&&H&&(ce=!0,I=Fe),this.isValidLookup(I)||(ge=!0,I=s);const me=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ge?void 0:I,Ve=H&&Fe!==I&&this.options.updateMissing;if(ge||ce||Ve){if(this.logger.log(Ve?"updateKey":"missingKey",m,f,s,Ve?Fe:I),o){const _t=this.resolve(s,{...t,keySeparator:!1});_t&&_t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const Ot=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ot&&Ot[0])for(let _t=0;_t<Ot.length;_t++)_e.push(Ot[_t]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(t.lng||this.language):_e.push(t.lng||this.language);const St=(_t,ft,$e)=>{const et=H&&$e!==I?$e:me;this.options.missingKeyHandler?this.options.missingKeyHandler(_t,f,ft,et,Ve,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(_t,f,ft,et,Ve,t),this.emit("missingKey",_t,f,ft,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&fe?_e.forEach(_t=>{const ft=this.pluralResolver.getSuffixes(_t,t);be&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ft.indexOf(`${this.options.pluralSeparator}zero`)<0&&ft.push(`${this.options.pluralSeparator}zero`),ft.forEach($e=>{St([_t],s+$e,t[`defaultValue${$e}`]||Fe)})}):St(_e,s,Fe))}I=this.extendTranslation(I,e,t,B,r),ge&&I===s&&this.options.appendNamespaceToMissingKey&&(I=`${f}:${s}`),(ge||ce)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${s}`:s,ce?I:void 0):I=this.options.parseMissingKeyHandler(I))}return i?(B.res=I,B.usedParams=this.getUsedParamsDetails(t),B):I}extendTranslation(e,t,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let C;if(m){const I=e.match(this.interpolator.nestingRegexp);C=I&&I.length}let B=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(B={...this.options.interpolation.defaultVariables,...B}),e=this.interpolator.interpolate(e,B,r.lng||this.language||i.usedLng,r),m){const I=e.match(this.interpolator.nestingRegexp),K=I&&I.length;C<K&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var I=arguments.length,K=new Array(I),L=0;L<I;L++)K[L]=arguments[L];return o&&o[0]===K[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${K[0]} in key: ${t[0]}`),null):s.translate(...K,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,f=typeof a=="string"?[a]:a;return e!=null&&f&&f.length&&r.applyPostProcessor!==!1&&(e=Cz.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof e=="string"&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),C=m.key;i=C;let B=m.namespaces;this.options.fallbackNS&&(B=B.concat(this.options.fallbackNS));const I=t.count!==void 0&&typeof t.count!="string",K=I&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),L=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",Y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);B.forEach(ee=>{this.isValidLookup(r)||(a=ee,!J9[`${Y[0]}-${ee}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(J9[`${Y[0]}-${ee}`]=!0,this.logger.warn(`key "${i}" for languages "${Y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Y.forEach(V=>{if(this.isValidLookup(r))return;s=V;const W=[C];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(W,C,V,ee,t);else{let ce;I&&(ce=this.pluralResolver.getSuffix(V,t.count,t));const ge=`${this.options.pluralSeparator}zero`,fe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(I&&(W.push(C+ce),t.ordinal&&ce.indexOf(fe)===0&&W.push(C+ce.replace(fe,this.options.pluralSeparator)),K&&W.push(C+ge)),L){const H=`${C}${this.options.contextSeparator}${t.context}`;W.push(H),I&&(W.push(H+ce),t.ordinal&&ce.indexOf(fe)===0&&W.push(H+ce.replace(fe,this.options.pluralSeparator)),K&&W.push(H+ge))}}let ne;for(;ne=W.pop();)this.isValidLookup(r)||(o=ne,r=this.getResource(V,ee,ne,t))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of t)delete i[o]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}function AE(n){return n.charAt(0).toUpperCase()+n.slice(1)}class eP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pp.create("languageUtils")}getScriptPartFromCode(e){if(e=j4(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=j4(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=AE(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=AE(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=AE(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let iX=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],oX={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const aX=["v1","v2","v3"],sX=["v4"],tP={zero:0,one:1,two:2,few:3,many:4,other:5};function lX(){const n={};return iX.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:oX[e.fc]}})}),n}class uX{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=pp.create("pluralResolver"),(!this.options.compatibilityJSON||sX.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lX()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(j4(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>tP[i]-tP[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!aX.includes(this.options.compatibilityJSON)}}function nP(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=ZZ(n,e,t);return!o&&i&&typeof t=="string"&&(o=DO(n,t,r),o===void 0&&(o=DO(e,t,r))),o}class AX{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pp.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:f,formatSeparator:m,unescapeSuffix:C,unescapePrefix:B,nestingPrefix:I,nestingPrefixEscaped:K,nestingSuffix:L,nestingSuffixEscaped:Y,nestingOptionsSeparator:ee,maxReplaces:V,alwaysFormat:W}=e.interpolation;this.escape=t!==void 0?t:JZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Z1(o):s||"{{",this.suffix=a?Z1(a):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=C?"":B||"-",this.unescapeSuffix=this.unescapePrefix?"":C||"",this.nestingPrefix=I?Z1(I):K||Z1("$t("),this.nestingSuffix=L?Z1(L):Y||Z1(")"),this.nestingOptionsSeparator=ee||",",this.maxReplaces=V||1e3,this.alwaysFormat=W!==void 0?W:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let o,s,a;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function m(L){return L.replace(/\$/g,"$$$$")}const C=L=>{if(L.indexOf(this.formatSeparator)<0){const W=nP(t,f,L,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(W,void 0,r,{...i,...t,interpolationkey:L}):W}const Y=L.split(this.formatSeparator),ee=Y.shift().trim(),V=Y.join(this.formatSeparator).trim();return this.format(nP(t,f,ee,this.options.keySeparator,this.options.ignoreJSONStructure),V,r,{...i,...t,interpolationkey:ee})};this.resetRegExp();const B=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,I=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:L=>m(L)},{regex:this.regexp,safeValue:L=>this.escapeValue?m(this.escape(L)):m(L)}].forEach(L=>{for(a=0;o=L.regex.exec(e);){const Y=o[1].trim();if(s=C(Y),s===void 0)if(typeof B=="function"){const V=B(e,o,i);s=typeof V=="string"?V:""}else if(i&&Object.prototype.hasOwnProperty.call(i,Y))s="";else if(I){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${Y} for interpolating ${e}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=H9(s));const ee=L.safeValue(s);if(e=e.replace(o[0],ee),I?(L.regex.lastIndex+=s.length,L.regex.lastIndex-=o[0].length):L.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;function a(f,m){const C=this.nestingOptionsSeparator;if(f.indexOf(C)<0)return f;const B=f.split(new RegExp(`${C}[ ]*{`));let I=`{${B[1]}`;f=B[0],I=this.interpolate(I,s);const K=I.match(/'/g),L=I.match(/"/g);(K&&K.length%2===0&&!L||L.length%2!==0)&&(I=I.replace(/'/g,'"'));try{s=JSON.parse(I),m&&(s={...m,...s})}catch(Y){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,Y),`${f}${C}${I}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,f}for(;i=this.nestingRegexp.exec(e);){let f=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let m=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const C=i[1].split(this.formatSeparator).map(B=>B.trim());i[1]=C.shift(),f=C,m=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=H9(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),m&&(o=f.reduce((C,B)=>this.format(C,B,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}function cX(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...f]=s.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),C=a.trim();t[C]||(t[C]=m),m==="false"&&(t[C]=!1),m==="true"&&(t[C]=!0),isNaN(m)||(t[C]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}}function X1(n){const e={};return function(r,i,o){const s=i+JSON.stringify(o);let a=e[s];return a||(a=n(j4(i),o),e[s]=a),a(r)}}class hX{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pp.create("formatter"),this.options=e,this.formats={number:X1((t,r)=>{const i=new Intl.NumberFormat(t,{...r});return o=>i.format(o)}),currency:X1((t,r)=>{const i=new Intl.NumberFormat(t,{...r,style:"currency"});return o=>i.format(o)}),datetime:X1((t,r)=>{const i=new Intl.DateTimeFormat(t,{...r});return o=>i.format(o)}),relativetime:X1((t,r)=>{const i=new Intl.RelativeTimeFormat(t,{...r});return o=>i.format(o,r.range||"day")}),list:X1((t,r)=>{const i=new Intl.ListFormat(t,{...r});return o=>i.format(o)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=X1(t)}format(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((a,f)=>{const{formatName:m,formatOptions:C}=cX(f);if(this.formats[m]){let B=a;try{const I=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},K=I.locale||I.lng||i.locale||i.lng||r;B=this.formats[m](a,K,{...C,...i,...I})}catch(I){this.logger.warn(I)}return B}else this.logger.warn(`there was no format function for ${m}`);return a},e)}}function dX(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class fX extends T5{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=pp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,t,r,i){const o={},s={},a={},f={};return e.forEach(m=>{let C=!0;t.forEach(B=>{const I=`${m}|${B}`;!r.reload&&this.store.hasResourceBundle(m,B)?this.state[I]=2:this.state[I]<0||(this.state[I]===1?s[I]===void 0&&(s[I]=!0):(this.state[I]=1,C=!1,s[I]===void 0&&(s[I]=!0),o[I]===void 0&&(o[I]=!0),f[B]===void 0&&(f[B]=!0)))}),C||(a[m]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const a={};this.queue.forEach(f=>{HZ(f.loaded,[o],s),dX(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{a[m]||(a[m]={});const C=f.loaded[m];C.length&&C.forEach(B=>{a[m][B]===void 0&&(a[m][B]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(m,C)=>{if(this.readingCalls--,this.waitingReads.length>0){const B=this.waitingReads.shift();this.read(B.lng,B.ns,B.fcName,B.tried,B.wait,B.callback)}if(m&&C&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,o*2,s)},o);return}s(m,C)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(C=>a(null,C)).catch(a):a(null,m)}catch(m){a(m)}return}return f(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,t,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const f={...s,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let C;m.length===5?C=m(e,t,r,i,f):C=m(e,t,r,i),C&&typeof C.then=="function"?C.then(B=>a(null,B)).catch(a):a(null,C)}catch(C){a(C)}else m(e,t,r,i,a,f)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}function rP(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{t[i]=r[i]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function iP(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function Xx(){}function pX(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class _b extends T5{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=iP(e),this.services={},this.logger=pp,this.modules={external:[]},pX(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=rP();this.options={...i,...this.options,...iP(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function o(C){return C?typeof C=="function"?new C:C:null}if(!this.options.isClone){this.modules.logger?pp.init(o(this.modules.logger),this.options):pp.init(null,this.options);let C;this.modules.formatter?C=this.modules.formatter:typeof Intl<"u"&&(C=hX);const B=new eP(this.options);this.store=new X9(this.options.resources,this.options);const I=this.services;I.logger=pp,I.resourceStore=this.store,I.languageUtils=B,I.pluralResolver=new uX(B,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),C&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(I.formatter=o(C),I.formatter.init(I,this.options),this.options.interpolation.format=I.formatter.format.bind(I.formatter)),I.interpolator=new AX(this.options),I.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},I.backendConnector=new fX(o(this.modules.backend),I.resourceStore,I,this.options),I.backendConnector.on("*",function(K){for(var L=arguments.length,Y=new Array(L>1?L-1:0),ee=1;ee<L;ee++)Y[ee-1]=arguments[ee];e.emit(K,...Y)}),this.modules.languageDetector&&(I.languageDetector=o(this.modules.languageDetector),I.languageDetector.init&&I.languageDetector.init(I,this.options.detection,this.options)),this.modules.i18nFormat&&(I.i18nFormat=o(this.modules.i18nFormat),I.i18nFormat.init&&I.i18nFormat.init(this)),this.translator=new N4(this.services,this.options),this.translator.on("*",function(K){for(var L=arguments.length,Y=new Array(L>1?L-1:0),ee=1;ee<L;ee++)Y[ee-1]=arguments[ee];e.emit(K,...Y)}),this.modules.external.forEach(K=>{K.init&&K.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Xx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const C=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);C.length>0&&C[0]!=="dev"&&(this.options.lng=C[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(C=>{this[C]=function(){return e.store[C](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(C=>{this[C]=function(){return e.store[C](...arguments),e}});const f=q_(),m=()=>{const C=(B,I)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(I),r(B,I)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return C(null,this.t.bind(this));this.changeLanguage(this.options.lng,C)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),f}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xx;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(m=>{m!=="cimode"&&o.indexOf(m)<0&&o.push(m)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>s(f)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,t,r){const i=q_();return e||(e=this.languages),t||(t=this.options.ns),r||(r=Xx),this.services.backendConnector.reload(e,t,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Cz.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const i=q_();this.emit("languageChanging",e);const o=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},s=(f,m)=>{m?(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},a=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const m=typeof f=="string"?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||o(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,C=>{s(C,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,r){var i=this;const o=function(s,a){let f;if(typeof a!="object"){for(var m=arguments.length,C=new Array(m>2?m-2:0),B=2;B<m;B++)C[B-2]=arguments[B];f=i.options.overloadTranslationOptionHandler([s,a].concat(C))}else f={...a};f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||o.keyPrefix);const I=i.options.keySeparator||".";let K;return f.keyPrefix&&Array.isArray(s)?K=s.map(L=>`${f.keyPrefix}${I}${L}`):K=f.keyPrefix?`${f.keyPrefix}${I}${s}`:s,i.t(K,f)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,f)=>{const m=this.services.backendConnector.state[`${a}|${f}`];return m===-1||m===2};if(t.precheck){const a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,t){const r=q_();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=q_();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new eP(rP());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new _b(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xx;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new _b(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new X9(this.store.data,i),o.services.resourceStore=o.store),o.translator=new N4(o.services,i),o.translator.on("*",function(a){for(var f=arguments.length,m=new Array(f>1?f-1:0),C=1;C<f;C++)m[C-1]=arguments[C];o.emit(a,...m)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const AA=_b.createInstance();AA.createInstance=_b.createInstance;AA.createInstance;AA.dir;AA.init;AA.loadResources;AA.reloadResources;AA.use;AA.changeLanguage;AA.getFixedT;AA.t;AA.exists;AA.setDefaultNamespace;AA.hasLoadedNamespace;AA.loadNamespaces;AA.loadLanguages;const{slice:mX,forEach:gX}=[];function yX(n){return gX.call(mX.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const oP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vX=(n,e,t)=>{const r=t||{};r.path=r.path||"/";const i=encodeURIComponent(e);let o=`${n}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!oP.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!oP.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},aP={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=vX(n,encodeURIComponent(e),i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n){this.create(n,"",-1)}};var _X={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return aP.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;t&&typeof document<"u"&&aP.create(t,n,r,i,o)}},CX={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const f=s[a].indexOf("=");f>0&&s[a].substring(0,f)===e&&(t=s[a].substring(f+1))}}return t}};let V_=null;const sP=()=>{if(V_!==null)return V_;try{V_=window!=="undefined"&&window.localStorage!==null;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{V_=!1}return V_};var bX={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&sP())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&sP()&&window.localStorage.setItem(t,n)}};let H_=null;const lP=()=>{if(H_!==null)return H_;try{H_=window!=="undefined"&&window.sessionStorage!==null;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{H_=!1}return H_};var xX={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&lP())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&lP()&&window.sessionStorage.setItem(t,n)}},wX={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},MX={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},SX={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},EX={name:"subdomain",lookup(n){var i,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};function OX(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n}}class bz{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=yX(t,this.options||{},OX()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(_X),this.addDetector(CX),this.addDetector(bX),this.addDetector(xX),this.addDetector(wX),this.addDetector(MX),this.addDetector(SX),this.addDetector(EX)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e,t){t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}bz.type="languageDetector";var BX=function(e){return{type:"backend",init:function(r,i,o){},read:function(r,i,o){if(typeof e=="function"){if(e.length<3){try{var s=e(r,i);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}e(r,i,o);return}o(null,e&&e[r]&&e[r][i])}}},IX={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const kX=wa(IX);var TX=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function uP(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(kX[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=n.indexOf("-->");return{type:"comment",comment:r!==-1?n.slice(4,r):""}}for(var i=new RegExp(TX),o=null;(o=i.exec(n))!==null;)if(o[0].trim())if(o[1]){var s=o[1].trim(),a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),e.attrs[a[0]]=a[1],i.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var PX=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,KX=/^\s*$/,LX=Object.create(null);function xz(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var r=[];for(var i in t)r.push(i+'="'+t[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(xz,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var DX={parse:function(n,e){e||(e={}),e.components||(e.components=LX);var t,r=[],i=[],o=-1,s=!1;if(n.indexOf("<")!==0){var a=n.indexOf("<");r.push({type:"text",content:a===-1?n:n.substring(0,a)})}return n.replace(PX,function(f,m){if(s){if(f!=="</"+t.name+">")return;s=!1}var C,B=f.charAt(1)!=="/",I=f.startsWith("<!--"),K=m+f.length,L=n.charAt(K);if(I){var Y=uP(f);return o<0?(r.push(Y),r):((C=i[o]).children.push(Y),r)}if(B&&(o++,(t=uP(f)).type==="tag"&&e.components[t.name]&&(t.type="component",s=!0),t.voidElement||s||!L||L==="<"||t.children.push({type:"text",content:n.slice(K,n.indexOf("<",K))}),o===0&&r.push(t),(C=i[o-1])&&C.children.push(t),i[o]=t),(!B||t.voidElement)&&(o>-1&&(t.voidElement||t.name===f.slice(2,-1))&&(o--,t=o===-1?r:i[o]),!s&&L!=="<"&&L)){C=o===-1?r:i[o].children;var ee=n.indexOf("<",K),V=n.slice(K,ee===-1?void 0:ee);KX.test(V)&&(V=" "),(ee>-1&&o+C.length>=0||V!==" ")&&C.push({type:"text",content:V})}}),r},stringify:function(n){return n.reduce(function(e,t){return e+xz("",t)},"")}};const Z3=(...n)=>{console!=null&&console.warn&&(Mh(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),console.warn(...n))},AP={},W4=(...n)=>{Mh(n[0])&&AP[n[0]]||(Mh(n[0])&&(AP[n[0]]=new Date),Z3(...n))},wz=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},cP=(n,e,t)=>{n.loadNamespaces(e,wz(n,t))},hP=(n,e,t,r)=>{Mh(t)&&(t=[t]),t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,wz(n,r))},FX=(n,e,t={})=>!e.languages||!e.languages.length?(W4("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),RX=n=>n.displayName||n.name||(Mh(n)&&n.length>0?n:"Unknown"),Mh=n=>typeof n=="string",Ly=n=>typeof n=="object"&&n!==null,UX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,zX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jX=n=>zX[n],NX=n=>n.replace(UX,jX);let FO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NX};const WX=(n={})=>{FO={...FO,...n}},Mz=()=>FO;let Sz;const GX=n=>{Sz=n},U7=()=>Sz,cE=(n,e)=>{var r;if(!n)return!1;const t=((r=n.props)==null?void 0:r.children)??n.children;return e?t.length>0:!!t},hE=n=>{var t,r;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(r=n.props)!=null&&r.i18nIsDynamicList?Dy(e):e},QX=n=>Array.isArray(n)&&n.every(Wn.isValidElement),Dy=n=>Array.isArray(n)?n:[n],$X=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},Ez=(n,e)=>{if(!n)return"";let t="";const r=Dy(n),i=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((o,s)=>{if(Mh(o))t+=`${o}`;else if(Wn.isValidElement(o)){const{props:a,type:f}=o,m=Object.keys(a).length,C=i.indexOf(f)>-1,B=a.children;if(!B&&C&&!m)t+=`<${f}/>`;else if(!B&&(!C||m)||a.i18nIsDynamicList)t+=`<${s}></${s}>`;else if(C&&m===1&&Mh(B))t+=`<${f}>${B}</${f}>`;else{const I=Ez(B,e);t+=`<${s}>${I}</${s}>`}}else if(o===null)Z3("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Ly(o)){const{format:a,...f}=o,m=Object.keys(f);if(m.length===1){const C=a?`${m[0]}, ${a}`:m[0];t+=`{{${C}}}`}else Z3("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else Z3("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),t},YX=(n,e,t,r,i,o)=>{if(e==="")return[];const s=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(s.map(ee=>`<${ee}`).join("|")).test(e);if(!n&&!a&&!o)return[e];const f={},m=ee=>{Dy(ee).forEach(W=>{Mh(W)||(cE(W)?m(hE(W)):Ly(W)&&!Wn.isValidElement(W)&&Object.assign(f,W))})};m(n);const C=DX.parse(`<0>${e}</0>`),B={...f,...i},I=(ee,V,W)=>{var ge;const ne=hE(ee),ce=L(ne,V.children,W);return QX(ne)&&ce.length===0||(ge=ee.props)!=null&&ge.i18nIsDynamicList?ne:ce},K=(ee,V,W,ne,ce)=>{ee.dummy?(ee.children=V,W.push(Wn.cloneElement(ee,{key:ne},ce?void 0:V))):W.push(...Wn.Children.map([ee],ge=>{const fe={...ge.props};return delete fe.i18nIsDynamicList,Wn.createElement(ge.type,{...fe,key:ne,ref:ge.ref},ce?null:V)}))},L=(ee,V,W)=>{const ne=Dy(ee);return Dy(V).reduce((ge,fe,H)=>{var Me,be;const X=((be=(Me=fe.children)==null?void 0:Me[0])==null?void 0:be.content)&&t.services.interpolator.interpolate(fe.children[0].content,B,t.language);if(fe.type==="tag"){let Fe=ne[parseInt(fe.name,10)];W.length===1&&!Fe&&(Fe=W[0][fe.name]),Fe||(Fe={});const Ue=Object.keys(fe.attrs).length!==0?$X({props:fe.attrs},Fe):Fe,me=Wn.isValidElement(Ue),Ve=me&&cE(fe,!0)&&!fe.voidElement,_e=a&&Ly(Ue)&&Ue.dummy&&!me,Ot=Ly(n)&&Object.hasOwnProperty.call(n,fe.name);if(Mh(Ue)){const St=t.services.interpolator.interpolate(Ue,B,t.language);ge.push(St)}else if(cE(Ue)||Ve){const St=I(Ue,fe,W);K(Ue,St,ge,H)}else if(_e){const St=L(ne,fe.children,W);K(Ue,St,ge,H)}else if(Number.isNaN(parseFloat(fe.name)))if(Ot){const St=I(Ue,fe,W);K(Ue,St,ge,H,fe.voidElement)}else if(r.transSupportBasicHtmlNodes&&s.indexOf(fe.name)>-1)if(fe.voidElement)ge.push(Wn.createElement(fe.name,{key:`${fe.name}-${H}`}));else{const St=L(ne,fe.children,W);ge.push(Wn.createElement(fe.name,{key:`${fe.name}-${H}`},St))}else if(fe.voidElement)ge.push(`<${fe.name} />`);else{const St=L(ne,fe.children,W);ge.push(`<${fe.name}>${St}</${fe.name}>`)}else if(Ly(Ue)&&!me){const St=fe.children[0]?X:null;St&&ge.push(St)}else K(Ue,X,ge,H,fe.children.length!==1||!X)}else if(fe.type==="text"){const Fe=r.transWrapTextNodes,Ue=o?r.unescape(t.services.interpolator.interpolate(fe.content,B,t.language)):t.services.interpolator.interpolate(fe.content,B,t.language);Fe?ge.push(Wn.createElement(Fe,{key:`${fe.name}-${H}`},Ue)):ge.push(Ue)}return ge},[])},Y=L([{dummy:!0,children:n||[]}],C,Dy(n||[]));return hE(Y[0])};function qX({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o={},values:s,defaults:a,components:f,ns:m,i18n:C,t:B,shouldUnescape:I,...K}){var Fe,Ue,me,Ve;const L=C||U7();if(!L)return W4("You will need to pass in an i18next instance by using i18nextReactModule"),n;const Y=B||L.t.bind(L)||(_e=>_e),ee={...Mz(),...(Fe=L.options)==null?void 0:Fe.react};let V=m||Y.ns||((Ue=L.options)==null?void 0:Ue.defaultNS);V=Mh(V)?[V]:V||["translation"];const W=Ez(n,ee),ne=a||W||ee.transEmptyNodeValue||r,{hashTransKey:ce}=ee,ge=r||(ce?ce(W||ne):W||ne);(Ve=(me=L.options)==null?void 0:me.interpolation)!=null&&Ve.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...L.options.interpolation.defaultVariables}:{...L.options.interpolation.defaultVariables});const fe=s||e!==void 0||!n?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},H={...o,context:i||o.context,count:e,...s,...fe,defaultValue:ne,ns:V},X=ge?Y(ge,H):ne;f&&Object.keys(f).forEach(_e=>{const Ot=f[_e];if(typeof Ot.type=="function"||!Ot.props||!Ot.props.children||X.indexOf(`${_e}/>`)<0&&X.indexOf(`${_e} />`)<0)return;function St(){return Wn.createElement(Wn.Fragment,null,Ot)}f[_e]=Wn.createElement(St)});const Me=YX(f||n,X,L,ee,H,I),be=t??ee.defaultTransParent;return be?Wn.createElement(be,K,Me):Me}const VX={type:"3rdParty",init(n){WX(n.options.react),GX(n)}},Oz=Wn.createContext();class HX{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{var r;(r=this.usedNamespaces)[t]??(r[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function S0({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o={},values:s,defaults:a,components:f,ns:m,i18n:C,t:B,shouldUnescape:I,...K}){var W;const{i18n:L,defaultNS:Y}=Wn.useContext(Oz)||{},ee=C||L||U7(),V=B||(ee==null?void 0:ee.t.bind(ee));return qX({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:o,values:s,defaults:a,components:f,ns:m||(V==null?void 0:V.ns)||Y||((W=ee==null?void 0:ee.options)==null?void 0:W.defaultNS),i18n:ee,t:B,shouldUnescape:I,...K})}const ZX=(n,e)=>{const t=Wn.useRef();return Wn.useEffect(()=>{t.current=n},[n,e]),t.current},Bz=(n,e,t,r)=>n.getFixedT(e,t,r),XX=(n,e,t,r)=>Wn.useCallback(Bz(n,e,t,r),[n,e,t,r]),JX=(n,e={})=>{var ce,ge,fe,H;const{i18n:t}=e,{i18n:r,defaultNS:i}=Wn.useContext(Oz)||{},o=t||r||U7();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new HX),!o){W4("You will need to pass in an i18next instance by using initReactI18next");const X=(be,Fe)=>Mh(Fe)?Fe:Ly(Fe)&&Mh(Fe.defaultValue)?Fe.defaultValue:Array.isArray(be)?be[be.length-1]:be,Me=[X,{},!1];return Me.t=X,Me.i18n={},Me.ready=!1,Me}(ce=o.options.react)!=null&&ce.wait&&W4("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Mz(),...o.options.react,...e},{useSuspense:a,keyPrefix:f}=s;let m=i||((ge=o.options)==null?void 0:ge.defaultNS);m=Mh(m)?[m]:m||["translation"],(H=(fe=o.reportNamespaces).addUsedNamespaces)==null||H.call(fe,m);const C=(o.isInitialized||o.initializedStoreOnce)&&m.every(X=>FX(X,o,s)),B=XX(o,e.lng||null,s.nsMode==="fallback"?m:m[0],f),I=()=>B,K=()=>Bz(o,e.lng||null,s.nsMode==="fallback"?m:m[0],f),[L,Y]=Wn.useState(I);let ee=m.join();e.lng&&(ee=`${e.lng}${ee}`);const V=ZX(ee),W=Wn.useRef(!0);Wn.useEffect(()=>{const{bindI18n:X,bindI18nStore:Me}=s;W.current=!0,!C&&!a&&(e.lng?hP(o,e.lng,m,()=>{W.current&&Y(K)}):cP(o,m,()=>{W.current&&Y(K)})),C&&V&&V!==ee&&W.current&&Y(K);const be=()=>{W.current&&Y(K)};return X&&(o==null||o.on(X,be)),Me&&(o==null||o.store.on(Me,be)),()=>{W.current=!1,o&&(X==null||X.split(" ").forEach(Fe=>o.off(Fe,be))),Me&&o&&Me.split(" ").forEach(Fe=>o.store.off(Fe,be))}},[o,ee]),Wn.useEffect(()=>{W.current&&C&&Y(I)},[o,f,C]);const ne=[L,o,C];if(ne.t=L,ne.i18n=o,ne.ready=C,C||!C&&!a)return ne;throw new Promise(X=>{e.lng?hP(o,e.lng,m,()=>X()):cP(o,m,()=>X())})},zo=(n,e={})=>function(r){function i({forwardedRef:s,...a}){const[f,m,C]=JX(n,{...a,keyPrefix:e.keyPrefix}),B={...a,t:f,i18n:m,tReady:C};return e.withRef&&s?B.ref=s:!e.withRef&&s&&(B.forwardedRef=s),Wn.createElement(r,B)}i.displayName=`withI18nextTranslation(${RX(r)})`,i.WrappedComponent=r;const o=(s,a)=>Wn.createElement(i,Object.assign({},s,{forwardedRef:a}));return e.withRef?Wn.forwardRef(o):i};function ls(){var n="/home/runner/work/maputnik/maputnik/src/i18n.ts",e="88171a921c612dae0e59fda23a505c3fa25e6d2c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/i18n.ts",statementMap:{0:{start:{line:5,column:34},end:{line:12,column:1}},1:{start:{line:13,column:0},end:{line:39,column:3}},2:{start:{line:15,column:4},end:{line:17,column:5}},3:{start:{line:16,column:6},end:{line:16,column:16}},4:{start:{line:18,column:4},end:{line:18,column:514}},5:{start:{line:18,column:119},end:{line:18,column:158}},6:{start:{line:18,column:198},end:{line:18,column:237}},7:{start:{line:18,column:277},end:{line:18,column:316}},8:{start:{line:18,column:356},end:{line:18,column:395}},9:{start:{line:18,column:435},end:{line:18,column:474}},10:{start:{line:34,column:4},end:{line:36,column:5}},11:{start:{line:35,column:6},end:{line:35,column:13}},12:{start:{line:37,column:4},end:{line:37,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:21},end:{line:14,column:22}},loc:{start:{line:14,column:35},end:{line:19,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:18,column:113},end:{line:18,column:114}},loc:{start:{line:18,column:119},end:{line:18,column:158}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:18,column:192},end:{line:18,column:193}},loc:{start:{line:18,column:198},end:{line:18,column:237}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:18,column:271},end:{line:18,column:272}},loc:{start:{line:18,column:277},end:{line:18,column:316}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:18,column:350},end:{line:18,column:351}},loc:{start:{line:18,column:356},end:{line:18,column:395}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:18,column:429},end:{line:18,column:430}},loc:{start:{line:18,column:435},end:{line:18,column:474}},line:18},6:{name:"(anonymous_6)",decl:{start:{line:33,column:21},end:{line:33,column:22}},loc:{start:{line:33,column:41},end:{line:38,column:3}},line:33}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:17,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/i18n.ts"],names:[],mappings:"kFAAA,MAAA,CAAO,IAAU,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AACjB,MAAA,CAAO,QAAc,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AACrB,MAAA,CAAO,kBAAwB,CAAA,IAAA,CAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA,CAAA,OAAA,CAAA,CAAA;AAC/B,MAAA,CAAA,CAAA,CAAS,gBAAwB,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AAE1B,MAAA,CAAA,KAAA,CAAM,kBAAqB,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CAChC,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CACN,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACR,CAAA,CAAA;AAEA,IACG,CAAA,GAAA,CAAI,QAAQ,CACZ,CAAA,GAAA,CAAA;AAAA,CACC,CAAA,kBAAA,CAAmB,CAAC,IAAA,CAAA,CAAc,EAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAC/C,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,SAAS,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;AAAA,CACV,CAAA,CAAA,CAAA,CAAA;AACA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,sfAA8B,CAAA;AAAA,CAAA,CACvC,CAAC,CAAA;AACH,CACC,CAAA,GAAA,CAAI,gBAAgB,CAAA,CACpB,IAAK,CAAA,CAAA;AAAA,CACJ,CAAA,aAAA,CAAA,CAAe,MAAO,CAAA,IAAA,CAAK,kBAAkB,CAAA,CAAA;AAAA,CAAA,CAC7C,YAAc,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,OAAA;AAAA,CAAA,CACd,WAAa,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CACb,aAAe,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CACb,WAAa,CAAA,CAAA,KAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AAAA,CACf,CAAA,CAAA,CAAA;AAAA,CAAA,CACA,WAAa,CAAA,CAAA,IAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,IAAA;AAAA,CAAA,CACb,WAAa,CAAA,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA,GAAA,CAAA,iBAAA;AAAA,CAAA,CACb,iBAAmB,CAAA,CAAA,CAAC,IAAM,CAAA,CAAA,GAAA,CAAA,CAAK,GAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACrC,CAAI,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAK,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAM,EAAA,CAAA,CAAA,CAAA,CAAA;AAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AAAA,CAAQ,CAAA,CAAA,CAAA,CAAA;AAChC,CAAQ,CAAA,CAAA,CAAA,OAAA,CAAA,IAAA,CAAK,4BAA4B,GAAG,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAS,KAAK,IAAK,CAAA,CAAA,CAAA,CAAA,CAAI,CAAC,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,CACzE,CAAA,CAAA;AACF,CAAC,CAAA,CAAA;AAEH,MAAe,CAAA,OAAA,CAAA,IAAA,CAAA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"88171a921c612dae0e59fda23a505c3fa25e6d2c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ls=function(){return s},s}ls();const Iz=(ls().s[0]++,{de:"Deutsch",en:"English",fr:"Franais",he:"",ja:"",zh:""});ls().s[1]++;AA.use(bz).use(BX((n,e)=>(ls().f[0]++,ls().s[2]++,n==="en"?(ls().b[0][0]++,ls().s[3]++,{}):(ls().b[0][1]++,ls().s[4]++,$Z(Object.assign({"./locales/de/translation.json":()=>(ls().f[1]++,ls().s[5]++,Y_(()=>import("./translation-Dp8FEacx.js"),[])),"./locales/fr/translation.json":()=>(ls().f[2]++,ls().s[6]++,Y_(()=>import("./translation-P0MfB2or.js"),[])),"./locales/he/translation.json":()=>(ls().f[3]++,ls().s[7]++,Y_(()=>import("./translation-BraLgOwm.js"),[])),"./locales/ja/translation.json":()=>(ls().f[4]++,ls().s[8]++,Y_(()=>import("./translation-CTdg2ZAU.js"),[])),"./locales/zh/translation.json":()=>(ls().f[5]++,ls().s[9]++,Y_(()=>import("./translation-7jR12uNu.js"),[]))}),`./locales/${n}/${e}.json`,4))))).use(VX).init({supportedLngs:Object.keys(Iz),keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},saveMissing:!0,fallbackLng:!1,missingKeyHandler:(n,e,t)=>{if(ls().f[6]++,ls().s[10]++,n[0]==="en"){ls().b[1][0]++,ls().s[11]++;return}else ls().b[1][1]++;ls().s[12]++,console.warn(`Missing translation for "${t}" in "${n.join(", ")}"`)}});var RO={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(s){if(s===void 0){console.error("Autobind error: No context provided.");return}var a=Object.getPrototypeOf(s);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(a),r.forEach(function(f){var m=Object.getOwnPropertyDescriptor(a,f);if(m===void 0){console.warn('Autobind: "'+f+'" method not found in class.');return}t.indexOf(f)!==-1||typeof m.value!="function"||Object.defineProperty(a,f,o(a,f,m))})}function o(s,a,f){var m=f.value;return{configurable:!0,get:function(){if(this===s||this.hasOwnProperty(a))return m;var B=m.bind(this);return Object.defineProperty(this,a,{value:B,configurable:!0,writable:!0}),B}}}n.exports=e.default})(RO,RO.exports);var eJ=RO.exports,tJ=eJ;const nJ=wa(tJ);var G4={exports:{}};G4.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",f="[object Date]",m="[object Error]",C="[object Function]",B="[object GeneratorFunction]",I="[object Map]",K="[object Number]",L="[object Object]",Y="[object Promise]",ee="[object RegExp]",V="[object Set]",W="[object String]",ne="[object Symbol]",ce="[object WeakMap]",ge="[object ArrayBuffer]",fe="[object DataView]",H="[object Float32Array]",X="[object Float64Array]",Me="[object Int8Array]",be="[object Int16Array]",Fe="[object Int32Array]",Ue="[object Uint8Array]",me="[object Uint8ClampedArray]",Ve="[object Uint16Array]",_e="[object Uint32Array]",Ot=/[\\^$.*+?()[\]{}|]/g,St=/\w*$/,_t=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,$e={};$e[o]=$e[s]=$e[ge]=$e[fe]=$e[a]=$e[f]=$e[H]=$e[X]=$e[Me]=$e[be]=$e[Fe]=$e[I]=$e[K]=$e[L]=$e[ee]=$e[V]=$e[W]=$e[ne]=$e[Ue]=$e[me]=$e[Ve]=$e[_e]=!0,$e[m]=$e[C]=$e[ce]=!1;var et=typeof window=="object"&&window&&window.Object===Object&&window,nt=typeof self=="object"&&self&&self.Object===Object&&self,en=et||nt||Function("return this")(),nn=e&&!e.nodeType&&e,Et=nn&&!0&&n&&!n.nodeType&&n,Vt=Et&&Et.exports===nn;function Jt(j,le){return j.set(le[0],le[1]),j}function Le(j,le){return j.add(le),j}function ye(j,le){for(var We=-1,xt=j?j.length:0;++We<xt&&le(j[We],We,j)!==!1;);return j}function Te(j,le){for(var We=-1,xt=le.length,Hn=j.length;++We<xt;)j[Hn+We]=le[We];return j}function Qe(j,le,We,xt){for(var Hn=-1,bn=j?j.length:0;++Hn<bn;)We=le(We,j[Hn],Hn,j);return We}function st(j,le){for(var We=-1,xt=Array(j);++We<j;)xt[We]=le(We);return xt}function lt(j,le){return j==null?void 0:j[le]}function Kt(j){var le=!1;if(j!=null&&typeof j.toString!="function")try{le=!!(j+"")}catch{}return le}function Ht(j){var le=-1,We=Array(j.size);return j.forEach(function(xt,Hn){We[++le]=[Hn,xt]}),We}function Wt(j,le){return function(We){return j(le(We))}}function Rn(j){var le=-1,We=Array(j.size);return j.forEach(function(xt){We[++le]=xt}),We}var nr=Array.prototype,_n=Function.prototype,tr=Object.prototype,ur=en["__core-js_shared__"],_r=function(){var j=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),Sr=_n.toString,fr=tr.hasOwnProperty,pr=tr.toString,fi=RegExp("^"+Sr.call(fr).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Vt?en.Buffer:void 0,Q=en.Symbol,oe=en.Uint8Array,Re=Wt(Object.getPrototypeOf,Object),ut=Object.create,Tt=tr.propertyIsEnumerable,jt=nr.splice,ar=Object.getOwnPropertySymbols,ht=Pe?Pe.isBuffer:void 0,Ee=Wt(Object.keys,Object),ve=No(en,"DataView"),p=No(en,"Map"),Ke=No(en,"Promise"),ze=No(en,"Set"),it=No(en,"WeakMap"),dt=No(Object,"create"),ot=Bo(ve),Ft=Bo(p),rt=Bo(Ke),mt=Bo(ze),Bt=Bo(it),cn=Q?Q.prototype:void 0,mn=cn?cn.valueOf:void 0;function fn(j){var le=-1,We=j?j.length:0;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Cr(){this.__data__=dt?dt(null):{}}function rr(j){return this.has(j)&&delete this.__data__[j]}function Mr(j){var le=this.__data__;if(dt){var We=le[j];return We===r?void 0:We}return fr.call(le,j)?le[j]:void 0}function oi(j){var le=this.__data__;return dt?le[j]!==void 0:fr.call(le,j)}function $r(j,le){var We=this.__data__;return We[j]=dt&&le===void 0?r:le,this}fn.prototype.clear=Cr,fn.prototype.delete=rr,fn.prototype.get=Mr,fn.prototype.has=oi,fn.prototype.set=$r;function Un(j){var le=-1,We=j?j.length:0;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function On(){this.__data__=[]}function Er(j){var le=this.__data__,We=jo(le,j);if(We<0)return!1;var xt=le.length-1;return We==xt?le.pop():jt.call(le,We,1),!0}function ti(j){var le=this.__data__,We=jo(le,j);return We<0?void 0:le[We][1]}function ji(j){return jo(this.__data__,j)>-1}function ei(j,le){var We=this.__data__,xt=jo(We,j);return xt<0?We.push([j,le]):We[xt][1]=le,this}Un.prototype.clear=On,Un.prototype.delete=Er,Un.prototype.get=ti,Un.prototype.has=ji,Un.prototype.set=ei;function Wr(j){var le=-1,We=j?j.length:0;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Ni(){this.__data__={hash:new fn,map:new(p||Un),string:new fn}}function Ko(j){return to(this,j).delete(j)}function aa(j){return to(this,j).get(j)}function yo(j){return to(this,j).has(j)}function qa(j,le){return to(this,j).set(j,le),this}Wr.prototype.clear=Ni,Wr.prototype.delete=Ko,Wr.prototype.get=aa,Wr.prototype.has=yo,Wr.prototype.set=qa;function Wi(j){this.__data__=new Un(j)}function Ho(){this.__data__=new Un}function Ma(j){return this.__data__.delete(j)}function Gi(j){return this.__data__.get(j)}function sa(j){return this.__data__.has(j)}function Va(j,le){var We=this.__data__;if(We instanceof Un){var xt=We.__data__;if(!p||xt.length<t-1)return xt.push([j,le]),this;We=this.__data__=new Wr(xt)}return We.set(j,le),this}Wi.prototype.clear=Ho,Wi.prototype.delete=Ma,Wi.prototype.get=Gi,Wi.prototype.has=sa,Wi.prototype.set=Va;function ci(j,le){var We=Oa(j)||Za(j)?st(j.length,String):[],xt=We.length,Hn=!!xt;for(var bn in j)fr.call(j,bn)&&!(Hn&&(bn=="length"||Xs(bn,xt)))&&We.push(bn);return We}function er(j,le,We){var xt=j[le];(!(fr.call(j,le)&&yi(xt,We))||We===void 0&&!(le in j))&&(j[le]=We)}function jo(j,le){for(var We=j.length;We--;)if(yi(j[We][0],le))return We;return-1}function co(j,le){return j&&Hi(le,fl(le),j)}function Qi(j,le,We,xt,Hn,bn,kr){var Ur;if(xt&&(Ur=bn?xt(j,Hn,bn,kr):xt(j)),Ur!==void 0)return Ur;if(!Zo(j))return j;var yr=Oa(j);if(yr){if(Ur=Ka(j),!le)return Ms(j,Ur)}else{var Tr=Rs(j),Di=Tr==C||Tr==B;if(ql(j))return En(j,le);if(Tr==L||Tr==o||Di&&!bn){if(Kt(j))return bn?j:{};if(Ur=Ea(Di?{}:j),!le)return Ha(j,co(Ur,j))}else{if(!$e[Tr])return bn?j:{};Ur=cA(j,Tr,Qi,le)}}kr||(kr=new Wi);var ro=kr.get(j);if(ro)return ro;if(kr.set(j,Ur),!yr)var vi=We?dl(j):fl(j);return ye(vi||j,function(Xr,ki){vi&&(ki=Xr,Xr=j[ki]),er(Ur,ki,Qi(Xr,le,We,xt,ki,j,kr))}),Ur}function Oe(j){return Zo(j)?ut(j):{}}function Je(j,le,We){var xt=le(j);return Oa(j)?xt:Te(xt,We(j))}function rn(j){return pr.call(j)}function pn(j){if(!Zo(j)||zu(j))return!1;var le=Vl(j)||Kt(j)?fi:_t;return le.test(Bo(j))}function Pt(j){if(!hA(j))return Ee(j);var le=[];for(var We in Object(j))fr.call(j,We)&&We!="constructor"&&le.push(We);return le}function En(j,le){if(le)return j.slice();var We=new j.constructor(j.length);return j.copy(We),We}function Hr(j){var le=new j.constructor(j.byteLength);return new oe(le).set(new oe(j)),le}function Yr(j,le){var We=le?Hr(j.buffer):j.buffer;return new j.constructor(We,j.byteOffset,j.byteLength)}function ni(j,le,We){var xt=le?We(Ht(j),!0):Ht(j);return Qe(xt,Jt,new j.constructor)}function Sa(j){var le=new j.constructor(j.source,St.exec(j));return le.lastIndex=j.lastIndex,le}function la(j,le,We){var xt=le?We(Rn(j),!0):Rn(j);return Qe(xt,Le,new j.constructor)}function mr(j){return mn?Object(mn.call(j)):{}}function Fs(j,le){var We=le?Hr(j.buffer):j.buffer;return new j.constructor(We,j.byteOffset,j.length)}function Ms(j,le){var We=-1,xt=j.length;for(le||(le=Array(xt));++We<xt;)le[We]=j[We];return le}function Hi(j,le,We,xt){We||(We={});for(var Hn=-1,bn=le.length;++Hn<bn;){var kr=le[Hn],Ur=void 0;er(We,kr,Ur===void 0?j[kr]:Ur)}return We}function Ha(j,le){return Hi(j,no(j),le)}function dl(j){return Je(j,fl,no)}function to(j,le){var We=j.__data__;return gu(le)?We[typeof le=="string"?"string":"hash"]:We.map}function No(j,le){var We=lt(j,le);return pn(We)?We:void 0}var no=ar?Wt(ar,Object):gr,Rs=rn;(ve&&Rs(new ve(new ArrayBuffer(1)))!=fe||p&&Rs(new p)!=I||Ke&&Rs(Ke.resolve())!=Y||ze&&Rs(new ze)!=V||it&&Rs(new it)!=ce)&&(Rs=function(j){var le=pr.call(j),We=le==L?j.constructor:void 0,xt=We?Bo(We):void 0;if(xt)switch(xt){case ot:return fe;case Ft:return I;case rt:return Y;case mt:return V;case Bt:return ce}return le});function Ka(j){var le=j.length,We=j.constructor(le);return le&&typeof j[0]=="string"&&fr.call(j,"index")&&(We.index=j.index,We.input=j.input),We}function Ea(j){return typeof j.constructor=="function"&&!hA(j)?Oe(Re(j)):{}}function cA(j,le,We,xt){var Hn=j.constructor;switch(le){case ge:return Hr(j);case a:case f:return new Hn(+j);case fe:return Yr(j,xt);case H:case X:case Me:case be:case Fe:case Ue:case me:case Ve:case _e:return Fs(j,xt);case I:return ni(j,xt,We);case K:case W:return new Hn(j);case ee:return Sa(j);case V:return la(j,xt,We);case ne:return mr(j)}}function Xs(j,le){return le=le??i,!!le&&(typeof j=="number"||ft.test(j))&&j>-1&&j%1==0&&j<le}function gu(j){var le=typeof j;return le=="string"||le=="number"||le=="symbol"||le=="boolean"?j!=="__proto__":j===null}function zu(j){return!!_r&&_r in j}function hA(j){var le=j&&j.constructor,We=typeof le=="function"&&le.prototype||tr;return j===We}function Bo(j){if(j!=null){try{return Sr.call(j)}catch{}try{return j+""}catch{}}return""}function Io(j){return Qi(j,!0,!0)}function yi(j,le){return j===le||j!==j&&le!==le}function Za(j){return yu(j)&&fr.call(j,"callee")&&(!Tt.call(j,"callee")||pr.call(j)==o)}var Oa=Array.isArray;function Xa(j){return j!=null&&Js(j.length)&&!Vl(j)}function yu(j){return Us(j)&&Xa(j)}var ql=ht||li;function Vl(j){var le=Zo(j)?pr.call(j):"";return le==C||le==B}function Js(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=i}function Zo(j){var le=typeof j;return!!j&&(le=="object"||le=="function")}function Us(j){return!!j&&typeof j=="object"}function fl(j){return Xa(j)?ci(j):Pt(j)}function gr(){return[]}function li(){return!1}n.exports=Io})(G4,G4.exports);var rJ=G4.exports;const dP=wa(rJ);var fP=NaN,iJ="[object Symbol]",oJ=/^\s+|\s+$/g,aJ=/^[-+]0x[0-9a-f]+$/i,sJ=/^0b[01]+$/i,lJ=/^0o[0-7]+$/i,uJ=parseInt,AJ=Object.prototype,cJ=AJ.toString;function hJ(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}function pP(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function dJ(n){return!!n&&typeof n=="object"}function fJ(n){return typeof n=="symbol"||dJ(n)&&cJ.call(n)==iJ}function dE(n){if(typeof n=="number")return n;if(fJ(n))return fP;if(pP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=pP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(oJ,"");var t=sJ.test(n);return t||lJ.test(n)?uJ(n.slice(2),t?2:8):aJ.test(n)?fP:+n}function pJ(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=dE(t),t=t===t?t:0),e!==void 0&&(e=dE(e),e=e===e?e:0),hJ(dE(n),e,t)}var mJ=pJ;const mP=wa(mJ);var kz={},P5={};P5.byteLength=vJ;P5.toByteArray=CJ;P5.fromByteArray=wJ;var hp=[],ld=[],gJ=typeof Uint8Array<"u"?Uint8Array:Array,fE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var J1=0,yJ=fE.length;J1<yJ;++J1)hp[J1]=fE[J1],ld[fE.charCodeAt(J1)]=J1;ld[45]=62;ld[95]=63;function Tz(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function vJ(n){var e=Tz(n),t=e[0],r=e[1];return(t+r)*3/4-r}function _J(n,e,t){return(e+t)*3/4-t}function CJ(n){var e,t=Tz(n),r=t[0],i=t[1],o=new gJ(_J(n,r,i)),s=0,a=i>0?r-4:r,f;for(f=0;f<a;f+=4)e=ld[n.charCodeAt(f)]<<18|ld[n.charCodeAt(f+1)]<<12|ld[n.charCodeAt(f+2)]<<6|ld[n.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ld[n.charCodeAt(f)]<<2|ld[n.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=ld[n.charCodeAt(f)]<<10|ld[n.charCodeAt(f+1)]<<4|ld[n.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function bJ(n){return hp[n>>18&63]+hp[n>>12&63]+hp[n>>6&63]+hp[n&63]}function xJ(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(bJ(r));return i.join("")}function wJ(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(xJ(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(hp[e>>2]+hp[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(hp[e>>10]+hp[e>>4&63]+hp[e<<2&63]+"=")),i.join("")}var K5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */K5.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,f=(1<<a)-1,m=f>>1,C=-7,B=t?i-1:0,I=t?-1:1,K=n[e+B];for(B+=I,o=K&(1<<-C)-1,K>>=-C,C+=a;C>0;o=o*256+n[e+B],B+=I,C-=8);for(s=o&(1<<-C)-1,o>>=-C,C+=r;C>0;s=s*256+n[e+B],B+=I,C-=8);if(o===0)o=1-m;else{if(o===f)return s?NaN:(K?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-m}return(K?-1:1)*s*Math.pow(2,o-r)};K5.write=function(n,e,t,r,i,o){var s,a,f,m=o*8-i-1,C=(1<<m)-1,B=C>>1,I=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=r?0:o-1,L=r?1:-1,Y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=C):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+B>=1?e+=I/f:e+=I*Math.pow(2,1-B),e*f>=2&&(s++,f/=2),s+B>=C?(a=0,s=C):s+B>=1?(a=(e*f-1)*Math.pow(2,i),s=s+B):(a=e*Math.pow(2,B-1)*Math.pow(2,i),s=0));i>=8;n[t+K]=a&255,K+=L,a/=256,i-=8);for(s=s<<i|a,m+=i;m>0;n[t+K]=s&255,K+=L,s/=256,m-=8);n[t+K-L]|=Y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=P5,t=K5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=W,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Pe=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(Pe,Q),Pe.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(Pe){if(Pe>i)throw new RangeError('The value "'+Pe+'" is invalid for option "size"');const Q=new Uint8Array(Pe);return Object.setPrototypeOf(Q,a.prototype),Q}function a(Pe,Q,oe){if(typeof Pe=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(Pe)}return f(Pe,Q,oe)}a.poolSize=8192;function f(Pe,Q,oe){if(typeof Pe=="string")return I(Pe,Q);if(ArrayBuffer.isView(Pe))return L(Pe);if(Pe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Pe);if(_r(Pe,ArrayBuffer)||Pe&&_r(Pe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_r(Pe,SharedArrayBuffer)||Pe&&_r(Pe.buffer,SharedArrayBuffer)))return Y(Pe,Q,oe);if(typeof Pe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Re=Pe.valueOf&&Pe.valueOf();if(Re!=null&&Re!==Pe)return a.from(Re,Q,oe);const ut=ee(Pe);if(ut)return ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Pe[Symbol.toPrimitive]=="function")return a.from(Pe[Symbol.toPrimitive]("string"),Q,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Pe)}a.from=function(Pe,Q,oe){return f(Pe,Q,oe)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function m(Pe){if(typeof Pe!="number")throw new TypeError('"size" argument must be of type number');if(Pe<0)throw new RangeError('The value "'+Pe+'" is invalid for option "size"')}function C(Pe,Q,oe){return m(Pe),Pe<=0?s(Pe):Q!==void 0?typeof oe=="string"?s(Pe).fill(Q,oe):s(Pe).fill(Q):s(Pe)}a.alloc=function(Pe,Q,oe){return C(Pe,Q,oe)};function B(Pe){return m(Pe),s(Pe<0?0:V(Pe)|0)}a.allocUnsafe=function(Pe){return B(Pe)},a.allocUnsafeSlow=function(Pe){return B(Pe)};function I(Pe,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!a.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const oe=ne(Pe,Q)|0;let Re=s(oe);const ut=Re.write(Pe,Q);return ut!==oe&&(Re=Re.slice(0,ut)),Re}function K(Pe){const Q=Pe.length<0?0:V(Pe.length)|0,oe=s(Q);for(let Re=0;Re<Q;Re+=1)oe[Re]=Pe[Re]&255;return oe}function L(Pe){if(_r(Pe,Uint8Array)){const Q=new Uint8Array(Pe);return Y(Q.buffer,Q.byteOffset,Q.byteLength)}return K(Pe)}function Y(Pe,Q,oe){if(Q<0||Pe.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(Pe.byteLength<Q+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let Re;return Q===void 0&&oe===void 0?Re=new Uint8Array(Pe):oe===void 0?Re=new Uint8Array(Pe,Q):Re=new Uint8Array(Pe,Q,oe),Object.setPrototypeOf(Re,a.prototype),Re}function ee(Pe){if(a.isBuffer(Pe)){const Q=V(Pe.length)|0,oe=s(Q);return oe.length===0||Pe.copy(oe,0,0,Q),oe}if(Pe.length!==void 0)return typeof Pe.length!="number"||Sr(Pe.length)?s(0):K(Pe);if(Pe.type==="Buffer"&&Array.isArray(Pe.data))return K(Pe.data)}function V(Pe){if(Pe>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Pe|0}function W(Pe){return+Pe!=Pe&&(Pe=0),a.alloc(+Pe)}a.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==a.prototype},a.compare=function(Q,oe){if(_r(Q,Uint8Array)&&(Q=a.from(Q,Q.offset,Q.byteLength)),_r(oe,Uint8Array)&&(oe=a.from(oe,oe.offset,oe.byteLength)),!a.isBuffer(Q)||!a.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===oe)return 0;let Re=Q.length,ut=oe.length;for(let Tt=0,jt=Math.min(Re,ut);Tt<jt;++Tt)if(Q[Tt]!==oe[Tt]){Re=Q[Tt],ut=oe[Tt];break}return Re<ut?-1:ut<Re?1:0},a.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(Q,oe){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return a.alloc(0);let Re;if(oe===void 0)for(oe=0,Re=0;Re<Q.length;++Re)oe+=Q[Re].length;const ut=a.allocUnsafe(oe);let Tt=0;for(Re=0;Re<Q.length;++Re){let jt=Q[Re];if(_r(jt,Uint8Array))Tt+jt.length>ut.length?(a.isBuffer(jt)||(jt=a.from(jt)),jt.copy(ut,Tt)):Uint8Array.prototype.set.call(ut,jt,Tt);else if(a.isBuffer(jt))jt.copy(ut,Tt);else throw new TypeError('"list" argument must be an Array of Buffers');Tt+=jt.length}return ut};function ne(Pe,Q){if(a.isBuffer(Pe))return Pe.length;if(ArrayBuffer.isView(Pe)||_r(Pe,ArrayBuffer))return Pe.byteLength;if(typeof Pe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Pe);const oe=Pe.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&oe===0)return 0;let ut=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return Rn(Pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe*2;case"hex":return oe>>>1;case"base64":return tr(Pe).length;default:if(ut)return Re?-1:Rn(Pe).length;Q=(""+Q).toLowerCase(),ut=!0}}a.byteLength=ne;function ce(Pe,Q,oe){let Re=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0,Q>>>=0,oe<=Q))return"";for(Pe||(Pe="utf8");;)switch(Pe){case"hex":return ft(this,Q,oe);case"utf8":case"utf-8":return Ve(this,Q,oe);case"ascii":return St(this,Q,oe);case"latin1":case"binary":return _t(this,Q,oe);case"base64":return me(this,Q,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,Q,oe);default:if(Re)throw new TypeError("Unknown encoding: "+Pe);Pe=(Pe+"").toLowerCase(),Re=!0}}a.prototype._isBuffer=!0;function ge(Pe,Q,oe){const Re=Pe[Q];Pe[Q]=Pe[oe],Pe[oe]=Re}a.prototype.swap16=function(){const Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<Q;oe+=2)ge(this,oe,oe+1);return this},a.prototype.swap32=function(){const Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<Q;oe+=4)ge(this,oe,oe+3),ge(this,oe+1,oe+2);return this},a.prototype.swap64=function(){const Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<Q;oe+=8)ge(this,oe,oe+7),ge(this,oe+1,oe+6),ge(this,oe+2,oe+5),ge(this,oe+3,oe+4);return this},a.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?Ve(this,0,Q):ce.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(Q){if(!a.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:a.compare(this,Q)===0},a.prototype.inspect=function(){let Q="";const oe=n.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(Q+=" ... "),"<Buffer "+Q+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(Q,oe,Re,ut,Tt){if(_r(Q,Uint8Array)&&(Q=a.from(Q,Q.offset,Q.byteLength)),!a.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(oe===void 0&&(oe=0),Re===void 0&&(Re=Q?Q.length:0),ut===void 0&&(ut=0),Tt===void 0&&(Tt=this.length),oe<0||Re>Q.length||ut<0||Tt>this.length)throw new RangeError("out of range index");if(ut>=Tt&&oe>=Re)return 0;if(ut>=Tt)return-1;if(oe>=Re)return 1;if(oe>>>=0,Re>>>=0,ut>>>=0,Tt>>>=0,this===Q)return 0;let jt=Tt-ut,ar=Re-oe;const ht=Math.min(jt,ar),Ee=this.slice(ut,Tt),ve=Q.slice(oe,Re);for(let p=0;p<ht;++p)if(Ee[p]!==ve[p]){jt=Ee[p],ar=ve[p];break}return jt<ar?-1:ar<jt?1:0};function fe(Pe,Q,oe,Re,ut){if(Pe.length===0)return-1;if(typeof oe=="string"?(Re=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,Sr(oe)&&(oe=ut?0:Pe.length-1),oe<0&&(oe=Pe.length+oe),oe>=Pe.length){if(ut)return-1;oe=Pe.length-1}else if(oe<0)if(ut)oe=0;else return-1;if(typeof Q=="string"&&(Q=a.from(Q,Re)),a.isBuffer(Q))return Q.length===0?-1:H(Pe,Q,oe,Re,ut);if(typeof Q=="number")return Q=Q&255,typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(Pe,Q,oe):Uint8Array.prototype.lastIndexOf.call(Pe,Q,oe):H(Pe,[Q],oe,Re,ut);throw new TypeError("val must be string, number or Buffer")}function H(Pe,Q,oe,Re,ut){let Tt=1,jt=Pe.length,ar=Q.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(Pe.length<2||Q.length<2)return-1;Tt=2,jt/=2,ar/=2,oe/=2}function ht(ve,p){return Tt===1?ve[p]:ve.readUInt16BE(p*Tt)}let Ee;if(ut){let ve=-1;for(Ee=oe;Ee<jt;Ee++)if(ht(Pe,Ee)===ht(Q,ve===-1?0:Ee-ve)){if(ve===-1&&(ve=Ee),Ee-ve+1===ar)return ve*Tt}else ve!==-1&&(Ee-=Ee-ve),ve=-1}else for(oe+ar>jt&&(oe=jt-ar),Ee=oe;Ee>=0;Ee--){let ve=!0;for(let p=0;p<ar;p++)if(ht(Pe,Ee+p)!==ht(Q,p)){ve=!1;break}if(ve)return Ee}return-1}a.prototype.includes=function(Q,oe,Re){return this.indexOf(Q,oe,Re)!==-1},a.prototype.indexOf=function(Q,oe,Re){return fe(this,Q,oe,Re,!0)},a.prototype.lastIndexOf=function(Q,oe,Re){return fe(this,Q,oe,Re,!1)};function X(Pe,Q,oe,Re){oe=Number(oe)||0;const ut=Pe.length-oe;Re?(Re=Number(Re),Re>ut&&(Re=ut)):Re=ut;const Tt=Q.length;Re>Tt/2&&(Re=Tt/2);let jt;for(jt=0;jt<Re;++jt){const ar=parseInt(Q.substr(jt*2,2),16);if(Sr(ar))return jt;Pe[oe+jt]=ar}return jt}function Me(Pe,Q,oe,Re){return ur(Rn(Q,Pe.length-oe),Pe,oe,Re)}function be(Pe,Q,oe,Re){return ur(nr(Q),Pe,oe,Re)}function Fe(Pe,Q,oe,Re){return ur(tr(Q),Pe,oe,Re)}function Ue(Pe,Q,oe,Re){return ur(_n(Q,Pe.length-oe),Pe,oe,Re)}a.prototype.write=function(Q,oe,Re,ut){if(oe===void 0)ut="utf8",Re=this.length,oe=0;else if(Re===void 0&&typeof oe=="string")ut=oe,Re=this.length,oe=0;else if(isFinite(oe))oe=oe>>>0,isFinite(Re)?(Re=Re>>>0,ut===void 0&&(ut="utf8")):(ut=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Tt=this.length-oe;if((Re===void 0||Re>Tt)&&(Re=Tt),Q.length>0&&(Re<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");ut||(ut="utf8");let jt=!1;for(;;)switch(ut){case"hex":return X(this,Q,oe,Re);case"utf8":case"utf-8":return Me(this,Q,oe,Re);case"ascii":case"latin1":case"binary":return be(this,Q,oe,Re);case"base64":return Fe(this,Q,oe,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,Q,oe,Re);default:if(jt)throw new TypeError("Unknown encoding: "+ut);ut=(""+ut).toLowerCase(),jt=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function me(Pe,Q,oe){return Q===0&&oe===Pe.length?e.fromByteArray(Pe):e.fromByteArray(Pe.slice(Q,oe))}function Ve(Pe,Q,oe){oe=Math.min(Pe.length,oe);const Re=[];let ut=Q;for(;ut<oe;){const Tt=Pe[ut];let jt=null,ar=Tt>239?4:Tt>223?3:Tt>191?2:1;if(ut+ar<=oe){let ht,Ee,ve,p;switch(ar){case 1:Tt<128&&(jt=Tt);break;case 2:ht=Pe[ut+1],(ht&192)===128&&(p=(Tt&31)<<6|ht&63,p>127&&(jt=p));break;case 3:ht=Pe[ut+1],Ee=Pe[ut+2],(ht&192)===128&&(Ee&192)===128&&(p=(Tt&15)<<12|(ht&63)<<6|Ee&63,p>2047&&(p<55296||p>57343)&&(jt=p));break;case 4:ht=Pe[ut+1],Ee=Pe[ut+2],ve=Pe[ut+3],(ht&192)===128&&(Ee&192)===128&&(ve&192)===128&&(p=(Tt&15)<<18|(ht&63)<<12|(Ee&63)<<6|ve&63,p>65535&&p<1114112&&(jt=p))}}jt===null?(jt=65533,ar=1):jt>65535&&(jt-=65536,Re.push(jt>>>10&1023|55296),jt=56320|jt&1023),Re.push(jt),ut+=ar}return Ot(Re)}const _e=4096;function Ot(Pe){const Q=Pe.length;if(Q<=_e)return String.fromCharCode.apply(String,Pe);let oe="",Re=0;for(;Re<Q;)oe+=String.fromCharCode.apply(String,Pe.slice(Re,Re+=_e));return oe}function St(Pe,Q,oe){let Re="";oe=Math.min(Pe.length,oe);for(let ut=Q;ut<oe;++ut)Re+=String.fromCharCode(Pe[ut]&127);return Re}function _t(Pe,Q,oe){let Re="";oe=Math.min(Pe.length,oe);for(let ut=Q;ut<oe;++ut)Re+=String.fromCharCode(Pe[ut]);return Re}function ft(Pe,Q,oe){const Re=Pe.length;(!Q||Q<0)&&(Q=0),(!oe||oe<0||oe>Re)&&(oe=Re);let ut="";for(let Tt=Q;Tt<oe;++Tt)ut+=fr[Pe[Tt]];return ut}function $e(Pe,Q,oe){const Re=Pe.slice(Q,oe);let ut="";for(let Tt=0;Tt<Re.length-1;Tt+=2)ut+=String.fromCharCode(Re[Tt]+Re[Tt+1]*256);return ut}a.prototype.slice=function(Q,oe){const Re=this.length;Q=~~Q,oe=oe===void 0?Re:~~oe,Q<0?(Q+=Re,Q<0&&(Q=0)):Q>Re&&(Q=Re),oe<0?(oe+=Re,oe<0&&(oe=0)):oe>Re&&(oe=Re),oe<Q&&(oe=Q);const ut=this.subarray(Q,oe);return Object.setPrototypeOf(ut,a.prototype),ut};function et(Pe,Q,oe){if(Pe%1!==0||Pe<0)throw new RangeError("offset is not uint");if(Pe+Q>oe)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(Q,oe,Re){Q=Q>>>0,oe=oe>>>0,Re||et(Q,oe,this.length);let ut=this[Q],Tt=1,jt=0;for(;++jt<oe&&(Tt*=256);)ut+=this[Q+jt]*Tt;return ut},a.prototype.readUintBE=a.prototype.readUIntBE=function(Q,oe,Re){Q=Q>>>0,oe=oe>>>0,Re||et(Q,oe,this.length);let ut=this[Q+--oe],Tt=1;for(;oe>0&&(Tt*=256);)ut+=this[Q+--oe]*Tt;return ut},a.prototype.readUint8=a.prototype.readUInt8=function(Q,oe){return Q=Q>>>0,oe||et(Q,1,this.length),this[Q]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(Q,oe){return Q=Q>>>0,oe||et(Q,2,this.length),this[Q]|this[Q+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(Q,oe){return Q=Q>>>0,oe||et(Q,2,this.length),this[Q]<<8|this[Q+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},a.prototype.readBigUInt64LE=pr(function(Q){Q=Q>>>0,lt(Q,"offset");const oe=this[Q],Re=this[Q+7];(oe===void 0||Re===void 0)&&Kt(Q,this.length-8);const ut=oe+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,Tt=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+Re*2**24;return BigInt(ut)+(BigInt(Tt)<<BigInt(32))}),a.prototype.readBigUInt64BE=pr(function(Q){Q=Q>>>0,lt(Q,"offset");const oe=this[Q],Re=this[Q+7];(oe===void 0||Re===void 0)&&Kt(Q,this.length-8);const ut=oe*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],Tt=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+Re;return(BigInt(ut)<<BigInt(32))+BigInt(Tt)}),a.prototype.readIntLE=function(Q,oe,Re){Q=Q>>>0,oe=oe>>>0,Re||et(Q,oe,this.length);let ut=this[Q],Tt=1,jt=0;for(;++jt<oe&&(Tt*=256);)ut+=this[Q+jt]*Tt;return Tt*=128,ut>=Tt&&(ut-=Math.pow(2,8*oe)),ut},a.prototype.readIntBE=function(Q,oe,Re){Q=Q>>>0,oe=oe>>>0,Re||et(Q,oe,this.length);let ut=oe,Tt=1,jt=this[Q+--ut];for(;ut>0&&(Tt*=256);)jt+=this[Q+--ut]*Tt;return Tt*=128,jt>=Tt&&(jt-=Math.pow(2,8*oe)),jt},a.prototype.readInt8=function(Q,oe){return Q=Q>>>0,oe||et(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},a.prototype.readInt16LE=function(Q,oe){Q=Q>>>0,oe||et(Q,2,this.length);const Re=this[Q]|this[Q+1]<<8;return Re&32768?Re|4294901760:Re},a.prototype.readInt16BE=function(Q,oe){Q=Q>>>0,oe||et(Q,2,this.length);const Re=this[Q+1]|this[Q]<<8;return Re&32768?Re|4294901760:Re},a.prototype.readInt32LE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},a.prototype.readInt32BE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},a.prototype.readBigInt64LE=pr(function(Q){Q=Q>>>0,lt(Q,"offset");const oe=this[Q],Re=this[Q+7];(oe===void 0||Re===void 0)&&Kt(Q,this.length-8);const ut=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(Re<<24);return(BigInt(ut)<<BigInt(32))+BigInt(oe+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24)}),a.prototype.readBigInt64BE=pr(function(Q){Q=Q>>>0,lt(Q,"offset");const oe=this[Q],Re=this[Q+7];(oe===void 0||Re===void 0)&&Kt(Q,this.length-8);const ut=(oe<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(ut)<<BigInt(32))+BigInt(this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+Re)}),a.prototype.readFloatLE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),t.read(this,Q,!0,23,4)},a.prototype.readFloatBE=function(Q,oe){return Q=Q>>>0,oe||et(Q,4,this.length),t.read(this,Q,!1,23,4)},a.prototype.readDoubleLE=function(Q,oe){return Q=Q>>>0,oe||et(Q,8,this.length),t.read(this,Q,!0,52,8)},a.prototype.readDoubleBE=function(Q,oe){return Q=Q>>>0,oe||et(Q,8,this.length),t.read(this,Q,!1,52,8)};function nt(Pe,Q,oe,Re,ut,Tt){if(!a.isBuffer(Pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>ut||Q<Tt)throw new RangeError('"value" argument is out of bounds');if(oe+Re>Pe.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(Q,oe,Re,ut){if(Q=+Q,oe=oe>>>0,Re=Re>>>0,!ut){const ar=Math.pow(2,8*Re)-1;nt(this,Q,oe,Re,ar,0)}let Tt=1,jt=0;for(this[oe]=Q&255;++jt<Re&&(Tt*=256);)this[oe+jt]=Q/Tt&255;return oe+Re},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(Q,oe,Re,ut){if(Q=+Q,oe=oe>>>0,Re=Re>>>0,!ut){const ar=Math.pow(2,8*Re)-1;nt(this,Q,oe,Re,ar,0)}let Tt=Re-1,jt=1;for(this[oe+Tt]=Q&255;--Tt>=0&&(jt*=256);)this[oe+Tt]=Q/jt&255;return oe+Re},a.prototype.writeUint8=a.prototype.writeUInt8=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,1,255,0),this[oe]=Q&255,oe+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,2,65535,0),this[oe]=Q&255,this[oe+1]=Q>>>8,oe+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,2,65535,0),this[oe]=Q>>>8,this[oe+1]=Q&255,oe+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,4,4294967295,0),this[oe+3]=Q>>>24,this[oe+2]=Q>>>16,this[oe+1]=Q>>>8,this[oe]=Q&255,oe+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,4,4294967295,0),this[oe]=Q>>>24,this[oe+1]=Q>>>16,this[oe+2]=Q>>>8,this[oe+3]=Q&255,oe+4};function en(Pe,Q,oe,Re,ut){st(Q,Re,ut,Pe,oe,7);let Tt=Number(Q&BigInt(4294967295));Pe[oe++]=Tt,Tt=Tt>>8,Pe[oe++]=Tt,Tt=Tt>>8,Pe[oe++]=Tt,Tt=Tt>>8,Pe[oe++]=Tt;let jt=Number(Q>>BigInt(32)&BigInt(4294967295));return Pe[oe++]=jt,jt=jt>>8,Pe[oe++]=jt,jt=jt>>8,Pe[oe++]=jt,jt=jt>>8,Pe[oe++]=jt,oe}function nn(Pe,Q,oe,Re,ut){st(Q,Re,ut,Pe,oe,7);let Tt=Number(Q&BigInt(4294967295));Pe[oe+7]=Tt,Tt=Tt>>8,Pe[oe+6]=Tt,Tt=Tt>>8,Pe[oe+5]=Tt,Tt=Tt>>8,Pe[oe+4]=Tt;let jt=Number(Q>>BigInt(32)&BigInt(4294967295));return Pe[oe+3]=jt,jt=jt>>8,Pe[oe+2]=jt,jt=jt>>8,Pe[oe+1]=jt,jt=jt>>8,Pe[oe]=jt,oe+8}a.prototype.writeBigUInt64LE=pr(function(Q,oe=0){return en(this,Q,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=pr(function(Q,oe=0){return nn(this,Q,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(Q,oe,Re,ut){if(Q=+Q,oe=oe>>>0,!ut){const ht=Math.pow(2,8*Re-1);nt(this,Q,oe,Re,ht-1,-ht)}let Tt=0,jt=1,ar=0;for(this[oe]=Q&255;++Tt<Re&&(jt*=256);)Q<0&&ar===0&&this[oe+Tt-1]!==0&&(ar=1),this[oe+Tt]=(Q/jt>>0)-ar&255;return oe+Re},a.prototype.writeIntBE=function(Q,oe,Re,ut){if(Q=+Q,oe=oe>>>0,!ut){const ht=Math.pow(2,8*Re-1);nt(this,Q,oe,Re,ht-1,-ht)}let Tt=Re-1,jt=1,ar=0;for(this[oe+Tt]=Q&255;--Tt>=0&&(jt*=256);)Q<0&&ar===0&&this[oe+Tt+1]!==0&&(ar=1),this[oe+Tt]=(Q/jt>>0)-ar&255;return oe+Re},a.prototype.writeInt8=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,1,127,-128),Q<0&&(Q=255+Q+1),this[oe]=Q&255,oe+1},a.prototype.writeInt16LE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,2,32767,-32768),this[oe]=Q&255,this[oe+1]=Q>>>8,oe+2},a.prototype.writeInt16BE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,2,32767,-32768),this[oe]=Q>>>8,this[oe+1]=Q&255,oe+2},a.prototype.writeInt32LE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,4,2147483647,-2147483648),this[oe]=Q&255,this[oe+1]=Q>>>8,this[oe+2]=Q>>>16,this[oe+3]=Q>>>24,oe+4},a.prototype.writeInt32BE=function(Q,oe,Re){return Q=+Q,oe=oe>>>0,Re||nt(this,Q,oe,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[oe]=Q>>>24,this[oe+1]=Q>>>16,this[oe+2]=Q>>>8,this[oe+3]=Q&255,oe+4},a.prototype.writeBigInt64LE=pr(function(Q,oe=0){return en(this,Q,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=pr(function(Q,oe=0){return nn(this,Q,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Et(Pe,Q,oe,Re,ut,Tt){if(oe+Re>Pe.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Vt(Pe,Q,oe,Re,ut){return Q=+Q,oe=oe>>>0,ut||Et(Pe,Q,oe,4),t.write(Pe,Q,oe,Re,23,4),oe+4}a.prototype.writeFloatLE=function(Q,oe,Re){return Vt(this,Q,oe,!0,Re)},a.prototype.writeFloatBE=function(Q,oe,Re){return Vt(this,Q,oe,!1,Re)};function Jt(Pe,Q,oe,Re,ut){return Q=+Q,oe=oe>>>0,ut||Et(Pe,Q,oe,8),t.write(Pe,Q,oe,Re,52,8),oe+8}a.prototype.writeDoubleLE=function(Q,oe,Re){return Jt(this,Q,oe,!0,Re)},a.prototype.writeDoubleBE=function(Q,oe,Re){return Jt(this,Q,oe,!1,Re)},a.prototype.copy=function(Q,oe,Re,ut){if(!a.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!ut&&ut!==0&&(ut=this.length),oe>=Q.length&&(oe=Q.length),oe||(oe=0),ut>0&&ut<Re&&(ut=Re),ut===Re||Q.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(ut<0)throw new RangeError("sourceEnd out of bounds");ut>this.length&&(ut=this.length),Q.length-oe<ut-Re&&(ut=Q.length-oe+Re);const Tt=ut-Re;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,Re,ut):Uint8Array.prototype.set.call(Q,this.subarray(Re,ut),oe),Tt},a.prototype.fill=function(Q,oe,Re,ut){if(typeof Q=="string"){if(typeof oe=="string"?(ut=oe,oe=0,Re=this.length):typeof Re=="string"&&(ut=Re,Re=this.length),ut!==void 0&&typeof ut!="string")throw new TypeError("encoding must be a string");if(typeof ut=="string"&&!a.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);if(Q.length===1){const jt=Q.charCodeAt(0);(ut==="utf8"&&jt<128||ut==="latin1")&&(Q=jt)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(oe<0||this.length<oe||this.length<Re)throw new RangeError("Out of range index");if(Re<=oe)return this;oe=oe>>>0,Re=Re===void 0?this.length:Re>>>0,Q||(Q=0);let Tt;if(typeof Q=="number")for(Tt=oe;Tt<Re;++Tt)this[Tt]=Q;else{const jt=a.isBuffer(Q)?Q:a.from(Q,ut),ar=jt.length;if(ar===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(Tt=0;Tt<Re-oe;++Tt)this[Tt+oe]=jt[Tt%ar]}return this};const Le={};function ye(Pe,Q,oe){Le[Pe]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Pe}]`,this.stack,delete this.name}get code(){return Pe}set code(ut){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ut,writable:!0})}toString(){return`${this.name} [${Pe}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(Pe){return Pe?`${Pe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(Pe,Q){return`The "${Pe}" argument must be of type number. Received type ${typeof Q}`},TypeError),ye("ERR_OUT_OF_RANGE",function(Pe,Q,oe){let Re=`The value of "${Pe}" is out of range.`,ut=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?ut=Te(String(oe)):typeof oe=="bigint"&&(ut=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(ut=Te(ut)),ut+="n"),Re+=` It must be ${Q}. Received ${ut}`,Re},RangeError);function Te(Pe){let Q="",oe=Pe.length;const Re=Pe[0]==="-"?1:0;for(;oe>=Re+4;oe-=3)Q=`_${Pe.slice(oe-3,oe)}${Q}`;return`${Pe.slice(0,oe)}${Q}`}function Qe(Pe,Q,oe){lt(Q,"offset"),(Pe[Q]===void 0||Pe[Q+oe]===void 0)&&Kt(Q,Pe.length-(oe+1))}function st(Pe,Q,oe,Re,ut,Tt){if(Pe>oe||Pe<Q){const jt=typeof Q=="bigint"?"n":"";let ar;throw Q===0||Q===BigInt(0)?ar=`>= 0${jt} and < 2${jt} ** ${(Tt+1)*8}${jt}`:ar=`>= -(2${jt} ** ${(Tt+1)*8-1}${jt}) and < 2 ** ${(Tt+1)*8-1}${jt}`,new Le.ERR_OUT_OF_RANGE("value",ar,Pe)}Qe(Re,ut,Tt)}function lt(Pe,Q){if(typeof Pe!="number")throw new Le.ERR_INVALID_ARG_TYPE(Q,"number",Pe)}function Kt(Pe,Q,oe){throw Math.floor(Pe)!==Pe?(lt(Pe,oe),new Le.ERR_OUT_OF_RANGE("offset","an integer",Pe)):Q<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Q}`,Pe)}const Ht=/[^+/0-9A-Za-z-_]/g;function Wt(Pe){if(Pe=Pe.split("=")[0],Pe=Pe.trim().replace(Ht,""),Pe.length<2)return"";for(;Pe.length%4!==0;)Pe=Pe+"=";return Pe}function Rn(Pe,Q){Q=Q||1/0;let oe;const Re=Pe.length;let ut=null;const Tt=[];for(let jt=0;jt<Re;++jt){if(oe=Pe.charCodeAt(jt),oe>55295&&oe<57344){if(!ut){if(oe>56319){(Q-=3)>-1&&Tt.push(239,191,189);continue}else if(jt+1===Re){(Q-=3)>-1&&Tt.push(239,191,189);continue}ut=oe;continue}if(oe<56320){(Q-=3)>-1&&Tt.push(239,191,189),ut=oe;continue}oe=(ut-55296<<10|oe-56320)+65536}else ut&&(Q-=3)>-1&&Tt.push(239,191,189);if(ut=null,oe<128){if((Q-=1)<0)break;Tt.push(oe)}else if(oe<2048){if((Q-=2)<0)break;Tt.push(oe>>6|192,oe&63|128)}else if(oe<65536){if((Q-=3)<0)break;Tt.push(oe>>12|224,oe>>6&63|128,oe&63|128)}else if(oe<1114112){if((Q-=4)<0)break;Tt.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,oe&63|128)}else throw new Error("Invalid code point")}return Tt}function nr(Pe){const Q=[];for(let oe=0;oe<Pe.length;++oe)Q.push(Pe.charCodeAt(oe)&255);return Q}function _n(Pe,Q){let oe,Re,ut;const Tt=[];for(let jt=0;jt<Pe.length&&!((Q-=2)<0);++jt)oe=Pe.charCodeAt(jt),Re=oe>>8,ut=oe%256,Tt.push(ut),Tt.push(Re);return Tt}function tr(Pe){return e.toByteArray(Wt(Pe))}function ur(Pe,Q,oe,Re){let ut;for(ut=0;ut<Re&&!(ut+oe>=Q.length||ut>=Pe.length);++ut)Q[ut+oe]=Pe[ut];return ut}function _r(Pe,Q){return Pe instanceof Q||Pe!=null&&Pe.constructor!=null&&Pe.constructor.name!=null&&Pe.constructor.name===Q.name}function Sr(Pe){return Pe!==Pe}const fr=function(){const Pe="0123456789abcdef",Q=new Array(256);for(let oe=0;oe<16;++oe){const Re=oe*16;for(let ut=0;ut<16;++ut)Q[Re+ut]=Pe[oe]+Pe[ut]}return Q}();function pr(Pe){return typeof BigInt>"u"?fi:Pe}function fi(){throw new Error("BigInt not supported")}})(kz);const MJ=wa(kz);var SJ="Expected a function",Pz="__lodash_hash_undefined__",Kz=1/0,EJ="[object Function]",OJ="[object GeneratorFunction]",BJ="[object Symbol]",IJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kJ=/^\w*$/,TJ=/^\./,PJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KJ=/[\\^$.*+?()[\]{}|]/g,LJ=/\\(\\)?/g,DJ=/^\[object .+?Constructor\]$/,FJ=typeof window=="object"&&window&&window.Object===Object&&window,RJ=typeof self=="object"&&self&&self.Object===Object&&self,z7=FJ||RJ||Function("return this")();function UJ(n,e){return n==null?void 0:n[e]}function zJ(n){var e=!1;if(n!=null&&typeof n.toString!="function")try{e=!!(n+"")}catch{}return e}var jJ=Array.prototype,NJ=Function.prototype,Lz=Object.prototype,pE=z7["__core-js_shared__"],gP=function(){var n=/[^.]+$/.exec(pE&&pE.keys&&pE.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Dz=NJ.toString,j7=Lz.hasOwnProperty,Fz=Lz.toString,WJ=RegExp("^"+Dz.call(j7).replace(KJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yP=z7.Symbol,GJ=jJ.splice,QJ=Rz(z7,"Map"),Cb=Rz(Object,"create"),vP=yP?yP.prototype:void 0,_P=vP?vP.toString:void 0;function o1(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function $J(){this.__data__=Cb?Cb(null):{}}function YJ(n){return this.has(n)&&delete this.__data__[n]}function qJ(n){var e=this.__data__;if(Cb){var t=e[n];return t===Pz?void 0:t}return j7.call(e,n)?e[n]:void 0}function VJ(n){var e=this.__data__;return Cb?e[n]!==void 0:j7.call(e,n)}function HJ(n,e){var t=this.__data__;return t[n]=Cb&&e===void 0?Pz:e,this}o1.prototype.clear=$J;o1.prototype.delete=YJ;o1.prototype.get=qJ;o1.prototype.has=VJ;o1.prototype.set=HJ;function $v(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function ZJ(){this.__data__=[]}function XJ(n){var e=this.__data__,t=L5(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():GJ.call(e,t,1),!0}function JJ(n){var e=this.__data__,t=L5(e,n);return t<0?void 0:e[t][1]}function eee(n){return L5(this.__data__,n)>-1}function tee(n,e){var t=this.__data__,r=L5(t,n);return r<0?t.push([n,e]):t[r][1]=e,this}$v.prototype.clear=ZJ;$v.prototype.delete=XJ;$v.prototype.get=JJ;$v.prototype.has=eee;$v.prototype.set=tee;function y1(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function nee(){this.__data__={hash:new o1,map:new(QJ||$v),string:new o1}}function ree(n){return D5(this,n).delete(n)}function iee(n){return D5(this,n).get(n)}function oee(n){return D5(this,n).has(n)}function aee(n,e){return D5(this,n).set(n,e),this}y1.prototype.clear=nee;y1.prototype.delete=ree;y1.prototype.get=iee;y1.prototype.has=oee;y1.prototype.set=aee;function L5(n,e){for(var t=n.length;t--;)if(gee(n[t][0],e))return t;return-1}function see(n,e){e=cee(e,n)?[e]:Aee(e);for(var t=0,r=e.length;n!=null&&t<r;)n=n[pee(e[t++])];return t&&t==r?n:void 0}function lee(n){if(!zz(n)||dee(n))return!1;var e=yee(n)||zJ(n)?WJ:DJ;return e.test(mee(n))}function uee(n){if(typeof n=="string")return n;if(W7(n))return _P?_P.call(n):"";var e=n+"";return e=="0"&&1/n==-Kz?"-0":e}function Aee(n){return Uz(n)?n:fee(n)}function D5(n,e){var t=n.__data__;return hee(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Rz(n,e){var t=UJ(n,e);return lee(t)?t:void 0}function cee(n,e){if(Uz(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||W7(n)?!0:kJ.test(n)||!IJ.test(n)||e!=null&&n in Object(e)}function hee(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function dee(n){return!!gP&&gP in n}var fee=N7(function(n){n=_ee(n);var e=[];return TJ.test(n)&&e.push(""),n.replace(PJ,function(t,r,i,o){e.push(i?o.replace(LJ,"$1"):r||t)}),e});function pee(n){if(typeof n=="string"||W7(n))return n;var e=n+"";return e=="0"&&1/n==-Kz?"-0":e}function mee(n){if(n!=null){try{return Dz.call(n)}catch{}try{return n+""}catch{}}return""}function N7(n,e){if(typeof n!="function"||e&&typeof e!="function")throw new TypeError(SJ);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s),s};return t.cache=new(N7.Cache||y1),t}N7.Cache=y1;function gee(n,e){return n===e||n!==n&&e!==e}var Uz=Array.isArray;function yee(n){var e=zz(n)?Fz.call(n):"";return e==EJ||e==OJ}function zz(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function vee(n){return!!n&&typeof n=="object"}function W7(n){return typeof n=="symbol"||vee(n)&&Fz.call(n)==BJ}function _ee(n){return n==null?"":uee(n)}function Cee(n,e,t){var r=n==null?void 0:see(n,e);return r===void 0?t:r}var bee=Cee;const xee=wa(bee);var Q4={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Q4.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,C="__lodash_placeholder__",B=1,I=2,K=4,L=1,Y=2,ee=1,V=2,W=4,ne=8,ce=16,ge=32,fe=64,H=128,X=256,Me=512,be=30,Fe="...",Ue=800,me=16,Ve=1,_e=2,Ot=3,St=1/0,_t=9007199254740991,ft=17976931348623157e292,$e=NaN,et=4294967295,nt=et-1,en=et>>>1,nn=[["ary",H],["bind",ee],["bindKey",V],["curry",ne],["curryRight",ce],["flip",Me],["partial",ge],["partialRight",fe],["rearg",X]],Et="[object Arguments]",Vt="[object Array]",Jt="[object AsyncFunction]",Le="[object Boolean]",ye="[object Date]",Te="[object DOMException]",Qe="[object Error]",st="[object Function]",lt="[object GeneratorFunction]",Kt="[object Map]",Ht="[object Number]",Wt="[object Null]",Rn="[object Object]",nr="[object Promise]",_n="[object Proxy]",tr="[object RegExp]",ur="[object Set]",_r="[object String]",Sr="[object Symbol]",fr="[object Undefined]",pr="[object WeakMap]",fi="[object WeakSet]",Pe="[object ArrayBuffer]",Q="[object DataView]",oe="[object Float32Array]",Re="[object Float64Array]",ut="[object Int8Array]",Tt="[object Int16Array]",jt="[object Int32Array]",ar="[object Uint8Array]",ht="[object Uint8ClampedArray]",Ee="[object Uint16Array]",ve="[object Uint32Array]",p=/\b__p \+= '';/g,Ke=/\b(__p \+=) '' \+/g,ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,it=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,ot=RegExp(it.source),Ft=RegExp(dt.source),rt=/<%-([\s\S]+?)%>/g,mt=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cr=/[\\^$.*+?()[\]{}|]/g,rr=RegExp(Cr.source),Mr=/^\s+/,oi=/\s/,$r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Un=/\{\n\/\* \[wrapped with (.+)\] \*/,On=/,? & /,Er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ti=/[()=,{}\[\]\/\s]/,ji=/\\(\\)?/g,ei=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wr=/\w*$/,Ni=/^[-+]0x[0-9a-f]+$/i,Ko=/^0b[01]+$/i,aa=/^\[object .+?Constructor\]$/,yo=/^0o[0-7]+$/i,qa=/^(?:0|[1-9]\d*)$/,Wi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ho=/($^)/,Ma=/['\n\r\u2028\u2029\\]/g,Gi="\\ud800-\\udfff",sa="\\u0300-\\u036f",Va="\\ufe20-\\ufe2f",ci="\\u20d0-\\u20ff",er=sa+Va+ci,jo="\\u2700-\\u27bf",co="a-z\\xdf-\\xf6\\xf8-\\xff",Qi="\\xac\\xb1\\xd7\\xf7",Oe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",rn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pn="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",En=Qi+Oe+Je+rn,Hr="[']",Yr="["+Gi+"]",ni="["+En+"]",Sa="["+er+"]",la="\\d+",mr="["+jo+"]",Fs="["+co+"]",Ms="[^"+Gi+En+la+jo+co+pn+"]",Hi="\\ud83c[\\udffb-\\udfff]",Ha="(?:"+Sa+"|"+Hi+")",dl="[^"+Gi+"]",to="(?:\\ud83c[\\udde6-\\uddff]){2}",No="[\\ud800-\\udbff][\\udc00-\\udfff]",no="["+pn+"]",Rs="\\u200d",Ka="(?:"+Fs+"|"+Ms+")",Ea="(?:"+no+"|"+Ms+")",cA="(?:"+Hr+"(?:d|ll|m|re|s|t|ve))?",Xs="(?:"+Hr+"(?:D|LL|M|RE|S|T|VE))?",gu=Ha+"?",zu="["+Pt+"]?",hA="(?:"+Rs+"(?:"+[dl,to,No].join("|")+")"+zu+gu+")*",Bo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Io="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yi=zu+gu+hA,Za="(?:"+[mr,to,No].join("|")+")"+yi,Oa="(?:"+[dl+Sa+"?",Sa,to,No,Yr].join("|")+")",Xa=RegExp(Hr,"g"),yu=RegExp(Sa,"g"),ql=RegExp(Hi+"(?="+Hi+")|"+Oa+yi,"g"),Vl=RegExp([no+"?"+Fs+"+"+cA+"(?="+[ni,no,"$"].join("|")+")",Ea+"+"+Xs+"(?="+[ni,no+Ka,"$"].join("|")+")",no+"?"+Ka+"+"+cA,no+"+"+Xs,Io,Bo,la,Za].join("|"),"g"),Js=RegExp("["+Rs+Gi+er+Pt+"]"),Zo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Us=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fl=-1,gr={};gr[oe]=gr[Re]=gr[ut]=gr[Tt]=gr[jt]=gr[ar]=gr[ht]=gr[Ee]=gr[ve]=!0,gr[Et]=gr[Vt]=gr[Pe]=gr[Le]=gr[Q]=gr[ye]=gr[Qe]=gr[st]=gr[Kt]=gr[Ht]=gr[Rn]=gr[tr]=gr[ur]=gr[_r]=gr[pr]=!1;var li={};li[Et]=li[Vt]=li[Pe]=li[Q]=li[Le]=li[ye]=li[oe]=li[Re]=li[ut]=li[Tt]=li[jt]=li[Kt]=li[Ht]=li[Rn]=li[tr]=li[ur]=li[_r]=li[Sr]=li[ar]=li[ht]=li[Ee]=li[ve]=!0,li[Qe]=li[st]=li[pr]=!1;var j={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hn=parseFloat,bn=parseInt,kr=typeof window=="object"&&window&&window.Object===Object&&window,Ur=typeof self=="object"&&self&&self.Object===Object&&self,yr=kr||Ur||Function("return this")(),Tr=e&&!e.nodeType&&e,Di=Tr&&!0&&n&&!n.nodeType&&n,ro=Di&&Di.exports===Tr,vi=ro&&kr.process,Xr=function(){try{var Dt=Di&&Di.require&&Di.require("util").types;return Dt||vi&&vi.binding&&vi.binding("util")}catch{}}(),ki=Xr&&Xr.isArrayBuffer,pi=Xr&&Xr.isDate,$i=Xr&&Xr.isMap,La=Xr&&Xr.isRegExp,Ss=Xr&&Xr.isSet,ho=Xr&&Xr.isTypedArray;function Lo(Dt,un,Qt){switch(Qt.length){case 0:return Dt.call(un);case 1:return Dt.call(un,Qt[0]);case 2:return Dt.call(un,Qt[0],Qt[1]);case 3:return Dt.call(un,Qt[0],Qt[1],Qt[2])}return Dt.apply(un,Qt)}function Pp(Dt,un,Qt,Ar){for(var ai=-1,br=Dt==null?0:Dt.length;++ai<br;){var fa=Dt[ai];un(Ar,fa,Qt(fa),Dt)}return Ar}function el(Dt,un){for(var Qt=-1,Ar=Dt==null?0:Dt.length;++Qt<Ar&&un(Dt[Qt],Qt,Dt)!==!1;);return Dt}function Sd(Dt,un){for(var Qt=Dt==null?0:Dt.length;Qt--&&un(Dt[Qt],Qt,Dt)!==!1;);return Dt}function dA(Dt,un){for(var Qt=-1,Ar=Dt==null?0:Dt.length;++Qt<Ar;)if(!un(Dt[Qt],Qt,Dt))return!1;return!0}function zA(Dt,un){for(var Qt=-1,Ar=Dt==null?0:Dt.length,ai=0,br=[];++Qt<Ar;){var fa=Dt[Qt];un(fa,Qt,Dt)&&(br[ai++]=fa)}return br}function Ed(Dt,un){var Qt=Dt==null?0:Dt.length;return!!Qt&&bo(Dt,un,0)>-1}function Kp(Dt,un,Qt){for(var Ar=-1,ai=Dt==null?0:Dt.length;++Ar<ai;)if(Qt(un,Dt[Ar]))return!0;return!1}function Xo(Dt,un){for(var Qt=-1,Ar=Dt==null?0:Dt.length,ai=Array(Ar);++Qt<Ar;)ai[Qt]=un(Dt[Qt],Qt,Dt);return ai}function Hl(Dt,un){for(var Qt=-1,Ar=un.length,ai=Dt.length;++Qt<Ar;)Dt[ai+Qt]=un[Qt];return Dt}function Zl(Dt,un,Qt,Ar){var ai=-1,br=Dt==null?0:Dt.length;for(Ar&&br&&(Qt=Dt[++ai]);++ai<br;)Qt=un(Qt,Dt[ai],ai,Dt);return Qt}function kh(Dt,un,Qt,Ar){var ai=Dt==null?0:Dt.length;for(Ar&&ai&&(Qt=Dt[--ai]);ai--;)Qt=un(Qt,Dt[ai],ai,Dt);return Qt}function Rc(Dt,un){for(var Qt=-1,Ar=Dt==null?0:Dt.length;++Qt<Ar;)if(un(Dt[Qt],Qt,Dt))return!0;return!1}var jA=Lp("length");function Uc(Dt){return Dt.split("")}function Im(Dt){return Dt.match(Er)||[]}function km(Dt,un,Qt){var Ar;return Qt(Dt,function(ai,br,fa){if(un(ai,br,fa))return Ar=br,!1}),Ar}function NA(Dt,un,Qt,Ar){for(var ai=Dt.length,br=Qt+(Ar?1:-1);Ar?br--:++br<ai;)if(un(Dt[br],br,Dt))return br;return-1}function bo(Dt,un,Qt){return un===un?lc(Dt,un,Qt):NA(Dt,zc,Qt)}function Q0(Dt,un,Qt,Ar){for(var ai=Qt-1,br=Dt.length;++ai<br;)if(Ar(Dt[ai],un))return ai;return-1}function zc(Dt){return Dt!==Dt}function jc(Dt,un){var Qt=Dt==null?0:Dt.length;return Qt?Ph(Dt,un)/Qt:$e}function Lp(Dt){return function(un){return un==null?t:un[Dt]}}function Th(Dt){return function(un){return Dt==null?t:Dt[un]}}function Dp(Dt,un,Qt,Ar,ai){return ai(Dt,function(br,fa,Do){Qt=Ar?(Ar=!1,br):un(Qt,br,fa,Do)}),Qt}function gf(Dt,un){var Qt=Dt.length;for(Dt.sort(un);Qt--;)Dt[Qt]=Dt[Qt].value;return Dt}function Ph(Dt,un){for(var Qt,Ar=-1,ai=Dt.length;++Ar<ai;){var br=un(Dt[Ar]);br!==t&&(Qt=Qt===t?br:Qt+br)}return Qt}function yf(Dt,un){for(var Qt=-1,Ar=Array(Dt);++Qt<Dt;)Ar[Qt]=un(Qt);return Ar}function vf(Dt,un){return Xo(un,function(Qt){return[Qt,Dt[Qt]]})}function vu(Dt){return Dt&&Dt.slice(0,io(Dt)+1).replace(Mr,"")}function zs(Dt){return function(un){return Dt(un)}}function Kh(Dt,un){return Xo(un,function(Qt){return Dt[Qt]})}function ju(Dt,un){return Dt.has(un)}function Nu(Dt,un){for(var Qt=-1,Ar=Dt.length;++Qt<Ar&&bo(un,Dt[Qt],0)>-1;);return Qt}function Nc(Dt,un){for(var Qt=Dt.length;Qt--&&bo(un,Dt[Qt],0)>-1;);return Qt}function Wu(Dt,un){for(var Qt=Dt.length,Ar=0;Qt--;)Dt[Qt]===un&&++Ar;return Ar}var _f=Th(j),fA=Th(le);function Wc(Dt){return"\\"+xt[Dt]}function Cf(Dt,un){return Dt==null?t:Dt[un]}function Gc(Dt){return Js.test(Dt)}function Fp(Dt){return Zo.test(Dt)}function $0(Dt){for(var un,Qt=[];!(un=Dt.next()).done;)Qt.push(un.value);return Qt}function Lh(Dt){var un=-1,Qt=Array(Dt.size);return Dt.forEach(function(Ar,ai){Qt[++un]=[ai,Ar]}),Qt}function sc(Dt,un){return function(Qt){return Dt(un(Qt))}}function tl(Dt,un){for(var Qt=-1,Ar=Dt.length,ai=0,br=[];++Qt<Ar;){var fa=Dt[Qt];(fa===un||fa===C)&&(Dt[Qt]=C,br[ai++]=Qt)}return br}function nl(Dt){var un=-1,Qt=Array(Dt.size);return Dt.forEach(function(Ar){Qt[++un]=Ar}),Qt}function bf(Dt){var un=-1,Qt=Array(Dt.size);return Dt.forEach(function(Ar){Qt[++un]=[Ar,Ar]}),Qt}function lc(Dt,un,Qt){for(var Ar=Qt-1,ai=Dt.length;++Ar<ai;)if(Dt[Ar]===un)return Ar;return-1}function Dh(Dt,un,Qt){for(var Ar=Qt+1;Ar--;)if(Dt[Ar]===un)return Ar;return Ar}function js(Dt){return Gc(Dt)?Gu(Dt):jA(Dt)}function _u(Dt){return Gc(Dt)?Od(Dt):Uc(Dt)}function io(Dt){for(var un=Dt.length;un--&&oi.test(Dt.charAt(un)););return un}var xf=Th(We);function Gu(Dt){for(var un=ql.lastIndex=0;ql.test(Dt);)++un;return un}function Od(Dt){return Dt.match(ql)||[]}function Bd(Dt){return Dt.match(Vl)||[]}var Qc=function Dt(un){un=un==null?yr:Cu.defaults(yr.Object(),un,Cu.pick(yr,Us));var Qt=un.Array,Ar=un.Date,ai=un.Error,br=un.Function,fa=un.Math,Do=un.Object,Fh=un.RegExp,Id=un.String,bu=un.TypeError,wf=Qt.prototype,uc=br.prototype,Qu=Do.prototype,$u=un["__core-js_shared__"],WA=uc.toString,so=Qu.hasOwnProperty,Mf=0,Rh=function(){var _=/[^.]+$/.exec($u&&$u.keys&&$u.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Yu=Qu.toString,pA=WA.call(Do),Es=yr._,mA=Fh("^"+WA.call(so).replace(Cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qu=ro?un.Buffer:t,Xl=un.Symbol,Uh=un.Uint8Array,Sf=qu?qu.allocUnsafe:t,Vu=sc(Do.getPrototypeOf,Do),kd=Do.create,Td=Qu.propertyIsEnumerable,Ac=wf.splice,cc=Xl?Xl.isConcatSpreadable:t,gA=Xl?Xl.iterator:t,hc=Xl?Xl.toStringTag:t,$c=function(){try{var _=ed(Do,"defineProperty");return _({},"",{}),_}catch{}}(),ua=un.clearTimeout!==yr.clearTimeout&&un.clearTimeout,xu=Ar&&Ar.now!==yr.Date.now&&Ar.now,pl=un.setTimeout!==yr.setTimeout&&un.setTimeout,dc=fa.ceil,yA=fa.floor,Ef=Do.getOwnPropertySymbols,zh=qu?qu.isBuffer:t,Yc=un.isFinite,jh=wf.join,Pd=sc(Do.keys,Do),Yo=fa.max,pa=fa.min,Of=Ar.now,qc=un.parseInt,wu=fa.random,Nh=wf.reverse,Kd=ed(un,"DataView"),Mu=ed(un,"Map"),fc=ed(un,"Promise"),Jl=ed(un,"Set"),vA=ed(un,"WeakMap"),Su=ed(Do,"create"),_A=vA&&new vA,Hu={},Eu=rs(Kd),Zu=rs(Mu),GA=rs(fc),rl=rs(Jl),Vc=rs(vA),Ld=Xl?Xl.prototype:t,pc=Ld?Ld.valueOf:t,Tm=Ld?Ld.toString:t;function je(_){if(gs(_)&&!_i(_)&&!(_ instanceof hn)){if(_ instanceof Fi)return _;if(so.call(_,"__wrapped__"))return zl(_)}return new Fi(_)}var Hc=function(){function _(){}return function(E){if(!Wa(E))return{};if(kd)return kd(E);_.prototype=E;var U=new _;return _.prototype=t,U}}();function Da(){}function Fi(_,E){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=t}je.templateSettings={escape:rt,evaluate:mt,interpolate:Bt,variable:"",imports:{_:je}},je.prototype=Da.prototype,je.prototype.constructor=je,Fi.prototype=Hc(Da.prototype),Fi.prototype.constructor=Fi;function hn(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function ma(){var _=new hn(this.__wrapped__);return _.__actions__=vl(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=vl(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=vl(this.__views__),_}function fs(){if(this.__filtered__){var _=new hn(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Wh(){var _=this.__wrapped__.value(),E=this.__dir__,U=_i(_),ie=E<0,ke=U?_.length:0,qe=zm(0,ke,this.__views__),Ct=qe.start,It=qe.end,zt=It-Ct,xn=ie?It:Ct-1,wn=this.__iteratees__,Ln=wn.length,cr=0,Zr=pa(zt,this.__takeCount__);if(!U||!ie&&ke==zt&&Zr==zt)return na(_,this.__actions__);var Ci=[];e:for(;zt--&&cr<Zr;){xn+=E;for(var uo=-1,bi=_[xn];++uo<Ln;){var wo=wn[uo],To=wo.iteratee,dh=wo.type,ZA=To(bi);if(dh==_e)bi=ZA;else if(!ZA){if(dh==Ve)continue e;break e}}Ci[cr++]=bi}return Ci}hn.prototype=Hc(Da.prototype),hn.prototype.constructor=hn;function ml(_){var E=-1,U=_==null?0:_.length;for(this.clear();++E<U;){var ie=_[E];this.set(ie[0],ie[1])}}function Dd(){this.__data__=Su?Su(null):{},this.size=0}function Pm(_){var E=this.has(_)&&delete this.__data__[_];return this.size-=E?1:0,E}function Si(_){var E=this.__data__;if(Su){var U=E[_];return U===f?t:U}return so.call(E,_)?E[_]:t}function Gh(_){var E=this.__data__;return Su?E[_]!==t:so.call(E,_)}function Bf(_,E){var U=this.__data__;return this.size+=this.has(_)?0:1,U[_]=Su&&E===t?f:E,this}ml.prototype.clear=Dd,ml.prototype.delete=Pm,ml.prototype.get=Si,ml.prototype.has=Gh,ml.prototype.set=Bf;function eu(_){var E=-1,U=_==null?0:_.length;for(this.clear();++E<U;){var ie=_[E];this.set(ie[0],ie[1])}}function Rp(){this.__data__=[],this.size=0}function Up(_){var E=this.__data__,U=il(E,_);if(U<0)return!1;var ie=E.length-1;return U==ie?E.pop():Ac.call(E,U,1),--this.size,!0}function mc(_){var E=this.__data__,U=il(E,_);return U<0?t:E[U][1]}function If(_){return il(this.__data__,_)>-1}function Fd(_,E){var U=this.__data__,ie=il(U,_);return ie<0?(++this.size,U.push([_,E])):U[ie][1]=E,this}eu.prototype.clear=Rp,eu.prototype.delete=Up,eu.prototype.get=mc,eu.prototype.has=If,eu.prototype.set=Fd;function Ou(_){var E=-1,U=_==null?0:_.length;for(this.clear();++E<U;){var ie=_[E];this.set(ie[0],ie[1])}}function Rd(){this.size=0,this.__data__={hash:new ml,map:new(Mu||eu),string:new ml}}function Qh(_){var E=$p(this,_).delete(_);return this.size-=E?1:0,E}function Km(_){return $p(this,_).get(_)}function CA(_){return $p(this,_).has(_)}function oo(_,E){var U=$p(this,_),ie=U.size;return U.set(_,E),this.size+=U.size==ie?0:1,this}Ou.prototype.clear=Rd,Ou.prototype.delete=Qh,Ou.prototype.get=Km,Ou.prototype.has=CA,Ou.prototype.set=oo;function Kl(_){var E=-1,U=_==null?0:_.length;for(this.__data__=new Ou;++E<U;)this.add(_[E])}function kf(_){return this.__data__.set(_,f),this}function Tf(_){return this.__data__.has(_)}Kl.prototype.add=Kl.prototype.push=kf,Kl.prototype.has=Tf;function Jo(_){var E=this.__data__=new eu(_);this.size=E.size}function lo(){this.__data__=new eu,this.size=0}function tu(_){var E=this.__data__,U=E.delete(_);return this.size=E.size,U}function Os(_){return this.__data__.get(_)}function Xu(_){return this.__data__.has(_)}function vr(_,E){var U=this.__data__;if(U instanceof eu){var ie=U.__data__;if(!Mu||ie.length<i-1)return ie.push([_,E]),this.size=++U.size,this;U=this.__data__=new Ou(ie)}return U.set(_,E),this.size=U.size,this}Jo.prototype.clear=lo,Jo.prototype.delete=tu,Jo.prototype.get=Os,Jo.prototype.has=Xu,Jo.prototype.set=vr;function Pr(_,E){var U=_i(_),ie=!U&&qp(_),ke=!U&&!ie&&qd(_),qe=!U&&!ie&&!ke&&D(_),Ct=U||ie||ke||qe,It=Ct?yf(_.length,Id):[],zt=It.length;for(var xn in _)(E||so.call(_,xn))&&!(Ct&&(xn=="length"||ke&&(xn=="offset"||xn=="parent")||qe&&(xn=="buffer"||xn=="byteLength"||xn=="byteOffset")||M(xn,zt)))&&It.push(xn);return It}function Zc(_){var E=_.length;return E?_[vt(0,E-1)]:t}function Pf(_,E){return va(vl(_),gl(E,0,_.length))}function $h(_){return va(vl(_))}function Ja(_,E,U){(U!==t&&!OA(_[E],U)||U===t&&!(E in _))&&vo(_,E,U)}function Xc(_,E,U){var ie=_[E];(!(so.call(_,E)&&OA(ie,U))||U===t&&!(E in _))&&vo(_,E,U)}function il(_,E){for(var U=_.length;U--;)if(OA(_[U][0],E))return U;return-1}function QA(_,E,U,ie){return nu(_,function(ke,qe,Ct){E(ie,ke,U(ke),Ct)}),ie}function gc(_,E){return _&&Bu(E,Ri(E),_)}function ea(_,E){return _&&Bu(E,Mo(E),_)}function vo(_,E,U){E=="__proto__"&&$c?$c(_,E,{configurable:!0,enumerable:!0,value:U,writable:!0}):_[E]=U}function Jc(_,E){for(var U=-1,ie=E.length,ke=Qt(ie),qe=_==null;++U<ie;)ke[U]=qe?t:is(_,E[U]);return ke}function gl(_,E,U){return _===_&&(U!==t&&(_=_<=U?_:U),E!==t&&(_=_>=E?_:E)),_}function ol(_,E,U,ie,ke,qe){var Ct,It=E&B,zt=E&I,xn=E&K;if(U&&(Ct=ke?U(_,ie,ke,qe):U(_)),Ct!==t)return Ct;if(!Wa(_))return _;var wn=_i(_);if(wn){if(Ct=k1(_),!It)return vl(_,Ct)}else{var Ln=ns(_),cr=Ln==st||Ln==lt;if(qd(_))return iu(_,It);if(Ln==Rn||Ln==Et||cr&&!ke){if(Ct=zt||cr?{}:$f(_),!It)return zt?sh(_,ea(Ct,_)):ah(_,gc(Ct,_))}else{if(!li[Ln])return ke?_:{};Ct=Yf(_,Ln,It)}}qe||(qe=new Jo);var Zr=qe.get(_);if(Zr)return Zr;qe.set(_,Ct),x(_)?_.forEach(function(bi){Ct.add(ol(bi,E,U,bi,_,qe))}):G1(_)&&_.forEach(function(bi,wo){Ct.set(wo,ol(bi,E,U,wo,_,qe))});var Ci=xn?zt?Um:Rm:zt?Mo:Ri,uo=wn?t:Ci(_);return el(uo||_,function(bi,wo){uo&&(wo=bi,bi=_[wo]),Xc(Ct,wo,ol(bi,E,U,wo,_,qe))}),Ct}function zp(_){var E=Ri(_);return function(U){return Yh(U,_,E)}}function Yh(_,E,U){var ie=U.length;if(_==null)return!ie;for(_=Do(_);ie--;){var ke=U[ie],qe=E[ke],Ct=_[ke];if(Ct===t&&!(ke in _)||!qe(Ct))return!1}return!0}function Ud(_,E,U){if(typeof _!="function")throw new bu(s);return Lr(function(){_.apply(t,U)},E)}function bA(_,E,U,ie){var ke=-1,qe=Ed,Ct=!0,It=_.length,zt=[],xn=E.length;if(!It)return zt;U&&(E=Xo(E,zs(U))),ie?(qe=Kp,Ct=!1):E.length>=i&&(qe=ju,Ct=!1,E=new Kl(E));e:for(;++ke<It;){var wn=_[ke],Ln=U==null?wn:U(wn);if(wn=ie||wn!==0?wn:0,Ct&&Ln===Ln){for(var cr=xn;cr--;)if(E[cr]===Ln)continue e;zt.push(wn)}else qe(E,Ln,ie)||zt.push(wn)}return zt}var nu=SA(Dl),zd=SA(eh,!0);function jp(_,E){var U=!0;return nu(_,function(ie,ke,qe){return U=!!E(ie,ke,qe),U}),U}function qh(_,E,U){for(var ie=-1,ke=_.length;++ie<ke;){var qe=_[ie],Ct=E(qe);if(Ct!=null&&(It===t?Ct===Ct&&!T(Ct):U(Ct,It)))var It=Ct,zt=qe}return zt}function Kf(_,E,U,ie){var ke=_.length;for(U=Se(U),U<0&&(U=-U>ke?0:ke+U),ie=ie===t||ie>ke?ke:Se(ie),ie<0&&(ie+=ke),ie=U>ie?0:He(ie);U<ie;)_[U++]=E;return _}function Ll(_,E){var U=[];return nu(_,function(ie,ke,qe){E(ie,ke,qe)&&U.push(ie)}),U}function Fa(_,E,U,ie,ke){var qe=-1,Ct=_.length;for(U||(U=g),ke||(ke=[]);++qe<Ct;){var It=_[qe];E>0&&U(It)?E>1?Fa(It,E-1,U,ie,ke):Hl(ke,It):ie||(ke[ke.length]=It)}return ke}var yc=$d(),Vh=$d(!0);function Dl(_,E){return _&&yc(_,E,Ri)}function eh(_,E){return _&&Vh(_,E,Ri)}function th(_,E){return zA(E,function(U){return Ah(_[U])})}function xA(_,E){E=ru(E,_);for(var U=0,ie=E.length;_!=null&&U<ie;)_=_[Ba(E[U++])];return U&&U==ie?_:t}function qo(_,E,U){var ie=E(_);return _i(_)?ie:Hl(ie,U(_))}function Ra(_){return _==null?_===t?fr:Wt:hc&&hc in Do(_)?Ua(_):vn(_)}function vc(_,E){return _>E}function jd(_,E){return _!=null&&so.call(_,E)}function Nd(_,E){return _!=null&&E in Do(_)}function nh(_,E,U){return _>=pa(E,U)&&_<Yo(E,U)}function wA(_,E,U){for(var ie=U?Kp:Ed,ke=_[0].length,qe=_.length,Ct=qe,It=Qt(qe),zt=1/0,xn=[];Ct--;){var wn=_[Ct];Ct&&E&&(wn=Xo(wn,zs(E))),zt=pa(wn.length,zt),It[Ct]=!U&&(E||ke>=120&&wn.length>=120)?new Kl(Ct&&wn):t}wn=_[0];var Ln=-1,cr=It[0];e:for(;++Ln<ke&&xn.length<zt;){var Zr=wn[Ln],Ci=E?E(Zr):Zr;if(Zr=U||Zr!==0?Zr:0,!(cr?ju(cr,Ci):ie(xn,Ci,U))){for(Ct=qe;--Ct;){var uo=It[Ct];if(!(uo?ju(uo,Ci):ie(_[Ct],Ci,U)))continue e}cr&&cr.push(Ci),xn.push(Zr)}}return xn}function rh(_,E,U,ie){return Dl(_,function(ke,qe,Ct){E(ie,U(ke),qe,Ct)}),ie}function ih(_,E,U){E=ru(E,_),_=Yn(_,E);var ie=_==null?_:_[Ba(xc(E))];return ie==null?t:Lo(ie,_,U)}function Wd(_){return gs(_)&&Ra(_)==Et}function Ju(_){return gs(_)&&Ra(_)==Pe}function Np(_){return gs(_)&&Ra(_)==ye}function $A(_,E,U,ie,ke){return _===E?!0:_==null||E==null||!gs(_)&&!gs(E)?_!==_&&E!==E:Lf(_,E,U,ie,$A,ke)}function Lf(_,E,U,ie,ke,qe){var Ct=_i(_),It=_i(E),zt=Ct?Vt:ns(_),xn=It?Vt:ns(E);zt=zt==Et?Rn:zt,xn=xn==Et?Rn:xn;var wn=zt==Rn,Ln=xn==Rn,cr=zt==xn;if(cr&&qd(_)){if(!qd(E))return!1;Ct=!0,wn=!1}if(cr&&!wn)return qe||(qe=new Jo),Ct||D(_)?al(_,E,U,ie,ke,qe):Jh(_,E,zt,U,ie,ke,qe);if(!(U&L)){var Zr=wn&&so.call(_,"__wrapped__"),Ci=Ln&&so.call(E,"__wrapped__");if(Zr||Ci){var uo=Zr?_.value():_,bi=Ci?E.value():E;return qe||(qe=new Jo),ke(uo,bi,U,ie,qe)}}return cr?(qe||(qe=new Jo),V0(_,E,U,ie,ke,qe)):!1}function Hh(_){return gs(_)&&ns(_)==Kt}function O(_,E,U,ie){var ke=U.length,qe=ke,Ct=!ie;if(_==null)return!qe;for(_=Do(_);ke--;){var It=U[ke];if(Ct&&It[2]?It[1]!==_[It[0]]:!(It[0]in _))return!1}for(;++ke<qe;){It=U[ke];var zt=It[0],xn=_[zt],wn=It[1];if(Ct&&It[2]){if(xn===t&&!(zt in _))return!1}else{var Ln=new Jo;if(ie)var cr=ie(xn,wn,zt,_,E,Ln);if(!(cr===t?$A(wn,xn,L|Y,ie,Ln):cr))return!1}}return!0}function l(_){if(!Wa(_)||ae(_))return!1;var E=Ah(_)?mA:aa;return E.test(rs(_))}function c(_){return gs(_)&&Ra(_)==tr}function v(_){return gs(_)&&ns(_)==ur}function b(_){return gs(_)&&Xf(_.length)&&!!gr[Ra(_)]}function S(_){return typeof _=="function"?_:_==null?Mc:typeof _=="object"?_i(_)?re(_[0],_[1]):ue(_):FT(_)}function F(_){if(!Ce(_))return Pd(_);var E=[];for(var U in Do(_))so.call(_,U)&&U!="constructor"&&E.push(U);return E}function R(_){if(!Wa(_))return sn(_);var E=Ce(_),U=[];for(var ie in _)ie=="constructor"&&(E||!so.call(_,ie))||U.push(ie);return U}function G(_,E){return _<E}function J(_,E){var U=-1,ie=Qs(_)?Qt(_.length):[];return nu(_,function(ke,qe,Ct){ie[++U]=E(ke,qe,Ct)}),ie}function ue(_){var E=ao(_);return E.length==1&&E[0][2]?at(E[0][0],E[0][1]):function(U){return U===_||O(U,_,E)}}function re(_,E){return k(_)&&Ze(E)?at(Ba(_),E):function(U){var ie=is(U,_);return ie===t&&ie===E?Iu(U,_):$A(E,ie,L|Y)}}function xe(_,E,U,ie,ke){_!==E&&yc(E,function(qe,Ct){if(ke||(ke=new Jo),Wa(qe))Be(_,E,Ct,U,xe,ie,ke);else{var It=ie?ie(Gn(_,Ct),qe,Ct+"",_,E,ke):t;It===t&&(It=qe),Ja(_,Ct,It)}},Mo)}function Be(_,E,U,ie,ke,qe,Ct){var It=Gn(_,U),zt=Gn(E,U),xn=Ct.get(zt);if(xn){Ja(_,U,xn);return}var wn=qe?qe(It,zt,U+"",_,E,Ct):t,Ln=wn===t;if(Ln){var cr=_i(zt),Zr=!cr&&qd(zt),Ci=!cr&&!Zr&&D(zt);wn=zt,cr||Zr||Ci?_i(It)?wn=It:ms(It)?wn=vl(It):Zr?(Ln=!1,wn=iu(zt,!0)):Ci?(Ln=!1,wn=Bs(zt,!0)):wn=[]:u(zt)||qp(zt)?(wn=It,qp(It)?wn=Mt(It):(!Wa(It)||Ah(It))&&(wn=$f(zt))):Ln=!1}Ln&&(Ct.set(zt,wn),ke(wn,zt,ie,qe,Ct),Ct.delete(zt)),Ja(_,U,wn)}function De(_,E){var U=_.length;if(U)return E+=E<0?U:0,M(E,U)?_[E]:t}function tt(_,E,U){E.length?E=Xo(E,function(qe){return _i(qe)?function(Ct){return xA(Ct,qe.length===1?qe[0]:qe)}:qe}):E=[Mc];var ie=-1;E=Xo(E,zs(Jr()));var ke=J(_,function(qe,Ct,It){var zt=Xo(E,function(xn){return xn(qe)});return{criteria:zt,index:++ie,value:qe}});return gf(ke,function(qe,Ct){return Gd(qe,Ct,U)})}function Xe(_,E){return Ge(_,E,function(U,ie){return Iu(_,ie)})}function Ge(_,E,U){for(var ie=-1,ke=E.length,qe={};++ie<ke;){var Ct=E[ie],It=xA(_,Ct);U(It,Ct)&&In(qe,ru(Ct,_),It)}return qe}function gt(_){return function(E){return xA(E,_)}}function ct(_,E,U,ie){var ke=ie?Q0:bo,qe=-1,Ct=E.length,It=_;for(_===E&&(E=vl(E)),U&&(It=Xo(_,zs(U)));++qe<Ct;)for(var zt=0,xn=E[qe],wn=U?U(xn):xn;(zt=ke(It,wn,zt,ie))>-1;)It!==_&&Ac.call(It,zt,1),Ac.call(_,zt,1);return _}function pt(_,E){for(var U=_?E.length:0,ie=U-1;U--;){var ke=E[U];if(U==ie||ke!==qe){var qe=ke;M(ke)?Ac.call(_,ke,1):ga(_,ke)}}return _}function vt(_,E){return _+yA(wu()*(E-_+1))}function bt(_,E,U,ie){for(var ke=-1,qe=Yo(dc((E-_)/(U||1)),0),Ct=Qt(qe);qe--;)Ct[ie?qe:++ke]=_,_+=U;return Ct}function Nt(_,E){var U="";if(!_||E<1||E>_t)return U;do E%2&&(U+=_),E=yA(E/2),E&&(_+=_);while(E);return U}function Rt(_,E){return Br(Kn(_,E,Mc),_+"")}function Gt(_){return Zc(Wl(_))}function tn(_,E){var U=Wl(_);return va(U,gl(E,0,U.length))}function In(_,E,U,ie){if(!Wa(_))return _;E=ru(E,_);for(var ke=-1,qe=E.length,Ct=qe-1,It=_;It!=null&&++ke<qe;){var zt=Ba(E[ke]),xn=U;if(zt==="__proto__"||zt==="constructor"||zt==="prototype")return _;if(ke!=Ct){var wn=It[zt];xn=ie?ie(wn,zt,It):t,xn===t&&(xn=Wa(wn)?wn:M(E[ke+1])?[]:{})}Xc(It,zt,xn),It=It[zt]}return _}var Pn=_A?function(_,E){return _A.set(_,E),_}:Mc,Fn=$c?function(_,E){return $c(_,"toString",{configurable:!0,enumerable:!1,value:TS(E),writable:!0})}:Mc;function $n(_){return va(Wl(_))}function jn(_,E,U){var ie=-1,ke=_.length;E<0&&(E=-E>ke?0:ke+E),U=U>ke?ke:U,U<0&&(U+=ke),ke=E>U?0:U-E>>>0,E>>>=0;for(var qe=Qt(ke);++ie<ke;)qe[ie]=_[ie+E];return qe}function Ei(_,E){var U;return nu(_,function(ie,ke,qe){return U=E(ie,ke,qe),!U}),!!U}function zr(_,E,U){var ie=0,ke=_==null?ie:_.length;if(typeof E=="number"&&E===E&&ke<=en){for(;ie<ke;){var qe=ie+ke>>>1,Ct=_[qe];Ct!==null&&!T(Ct)&&(U?Ct<=E:Ct<E)?ie=qe+1:ke=qe}return ke}return Rr(_,E,Mc,U)}function Rr(_,E,U,ie){var ke=0,qe=_==null?0:_.length;if(qe===0)return 0;E=U(E);for(var Ct=E!==E,It=E===null,zt=T(E),xn=E===t;ke<qe;){var wn=yA((ke+qe)/2),Ln=U(_[wn]),cr=Ln!==t,Zr=Ln===null,Ci=Ln===Ln,uo=T(Ln);if(Ct)var bi=ie||Ci;else xn?bi=Ci&&(ie||cr):It?bi=Ci&&cr&&(ie||!Zr):zt?bi=Ci&&cr&&!Zr&&(ie||!uo):Zr||uo?bi=!1:bi=ie?Ln<=E:Ln<E;bi?ke=wn+1:qe=wn}return pa(qe,nt)}function Kr(_,E){for(var U=-1,ie=_.length,ke=0,qe=[];++U<ie;){var Ct=_[U],It=E?E(Ct):Ct;if(!U||!OA(It,zt)){var zt=It;qe[ke++]=Ct===0?0:Ct}}return qe}function ta(_){return typeof _=="number"?_:T(_)?$e:+_}function _o(_){if(typeof _=="string")return _;if(_i(_))return Xo(_,_o)+"";if(T(_))return Tm?Tm.call(_):"";var E=_+"";return E=="0"&&1/_==-St?"-0":E}function mi(_,E,U){var ie=-1,ke=Ed,qe=_.length,Ct=!0,It=[],zt=It;if(U)Ct=!1,ke=Kp;else if(qe>=i){var xn=E?null:d_(_);if(xn)return nl(xn);Ct=!1,ke=ju,zt=new Kl}else zt=E?[]:It;e:for(;++ie<qe;){var wn=_[ie],Ln=E?E(wn):wn;if(wn=U||wn!==0?wn:0,Ct&&Ln===Ln){for(var cr=zt.length;cr--;)if(zt[cr]===Ln)continue e;E&&zt.push(Ln),It.push(wn)}else ke(zt,Ln,U)||(zt!==It&&zt.push(Ln),It.push(wn))}return It}function ga(_,E){return E=ru(E,_),_=Yn(_,E),_==null||delete _[Ba(xc(E))]}function Aa(_,E,U,ie){return In(_,E,U(xA(_,E)),ie)}function ko(_,E,U,ie){for(var ke=_.length,qe=ie?ke:-1;(ie?qe--:++qe<ke)&&E(_[qe],qe,_););return U?jn(_,ie?0:qe,ie?qe+1:ke):jn(_,ie?qe+1:0,ie?ke:qe)}function na(_,E){var U=_;return U instanceof hn&&(U=U.value()),Zl(E,function(ie,ke){return ke.func.apply(ke.thisArg,Hl([ie],ke.args))},U)}function ps(_,E,U){var ie=_.length;if(ie<2)return ie?mi(_[0]):[];for(var ke=-1,qe=Qt(ie);++ke<ie;)for(var Ct=_[ke],It=-1;++It<ie;)It!=ke&&(qe[ke]=bA(qe[ke]||Ct,_[It],E,U));return mi(Fa(qe,1),E,U)}function yl(_,E,U){for(var ie=-1,ke=_.length,qe=E.length,Ct={};++ie<ke;){var It=ie<qe?E[ie]:t;U(Ct,_[ie],It)}return Ct}function MA(_){return ms(_)?_:[]}function Fl(_){return typeof _=="function"?_:Mc}function ru(_,E){return _i(_)?_:k(_,E)?[_]:ha(de(_))}var YA=Rt;function Ns(_,E,U){var ie=_.length;return U=U===t?ie:U,!E&&U>=ie?_:jn(_,E,U)}var es=ua||function(_){return yr.clearTimeout(_)};function iu(_,E){if(E)return _.slice();var U=_.length,ie=Sf?Sf(U):new _.constructor(U);return _.copy(ie),ie}function eA(_){var E=new _.constructor(_.byteLength);return new Uh(E).set(new Uh(_)),E}function oh(_,E){var U=E?eA(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.byteLength)}function Ws(_){var E=new _.constructor(_.source,Wr.exec(_));return E.lastIndex=_.lastIndex,E}function ya(_){return pc?Do(pc.call(_)):{}}function Bs(_,E){var U=E?eA(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.length)}function ts(_,E){if(_!==E){var U=_!==t,ie=_===null,ke=_===_,qe=T(_),Ct=E!==t,It=E===null,zt=E===E,xn=T(E);if(!It&&!xn&&!qe&&_>E||qe&&Ct&&zt&&!It&&!xn||ie&&Ct&&zt||!U&&zt||!ke)return 1;if(!ie&&!qe&&!xn&&_<E||xn&&U&&ke&&!ie&&!qe||It&&U&&ke||!Ct&&ke||!zt)return-1}return 0}function Gd(_,E,U){for(var ie=-1,ke=_.criteria,qe=E.criteria,Ct=ke.length,It=U.length;++ie<Ct;){var zt=ts(ke[ie],qe[ie]);if(zt){if(ie>=It)return zt;var xn=U[ie];return zt*(xn=="desc"?-1:1)}}return _.index-E.index}function Df(_,E,U,ie){for(var ke=-1,qe=_.length,Ct=U.length,It=-1,zt=E.length,xn=Yo(qe-Ct,0),wn=Qt(zt+xn),Ln=!ie;++It<zt;)wn[It]=E[It];for(;++ke<Ct;)(Ln||ke<qe)&&(wn[U[ke]]=_[ke]);for(;xn--;)wn[It++]=_[ke++];return wn}function Qd(_,E,U,ie){for(var ke=-1,qe=_.length,Ct=-1,It=U.length,zt=-1,xn=E.length,wn=Yo(qe-It,0),Ln=Qt(wn+xn),cr=!ie;++ke<wn;)Ln[ke]=_[ke];for(var Zr=ke;++zt<xn;)Ln[Zr+zt]=E[zt];for(;++Ct<It;)(cr||ke<qe)&&(Ln[Zr+U[Ct]]=_[ke++]);return Ln}function vl(_,E){var U=-1,ie=_.length;for(E||(E=Qt(ie));++U<ie;)E[U]=_[U];return E}function Bu(_,E,U,ie){var ke=!U;U||(U={});for(var qe=-1,Ct=E.length;++qe<Ct;){var It=E[qe],zt=ie?ie(U[It],_[It],It,U,_):t;zt===t&&(zt=_[It]),ke?vo(U,It,zt):Xc(U,It,zt)}return U}function ah(_,E){return Bu(_,qA(_),E)}function sh(_,E){return Bu(_,H0(_),E)}function tA(_,E){return function(U,ie){var ke=_i(U)?Pp:QA,qe=E?E():{};return ke(U,_,Jr(ie,2),qe)}}function Rl(_){return Rt(function(E,U){var ie=-1,ke=U.length,qe=ke>1?U[ke-1]:t,Ct=ke>2?U[2]:t;for(qe=_.length>3&&typeof qe=="function"?(ke--,qe):t,Ct&&w(U[0],U[1],Ct)&&(qe=ke<3?t:qe,ke=1),E=Do(E);++ie<ke;){var It=U[ie];It&&_(E,It,ie,qe)}return E})}function SA(_,E){return function(U,ie){if(U==null)return U;if(!Qs(U))return _(U,ie);for(var ke=U.length,qe=E?ke:-1,Ct=Do(U);(E?qe--:++qe<ke)&&ie(Ct[qe],qe,Ct)!==!1;);return U}}function $d(_){return function(E,U,ie){for(var ke=-1,qe=Do(E),Ct=ie(E),It=Ct.length;It--;){var zt=Ct[_?It:++ke];if(U(qe[zt],zt,qe)===!1)break}return E}}function Ff(_,E,U){var ie=E&ee,ke=zf(_);function qe(){var Ct=this&&this!==yr&&this instanceof qe?ke:_;return Ct.apply(ie?U:this,arguments)}return qe}function Rf(_){return function(E){E=de(E);var U=Gc(E)?_u(E):t,ie=U?U[0]:E.charAt(0),ke=U?Ns(U,1).join(""):E.slice(1);return ie[_]()+ke}}function Uf(_){return function(E){return Zl(LT(q1(E).replace(Xa,"")),_,"")}}function zf(_){return function(){var E=arguments;switch(E.length){case 0:return new _;case 1:return new _(E[0]);case 2:return new _(E[0],E[1]);case 3:return new _(E[0],E[1],E[2]);case 4:return new _(E[0],E[1],E[2],E[3]);case 5:return new _(E[0],E[1],E[2],E[3],E[4]);case 6:return new _(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new _(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var U=Hc(_.prototype),ie=_.apply(U,E);return Wa(ie)?ie:U}}function O1(_,E,U){var ie=zf(_);function ke(){for(var qe=arguments.length,Ct=Qt(qe),It=qe,zt=Qf(ke);It--;)Ct[It]=arguments[It];var xn=qe<3&&Ct[0]!==zt&&Ct[qe-1]!==zt?[]:tl(Ct,zt);if(qe-=xn.length,qe<U)return Nf(_,E,jf,ke.placeholder,t,Ct,xn,t,t,U-qe);var wn=this&&this!==yr&&this instanceof ke?ie:_;return Lo(wn,this,Ct)}return ke}function Lm(_){return function(E,U,ie){var ke=Do(E);if(!Qs(E)){var qe=Jr(U,3);E=Ri(E),U=function(It){return qe(ke[It],It,ke)}}var Ct=_(E,U,ie);return Ct>-1?ke[qe?E[Ct]:Ct]:t}}function B1(_){return _c(function(E){var U=E.length,ie=U,ke=Fi.prototype.thru;for(_&&E.reverse();ie--;){var qe=E[ie];if(typeof qe!="function")throw new bu(s);if(ke&&!Ct&&Qp(qe)=="wrapper")var Ct=new Fi([],!0)}for(ie=Ct?ie:U;++ie<U;){qe=E[ie];var It=Qp(qe),zt=It=="wrapper"?Gp(qe):t;zt&&Z(zt[0])&&zt[1]==(H|ne|ge|X)&&!zt[4].length&&zt[9]==1?Ct=Ct[Qp(zt[0])].apply(Ct,zt[3]):Ct=qe.length==1&&Z(qe)?Ct[It]():Ct.thru(qe)}return function(){var xn=arguments,wn=xn[0];if(Ct&&xn.length==1&&_i(wn))return Ct.plant(wn).value();for(var Ln=0,cr=U?E[Ln].apply(this,xn):wn;++Ln<U;)cr=E[Ln].call(this,cr);return cr}})}function jf(_,E,U,ie,ke,qe,Ct,It,zt,xn){var wn=E&H,Ln=E&ee,cr=E&V,Zr=E&(ne|ce),Ci=E&Me,uo=cr?t:zf(_);function bi(){for(var wo=arguments.length,To=Qt(wo),dh=wo;dh--;)To[dh]=arguments[dh];if(Zr)var ZA=Qf(bi),fh=Wu(To,ZA);if(ie&&(To=Df(To,ie,ke,Zr)),qe&&(To=Qd(To,qe,Ct,Zr)),wo-=fh,Zr&&wo<xn){var Ml=tl(To,ZA);return Nf(_,E,jf,bi.placeholder,U,To,Ml,It,zt,xn-wo)}var Zd=Ln?U:this,Zp=cr?Zd[_]:_;return wo=To.length,It?To=Zn(To,It):Ci&&wo>1&&To.reverse(),wn&&zt<wo&&(To.length=zt),this&&this!==yr&&this instanceof bi&&(Zp=uo||zf(Zp)),Zp.apply(Zd,To)}return bi}function Dm(_,E){return function(U,ie){return rh(U,_,E(ie),{})}}function Zh(_,E){return function(U,ie){var ke;if(U===t&&ie===t)return E;if(U!==t&&(ke=U),ie!==t){if(ke===t)return ie;typeof U=="string"||typeof ie=="string"?(U=_o(U),ie=_o(ie)):(U=ta(U),ie=ta(ie)),ke=_(U,ie)}return ke}}function Xh(_){return _c(function(E){return E=Xo(E,zs(Jr())),Rt(function(U){var ie=this;return _(E,function(ke){return Lo(ke,ie,U)})})})}function Ul(_,E){E=E===t?" ":_o(E);var U=E.length;if(U<2)return U?Nt(E,_):E;var ie=Nt(E,dc(_/js(E)));return Gc(E)?Ns(_u(ie),0,_).join(""):ie.slice(0,_)}function Y0(_,E,U,ie){var ke=E&ee,qe=zf(_);function Ct(){for(var It=-1,zt=arguments.length,xn=-1,wn=ie.length,Ln=Qt(wn+zt),cr=this&&this!==yr&&this instanceof Ct?qe:_;++xn<wn;)Ln[xn]=ie[xn];for(;zt--;)Ln[xn++]=arguments[++It];return Lo(cr,ke?U:this,Ln)}return Ct}function lh(_){return function(E,U,ie){return ie&&typeof ie!="number"&&w(E,U,ie)&&(U=ie=t),E=Ie(E),U===t?(U=E,E=0):U=Ie(U),ie=ie===t?E<U?1:-1:Ie(ie),bt(E,U,ie,_)}}function Wp(_){return function(E,U){return typeof E=="string"&&typeof U=="string"||(E=Ye(E),U=Ye(U)),_(E,U)}}function Nf(_,E,U,ie,ke,qe,Ct,It,zt,xn){var wn=E&ne,Ln=wn?Ct:t,cr=wn?t:Ct,Zr=wn?qe:t,Ci=wn?t:qe;E|=wn?ge:fe,E&=~(wn?fe:ge),E&W||(E&=~(ee|V));var uo=[_,E,ke,Zr,Ln,Ci,cr,It,zt,xn],bi=U.apply(t,uo);return Z(_)&&or(bi,uo),bi.placeholder=ie,Oi(bi,_,E)}function q0(_){var E=fa[_];return function(U,ie){if(U=Ye(U),ie=ie==null?0:pa(Se(ie),292),ie&&Yc(U)){var ke=(de(U)+"e").split("e"),qe=E(ke[0]+"e"+(+ke[1]+ie));return ke=(de(qe)+"e").split("e"),+(ke[0]+"e"+(+ke[1]-ie))}return E(U)}}var d_=Jl&&1/nl(new Jl([,-0]))[1]==St?function(_){return new Jl(_)}:LS;function I1(_){return function(E){var U=ns(E);return U==Kt?Lh(E):U==ur?bf(E):vf(E,_(E))}}function xo(_,E,U,ie,ke,qe,Ct,It){var zt=E&V;if(!zt&&typeof _!="function")throw new bu(s);var xn=ie?ie.length:0;if(xn||(E&=~(ge|fe),ie=ke=t),Ct=Ct===t?Ct:Yo(Se(Ct),0),It=It===t?It:Se(It),xn-=ke?ke.length:0,E&fe){var wn=ie,Ln=ke;ie=ke=t}var cr=zt?t:Gp(_),Zr=[_,E,U,ie,ke,wn,Ln,qe,Ct,It];if(cr&&kt(Zr,cr),_=Zr[0],E=Zr[1],U=Zr[2],ie=Zr[3],ke=Zr[4],It=Zr[9]=Zr[9]===t?zt?0:_.length:Yo(Zr[9]-xn,0),!It&&E&(ne|ce)&&(E&=~(ne|ce)),!E||E==ee)var Ci=Ff(_,E,U);else E==ne||E==ce?Ci=O1(_,E,It):(E==ge||E==(ee|ge))&&!ke.length?Ci=Y0(_,E,U,ie):Ci=jf.apply(t,Zr);var uo=cr?Pn:or;return Oi(uo(Ci,Zr),_,E)}function Fm(_,E,U,ie){return _===t||OA(_,Qu[U])&&!so.call(ie,U)?E:_}function Wf(_,E,U,ie,ke,qe){return Wa(_)&&Wa(E)&&(qe.set(E,_),xe(_,E,t,Wf,qe),qe.delete(E)),_}function Gf(_){return u(_)?t:_}function al(_,E,U,ie,ke,qe){var Ct=U&L,It=_.length,zt=E.length;if(It!=zt&&!(Ct&&zt>It))return!1;var xn=qe.get(_),wn=qe.get(E);if(xn&&wn)return xn==E&&wn==_;var Ln=-1,cr=!0,Zr=U&Y?new Kl:t;for(qe.set(_,E),qe.set(E,_);++Ln<It;){var Ci=_[Ln],uo=E[Ln];if(ie)var bi=Ct?ie(uo,Ci,Ln,E,_,qe):ie(Ci,uo,Ln,_,E,qe);if(bi!==t){if(bi)continue;cr=!1;break}if(Zr){if(!Rc(E,function(wo,To){if(!ju(Zr,To)&&(Ci===wo||ke(Ci,wo,U,ie,qe)))return Zr.push(To)})){cr=!1;break}}else if(!(Ci===uo||ke(Ci,uo,U,ie,qe))){cr=!1;break}}return qe.delete(_),qe.delete(E),cr}function Jh(_,E,U,ie,ke,qe,Ct){switch(U){case Q:if(_.byteLength!=E.byteLength||_.byteOffset!=E.byteOffset)return!1;_=_.buffer,E=E.buffer;case Pe:return!(_.byteLength!=E.byteLength||!qe(new Uh(_),new Uh(E)));case Le:case ye:case Ht:return OA(+_,+E);case Qe:return _.name==E.name&&_.message==E.message;case tr:case _r:return _==E+"";case Kt:var It=Lh;case ur:var zt=ie&L;if(It||(It=nl),_.size!=E.size&&!zt)return!1;var xn=Ct.get(_);if(xn)return xn==E;ie|=Y,Ct.set(_,E);var wn=al(It(_),It(E),ie,ke,qe,Ct);return Ct.delete(_),wn;case Sr:if(pc)return pc.call(_)==pc.call(E)}return!1}function V0(_,E,U,ie,ke,qe){var Ct=U&L,It=Rm(_),zt=It.length,xn=Rm(E),wn=xn.length;if(zt!=wn&&!Ct)return!1;for(var Ln=zt;Ln--;){var cr=It[Ln];if(!(Ct?cr in E:so.call(E,cr)))return!1}var Zr=qe.get(_),Ci=qe.get(E);if(Zr&&Ci)return Zr==E&&Ci==_;var uo=!0;qe.set(_,E),qe.set(E,_);for(var bi=Ct;++Ln<zt;){cr=It[Ln];var wo=_[cr],To=E[cr];if(ie)var dh=Ct?ie(To,wo,cr,E,_,qe):ie(wo,To,cr,_,E,qe);if(!(dh===t?wo===To||ke(wo,To,U,ie,qe):dh)){uo=!1;break}bi||(bi=cr=="constructor")}if(uo&&!bi){var ZA=_.constructor,fh=E.constructor;ZA!=fh&&"constructor"in _&&"constructor"in E&&!(typeof ZA=="function"&&ZA instanceof ZA&&typeof fh=="function"&&fh instanceof fh)&&(uo=!1)}return qe.delete(_),qe.delete(E),uo}function _c(_){return Br(Kn(_,t,nd),_+"")}function Rm(_){return qo(_,Ri,qA)}function Um(_){return qo(_,Mo,H0)}var Gp=_A?function(_){return _A.get(_)}:LS;function Qp(_){for(var E=_.name+"",U=Hu[E],ie=so.call(Hu,E)?U.length:0;ie--;){var ke=U[ie],qe=ke.func;if(qe==null||qe==_)return ke.name}return E}function Qf(_){var E=so.call(je,"placeholder")?je:_;return E.placeholder}function Jr(){var _=je.iteratee||PS;return _=_===PS?S:_,arguments.length?_(arguments[0],arguments[1]):_}function $p(_,E){var U=_.__data__;return z(E)?U[typeof E=="string"?"string":"hash"]:U.map}function ao(_){for(var E=Ri(_),U=E.length;U--;){var ie=E[U],ke=_[ie];E[U]=[ie,ke,Ze(ke)]}return E}function ed(_,E){var U=Cf(_,E);return l(U)?U:t}function Ua(_){var E=so.call(_,hc),U=_[hc];try{_[hc]=t;var ie=!0}catch{}var ke=Yu.call(_);return ie&&(E?_[hc]=U:delete _[hc]),ke}var qA=Ef?function(_){return _==null?[]:(_=Do(_),zA(Ef(_),function(E){return Td.call(_,E)}))}:DS,H0=Ef?function(_){for(var E=[];_;)Hl(E,qA(_)),_=Vu(_);return E}:DS,ns=Ra;(Kd&&ns(new Kd(new ArrayBuffer(1)))!=Q||Mu&&ns(new Mu)!=Kt||fc&&ns(fc.resolve())!=nr||Jl&&ns(new Jl)!=ur||vA&&ns(new vA)!=pr)&&(ns=function(_){var E=Ra(_),U=E==Rn?_.constructor:t,ie=U?rs(U):"";if(ie)switch(ie){case Eu:return Q;case Zu:return Kt;case GA:return nr;case rl:return ur;case Vc:return pr}return E});function zm(_,E,U){for(var ie=-1,ke=U.length;++ie<ke;){var qe=U[ie],Ct=qe.size;switch(qe.type){case"drop":_+=Ct;break;case"dropRight":E-=Ct;break;case"take":E=pa(E,_+Ct);break;case"takeRight":_=Yo(_,E-Ct);break}}return{start:_,end:E}}function ca(_){var E=_.match(Un);return E?E[1].split(On):[]}function Z0(_,E,U){E=ru(E,_);for(var ie=-1,ke=E.length,qe=!1;++ie<ke;){var Ct=Ba(E[ie]);if(!(qe=_!=null&&U(_,Ct)))break;_=_[Ct]}return qe||++ie!=ke?qe:(ke=_==null?0:_.length,!!ke&&Xf(ke)&&M(Ct,ke)&&(_i(_)||qp(_)))}function k1(_){var E=_.length,U=new _.constructor(E);return E&&typeof _[0]=="string"&&so.call(_,"index")&&(U.index=_.index,U.input=_.input),U}function $f(_){return typeof _.constructor=="function"&&!Ce(_)?Hc(Vu(_)):{}}function Yf(_,E,U){var ie=_.constructor;switch(E){case Pe:return eA(_);case Le:case ye:return new ie(+_);case Q:return oh(_,U);case oe:case Re:case ut:case Tt:case jt:case ar:case ht:case Ee:case ve:return Bs(_,U);case Kt:return new ie;case Ht:case _r:return new ie(_);case tr:return Ws(_);case ur:return new ie;case Sr:return ya(_)}}function A(_,E){var U=E.length;if(!U)return _;var ie=U-1;return E[ie]=(U>1?"& ":"")+E[ie],E=E.join(U>2?", ":" "),_.replace($r,`{
/* [wrapped with `+E+`] */
`)}function g(_){return _i(_)||qp(_)||!!(cc&&_&&_[cc])}function M(_,E){var U=typeof _;return E=E??_t,!!E&&(U=="number"||U!="symbol"&&qa.test(_))&&_>-1&&_%1==0&&_<E}function w(_,E,U){if(!Wa(U))return!1;var ie=typeof E;return(ie=="number"?Qs(U)&&M(E,U.length):ie=="string"&&E in U)?OA(U[E],_):!1}function k(_,E){if(_i(_))return!1;var U=typeof _;return U=="number"||U=="symbol"||U=="boolean"||_==null||T(_)?!0:mn.test(_)||!cn.test(_)||E!=null&&_ in Do(E)}function z(_){var E=typeof _;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?_!=="__proto__":_===null}function Z(_){var E=Qp(_),U=je[E];if(typeof U!="function"||!(E in hn.prototype))return!1;if(_===U)return!0;var ie=Gp(U);return!!ie&&_===ie[0]}function ae(_){return!!Rh&&Rh in _}var he=$u?Ah:FS;function Ce(_){var E=_&&_.constructor,U=typeof E=="function"&&E.prototype||Qu;return _===U}function Ze(_){return _===_&&!Wa(_)}function at(_,E){return function(U){return U==null?!1:U[_]===E&&(E!==t||_ in Do(U))}}function Lt(_){var E=ag(_,function(ie){return U.size===m&&U.clear(),ie}),U=E.cache;return E}function kt(_,E){var U=_[1],ie=E[1],ke=U|ie,qe=ke<(ee|V|H),Ct=ie==H&&U==ne||ie==H&&U==X&&_[7].length<=E[8]||ie==(H|X)&&E[7].length<=E[8]&&U==ne;if(!(qe||Ct))return _;ie&ee&&(_[2]=E[2],ke|=U&ee?0:W);var It=E[3];if(It){var zt=_[3];_[3]=zt?Df(zt,It,E[4]):It,_[4]=zt?tl(_[3],C):E[4]}return It=E[5],It&&(zt=_[5],_[5]=zt?Qd(zt,It,E[6]):It,_[6]=zt?tl(_[5],C):E[6]),It=E[7],It&&(_[7]=It),ie&H&&(_[8]=_[8]==null?E[8]:pa(_[8],E[8])),_[9]==null&&(_[9]=E[9]),_[0]=E[0],_[1]=ke,_}function sn(_){var E=[];if(_!=null)for(var U in Do(_))E.push(U);return E}function vn(_){return Yu.call(_)}function Kn(_,E,U){return E=Yo(E===t?_.length-1:E,0),function(){for(var ie=arguments,ke=-1,qe=Yo(ie.length-E,0),Ct=Qt(qe);++ke<qe;)Ct[ke]=ie[E+ke];ke=-1;for(var It=Qt(E+1);++ke<E;)It[ke]=ie[ke];return It[E]=U(Ct),Lo(_,this,It)}}function Yn(_,E){return E.length<2?_:xA(_,jn(E,0,-1))}function Zn(_,E){for(var U=_.length,ie=pa(E.length,U),ke=vl(_);ie--;){var qe=E[ie];_[ie]=M(qe,U)?ke[qe]:t}return _}function Gn(_,E){if(!(E==="constructor"&&typeof _[E]=="function")&&E!="__proto__")return _[E]}var or=Fo(Pn),Lr=pl||function(_,E){return yr.setTimeout(_,E)},Br=Fo(Fn);function Oi(_,E,U){var ie=E+"";return Br(_,A(ie,_a(ca(ie),U)))}function Fo(_){var E=0,U=0;return function(){var ie=Of(),ke=me-(ie-U);if(U=ie,ke>0){if(++E>=Ue)return arguments[0]}else E=0;return _.apply(t,arguments)}}function va(_,E){var U=-1,ie=_.length,ke=ie-1;for(E=E===t?ie:E;++U<E;){var qe=vt(U,ke),Ct=_[qe];_[qe]=_[U],_[U]=Ct}return _.length=E,_}var ha=Lt(function(_){var E=[];return _.charCodeAt(0)===46&&E.push(""),_.replace(fn,function(U,ie,ke,qe){E.push(ke?qe.replace(ji,"$1"):ie||U)}),E});function Ba(_){if(typeof _=="string"||T(_))return _;var E=_+"";return E=="0"&&1/_==-St?"-0":E}function rs(_){if(_!=null){try{return WA.call(_)}catch{}try{return _+""}catch{}}return""}function _a(_,E){return el(nn,function(U){var ie="_."+U[0];E&U[1]&&!Ed(_,ie)&&_.push(ie)}),_.sort()}function zl(_){if(_ instanceof hn)return _.clone();var E=new Fi(_.__wrapped__,_.__chain__);return E.__actions__=vl(_.__actions__),E.__index__=_.__index__,E.__values__=_.__values__,E}function Is(_,E,U){(U?w(_,E,U):E===t)?E=1:E=Yo(Se(E),0);var ie=_==null?0:_.length;if(!ie||E<1)return[];for(var ke=0,qe=0,Ct=Qt(dc(ie/E));ke<ie;)Ct[qe++]=jn(_,ke,ke+=E);return Ct}function Ia(_){for(var E=-1,U=_==null?0:_.length,ie=0,ke=[];++E<U;){var qe=_[E];qe&&(ke[ie++]=qe)}return ke}function za(){var _=arguments.length;if(!_)return[];for(var E=Qt(_-1),U=arguments[0],ie=_;ie--;)E[ie-1]=arguments[ie];return Hl(_i(U)?vl(U):[U],Fa(E,1))}var ja=Rt(function(_,E){return ms(_)?bA(_,Fa(E,1,ms,!0)):[]}),ou=Rt(function(_,E){var U=xc(E);return ms(U)&&(U=t),ms(_)?bA(_,Fa(E,1,ms,!0),Jr(U,2)):[]}),Yd=Rt(function(_,E){var U=xc(E);return ms(U)&&(U=t),ms(_)?bA(_,Fa(E,1,ms,!0),t,U):[]});function uh(_,E,U){var ie=_==null?0:_.length;return ie?(E=U||E===t?1:Se(E),jn(_,E<0?0:E,ie)):[]}function _l(_,E,U){var ie=_==null?0:_.length;return ie?(E=U||E===t?1:Se(E),E=ie-E,jn(_,0,E<0?0:E)):[]}function Cc(_,E){return _&&_.length?ko(_,Jr(E,3),!0,!0):[]}function Na(_,E){return _&&_.length?ko(_,Jr(E,3),!0):[]}function jm(_,E,U,ie){var ke=_==null?0:_.length;return ke?(U&&typeof U!="number"&&w(_,E,U)&&(U=0,ie=ke),Kf(_,E,U,ie)):[]}function bc(_,E,U){var ie=_==null?0:_.length;if(!ie)return-1;var ke=U==null?0:Se(U);return ke<0&&(ke=Yo(ie+ke,0)),NA(_,Jr(E,3),ke)}function td(_,E,U){var ie=_==null?0:_.length;if(!ie)return-1;var ke=ie-1;return U!==t&&(ke=Se(U),ke=U<0?Yo(ie+ke,0):pa(ke,ie-1)),NA(_,Jr(E,3),ke,!0)}function nd(_){var E=_==null?0:_.length;return E?Fa(_,1):[]}function jl(_){var E=_==null?0:_.length;return E?Fa(_,St):[]}function qf(_,E){var U=_==null?0:_.length;return U?(E=E===t?1:Se(E),Fa(_,E)):[]}function X0(_){for(var E=-1,U=_==null?0:_.length,ie={};++E<U;){var ke=_[E];ie[ke[0]]=ke[1]}return ie}function f_(_){return _&&_.length?_[0]:t}function p_(_,E,U){var ie=_==null?0:_.length;if(!ie)return-1;var ke=U==null?0:Se(U);return ke<0&&(ke=Yo(ie+ke,0)),bo(_,E,ke)}function W2(_){var E=_==null?0:_.length;return E?jn(_,0,-1):[]}var G2=Rt(function(_){var E=Xo(_,MA);return E.length&&E[0]===_[0]?wA(E):[]}),Q2=Rt(function(_){var E=xc(_),U=Xo(_,MA);return E===xc(U)?E=t:U.pop(),U.length&&U[0]===_[0]?wA(U,Jr(E,2)):[]}),QM=Rt(function(_){var E=xc(_),U=Xo(_,MA);return E=typeof E=="function"?E:t,E&&U.pop(),U.length&&U[0]===_[0]?wA(U,t,E):[]});function T1(_,E){return _==null?"":jh.call(_,E)}function xc(_){var E=_==null?0:_.length;return E?_[E-1]:t}function $2(_,E,U){var ie=_==null?0:_.length;if(!ie)return-1;var ke=ie;return U!==t&&(ke=Se(U),ke=ke<0?Yo(ie+ke,0):pa(ke,ie-1)),E===E?Dh(_,E,ke):NA(_,zc,ke,!0)}function $M(_,E){return _&&_.length?De(_,Se(E)):t}var YM=Rt(Y2);function Y2(_,E){return _&&_.length&&E&&E.length?ct(_,E):_}function q2(_,E,U){return _&&_.length&&E&&E.length?ct(_,E,Jr(U,2)):_}function qM(_,E,U){return _&&_.length&&E&&E.length?ct(_,E,t,U):_}var VM=_c(function(_,E){var U=_==null?0:_.length,ie=Jc(_,E);return pt(_,Xo(E,function(ke){return M(ke,U)?+ke:ke}).sort(ts)),ie});function J0(_,E){var U=[];if(!(_&&_.length))return U;var ie=-1,ke=[],qe=_.length;for(E=Jr(E,3);++ie<qe;){var Ct=_[ie];E(Ct,ie,_)&&(U.push(Ct),ke.push(ie))}return pt(_,ke),U}function P1(_){return _==null?_:Nh.call(_)}function m_(_,E,U){var ie=_==null?0:_.length;return ie?(U&&typeof U!="number"&&w(_,E,U)?(E=0,U=ie):(E=E==null?0:Se(E),U=U===t?ie:Se(U)),jn(_,E,U)):[]}function V2(_,E){return zr(_,E)}function Gs(_,E,U){return Rr(_,E,Jr(U,2))}function g_(_,E){var U=_==null?0:_.length;if(U){var ie=zr(_,E);if(ie<U&&OA(_[ie],E))return ie}return-1}function HM(_,E){return zr(_,E,!0)}function H2(_,E,U){return Rr(_,E,Jr(U,2),!0)}function y_(_,E){var U=_==null?0:_.length;if(U){var ie=zr(_,E,!0)-1;if(OA(_[ie],E))return ie}return-1}function v_(_){return _&&_.length?Kr(_):[]}function ZM(_,E){return _&&_.length?Kr(_,Jr(E,2)):[]}function XM(_){var E=_==null?0:_.length;return E?jn(_,1,E):[]}function JM(_,E,U){return _&&_.length?(E=U||E===t?1:Se(E),jn(_,0,E<0?0:E)):[]}function Z2(_,E,U){var ie=_==null?0:_.length;return ie?(E=U||E===t?1:Se(E),E=ie-E,jn(_,E<0?0:E,ie)):[]}function X2(_,E){return _&&_.length?ko(_,Jr(E,3),!1,!0):[]}function nA(_,E){return _&&_.length?ko(_,Jr(E,3)):[]}var __=Rt(function(_){return mi(Fa(_,1,ms,!0))}),J2=Rt(function(_){var E=xc(_);return ms(E)&&(E=t),mi(Fa(_,1,ms,!0),Jr(E,2))}),Vf=Rt(function(_){var E=xc(_);return E=typeof E=="function"?E:t,mi(Fa(_,1,ms,!0),t,E)});function eg(_){return _&&_.length?mi(_):[]}function tg(_,E){return _&&_.length?mi(_,Jr(E,2)):[]}function Nm(_,E){return E=typeof E=="function"?E:t,_&&_.length?mi(_,t,E):[]}function Wm(_){if(!(_&&_.length))return[];var E=0;return _=zA(_,function(U){if(ms(U))return E=Yo(U.length,E),!0}),yf(E,function(U){return Xo(_,Lp(U))})}function ng(_,E){if(!(_&&_.length))return[];var U=Wm(_);return E==null?U:Xo(U,function(ie){return Lo(E,t,ie)})}var eS=Rt(function(_,E){return ms(_)?bA(_,E):[]}),tS=Rt(function(_){return ps(zA(_,ms))}),ex=Rt(function(_){var E=xc(_);return ms(E)&&(E=t),ps(zA(_,ms),Jr(E,2))}),tx=Rt(function(_){var E=xc(_);return E=typeof E=="function"?E:t,ps(zA(_,ms),t,E)}),nS=Rt(Wm);function nx(_,E){return yl(_||[],E||[],Xc)}function rx(_,E){return yl(_||[],E||[],In)}var C_=Rt(function(_){var E=_.length,U=E>1?_[E-1]:t;return U=typeof U=="function"?(_.pop(),U):t,ng(_,U)});function K1(_){var E=je(_);return E.__chain__=!0,E}function rS(_,E){return E(_),_}function L1(_,E){return E(_)}var ix=_c(function(_){var E=_.length,U=E?_[0]:0,ie=this.__wrapped__,ke=function(qe){return Jc(qe,_)};return E>1||this.__actions__.length||!(ie instanceof hn)||!M(U)?this.thru(ke):(ie=ie.slice(U,+U+(E?1:0)),ie.__actions__.push({func:L1,args:[ke],thisArg:t}),new Fi(ie,this.__chain__).thru(function(qe){return E&&!qe.length&&qe.push(t),qe}))});function ox(){return K1(this)}function rg(){return new Fi(this.value(),this.__chain__)}function rd(){this.__values__===t&&(this.__values__=we(this.value()));var _=this.__index__>=this.__values__.length,E=_?t:this.__values__[this.__index__++];return{done:_,value:E}}function Hf(){return this}function ax(_){for(var E,U=this;U instanceof Da;){var ie=zl(U);ie.__index__=0,ie.__values__=t,E?ke.__wrapped__=ie:E=ie;var ke=ie;U=U.__wrapped__}return ke.__wrapped__=_,E}function b_(){var _=this.__wrapped__;if(_ instanceof hn){var E=_;return this.__actions__.length&&(E=new hn(this)),E=E.reverse(),E.__actions__.push({func:L1,args:[P1],thisArg:t}),new Fi(E,this.__chain__)}return this.thru(P1)}function iS(){return na(this.__wrapped__,this.__actions__)}var oS=tA(function(_,E,U){so.call(_,U)?++_[U]:vo(_,U,1)});function D1(_,E,U){var ie=_i(_)?dA:jp;return U&&w(_,E,U)&&(E=t),ie(_,Jr(E,3))}function x_(_,E){var U=_i(_)?zA:Ll;return U(_,Jr(E,3))}var aS=Lm(bc),w_=Lm(td);function M_(_,E){return Fa(U1(_,E),1)}function Gm(_,E){return Fa(U1(_,E),St)}function sx(_,E,U){return U=U===t?1:Se(U),Fa(U1(_,E),U)}function S_(_,E){var U=_i(_)?el:nu;return U(_,Jr(E,3))}function F1(_,E){var U=_i(_)?Sd:zd;return U(_,Jr(E,3))}var lx=tA(function(_,E,U){so.call(_,U)?_[U].push(E):vo(_,U,[E])});function R1(_,E,U,ie){_=Qs(_)?_:Wl(_),U=U&&!ie?Se(U):0;var ke=_.length;return U<0&&(U=Yo(ke+U,0)),P(_)?U<=ke&&_.indexOf(E,U)>-1:!!ke&&bo(_,E,U)>-1}var ux=Rt(function(_,E,U){var ie=-1,ke=typeof E=="function",qe=Qs(_)?Qt(_.length):[];return nu(_,function(Ct){qe[++ie]=ke?Lo(E,Ct,U):ih(Ct,E,U)}),qe}),sS=tA(function(_,E,U){vo(_,U,E)});function U1(_,E){var U=_i(_)?Xo:J;return U(_,Jr(E,3))}function Ax(_,E,U,ie){return _==null?[]:(_i(E)||(E=E==null?[]:[E]),U=ie?t:U,_i(U)||(U=U==null?[]:[U]),tt(_,E,U))}var lS=tA(function(_,E,U){_[U?0:1].push(E)},function(){return[[],[]]});function uS(_,E,U){var ie=_i(_)?Zl:Dp,ke=arguments.length<3;return ie(_,Jr(E,4),U,ke,nu)}function AS(_,E,U){var ie=_i(_)?kh:Dp,ke=arguments.length<3;return ie(_,Jr(E,4),U,ke,zd)}function cS(_,E){var U=_i(_)?zA:Ll;return U(_,sg(Jr(E,3)))}function E_(_){var E=_i(_)?Zc:Gt;return E(_)}function Zf(_,E,U){(U?w(_,E,U):E===t)?E=1:E=Se(E);var ie=_i(_)?Pf:tn;return ie(_,E)}function cx(_){var E=_i(_)?$h:$n;return E(_)}function hx(_){if(_==null)return 0;if(Qs(_))return P(_)?js(_):_.length;var E=ns(_);return E==Kt||E==ur?_.size:F(_).length}function dx(_,E,U){var ie=_i(_)?Rc:Ei;return U&&w(_,E,U)&&(E=t),ie(_,Jr(E,3))}var fx=Rt(function(_,E){if(_==null)return[];var U=E.length;return U>1&&w(_,E[0],E[1])?E=[]:U>2&&w(E[0],E[1],E[2])&&(E=[E[0]]),tt(_,Fa(E,1),[])}),ig=xu||function(){return yr.Date.now()};function O_(_,E){if(typeof E!="function")throw new bu(s);return _=Se(_),function(){if(--_<1)return E.apply(this,arguments)}}function Qm(_,E,U){return E=U?t:E,E=_&&E==null?_.length:E,xo(_,H,t,t,t,t,E)}function B_(_,E){var U;if(typeof E!="function")throw new bu(s);return _=Se(_),function(){return--_>0&&(U=E.apply(this,arguments)),_<=1&&(E=t),U}}var og=Rt(function(_,E,U){var ie=ee;if(U.length){var ke=tl(U,Qf(og));ie|=ge}return xo(_,ie,E,U,ke)}),I_=Rt(function(_,E,U){var ie=ee|V;if(U.length){var ke=tl(U,Qf(I_));ie|=ge}return xo(E,ie,_,U,ke)});function EA(_,E,U){E=U?t:E;var ie=xo(_,ne,t,t,t,t,t,E);return ie.placeholder=EA.placeholder,ie}function Yp(_,E,U){E=U?t:E;var ie=xo(_,ce,t,t,t,t,t,E);return ie.placeholder=Yp.placeholder,ie}function k_(_,E,U){var ie,ke,qe,Ct,It,zt,xn=0,wn=!1,Ln=!1,cr=!0;if(typeof _!="function")throw new bu(s);E=Ye(E)||0,Wa(U)&&(wn=!!U.leading,Ln="maxWait"in U,qe=Ln?Yo(Ye(U.maxWait)||0,E):qe,cr="trailing"in U?!!U.trailing:cr);function Zr(Ml){var Zd=ie,Zp=ke;return ie=ke=t,xn=Ml,Ct=_.apply(Zp,Zd),Ct}function Ci(Ml){return xn=Ml,It=Lr(wo,E),wn?Zr(Ml):Ct}function uo(Ml){var Zd=Ml-zt,Zp=Ml-xn,RT=E-Zd;return Ln?pa(RT,qe-Zp):RT}function bi(Ml){var Zd=Ml-zt,Zp=Ml-xn;return zt===t||Zd>=E||Zd<0||Ln&&Zp>=qe}function wo(){var Ml=ig();if(bi(Ml))return To(Ml);It=Lr(wo,uo(Ml))}function To(Ml){return It=t,cr&&ie?Zr(Ml):(ie=ke=t,Ct)}function dh(){It!==t&&es(It),xn=0,ie=zt=ke=It=t}function ZA(){return It===t?Ct:To(ig())}function fh(){var Ml=ig(),Zd=bi(Ml);if(ie=arguments,ke=this,zt=Ml,Zd){if(It===t)return Ci(zt);if(Ln)return es(It),It=Lr(wo,E),Zr(zt)}return It===t&&(It=Lr(wo,E)),Ct}return fh.cancel=dh,fh.flush=ZA,fh}var px=Rt(function(_,E){return Ud(_,1,E)}),mx=Rt(function(_,E,U){return Ud(_,Ye(E)||0,U)});function gx(_){return xo(_,Me)}function ag(_,E){if(typeof _!="function"||E!=null&&typeof E!="function")throw new bu(s);var U=function(){var ie=arguments,ke=E?E.apply(this,ie):ie[0],qe=U.cache;if(qe.has(ke))return qe.get(ke);var Ct=_.apply(this,ie);return U.cache=qe.set(ke,Ct)||qe,Ct};return U.cache=new(ag.Cache||Ou),U}ag.Cache=Ou;function sg(_){if(typeof _!="function")throw new bu(s);return function(){var E=arguments;switch(E.length){case 0:return!_.call(this);case 1:return!_.call(this,E[0]);case 2:return!_.call(this,E[0],E[1]);case 3:return!_.call(this,E[0],E[1],E[2])}return!_.apply(this,E)}}function hS(_){return B_(2,_)}var yx=YA(function(_,E){E=E.length==1&&_i(E[0])?Xo(E[0],zs(Jr())):Xo(Fa(E,1),zs(Jr()));var U=E.length;return Rt(function(ie){for(var ke=-1,qe=pa(ie.length,U);++ke<qe;)ie[ke]=E[ke].call(this,ie[ke]);return Lo(_,this,ie)})}),id=Rt(function(_,E){var U=tl(E,Qf(id));return xo(_,ge,t,E,U)}),T_=Rt(function(_,E){var U=tl(E,Qf(T_));return xo(_,fe,t,E,U)}),vx=_c(function(_,E){return xo(_,X,t,t,t,E)});function _x(_,E){if(typeof _!="function")throw new bu(s);return E=E===t?E:Se(E),Rt(_,E)}function Cx(_,E){if(typeof _!="function")throw new bu(s);return E=E==null?0:Yo(Se(E),0),Rt(function(U){var ie=U[E],ke=Ns(U,0,E);return ie&&Hl(ke,ie),Lo(_,this,ke)})}function dS(_,E,U){var ie=!0,ke=!0;if(typeof _!="function")throw new bu(s);return Wa(U)&&(ie="leading"in U?!!U.leading:ie,ke="trailing"in U?!!U.trailing:ke),k_(_,E,{leading:ie,maxWait:E,trailing:ke})}function fS(_){return Qm(_,1)}function bx(_,E){return id(Fl(E),_)}function $m(){if(!arguments.length)return[];var _=arguments[0];return _i(_)?_:[_]}function xx(_){return ol(_,K)}function z1(_,E){return E=typeof E=="function"?E:t,ol(_,K,E)}function wx(_){return ol(_,B|K)}function j1(_,E){return E=typeof E=="function"?E:t,ol(_,B|K,E)}function N1(_,E){return E==null||Yh(_,E,Ri(E))}function OA(_,E){return _===E||_!==_&&E!==E}var pS=Wp(vc),mS=Wp(function(_,E){return _>=E}),qp=Wd(function(){return arguments}())?Wd:function(_){return gs(_)&&so.call(_,"callee")&&!Td.call(_,"callee")},_i=Qt.isArray,Nl=ki?zs(ki):Ju;function Qs(_){return _!=null&&Xf(_.length)&&!Ah(_)}function ms(_){return gs(_)&&Qs(_)}function Mx(_){return _===!0||_===!1||gs(_)&&Ra(_)==Le}var qd=zh||FS,P_=pi?zs(pi):Np;function gS(_){return gs(_)&&_.nodeType===1&&!u(_)}function Sx(_){if(_==null)return!0;if(Qs(_)&&(_i(_)||typeof _=="string"||typeof _.splice=="function"||qd(_)||D(_)||qp(_)))return!_.length;var E=ns(_);if(E==Kt||E==ur)return!_.size;if(Ce(_))return!F(_).length;for(var U in _)if(so.call(_,U))return!1;return!0}function Ex(_,E){return $A(_,E)}function yS(_,E,U){U=typeof U=="function"?U:t;var ie=U?U(_,E):t;return ie===t?$A(_,E,t,U):!!ie}function W1(_){if(!gs(_))return!1;var E=Ra(_);return E==Qe||E==Te||typeof _.message=="string"&&typeof _.name=="string"&&!u(_)}function K_(_){return typeof _=="number"&&Yc(_)}function Ah(_){if(!Wa(_))return!1;var E=Ra(_);return E==st||E==lt||E==Jt||E==_n}function L_(_){return typeof _=="number"&&_==Se(_)}function Xf(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=_t}function Wa(_){var E=typeof _;return _!=null&&(E=="object"||E=="function")}function gs(_){return _!=null&&typeof _=="object"}var G1=$i?zs($i):Hh;function Q1(_,E){return _===E||O(_,E,ao(E))}function lg(_,E,U){return U=typeof U=="function"?U:t,O(_,E,ao(E),U)}function D_(_){return d(_)&&_!=+_}function F_(_){if(he(_))throw new ai(o);return l(_)}function R_(_){return _===null}function vS(_){return _==null}function d(_){return typeof _=="number"||gs(_)&&Ra(_)==Ht}function u(_){if(!gs(_)||Ra(_)!=Rn)return!1;var E=Vu(_);if(E===null)return!0;var U=so.call(E,"constructor")&&E.constructor;return typeof U=="function"&&U instanceof U&&WA.call(U)==pA}var h=La?zs(La):c;function y(_){return L_(_)&&_>=-_t&&_<=_t}var x=Ss?zs(Ss):v;function P(_){return typeof _=="string"||!_i(_)&&gs(_)&&Ra(_)==_r}function T(_){return typeof _=="symbol"||gs(_)&&Ra(_)==Sr}var D=ho?zs(ho):b;function N(_){return _===t}function $(_){return gs(_)&&ns(_)==pr}function te(_){return gs(_)&&Ra(_)==fi}var se=Wp(G),pe=Wp(function(_,E){return _<=E});function we(_){if(!_)return[];if(Qs(_))return P(_)?_u(_):vl(_);if(gA&&_[gA])return $0(_[gA]());var E=ns(_),U=E==Kt?Lh:E==ur?nl:Wl;return U(_)}function Ie(_){if(!_)return _===0?_:0;if(_=Ye(_),_===St||_===-St){var E=_<0?-1:1;return E*ft}return _===_?_:0}function Se(_){var E=Ie(_),U=E%1;return E===E?U?E-U:E:0}function He(_){return _?gl(Se(_),0,et):0}function Ye(_){if(typeof _=="number")return _;if(T(_))return $e;if(Wa(_)){var E=typeof _.valueOf=="function"?_.valueOf():_;_=Wa(E)?E+"":E}if(typeof _!="string")return _===0?_:+_;_=vu(_);var U=Ko.test(_);return U||yo.test(_)?bn(_.slice(2),U?2:8):Ni.test(_)?$e:+_}function Mt(_){return Bu(_,Mo(_))}function At(_){return _?gl(Se(_),-_t,_t):_===0?_:0}function de(_){return _==null?"":_o(_)}var Ne=Rl(function(_,E){if(Ce(E)||Qs(E)){Bu(E,Ri(E),_);return}for(var U in E)so.call(E,U)&&Xc(_,U,E[U])}),yt=Rl(function(_,E){Bu(E,Mo(E),_)}),Ut=Rl(function(_,E,U,ie){Bu(E,Mo(E),_,ie)}),gn=Rl(function(_,E,U,ie){Bu(E,Ri(E),_,ie)}),qt=_c(Jc);function on(_,E){var U=Hc(_);return E==null?U:gc(U,E)}var Mn=Rt(function(_,E){_=Do(_);var U=-1,ie=E.length,ke=ie>2?E[2]:t;for(ke&&w(E[0],E[1],ke)&&(ie=1);++U<ie;)for(var qe=E[U],Ct=Mo(qe),It=-1,zt=Ct.length;++It<zt;){var xn=Ct[It],wn=_[xn];(wn===t||OA(wn,Qu[xn])&&!so.call(_,xn))&&(_[xn]=qe[xn])}return _}),Cn=Rt(function(_){return _.push(t,Wf),Lo(ks,t,_)});function Tn(_,E){return km(_,Jr(E,3),Dl)}function ln(_,E){return km(_,Jr(E,3),eh)}function lr(_,E){return _==null?_:yc(_,Jr(E,3),Mo)}function Gr(_,E){return _==null?_:Vh(_,Jr(E,3),Mo)}function Ir(_,E){return _&&Dl(_,Jr(E,3))}function xr(_,E){return _&&eh(_,Jr(E,3))}function Yi(_){return _==null?[]:th(_,Ri(_))}function Ga(_){return _==null?[]:th(_,Mo(_))}function is(_,E,U){var ie=_==null?t:xA(_,E);return ie===t?U:ie}function au(_,E){return _!=null&&Z0(_,E,jd)}function Iu(_,E){return _!=null&&Z0(_,E,Nd)}var ku=Dm(function(_,E,U){E!=null&&typeof E.toString!="function"&&(E=Yu.call(E)),_[E]=U},TS(Mc)),Cl=Dm(function(_,E,U){E!=null&&typeof E.toString!="function"&&(E=Yu.call(E)),so.call(_,E)?_[E].push(U):_[E]=[U]},Jr),Tu=Rt(ih);function Ri(_){return Qs(_)?Pr(_):F(_)}function Mo(_){return Qs(_)?Pr(_,!0):R(_)}function bl(_,E){var U={};return E=Jr(E,3),Dl(_,function(ie,ke,qe){vo(U,E(ie,ke,qe),ie)}),U}function Pu(_,E){var U={};return E=Jr(E,3),Dl(_,function(ie,ke,qe){vo(U,ke,E(ie,ke,qe))}),U}var Ku=Rl(function(_,E,U){xe(_,E,U)}),ks=Rl(function(_,E,U,ie){xe(_,E,U,ie)}),VA=_c(function(_,E){var U={};if(_==null)return U;var ie=!1;E=Xo(E,function(qe){return qe=ru(qe,_),ie||(ie=qe.length>1),qe}),Bu(_,Um(_),U),ie&&(U=ol(U,B|I|K,Gf));for(var ke=E.length;ke--;)ga(U,E[ke]);return U});function rA(_,E){return xl(_,sg(Jr(E)))}var Co=_c(function(_,E){return _==null?{}:Xe(_,E)});function xl(_,E){if(_==null)return{};var U=Xo(Um(_),function(ie){return[ie]});return E=Jr(E),Ge(_,U,function(ie,ke){return E(ie,ke[0])})}function ka(_,E,U){E=ru(E,_);var ie=-1,ke=E.length;for(ke||(ke=1,_=t);++ie<ke;){var qe=_==null?t:_[Ba(E[ie])];qe===t&&(ie=ke,qe=U),_=Ah(qe)?qe.call(_):qe}return _}function Qa(_,E,U){return _==null?_:In(_,E,U)}function sl(_,E,U,ie){return ie=typeof ie=="function"?ie:t,_==null?_:In(_,E,U,ie)}var Jf=I1(Ri),BA=I1(Mo);function $1(_,E,U){var ie=_i(_),ke=ie||qd(_)||D(_);if(E=Jr(E,4),U==null){var qe=_&&_.constructor;ke?U=ie?new qe:[]:Wa(_)?U=Ah(qe)?Hc(Vu(_)):{}:U={}}return(ke?el:Dl)(_,function(Ct,It,zt){return E(U,Ct,It,zt)}),U}function wc(_,E){return _==null?!0:ga(_,E)}function IA(_,E,U){return _==null?_:Aa(_,E,Fl(U))}function wl(_,E,U,ie){return ie=typeof ie=="function"?ie:t,_==null?_:Aa(_,E,Fl(U),ie)}function Wl(_){return _==null?[]:Kh(_,Ri(_))}function Vd(_){return _==null?[]:Kh(_,Mo(_))}function Ox(_,E,U){return U===t&&(U=E,E=t),U!==t&&(U=Ye(U),U=U===U?U:0),E!==t&&(E=Ye(E),E=E===E?E:0),gl(Ye(_),E,U)}function Bx(_,E,U){return E=Ie(E),U===t?(U=E,E=0):U=Ie(U),_=Ye(_),nh(_,E,U)}function Ix(_,E,U){if(U&&typeof U!="boolean"&&w(_,E,U)&&(E=U=t),U===t&&(typeof E=="boolean"?(U=E,E=t):typeof _=="boolean"&&(U=_,_=t)),_===t&&E===t?(_=0,E=1):(_=Ie(_),E===t?(E=_,_=0):E=Ie(E)),_>E){var ie=_;_=E,E=ie}if(U||_%1||E%1){var ke=wu();return pa(_+ke*(E-_+Hn("1e-"+((ke+"").length-1))),E)}return vt(_,E)}var kx=Uf(function(_,E,U){return E=E.toLowerCase(),_+(U?Y1(E):E)});function Y1(_){return kS(de(_).toLowerCase())}function q1(_){return _=de(_),_&&_.replace(Wi,_f).replace(yu,"")}function Hd(_,E,U){_=de(_),E=_o(E);var ie=_.length;U=U===t?ie:gl(Se(U),0,ie);var ke=U;return U-=E.length,U>=0&&_.slice(U,ke)==E}function Tx(_){return _=de(_),_&&Ft.test(_)?_.replace(dt,fA):_}function Px(_){return _=de(_),_&&rr.test(_)?_.replace(Cr,"\\$&"):_}var _S=Uf(function(_,E,U){return _+(U?"-":"")+E.toLowerCase()}),CS=Uf(function(_,E,U){return _+(U?" ":"")+E.toLowerCase()}),bS=Rf("toLowerCase");function xS(_,E,U){_=de(_),E=Se(E);var ie=E?js(_):0;if(!E||ie>=E)return _;var ke=(E-ie)/2;return Ul(yA(ke),U)+_+Ul(dc(ke),U)}function wS(_,E,U){_=de(_),E=Se(E);var ie=E?js(_):0;return E&&ie<E?_+Ul(E-ie,U):_}function MS(_,E,U){_=de(_),E=Se(E);var ie=E?js(_):0;return E&&ie<E?Ul(E-ie,U)+_:_}function SS(_,E,U){return U||E==null?E=0:E&&(E=+E),qc(de(_).replace(Mr,""),E||0)}function ES(_,E,U){return(U?w(_,E,U):E===t)?E=1:E=Se(E),Nt(de(_),E)}function ch(){var _=arguments,E=de(_[0]);return _.length<3?E:E.replace(_[1],_[2])}var V1=Uf(function(_,E,U){return _+(U?"_":"")+E.toLowerCase()});function Kx(_,E,U){return U&&typeof U!="number"&&w(_,E,U)&&(E=U=t),U=U===t?et:U>>>0,U?(_=de(_),_&&(typeof E=="string"||E!=null&&!h(E))&&(E=_o(E),!E&&Gc(_))?Ns(_u(_),0,U):_.split(E,U)):[]}var OS=Uf(function(_,E,U){return _+(U?" ":"")+kS(E)});function BS(_,E,U){return _=de(_),U=U==null?0:gl(Se(U),0,_.length),E=_o(E),_.slice(U,U+E.length)==E}function IS(_,E,U){var ie=je.templateSettings;U&&w(_,E,U)&&(E=t),_=de(_),E=Ut({},E,ie,Fm);var ke=Ut({},E.imports,ie.imports,Fm),qe=Ri(ke),Ct=Kh(ke,qe),It,zt,xn=0,wn=E.interpolate||Ho,Ln="__p += '",cr=Fh((E.escape||Ho).source+"|"+wn.source+"|"+(wn===Bt?ei:Ho).source+"|"+(E.evaluate||Ho).source+"|$","g"),Zr="//# sourceURL="+(so.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fl+"]")+`
`;_.replace(cr,function(bi,wo,To,dh,ZA,fh){return To||(To=dh),Ln+=_.slice(xn,fh).replace(Ma,Wc),wo&&(It=!0,Ln+=`' +
__e(`+wo+`) +
'`),ZA&&(zt=!0,Ln+=`';
`+ZA+`;
__p += '`),To&&(Ln+=`' +
((__t = (`+To+`)) == null ? '' : __t) +
'`),xn=fh+bi.length,bi}),Ln+=`';
`;var Ci=so.call(E,"variable")&&E.variable;if(!Ci)Ln=`with (obj) {
`+Ln+`
}
`;else if(ti.test(Ci))throw new ai(a);Ln=(zt?Ln.replace(p,""):Ln).replace(Ke,"$1").replace(ze,"$1;"),Ln="function("+(Ci||"obj")+`) {
`+(Ci?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(It?", __e = _.escape":"")+(zt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ln+`return __p
}`;var uo=DT(function(){return br(qe,Zr+"return "+Ln).apply(t,Ct)});if(uo.source=Ln,W1(uo))throw uo;return uo}function su(_){return de(_).toLowerCase()}function HA(_){return de(_).toUpperCase()}function Vp(_,E,U){if(_=de(_),_&&(U||E===t))return vu(_);if(!_||!(E=_o(E)))return _;var ie=_u(_),ke=_u(E),qe=Nu(ie,ke),Ct=Nc(ie,ke)+1;return Ns(ie,qe,Ct).join("")}function hh(_,E,U){if(_=de(_),_&&(U||E===t))return _.slice(0,io(_)+1);if(!_||!(E=_o(E)))return _;var ie=_u(_),ke=Nc(ie,_u(E))+1;return Ns(ie,0,ke).join("")}function Hp(_,E,U){if(_=de(_),_&&(U||E===t))return _.replace(Mr,"");if(!_||!(E=_o(E)))return _;var ie=_u(_),ke=Nu(ie,_u(E));return Ns(ie,ke).join("")}function od(_,E){var U=be,ie=Fe;if(Wa(E)){var ke="separator"in E?E.separator:ke;U="length"in E?Se(E.length):U,ie="omission"in E?_o(E.omission):ie}_=de(_);var qe=_.length;if(Gc(_)){var Ct=_u(_);qe=Ct.length}if(U>=qe)return _;var It=U-js(ie);if(It<1)return ie;var zt=Ct?Ns(Ct,0,It).join(""):_.slice(0,It);if(ke===t)return zt+ie;if(Ct&&(It+=zt.length-It),h(ke)){if(_.slice(It).search(ke)){var xn,wn=zt;for(ke.global||(ke=Fh(ke.source,de(Wr.exec(ke))+"g")),ke.lastIndex=0;xn=ke.exec(wn);)var Ln=xn.index;zt=zt.slice(0,Ln===t?It:Ln)}}else if(_.indexOf(_o(ke),It)!=It){var cr=zt.lastIndexOf(ke);cr>-1&&(zt=zt.slice(0,cr))}return zt+ie}function xq(_){return _=de(_),_&&ot.test(_)?_.replace(it,xf):_}var wq=Uf(function(_,E,U){return _+(U?" ":"")+E.toUpperCase()}),kS=Rf("toUpperCase");function LT(_,E,U){return _=de(_),E=U?t:E,E===t?Fp(_)?Bd(_):Im(_):_.match(E)||[]}var DT=Rt(function(_,E){try{return Lo(_,t,E)}catch(U){return W1(U)?U:new ai(U)}}),Mq=_c(function(_,E){return el(E,function(U){U=Ba(U),vo(_,U,og(_[U],_))}),_});function Sq(_){var E=_==null?0:_.length,U=Jr();return _=E?Xo(_,function(ie){if(typeof ie[1]!="function")throw new bu(s);return[U(ie[0]),ie[1]]}):[],Rt(function(ie){for(var ke=-1;++ke<E;){var qe=_[ke];if(Lo(qe[0],this,ie))return Lo(qe[1],this,ie)}})}function Eq(_){return zp(ol(_,B))}function TS(_){return function(){return _}}function Oq(_,E){return _==null||_!==_?E:_}var Bq=B1(),Iq=B1(!0);function Mc(_){return _}function PS(_){return S(typeof _=="function"?_:ol(_,B))}function kq(_){return ue(ol(_,B))}function Tq(_,E){return re(_,ol(E,B))}var Pq=Rt(function(_,E){return function(U){return ih(U,_,E)}}),Kq=Rt(function(_,E){return function(U){return ih(_,U,E)}});function KS(_,E,U){var ie=Ri(E),ke=th(E,ie);U==null&&!(Wa(E)&&(ke.length||!ie.length))&&(U=E,E=_,_=this,ke=th(E,Ri(E)));var qe=!(Wa(U)&&"chain"in U)||!!U.chain,Ct=Ah(_);return el(ke,function(It){var zt=E[It];_[It]=zt,Ct&&(_.prototype[It]=function(){var xn=this.__chain__;if(qe||xn){var wn=_(this.__wrapped__),Ln=wn.__actions__=vl(this.__actions__);return Ln.push({func:zt,args:arguments,thisArg:_}),wn.__chain__=xn,wn}return zt.apply(_,Hl([this.value()],arguments))})}),_}function Lq(){return yr._===this&&(yr._=Es),this}function LS(){}function Dq(_){return _=Se(_),Rt(function(E){return De(E,_)})}var Fq=Xh(Xo),Rq=Xh(dA),Uq=Xh(Rc);function FT(_){return k(_)?Lp(Ba(_)):gt(_)}function zq(_){return function(E){return _==null?t:xA(_,E)}}var jq=lh(),Nq=lh(!0);function DS(){return[]}function FS(){return!1}function Wq(){return{}}function Gq(){return""}function Qq(){return!0}function $q(_,E){if(_=Se(_),_<1||_>_t)return[];var U=et,ie=pa(_,et);E=Jr(E),_-=et;for(var ke=yf(ie,E);++U<_;)E(U);return ke}function Yq(_){return _i(_)?Xo(_,Ba):T(_)?[_]:vl(ha(de(_)))}function qq(_){var E=++Mf;return de(_)+E}var Vq=Zh(function(_,E){return _+E},0),Hq=q0("ceil"),Zq=Zh(function(_,E){return _/E},1),Xq=q0("floor");function Jq(_){return _&&_.length?qh(_,Mc,vc):t}function eV(_,E){return _&&_.length?qh(_,Jr(E,2),vc):t}function tV(_){return jc(_,Mc)}function nV(_,E){return jc(_,Jr(E,2))}function rV(_){return _&&_.length?qh(_,Mc,G):t}function iV(_,E){return _&&_.length?qh(_,Jr(E,2),G):t}var oV=Zh(function(_,E){return _*E},1),aV=q0("round"),sV=Zh(function(_,E){return _-E},0);function lV(_){return _&&_.length?Ph(_,Mc):0}function uV(_,E){return _&&_.length?Ph(_,Jr(E,2)):0}return je.after=O_,je.ary=Qm,je.assign=Ne,je.assignIn=yt,je.assignInWith=Ut,je.assignWith=gn,je.at=qt,je.before=B_,je.bind=og,je.bindAll=Mq,je.bindKey=I_,je.castArray=$m,je.chain=K1,je.chunk=Is,je.compact=Ia,je.concat=za,je.cond=Sq,je.conforms=Eq,je.constant=TS,je.countBy=oS,je.create=on,je.curry=EA,je.curryRight=Yp,je.debounce=k_,je.defaults=Mn,je.defaultsDeep=Cn,je.defer=px,je.delay=mx,je.difference=ja,je.differenceBy=ou,je.differenceWith=Yd,je.drop=uh,je.dropRight=_l,je.dropRightWhile=Cc,je.dropWhile=Na,je.fill=jm,je.filter=x_,je.flatMap=M_,je.flatMapDeep=Gm,je.flatMapDepth=sx,je.flatten=nd,je.flattenDeep=jl,je.flattenDepth=qf,je.flip=gx,je.flow=Bq,je.flowRight=Iq,je.fromPairs=X0,je.functions=Yi,je.functionsIn=Ga,je.groupBy=lx,je.initial=W2,je.intersection=G2,je.intersectionBy=Q2,je.intersectionWith=QM,je.invert=ku,je.invertBy=Cl,je.invokeMap=ux,je.iteratee=PS,je.keyBy=sS,je.keys=Ri,je.keysIn=Mo,je.map=U1,je.mapKeys=bl,je.mapValues=Pu,je.matches=kq,je.matchesProperty=Tq,je.memoize=ag,je.merge=Ku,je.mergeWith=ks,je.method=Pq,je.methodOf=Kq,je.mixin=KS,je.negate=sg,je.nthArg=Dq,je.omit=VA,je.omitBy=rA,je.once=hS,je.orderBy=Ax,je.over=Fq,je.overArgs=yx,je.overEvery=Rq,je.overSome=Uq,je.partial=id,je.partialRight=T_,je.partition=lS,je.pick=Co,je.pickBy=xl,je.property=FT,je.propertyOf=zq,je.pull=YM,je.pullAll=Y2,je.pullAllBy=q2,je.pullAllWith=qM,je.pullAt=VM,je.range=jq,je.rangeRight=Nq,je.rearg=vx,je.reject=cS,je.remove=J0,je.rest=_x,je.reverse=P1,je.sampleSize=Zf,je.set=Qa,je.setWith=sl,je.shuffle=cx,je.slice=m_,je.sortBy=fx,je.sortedUniq=v_,je.sortedUniqBy=ZM,je.split=Kx,je.spread=Cx,je.tail=XM,je.take=JM,je.takeRight=Z2,je.takeRightWhile=X2,je.takeWhile=nA,je.tap=rS,je.throttle=dS,je.thru=L1,je.toArray=we,je.toPairs=Jf,je.toPairsIn=BA,je.toPath=Yq,je.toPlainObject=Mt,je.transform=$1,je.unary=fS,je.union=__,je.unionBy=J2,je.unionWith=Vf,je.uniq=eg,je.uniqBy=tg,je.uniqWith=Nm,je.unset=wc,je.unzip=Wm,je.unzipWith=ng,je.update=IA,je.updateWith=wl,je.values=Wl,je.valuesIn=Vd,je.without=eS,je.words=LT,je.wrap=bx,je.xor=tS,je.xorBy=ex,je.xorWith=tx,je.zip=nS,je.zipObject=nx,je.zipObjectDeep=rx,je.zipWith=C_,je.entries=Jf,je.entriesIn=BA,je.extend=yt,je.extendWith=Ut,KS(je,je),je.add=Vq,je.attempt=DT,je.camelCase=kx,je.capitalize=Y1,je.ceil=Hq,je.clamp=Ox,je.clone=xx,je.cloneDeep=wx,je.cloneDeepWith=j1,je.cloneWith=z1,je.conformsTo=N1,je.deburr=q1,je.defaultTo=Oq,je.divide=Zq,je.endsWith=Hd,je.eq=OA,je.escape=Tx,je.escapeRegExp=Px,je.every=D1,je.find=aS,je.findIndex=bc,je.findKey=Tn,je.findLast=w_,je.findLastIndex=td,je.findLastKey=ln,je.floor=Xq,je.forEach=S_,je.forEachRight=F1,je.forIn=lr,je.forInRight=Gr,je.forOwn=Ir,je.forOwnRight=xr,je.get=is,je.gt=pS,je.gte=mS,je.has=au,je.hasIn=Iu,je.head=f_,je.identity=Mc,je.includes=R1,je.indexOf=p_,je.inRange=Bx,je.invoke=Tu,je.isArguments=qp,je.isArray=_i,je.isArrayBuffer=Nl,je.isArrayLike=Qs,je.isArrayLikeObject=ms,je.isBoolean=Mx,je.isBuffer=qd,je.isDate=P_,je.isElement=gS,je.isEmpty=Sx,je.isEqual=Ex,je.isEqualWith=yS,je.isError=W1,je.isFinite=K_,je.isFunction=Ah,je.isInteger=L_,je.isLength=Xf,je.isMap=G1,je.isMatch=Q1,je.isMatchWith=lg,je.isNaN=D_,je.isNative=F_,je.isNil=vS,je.isNull=R_,je.isNumber=d,je.isObject=Wa,je.isObjectLike=gs,je.isPlainObject=u,je.isRegExp=h,je.isSafeInteger=y,je.isSet=x,je.isString=P,je.isSymbol=T,je.isTypedArray=D,je.isUndefined=N,je.isWeakMap=$,je.isWeakSet=te,je.join=T1,je.kebabCase=_S,je.last=xc,je.lastIndexOf=$2,je.lowerCase=CS,je.lowerFirst=bS,je.lt=se,je.lte=pe,je.max=Jq,je.maxBy=eV,je.mean=tV,je.meanBy=nV,je.min=rV,je.minBy=iV,je.stubArray=DS,je.stubFalse=FS,je.stubObject=Wq,je.stubString=Gq,je.stubTrue=Qq,je.multiply=oV,je.nth=$M,je.noConflict=Lq,je.noop=LS,je.now=ig,je.pad=xS,je.padEnd=wS,je.padStart=MS,je.parseInt=SS,je.random=Ix,je.reduce=uS,je.reduceRight=AS,je.repeat=ES,je.replace=ch,je.result=ka,je.round=aV,je.runInContext=Dt,je.sample=E_,je.size=hx,je.snakeCase=V1,je.some=dx,je.sortedIndex=V2,je.sortedIndexBy=Gs,je.sortedIndexOf=g_,je.sortedLastIndex=HM,je.sortedLastIndexBy=H2,je.sortedLastIndexOf=y_,je.startCase=OS,je.startsWith=BS,je.subtract=sV,je.sum=lV,je.sumBy=uV,je.template=IS,je.times=$q,je.toFinite=Ie,je.toInteger=Se,je.toLength=He,je.toLower=su,je.toNumber=Ye,je.toSafeInteger=At,je.toString=de,je.toUpper=HA,je.trim=Vp,je.trimEnd=hh,je.trimStart=Hp,je.truncate=od,je.unescape=xq,je.uniqueId=qq,je.upperCase=wq,je.upperFirst=kS,je.each=S_,je.eachRight=F1,je.first=f_,KS(je,function(){var _={};return Dl(je,function(E,U){so.call(je.prototype,U)||(_[U]=E)}),_}(),{chain:!1}),je.VERSION=r,el(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){je[_].placeholder=je}),el(["drop","take"],function(_,E){hn.prototype[_]=function(U){U=U===t?1:Yo(Se(U),0);var ie=this.__filtered__&&!E?new hn(this):this.clone();return ie.__filtered__?ie.__takeCount__=pa(U,ie.__takeCount__):ie.__views__.push({size:pa(U,et),type:_+(ie.__dir__<0?"Right":"")}),ie},hn.prototype[_+"Right"]=function(U){return this.reverse()[_](U).reverse()}}),el(["filter","map","takeWhile"],function(_,E){var U=E+1,ie=U==Ve||U==Ot;hn.prototype[_]=function(ke){var qe=this.clone();return qe.__iteratees__.push({iteratee:Jr(ke,3),type:U}),qe.__filtered__=qe.__filtered__||ie,qe}}),el(["head","last"],function(_,E){var U="take"+(E?"Right":"");hn.prototype[_]=function(){return this[U](1).value()[0]}}),el(["initial","tail"],function(_,E){var U="drop"+(E?"":"Right");hn.prototype[_]=function(){return this.__filtered__?new hn(this):this[U](1)}}),hn.prototype.compact=function(){return this.filter(Mc)},hn.prototype.find=function(_){return this.filter(_).head()},hn.prototype.findLast=function(_){return this.reverse().find(_)},hn.prototype.invokeMap=Rt(function(_,E){return typeof _=="function"?new hn(this):this.map(function(U){return ih(U,_,E)})}),hn.prototype.reject=function(_){return this.filter(sg(Jr(_)))},hn.prototype.slice=function(_,E){_=Se(_);var U=this;return U.__filtered__&&(_>0||E<0)?new hn(U):(_<0?U=U.takeRight(-_):_&&(U=U.drop(_)),E!==t&&(E=Se(E),U=E<0?U.dropRight(-E):U.take(E-_)),U)},hn.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},hn.prototype.toArray=function(){return this.take(et)},Dl(hn.prototype,function(_,E){var U=/^(?:filter|find|map|reject)|While$/.test(E),ie=/^(?:head|last)$/.test(E),ke=je[ie?"take"+(E=="last"?"Right":""):E],qe=ie||/^find/.test(E);ke&&(je.prototype[E]=function(){var Ct=this.__wrapped__,It=ie?[1]:arguments,zt=Ct instanceof hn,xn=It[0],wn=zt||_i(Ct),Ln=function(wo){var To=ke.apply(je,Hl([wo],It));return ie&&cr?To[0]:To};wn&&U&&typeof xn=="function"&&xn.length!=1&&(zt=wn=!1);var cr=this.__chain__,Zr=!!this.__actions__.length,Ci=qe&&!cr,uo=zt&&!Zr;if(!qe&&wn){Ct=uo?Ct:new hn(this);var bi=_.apply(Ct,It);return bi.__actions__.push({func:L1,args:[Ln],thisArg:t}),new Fi(bi,cr)}return Ci&&uo?_.apply(this,It):(bi=this.thru(Ln),Ci?ie?bi.value()[0]:bi.value():bi)})}),el(["pop","push","shift","sort","splice","unshift"],function(_){var E=wf[_],U=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",ie=/^(?:pop|shift)$/.test(_);je.prototype[_]=function(){var ke=arguments;if(ie&&!this.__chain__){var qe=this.value();return E.apply(_i(qe)?qe:[],ke)}return this[U](function(Ct){return E.apply(_i(Ct)?Ct:[],ke)})}}),Dl(hn.prototype,function(_,E){var U=je[E];if(U){var ie=U.name+"";so.call(Hu,ie)||(Hu[ie]=[]),Hu[ie].push({name:E,func:U})}}),Hu[jf(t,V).name]=[{name:"wrapper",func:t}],hn.prototype.clone=ma,hn.prototype.reverse=fs,hn.prototype.value=Wh,je.prototype.at=ix,je.prototype.chain=ox,je.prototype.commit=rg,je.prototype.next=rd,je.prototype.plant=ax,je.prototype.reverse=b_,je.prototype.toJSON=je.prototype.valueOf=je.prototype.value=iS,je.prototype.first=je.prototype.head,gA&&(je.prototype[gA]=Hf),je},Cu=Qc();Di?((Di.exports=Cu)._=Cu,Tr._=Cu):yr._=Cu}).call(Bp)})(Q4,Q4.exports);var F5=Q4.exports;const UO=wa(F5);function wee(n,e,t){const r=e<0?n.length+e:e;if(r>=0&&r<n.length){const i=t<0?n.length+t:t,[o]=n.splice(e,1);n.splice(i,0,o)}}function Mee(n){for(var e=5381,t=n.length;t;)e=e*33^n.charCodeAt(--t);return e>>>0}var See=Mee;const CP=wa(See);var Eee=8,Oee={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Bee={"*":{type:"source"}},Iee=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],kee={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Tee={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Pee={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Kee={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Lee={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Dee={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Fee={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Ree=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Uee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zee={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jee={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Nee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wee={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gee={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Qee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},$ee={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Yee={type:"array",value:"*"},qee={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},Vee={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Hee={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Zee={type:"array",value:"*",minimum:1},Xee={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Jee={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},ete={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},tte={type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},nte=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],rte={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},ite={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},ote={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},ate={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ste={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},lte={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ute={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ate={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},cte={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},hte={"*":{type:"string"}},da={$version:Eee,$root:Oee,sources:Bee,source:Iee,source_vector:kee,source_raster:Tee,source_raster_dem:Pee,source_geojson:Kee,source_video:Lee,source_image:Dee,layer:Fee,layout:Ree,layout_background:Uee,layout_fill:zee,layout_circle:jee,layout_heatmap:Nee,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Wee,layout_symbol:Gee,layout_raster:Qee,layout_hillshade:$ee,filter:Yee,filter_operator:qee,geometry_type:Vee,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Hee,expression:Zee,light:Xee,sky:Jee,terrain:ete,projection:tte,paint:nte,paint_fill:rte,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:ite,paint_circle:ote,paint_heatmap:ate,paint_symbol:ste,paint_raster:lte,paint_hillshade:ute,paint_background:Ate,transition:cte,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:hte};const dte=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function fte(n,e){const t={};for(const r in n)r!=="ref"&&(t[r]=n[r]);return dte.forEach(r=>{r in e&&(t[r]=e[r])}),t}function pte(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=fte(n[t],e[n[t].ref]));return n}function Ta(n,e){if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Ta(n[t],e[t]))return!1;return!0}if(typeof n=="object"&&n!==null&&e!==null){if(typeof e!="object"||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(!Ta(n[r],e[r]))return!1;return!0}return n===e}function ud(n,e){n.push(e)}function jz(n,e,t){ud(t,{command:"addSource",args:[n,e[n]]})}function Nz(n,e,t){ud(e,{command:"removeSource",args:[n]}),t[n]=!0}function mte(n,e,t,r){Nz(n,t,r),jz(n,e,t)}function gte(n,e,t){let r;for(r in n[t])if(Object.prototype.hasOwnProperty.call(n[t],r)&&r!=="data"&&!Ta(n[t][r],e[t][r]))return!1;for(r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)&&r!=="data"&&!Ta(n[t][r],e[t][r]))return!1;return!0}function yte(n,e,t,r){n=n||{},e=e||{};let i;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(e,i)||Nz(i,t,r));for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(n,i)?Ta(n[i],e[i])||(n[i].type==="geojson"&&e[i].type==="geojson"&&gte(n,e,i)?ud(t,{command:"setGeoJSONSourceData",args:[i,e[i].data]}):mte(i,e,t,r)):jz(i,e,t))}function Jx(n,e,t,r,i,o){n=n||{},e=e||{};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(Ta(n[s],e[s])||t.push({command:o,args:[r,s,e[s],i]}));for(const s in e)!Object.prototype.hasOwnProperty.call(e,s)||Object.prototype.hasOwnProperty.call(n,s)||Ta(n[s],e[s])||t.push({command:o,args:[r,s,e[s],i]})}function bP(n){return n.id}function xP(n,e){return n[e.id]=e,n}function vte(n,e,t){n=n||[],e=e||[];const r=n.map(bP),i=e.map(bP),o=n.reduce(xP,{}),s=e.reduce(xP,{}),a=r.slice(),f=Object.create(null);let m,C,B,I,K;for(let L=0,Y=0;L<r.length;L++)m=r[L],Object.prototype.hasOwnProperty.call(s,m)?Y++:(ud(t,{command:"removeLayer",args:[m]}),a.splice(a.indexOf(m,Y),1));for(let L=0,Y=0;L<i.length;L++)m=i[i.length-1-L],a[a.length-1-L]!==m&&(Object.prototype.hasOwnProperty.call(o,m)?(ud(t,{command:"removeLayer",args:[m]}),a.splice(a.lastIndexOf(m,a.length-Y),1)):Y++,I=a[a.length-L],ud(t,{command:"addLayer",args:[s[m],I]}),a.splice(a.length-L,0,m),f[m]=!0);for(let L=0;L<i.length;L++)if(m=i[L],C=o[m],B=s[m],!(f[m]||Ta(C,B))){if(!Ta(C.source,B.source)||!Ta(C["source-layer"],B["source-layer"])||!Ta(C.type,B.type)){ud(t,{command:"removeLayer",args:[m]}),I=a[a.lastIndexOf(m)+1],ud(t,{command:"addLayer",args:[B,I]});continue}Jx(C.layout,B.layout,t,m,null,"setLayoutProperty"),Jx(C.paint,B.paint,t,m,null,"setPaintProperty"),Ta(C.filter,B.filter)||ud(t,{command:"setFilter",args:[m,B.filter]}),(!Ta(C.minzoom,B.minzoom)||!Ta(C.maxzoom,B.maxzoom))&&ud(t,{command:"setLayerZoomRange",args:[m,B.minzoom,B.maxzoom]});for(K in C)Object.prototype.hasOwnProperty.call(C,K)&&(K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?Jx(C[K],B[K],t,m,K.slice(6),"setPaintProperty"):Ta(C[K],B[K])||ud(t,{command:"setLayerProperty",args:[m,K,B[K]]})));for(K in B)!Object.prototype.hasOwnProperty.call(B,K)||Object.prototype.hasOwnProperty.call(C,K)||K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?Jx(C[K],B[K],t,m,K.slice(6),"setPaintProperty"):Ta(C[K],B[K])||ud(t,{command:"setLayerProperty",args:[m,K,B[K]]}))}}function _te(n,e){if(!n)return[{command:"setStyle",args:[e]}];let t=[];try{if(!Ta(n.version,e.version))return[{command:"setStyle",args:[e]}];Ta(n.center,e.center)||t.push({command:"setCenter",args:[e.center]}),Ta(n.zoom,e.zoom)||t.push({command:"setZoom",args:[e.zoom]}),Ta(n.bearing,e.bearing)||t.push({command:"setBearing",args:[e.bearing]}),Ta(n.pitch,e.pitch)||t.push({command:"setPitch",args:[e.pitch]}),Ta(n.sprite,e.sprite)||t.push({command:"setSprite",args:[e.sprite]}),Ta(n.glyphs,e.glyphs)||t.push({command:"setGlyphs",args:[e.glyphs]}),Ta(n.transition,e.transition)||t.push({command:"setTransition",args:[e.transition]}),Ta(n.light,e.light)||t.push({command:"setLight",args:[e.light]}),Ta(n.terrain,e.terrain)||t.push({command:"setTerrain",args:[e.terrain]}),Ta(n.sky,e.sky)||t.push({command:"setSky",args:[e.sky]}),Ta(n.projection,e.projection)||t.push({command:"setProjection",args:[e.projection]});const r={},i=[];yte(n.sources,e.sources,i,r);const o=[];n.layers&&n.layers.forEach(s=>{"source"in s&&r[s.source]?t.push({command:"removeLayer",args:[s.id]}):o.push(s)}),t=t.concat(i),vte(o,e.layers,t)}catch(r){console.warn("Unable to compute style diff:",r),t=[{command:"setStyle",args:[e]}]}return t}class Vn{constructor(e,t,r,i){this.message=(e?`${e}: `:"")+r,i&&(this.identifier=i),t!=null&&t.__line__&&(this.line=t.__line__)}}function Iv(n,...e){for(const t of e)for(const r in t)n[r]=t[r];return n}class dp extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}let Cte=class Wz{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(e){return new Wz(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}};const R5={kind:"null"},Jn={kind:"number"},mo={kind:"string"},Zi={kind:"boolean"},_p={kind:"color"},ev={kind:"object"},Ji={kind:"value"},bte={kind:"error"},U5={kind:"collator"},z5={kind:"formatted"},j5={kind:"padding"},t2={kind:"resolvedImage"},N5={kind:"variableAnchorOffsetCollection"};function yh(n,e){return{kind:"array",itemType:n,N:e}}function Ps(n){if(n.kind==="array"){const e=Ps(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const xte=[R5,Jn,mo,Zi,_p,z5,ev,yh(Ji),j5,t2,N5];function bb(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!bb(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of xte)if(!bb(t,e))return null}}return`Expected ${Ps(n)} but found ${Ps(e)} instead.`}function G7(n,e){return e.some(t=>t.kind===n.kind)}function Qg(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}function Z_(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const Gz=.96422,Qz=1,$z=.82521,Yz=4/29,tv=6/29,qz=3*tv*tv,wte=tv*tv*tv,Mte=Math.PI/180,Ste=180/Math.PI;function Vz(n){return n=n%360,n<0&&(n+=360),n}function Hz([n,e,t,r]){n=mE(n),e=mE(e),t=mE(t);let i,o;const s=gE((.2225045*n+.7168786*e+.0606169*t)/Qz);n===e&&e===t?i=o=s:(i=gE((.4360747*n+.3850649*e+.1430804*t)/Gz),o=gE((.0139322*n+.0971045*e+.7141733*t)/$z));const a=116*s-16;return[a<0?0:a,500*(i-s),200*(s-o),r]}function mE(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function gE(n){return n>wte?Math.pow(n,1/3):n/qz+Yz}function Zz([n,e,t,r]){let i=(n+16)/116,o=isNaN(e)?i:i+e/500,s=isNaN(t)?i:i-t/200;return i=Qz*vE(i),o=Gz*vE(o),s=$z*vE(s),[yE(3.1338561*o-1.6168667*i-.4906146*s),yE(-.9787684*o+1.9161415*i+.033454*s),yE(.0719453*o-.2289914*i+1.4052427*s),r]}function yE(n){return n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055,n<0?0:n>1?1:n}function vE(n){return n>tv?n*n*n:qz*(n-Yz)}function Ete(n){const[e,t,r,i]=Hz(n),o=Math.sqrt(t*t+r*r);return[Math.round(o*1e4)?Vz(Math.atan2(r,t)*Ste):NaN,o,e,i]}function Ote([n,e,t,r]){return n=isNaN(n)?0:n*Mte,Zz([t,Math.cos(n)*e,Math.sin(n)*e,r])}function Bte([n,e,t,r]){n=Vz(n),e/=100,t/=100;function i(o){const s=(o+n/30)%12,a=e*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(s-3,9-s,1))}return[i(0),i(8),i(4),r]}function Ite(n){if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];const e=kte[n];if(e){const[i,o,s]=e;return[i/255,o/255,s/255,1]}if(n.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(n)){const o=n.length<6?1:2;let s=1;return[e3(n.slice(s,s+=o)),e3(n.slice(s,s+=o)),e3(n.slice(s,s+=o)),e3(n.slice(s,s+o)||"ff")]}if(n.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=n.match(i);if(o){const[s,a,f,m,C,B,I,K,L,Y,ee,V]=o,W=[m||" ",I||" ",Y].join("");if(W==="  "||W==="  /"||W===",,"||W===",,,"){const ne=[f,B,L].join(""),ce=ne==="%%%"?100:ne===""?255:0;if(ce){const ge=[dy(+a/ce,0,1),dy(+C/ce,0,1),dy(+K/ce,0,1),ee?wP(+ee,V):1];if(MP(ge))return ge}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=n.match(t);if(r){const[i,o,s,a,f,m,C,B,I]=r,K=[s||" ",f||" ",C].join("");if(K==="  "||K==="  /"||K===",,"||K===",,,"){const L=[+o,dy(+a,0,100),dy(+m,0,100),B?wP(+B,I):1];if(MP(L))return Bte(L)}}}function e3(n){return parseInt(n.padEnd(2,n),16)/255}function wP(n,e){return dy(e?n/100:n,0,1)}function dy(n,e,t){return Math.min(Math.max(e,n),t)}function MP(n){return!n.some(Number.isNaN)}const kte={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let Ls=class zO{constructor(e,t,r,i=1,o=!0){this.r=e,this.g=t,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,r,i]))}static parse(e){if(e instanceof zO)return e;if(typeof e!="string")return;const t=Ite(e);if(t)return new zO(...t,!1)}get rgb(){const{r:e,g:t,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[e/o,t/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",Ete(this.rgb))}get lab(){return this.overwriteGetter("lab",Hz(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,r,i]=this.rgb;return`rgba(${[e,t,r].map(o=>Math.round(o*255)).join(",")},${i})`}};Ls.black=new Ls(0,0,0,1);Ls.white=new Ls(1,1,1,1);Ls.transparent=new Ls(0,0,0,0);Ls.red=new Ls(1,0,0,1);let Q7=class{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},jO=class{constructor(e,t,r,i,o){this.text=e,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}},Yv=class X3{constructor(e){this.sections=e}static fromString(e){return new X3([new jO(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof X3?e:X3.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}};class Sh{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Sh)return e;if(typeof e=="number")return new Sh([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new Sh(e)}}toString(){return JSON.stringify(this.values)}}const Tte=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class xp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof xp)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const r=e[t],i=e[t+1];if(typeof r!="string"||!Tte.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new xp(e)}}toString(){return JSON.stringify(this.values)}}let v1=class Xz{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Xz({name:e,available:!1}):null}};function Jz(n,e,t,r){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[n,e,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[n,e,t,r]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function xb(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof Ls||n instanceof Q7||n instanceof Yv||n instanceof Sh||n instanceof xp||n instanceof v1)return!0;if(Array.isArray(n)){for(const e of n)if(!xb(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!xb(n[e]))return!1;return!0}else return!1}function fu(n){if(n===null)return R5;if(typeof n=="string")return mo;if(typeof n=="boolean")return Zi;if(typeof n=="number")return Jn;if(n instanceof Ls)return _p;if(n instanceof Q7)return U5;if(n instanceof Yv)return z5;if(n instanceof Sh)return j5;if(n instanceof xp)return N5;if(n instanceof v1)return t2;if(Array.isArray(n)){const e=n.length;let t;for(const r of n){const i=fu(r);if(!t)t=i;else{if(t===i)continue;t=Ji;break}}return yh(t||Ji,e)}else return ev}function RC(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof Ls||n instanceof Yv||n instanceof Sh||n instanceof xp||n instanceof v1?n.toString():JSON.stringify(n)}let $4=class ej{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!xb(e[1]))return t.error("invalid value");const r=e[1];let i=fu(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new ej(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},Pl=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const t3={string:mo,number:Jn,boolean:Zi,object:ev};let cm=class tj{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=e[0];if(o==="array"){let a;if(e.length>2){const m=e[1];if(typeof m!="string"||!(m in t3)||m==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=t3[m],r++}else a=Ji;let f;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);f=e[2],r++}i=yh(a,f)}else{if(!t3[o])throw new Error(`Types doesn't contain name = ${o}`);i=t3[o]}const s=[];for(;r<e.length;r++){const a=t.parse(e[r],r,Ji);if(!a)return null;s.push(a)}return new tj(i,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(bb(this.type,fu(r))){if(t===this.args.length-1)throw new Pl(`Expected value to be of type ${Ps(this.type)}, but found ${Ps(fu(r))} instead.`)}else return r}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};const SP={"to-boolean":Zi,"to-color":_p,"to-number":Jn,"to-string":mo};let Fy=class nj{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(!SP[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=SP[r],o=[];for(let s=1;s<e.length;s++){const a=t.parse(e[s],s,Ji);if(!a)return null;o.push(a)}return new nj(i,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,r;for(const i of this.args){if(t=i.evaluate(e),r=null,t instanceof Ls)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=Jz(t[0],t[1],t[2],t[3]),!r))return new Ls(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Pl(r||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const r of this.args){t=r.evaluate(e);const i=Sh.parse(t);if(i)return i}throw new Pl(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const r of this.args){t=r.evaluate(e);const i=xp.parse(t);if(i)return i}throw new Pl(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const r of this.args){if(t=r.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Pl(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Yv.fromString(RC(this.args[0].evaluate(e)));case"resolvedImage":return v1.fromString(RC(this.args[0].evaluate(e)));default:return RC(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};const Pte=["Unknown","Point","LineString","Polygon"];let rj=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Pte[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ls.parse(e)),t}},ij=class oj{constructor(e,t,r=[],i,o=new Cte,s=[]){this.registry=e,this.path=r,this.key=r.map(a=>`[${a}]`).join(""),this.scope=o,this.errors=s,this.expectedType=i,this._isConstant=t}parse(e,t,r,i,o={}){return t?this.concat(t,r,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function r(i,o,s){return s==="assert"?new cm(o,[i]):s==="coerce"?new Fy(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(e,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="padding"&&(f.kind==="value"||f.kind==="number"||f.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(a.kind==="variableAnchorOffsetCollection"&&(f.kind==="value"||f.kind==="array"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof $4)&&s.type.kind!=="resolvedImage"&&this._isConstant(s)){const a=new rj;try{s=new $4(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const i=typeof e=="number"?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new oj(this.registry,this._isConstant,i,t||null,o,this.errors)}error(e,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new dp(r,e))}checkSubtype(e,t){const r=bb(e,t);return r&&this.error(r),r}},aj=class sj{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let o=1;o<e.length-1;o+=2){const s=e[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(e[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return i?new sj(r,i):null}outputDefined(){return this.result.outputDefined()}},lj=class uj{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new uj(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}},Kte=class Aj{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,Jn),i=t.parse(e[2],2,yh(t.expectedType||Ji));if(!r||!i)return null;const o=i.type;return new Aj(o.itemType,r,i)}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Pl(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Pl(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Pl(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}},Lte=class cj{constructor(e,t){this.type=Zi,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,Ji),i=t.parse(e[2],2,Ji);return!r||!i?null:G7(r.type,[Zi,mo,Jn,R5,Ji])?new cj(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(r.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Qg(t,["boolean","string","number","null"]))throw new Pl(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(fu(t))} instead.`);if(!Qg(r,["string","array"]))throw new Pl(`Expected second argument to be of type array or string, but found ${Ps(fu(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}},Dte=class NO{constructor(e,t,r){this.type=Jn,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,Ji),i=t.parse(e[2],2,Ji);if(!r||!i)return null;if(!G7(r.type,[Zi,mo,Jn,R5,Ji]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Jn);return o?new NO(r,i,o):null}else return new NO(r,i)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Qg(t,["boolean","string","number","null"]))throw new Pl(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(fu(t))} instead.`);let i;if(this.fromIndex&&(i=this.fromIndex.evaluate(e)),Qg(r,["string"])){const o=r.indexOf(t,i);return o===-1?-1:[...r.slice(0,o)].length}else{if(Qg(r,["array"]))return r.indexOf(t,i);throw new Pl(`Expected second argument to be of type array or string, but found ${Ps(fu(r))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}},Fte=class hj{constructor(e,t,r,i,o,s){this.inputType=e,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let m=2;m<e.length-1;m+=2){let C=e[m];const B=e[m+1];Array.isArray(C)||(C=[C]);const I=t.concat(m);if(C.length===0)return I.error("Expected at least one branch label.");for(const L of C){if(typeof L!="number"&&typeof L!="string")return I.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return I.error("Numeric branch labels must be integer values.");if(!r)r=fu(L);else if(I.checkSubtype(r,fu(L)))return null;if(typeof o[String(L)]<"u")return I.error("Branch labels must be unique.");o[String(L)]=s.length}const K=t.parse(B,m,i);if(!K)return null;i=i||K.type,s.push(K)}const a=t.parse(e[1],1,Ji);if(!a)return null;const f=t.parse(e[e.length-1],e.length-1,i);return!f||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new hj(r,i,a,o,s,f)}evaluate(e){const t=this.input.evaluate(e);return(fu(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}},Rte=class dj{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<e.length-1;s+=2){const a=t.parse(e[s],s,Zi);if(!a)return null;const f=t.parse(e[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=t.parse(e[e.length-1],e.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new dj(r,i,o)}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}},Ute=class WO{constructor(e,t,r,i){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,Ji),i=t.parse(e[2],2,Jn);if(!r||!i)return null;if(!G7(r.type,[yh(Ji),mo,Ji]))return t.error(`Expected first argument to be of type array or string, but found ${Ps(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Jn);return o?new WO(r.type,r,i,o):null}else return new WO(r.type,r,i)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);let i;if(this.endIndex&&(i=this.endIndex.evaluate(e)),Qg(t,["string"]))return[...t].slice(r,i).join("");if(Qg(t,["array"]))return t.slice(r,i);throw new Pl(`Expected first argument to be of type array or string, but found ${Ps(fu(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}};function W5(n,e){const t=n.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=n[o],a=n[o+1],s<=e){if(o===t||e<a)return o;r=o+1}else if(s>e)i=o-1;else throw new Pl("Input is not a number.");return 0}let fj=class pj{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,Jn);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<e.length;s+=2){const a=s===1?-1/0:e[s],f=e[s+1],m=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const B=t.parse(f,C,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new pj(o,r,i)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=W5(t,i);return r[s].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}};function zte(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jte=mj;function mj(n,e,t,r){this.cx=3*n,this.bx=3*(t-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=e,this.p2x=t,this.p2y=r}mj.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,e){if(e===void 0&&(e=1e-6),n<0)return 0;if(n>1)return 1;for(var t=n,r=0;r<8;r++){var i=this.sampleCurveX(t)-n;if(Math.abs(i)<e)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=n,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-n)<e));r++)n>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))}};var Nte=zte(jte);function Wte(n){return n==="rgb"||n==="hcl"||n==="lab"}function $g(n,e,t){return n+t*(e-n)}function Gte(n,e,t,r="rgb"){switch(r){case"rgb":{const[i,o,s,a]=Y4(n.rgb,e.rgb,t);return new Ls(i,o,s,a,!1)}case"hcl":{const[i,o,s,a]=n.hcl,[f,m,C,B]=e.hcl;let I,K;if(!isNaN(i)&&!isNaN(f)){let W=f-i;f>i&&W>180?W-=360:f<i&&i-f>180&&(W+=360),I=i+t*W}else isNaN(i)?isNaN(f)?I=NaN:(I=f,(s===1||s===0)&&(K=m)):(I=i,(C===1||C===0)&&(K=o));const[L,Y,ee,V]=Ote([I,K??$g(o,m,t),$g(s,C,t),$g(a,B,t)]);return new Ls(L,Y,ee,V,!1)}case"lab":{const[i,o,s,a]=Zz(Y4(n.lab,e.lab,t));return new Ls(i,o,s,a,!1)}}}function Y4(n,e,t){return n.map((r,i)=>$g(r,e[i],t))}function Qte(n,e,t){return new Sh(Y4(n.values,e.values,t))}function $te(n,e,t){const r=n.values,i=e.values;if(r.length!==i.length)throw new Pl(`Cannot interpolate values of different length. from: ${n.toString()}, to: ${e.toString()}`);const o=[];for(let s=0;s<r.length;s+=2){if(r[s]!==i[s])throw new Pl(`Cannot interpolate values containing mismatched anchors. from[${s}]: ${r[s]}, to[${s}]: ${i[s]}`);o.push(r[s]);const[a,f]=r[s+1],[m,C]=i[s+1];o.push([$g(a,m,t),$g(f,C,t)])}return new xp(o)}const J3={number:$g,color:Gte,array:Y4,padding:Qte,variableAnchorOffsetCollection:$te};let gm=class GO{constructor(e,t,r,i,o){this.type=e,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,r,i){let o=0;if(e.name==="exponential")o=_E(t,e.base,r,i);else if(e.name==="linear")o=_E(t,1,r,i);else if(e.name==="cubic-bezier"){const s=e.controlPoints;o=new Nte(s[0],s[1],s[2],s[3]).solve(_E(t,1,r,i))}return o}static parse(e,t){let[r,i,o,...s]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Jn),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=_p:t.expectedType&&t.expectedType.kind!=="value"&&(f=t.expectedType);for(let m=0;m<s.length;m+=2){const C=s[m],B=s[m+1],I=m+3,K=m+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const L=t.parse(B,K,f);if(!L)return null;f=f||L.type,a.push([C,L])}return!Z_(f,Jn)&&!Z_(f,_p)&&!Z_(f,j5)&&!Z_(f,N5)&&!Z_(f,yh(Jn))?t.error(`Type ${Ps(f)} is not interpolatable.`):new GO(f,r,i,o,a)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=W5(t,i),a=t[s],f=t[s+1],m=GO.interpolationFactor(this.interpolation,i,a,f),C=r[s].evaluate(e),B=r[s+1].evaluate(e);switch(this.operator){case"interpolate":return J3[this.type.kind](C,B,m);case"interpolate-hcl":return J3.color(C,B,m,"hcl");case"interpolate-lab":return J3.color(C,B,m,"lab")}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}};function _E(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}let gj=class QO{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of e.slice(1)){const f=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}if(!r)throw new Error("No output type");return i&&o.some(a=>bb(i,a.type))?new QO(Ji,o):new QO(r,o)}evaluate(e){let t=null,r=0,i;for(const o of this.args)if(r++,t=o.evaluate(e),t&&t instanceof v1&&!t.available&&(i||(i=t.name),t=null,r===this.args.length&&(t=i)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}};function EP(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function Yte(n,e,t){return e===t}function qte(n,e,t){return e!==t}function Vte(n,e,t){return e<t}function Hte(n,e,t){return e>t}function Zte(n,e,t){return e<=t}function Xte(n,e,t){return e>=t}function yj(n,e,t,r){return r.compare(e,t)===0}function Jte(n,e,t,r){return!yj(n,e,t,r)}function ene(n,e,t,r){return r.compare(e,t)<0}function tne(n,e,t,r){return r.compare(e,t)>0}function nne(n,e,t,r){return r.compare(e,t)<=0}function rne(n,e,t,r){return r.compare(e,t)>=0}function qv(n,e,t){const r=n!=="=="&&n!=="!=";return class vj{constructor(o,s,a){this.type=Zi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,Ji);if(!f)return null;if(!EP(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${Ps(f.type)}'.`);let m=s.parse(o[2],2,Ji);if(!m)return null;if(!EP(a,m.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${Ps(m.type)}'.`);if(f.type.kind!==m.type.kind&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error(`Cannot compare types '${Ps(f.type)}' and '${Ps(m.type)}'.`);r&&(f.type.kind==="value"&&m.type.kind!=="value"?f=new cm(m.type,[f]):f.type.kind!=="value"&&m.type.kind==="value"&&(m=new cm(f.type,[m])));let C=null;if(o.length===4){if(f.type.kind!=="string"&&m.type.kind!=="string"&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,U5),!C)return null}return new vj(f,m,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=fu(s),m=fu(a);if(f.kind!==m.kind||!(f.kind==="string"||f.kind==="number"))throw new Pl(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${f.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=fu(s),m=fu(a);if(f.kind!=="string"||m.kind!=="string")return e(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):e(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const ine=qv("==",Yte,yj),one=qv("!=",qte,Jte),ane=qv("<",Vte,ene),sne=qv(">",Hte,tne),lne=qv("<=",Zte,nne),une=qv(">=",Xte,rne);let _j=class Cj{constructor(e,t,r){this.type=U5,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const r=e[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Zi);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Zi);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,mo),!s)?null:new Cj(i,o,s)}evaluate(e){return new Q7(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}},Ane=class bj{constructor(e,t,r,i,o){this.type=mo,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const r=t.parse(e[1],1,Jn);if(!r)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,mo),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,mo),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=t.parse(i["min-fraction-digits"],1,Jn),!a))return null;let f=null;return i["max-fraction-digits"]&&(f=t.parse(i["max-fraction-digits"],1,Jn),!f)?null:new bj(r,o,s,a,f)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}},cne=class xj{constructor(e){this.type=z5,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=e.length-1;++s){const a=e[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=t.parse(a["font-scale"],1,Jn),!f))return null;let m=null;if(a["text-font"]&&(m=t.parse(a["text-font"],1,yh(mo)),!m))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,_p),!C))return null;const B=i[i.length-1];B.scale=f,B.font=m,B.textColor=C}else{const f=t.parse(e[s],1,Ji);if(!f)return null;const m=f.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new xj(i)}evaluate(e){const t=r=>{const i=r.content.evaluate(e);return fu(i)===t2?new jO("",i,null,null,null):new jO(RC(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)};return new Yv(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}},hne=class wj{constructor(e){this.type=t2,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const r=t.parse(e[1],1,mo);return r?new wj(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=v1.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}},dne=class Mj{constructor(e){this.type=Jn,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Ps(r.type)} instead.`):new Mj(r):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new Pl(`Expected value to be of type string or array, but found ${Ps(fu(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}};const Cp=8192;function fne(n,e){const t=pne(n[0]),r=gne(n[1]),i=Math.pow(2,e.z);return[Math.round(t*i*Cp),Math.round(r*i*Cp)]}function $7(n,e){const t=Math.pow(2,e.z),r=(n[0]/Cp+e.x)/t,i=(n[1]/Cp+e.y)/t;return[mne(r),yne(i)]}function pne(n){return(180+n)/360}function mne(n){return n*360-180}function gne(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function yne(n){return 360/Math.PI*Math.atan(Math.exp((180-n*360)*Math.PI/180))-90}function n2(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function wb(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function vne(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function _ne(n,e,t){const r=n[0]-e[0],i=n[1]-e[1],o=n[0]-t[0],s=n[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function G5(n,e,t,r){const i=[e[0]-n[0],e[1]-n[1]],o=[r[0]-t[0],r[1]-t[1]];return wne(o,i)===0?!1:!!(OP(n,e,t,r)&&OP(t,r,n,e))}function Cne(n,e,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(G5(n,e,r[i],r[i+1]))return!0;return!1}function Vv(n,e,t=!1){let r=!1;for(const i of e)for(let o=0;o<i.length-1;o++){if(_ne(n,i[o],i[o+1]))return t;vne(n,i[o],i[o+1])&&(r=!r)}return r}function bne(n,e){for(const t of e)if(Vv(n,t))return!0;return!1}function Sj(n,e){for(const t of n)if(!Vv(t,e))return!1;for(let t=0;t<n.length-1;++t)if(Cne(n[t],n[t+1],e))return!1;return!0}function xne(n,e){for(const t of e)if(Sj(n,t))return!0;return!1}function wne(n,e){return n[0]*e[1]-n[1]*e[0]}function OP(n,e,t,r){const i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],f=r[0]-t[0],m=r[1]-t[1],C=i*m-f*o,B=s*m-f*a;return C>0&&B<0||C<0&&B>0}function Y7(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=[];for(let s=0;s<n[i].length;s++){const a=fne(n[i][s],t);n2(e,a),o.push(a)}r.push(o)}return r}function Ej(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=Y7(n[i],e,t);r.push(o)}return r}function Oj(n,e,t,r){if(n[0]<t[0]||n[0]>t[2]){const i=r*.5;let o=n[0]-t[0]>i?-r:t[0]-n[0]>i?r:0;o===0&&(o=n[0]-t[2]>i?-r:t[2]-n[0]>i?r:0),n[0]+=o}n2(e,n)}function Mne(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function BP(n,e,t,r){const i=Math.pow(2,r.z)*Cp,o=[r.x*Cp,r.y*Cp],s=[];for(const a of n)for(const f of a){const m=[f.x+o[0],f.y+o[1]];Oj(m,e,t,i),s.push(m)}return s}function IP(n,e,t,r){const i=Math.pow(2,r.z)*Cp,o=[r.x*Cp,r.y*Cp],s=[];for(const a of n){const f=[];for(const m of a){const C=[m.x+o[0],m.y+o[1]];n2(e,C),f.push(C)}s.push(f)}if(e[2]-e[0]<=i/2){Mne(e);for(const a of s)for(const f of a)Oj(f,e,t,i)}return s}function Sne(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(e.type==="Polygon"){const o=Y7(e.coordinates,r,i),s=BP(n.geometry(),t,r,i);if(!wb(t,r))return!1;for(const a of s)if(!Vv(a,o))return!1}if(e.type==="MultiPolygon"){const o=Ej(e.coordinates,r,i),s=BP(n.geometry(),t,r,i);if(!wb(t,r))return!1;for(const a of s)if(!bne(a,o))return!1}return!0}function Ene(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(e.type==="Polygon"){const o=Y7(e.coordinates,r,i),s=IP(n.geometry(),t,r,i);if(!wb(t,r))return!1;for(const a of s)if(!Sj(a,o))return!1}if(e.type==="MultiPolygon"){const o=Ej(e.coordinates,r,i),s=IP(n.geometry(),t,r,i);if(!wb(t,r))return!1;for(const a of s)if(!xne(a,o))return!1}return!0}let q7=class e4{constructor(e,t){this.type=Zi,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(xb(e[1])){const r=e[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:s,coordinates:a}=o.geometry;s==="Polygon"&&i.push(a),s==="MultiPolygon"&&i.push(...a)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new e4(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new e4(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new e4(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return Sne(e,this.geometries);if(e.geometryType()==="LineString")return Ene(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}};class Bj{constructor(e=[],t=(r,i)=>r<i?-1:r>i?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,i=t[e];for(;e>0;){const o=e-1>>1,s=t[o];if(r(i,s)>=0)break;t[e]=s,e=o}t[e]=i}_down(e){const{data:t,compare:r}=this,i=this.length>>1,o=t[e];for(;e<i;){let s=(e<<1)+1;const a=s+1;if(a<this.length&&r(t[a],t[s])<0&&(s=a),r(t[s],o)>=0)break;t[e]=t[s],e=s}t[e]=o}}function One(n,e){if(n.length<=1)return[n];const r=[];let i,o;for(const s of n){const a=Bne(s);a!==0&&(s.area=Math.abs(a),o===void 0&&(o=a<0),o===a<0?(i&&r.push(i),i=[s]):i.push(s))}return i&&r.push(i),r}function Bne(n){let e=0;for(let t=0,r=n.length,i=r-1,o,s;t<r;i=t++)o=n[t],s=n[i],e+=(s.x-o.x)*(o.y+s.y);return e}const Ine=6378.137,kP=1/298.257223563,TP=kP*(2-kP),PP=Math.PI/180;class V7{constructor(e){const t=PP*Ine*1e3,r=Math.cos(e*PP),i=1/(1-TP*(1-r*r)),o=Math.sqrt(i);this.kx=t*o*r,this.ky=t*o*i*(1-TP)}distance(e,t){const r=this.wrap(e[0]-t[0])*this.kx,i=(e[1]-t[1])*this.ky;return Math.sqrt(r*r+i*i)}pointOnLine(e,t){let r=1/0,i,o,s,a;for(let f=0;f<e.length-1;f++){let m=e[f][0],C=e[f][1],B=this.wrap(e[f+1][0]-m)*this.kx,I=(e[f+1][1]-C)*this.ky,K=0;(B!==0||I!==0)&&(K=(this.wrap(t[0]-m)*this.kx*B+(t[1]-C)*this.ky*I)/(B*B+I*I),K>1?(m=e[f+1][0],C=e[f+1][1]):K>0&&(m+=B/this.kx*K,C+=I/this.ky*K)),B=this.wrap(t[0]-m)*this.kx,I=(t[1]-C)*this.ky;const L=B*B+I*I;L<r&&(r=L,i=m,o=C,s=f,a=K)}return{point:[i,o],index:s,t:Math.max(0,Math.min(1,a))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const $O=100,YO=50;function Ij(n,e){return e[0]-n[0]}function q4(n){return n[1]-n[0]+1}function Sm(n,e){return n[1]>=n[0]&&n[1]<e}function qO(n,e){if(n[0]>n[1])return[null,null];const t=q4(n);if(e){if(t===2)return[n,null];const i=Math.floor(t/2);return[[n[0],n[0]+i],[n[0]+i,n[1]]]}if(t===1)return[n,null];const r=Math.floor(t/2)-1;return[[n[0],n[0]+r],[n[0]+r+1,n[1]]]}function VO(n,e){if(!Sm(e,n.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let r=e[0];r<=e[1];++r)n2(t,n[r]);return t}function HO(n){const e=[1/0,1/0,-1/0,-1/0];for(const t of n)for(const r of t)n2(e,r);return e}function KP(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function H7(n,e,t){if(!KP(n)||!KP(e))return NaN;let r=0,i=0;return n[2]<e[0]&&(r=e[0]-n[2]),n[0]>e[2]&&(r=n[0]-e[2]),n[1]>e[3]&&(i=n[1]-e[3]),n[3]<e[1]&&(i=e[1]-n[3]),t.distance([0,0],[r,i])}function Lg(n,e,t){const r=t.pointOnLine(e,n);return t.distance(n,r.point)}function Z7(n,e,t,r,i){const o=Math.min(Lg(n,[t,r],i),Lg(e,[t,r],i)),s=Math.min(Lg(t,[n,e],i),Lg(r,[n,e],i));return Math.min(o,s)}function kne(n,e,t,r,i){if(!(Sm(e,n.length)&&Sm(r,t.length)))return 1/0;let s=1/0;for(let a=e[0];a<e[1];++a){const f=n[a],m=n[a+1];for(let C=r[0];C<r[1];++C){const B=t[C],I=t[C+1];if(G5(f,m,B,I))return 0;s=Math.min(s,Z7(f,m,B,I,i))}}return s}function Tne(n,e,t,r,i){if(!(Sm(e,n.length)&&Sm(r,t.length)))return NaN;let s=1/0;for(let a=e[0];a<=e[1];++a)for(let f=r[0];f<=r[1];++f)if(s=Math.min(s,i.distance(n[a],t[f])),s===0)return s;return s}function Pne(n,e,t){if(Vv(n,e,!0))return 0;let r=1/0;for(const i of e){const o=i[0],s=i[i.length-1];if(o!==s&&(r=Math.min(r,Lg(n,[s,o],t)),r===0))return r;const a=t.pointOnLine(i,n);if(r=Math.min(r,t.distance(n,a.point)),r===0)return r}return r}function Kne(n,e,t,r){if(!Sm(e,n.length))return NaN;for(let o=e[0];o<=e[1];++o)if(Vv(n[o],t,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const s=n[o],a=n[o+1];for(const f of t)for(let m=0,C=f.length,B=C-1;m<C;B=m++){const I=f[B],K=f[m];if(G5(s,a,I,K))return 0;i=Math.min(i,Z7(s,a,I,K,r))}}return i}function LP(n,e){for(const t of n)for(const r of t)if(Vv(r,e,!0))return!0;return!1}function Lne(n,e,t,r=1/0){const i=HO(n),o=HO(e);if(r!==1/0&&H7(i,o,t)>=r)return r;if(wb(i,o)){if(LP(n,e))return 0}else if(LP(e,n))return 0;let s=1/0;for(const a of n)for(let f=0,m=a.length,C=m-1;f<m;C=f++){const B=a[C],I=a[f];for(const K of e)for(let L=0,Y=K.length,ee=Y-1;L<Y;ee=L++){const V=K[ee],W=K[L];if(G5(B,I,V,W))return 0;s=Math.min(s,Z7(B,I,V,W,t))}}return s}function DP(n,e,t,r,i,o){if(!o)return;const s=H7(VO(r,o),i,t);s<e&&n.push([s,o,[0,0]])}function n3(n,e,t,r,i,o,s){if(!o||!s)return;const a=H7(VO(r,o),VO(i,s),t);a<e&&n.push([a,o,s])}function V4(n,e,t,r,i=1/0){let o=Math.min(r.distance(n[0],t[0][0]),i);if(o===0)return o;const s=new Bj([[0,[0,n.length-1],[0,0]]],Ij),a=HO(t);for(;s.length>0;){const f=s.pop();if(f[0]>=o)continue;const m=f[1],C=e?YO:$O;if(q4(m)<=C){if(!Sm(m,n.length))return NaN;if(e){const B=Kne(n,m,t,r);if(isNaN(B)||B===0)return B;o=Math.min(o,B)}else for(let B=m[0];B<=m[1];++B){const I=Pne(n[B],t,r);if(o=Math.min(o,I),o===0)return 0}}else{const B=qO(m,e);DP(s,o,r,n,a,B[0]),DP(s,o,r,n,a,B[1])}}return o}function H4(n,e,t,r,i,o=1/0){let s=Math.min(o,i.distance(n[0],t[0]));if(s===0)return s;const a=new Bj([[0,[0,n.length-1],[0,t.length-1]]],Ij);for(;a.length>0;){const f=a.pop();if(f[0]>=s)continue;const m=f[1],C=f[2],B=e?YO:$O,I=r?YO:$O;if(q4(m)<=B&&q4(C)<=I){if(!Sm(m,n.length)&&Sm(C,t.length))return NaN;let K;if(e&&r)K=kne(n,m,t,C,i),s=Math.min(s,K);else if(e&&!r){const L=n.slice(m[0],m[1]+1);for(let Y=C[0];Y<=C[1];++Y)if(K=Lg(t[Y],L,i),s=Math.min(s,K),s===0)return s}else if(!e&&r){const L=t.slice(C[0],C[1]+1);for(let Y=m[0];Y<=m[1];++Y)if(K=Lg(n[Y],L,i),s=Math.min(s,K),s===0)return s}else K=Tne(n,m,t,C,i),s=Math.min(s,K)}else{const K=qO(m,e),L=qO(C,r);n3(a,s,i,n,t,K[0],L[0]),n3(a,s,i,n,t,K[0],L[1]),n3(a,s,i,n,t,K[1],L[0]),n3(a,s,i,n,t,K[1],L[1])}}return s}function Dne(n,e){const t=n.geometry(),r=t.flat().map(s=>$7([s.x,s.y],n.canonical));if(t.length===0)return NaN;const i=new V7(r[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,H4(r,!1,[s.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,H4(r,!1,s.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,V4(r,!1,s.coordinates,i,o));break}if(o===0)return o}return o}function Fne(n,e){const t=n.geometry(),r=t.flat().map(s=>$7([s.x,s.y],n.canonical));if(t.length===0)return NaN;const i=new V7(r[0][1]);let o=1/0;for(const s of e){switch(s.type){case"Point":o=Math.min(o,H4(r,!0,[s.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,H4(r,!0,s.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,V4(r,!0,s.coordinates,i,o));break}if(o===0)return o}return o}function Rne(n,e){const t=n.geometry();if(t.length===0||t[0].length===0)return NaN;const r=One(t).map(s=>s.map(a=>a.map(f=>$7([f.x,f.y],n.canonical)))),i=new V7(r[0][0][0][1]);let o=1/0;for(const s of e)for(const a of r){switch(s.type){case"Point":o=Math.min(o,V4([s.coordinates],!1,a,i,o));break;case"LineString":o=Math.min(o,V4(s.coordinates,!0,a,i,o));break;case"Polygon":o=Math.min(o,Lne(a,s.coordinates,i,o));break}if(o===0)return o}return o}function CE(n){return n.type==="MultiPolygon"?n.coordinates.map(e=>({type:"Polygon",coordinates:e})):n.type==="MultiLineString"?n.coordinates.map(e=>({type:"LineString",coordinates:e})):n.type==="MultiPoint"?n.coordinates.map(e=>({type:"Point",coordinates:e})):[n]}class Yg{constructor(e,t){this.type=Jn,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(xb(e[1])){const r=e[1];if(r.type==="FeatureCollection")return new Yg(r,r.features.map(i=>CE(i.geometry)).flat());if(r.type==="Feature")return new Yg(r,CE(r.geometry));if("type"in r&&"coordinates"in r)return new Yg(r,CE(r))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return Dne(e,this.geometries);if(e.geometryType()==="LineString")return Fne(e,this.geometries);if(e.geometryType()==="Polygon")return Rne(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const X7={"==":ine,"!=":one,">":sne,"<":ane,">=":une,"<=":lne,array:cm,at:Kte,boolean:cm,case:Rte,coalesce:gj,collator:_j,format:cne,image:hne,in:Lte,"index-of":Dte,interpolate:gm,"interpolate-hcl":gm,"interpolate-lab":gm,length:dne,let:aj,literal:$4,match:Fte,number:cm,"number-format":Ane,object:cm,slice:Ute,step:fj,string:cm,"to-boolean":Fy,"to-color":Fy,"to-number":Fy,"to-string":Fy,var:lj,within:q7,distance:Yg};let Hv=class pC{constructor(e,t,r,i){this.name=e,this.type=t,this._evaluate=r,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const r=e[0],i=pC.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([m])=>!Array.isArray(m)||m.length===e.length-1);let f=null;for(const[m,C]of a){f=new ij(t.registry,Z4,t.path,null,t.scope);const B=[];let I=!1;for(let K=1;K<e.length;K++){const L=e[K],Y=Array.isArray(m)?m[K-1]:m.type,ee=f.parse(L,1+B.length,Y);if(!ee){I=!0;break}B.push(ee)}if(!I){if(Array.isArray(m)&&m.length!==B.length){f.error(`Expected ${m.length} arguments, but found ${B.length} instead.`);continue}for(let K=0;K<B.length;K++){const L=Array.isArray(m)?m[K]:m.type,Y=B[K];f.concat(K+1).checkSubtype(L,Y.type)}if(f.errors.length===0)return new pC(r,o,C,B)}}if(a.length===1)t.errors.push(...f.errors);else{const C=(a.length?a:s).map(([I])=>zne(I)).join(" | "),B=[];for(let I=1;I<e.length;I++){const K=t.parse(e[I],1+B.length);if(!K)return null;B.push(Ps(K.type))}t.error(`Expected arguments of type ${C}, but found (${B.join(", ")}) instead.`)}return null}static register(e,t){pC.definitions=t;for(const r in t)e[r]=pC}};function FP(n,[e,t,r,i]){e=e.evaluate(n),t=t.evaluate(n),r=r.evaluate(n);const o=i?i.evaluate(n):1,s=Jz(e,t,r,o);if(s)throw new Pl(s);return new Ls(e/255,t/255,r/255,o,!1)}function RP(n,e){return n in e}function bE(n,e){const t=e[n];return typeof t>"u"?null:t}function Une(n,e,t,r){for(;t<=r;){const i=t+r>>1;if(e[i]===n)return!0;e[i]>n?r=i-1:t=i+1}return!1}function ug(n){return{type:n}}Hv.register(X7,{error:[bte,[mo],(n,[e])=>{throw new Pl(e.evaluate(n))}],typeof:[mo,[Ji],(n,[e])=>Ps(fu(e.evaluate(n)))],"to-rgba":[yh(Jn,4),[_p],(n,[e])=>{const[t,r,i,o]=e.evaluate(n).rgb;return[t*255,r*255,i*255,o]}],rgb:[_p,[Jn,Jn,Jn],FP],rgba:[_p,[Jn,Jn,Jn,Jn],FP],has:{type:Zi,overloads:[[[mo],(n,[e])=>RP(e.evaluate(n),n.properties())],[[mo,ev],(n,[e,t])=>RP(e.evaluate(n),t.evaluate(n))]]},get:{type:Ji,overloads:[[[mo],(n,[e])=>bE(e.evaluate(n),n.properties())],[[mo,ev],(n,[e,t])=>bE(e.evaluate(n),t.evaluate(n))]]},"feature-state":[Ji,[mo],(n,[e])=>bE(e.evaluate(n),n.featureState||{})],properties:[ev,[],n=>n.properties()],"geometry-type":[mo,[],n=>n.geometryType()],id:[Ji,[],n=>n.id()],zoom:[Jn,[],n=>n.globals.zoom],"heatmap-density":[Jn,[],n=>n.globals.heatmapDensity||0],"line-progress":[Jn,[],n=>n.globals.lineProgress||0],accumulated:[Ji,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Jn,ug(Jn),(n,e)=>{let t=0;for(const r of e)t+=r.evaluate(n);return t}],"*":[Jn,ug(Jn),(n,e)=>{let t=1;for(const r of e)t*=r.evaluate(n);return t}],"-":{type:Jn,overloads:[[[Jn,Jn],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[Jn],(n,[e])=>-e.evaluate(n)]]},"/":[Jn,[Jn,Jn],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[Jn,[Jn,Jn],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[Jn,[],()=>Math.LN2],pi:[Jn,[],()=>Math.PI],e:[Jn,[],()=>Math.E],"^":[Jn,[Jn,Jn],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[Jn,[Jn],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Jn,[Jn],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Jn,[Jn],(n,[e])=>Math.log(e.evaluate(n))],log2:[Jn,[Jn],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Jn,[Jn],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Jn,[Jn],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Jn,[Jn],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Jn,[Jn],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Jn,[Jn],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Jn,[Jn],(n,[e])=>Math.atan(e.evaluate(n))],min:[Jn,ug(Jn),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[Jn,ug(Jn),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[Jn,[Jn],(n,[e])=>Math.abs(e.evaluate(n))],round:[Jn,[Jn],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[Jn,[Jn],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Jn,[Jn],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Zi,[mo,Ji],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[Zi,[Ji],(n,[e])=>n.id()===e.value],"filter-type-==":[Zi,[mo],(n,[e])=>n.geometryType()===e.value],"filter-<":[Zi,[mo,Ji],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Zi,[Ji],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<r}],"filter->":[Zi,[mo,Ji],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[Zi,[Ji],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>r}],"filter-<=":[Zi,[mo,Ji],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Zi,[Ji],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<=r}],"filter->=":[Zi,[mo,Ji],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Zi,[Ji],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>=r}],"filter-has":[Zi,[Ji],(n,[e])=>e.value in n.properties()],"filter-has-id":[Zi,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[Zi,[yh(mo)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Zi,[yh(Ji)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Zi,[mo,yh(Ji)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Zi,[mo,yh(Ji)],(n,[e,t])=>Une(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Zi,overloads:[[[Zi,Zi],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[ug(Zi),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:Zi,overloads:[[[Zi,Zi],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[ug(Zi),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[Zi,[Zi],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Zi,[mo],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[mo,[mo],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[mo,[mo],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[mo,ug(Ji),(n,e)=>e.map(t=>RC(t.evaluate(n))).join("")],"resolved-locale":[mo,[U5],(n,[e])=>e.evaluate(n).resolvedLocale()]});function zne(n){return Array.isArray(n)?`(${n.map(Ps).join(", ")})`:`(${Ps(n.type)}...)`}function Z4(n){if(n instanceof lj)return Z4(n.boundExpression);if(n instanceof Hv&&n.name==="error")return!1;if(n instanceof _j)return!1;if(n instanceof q7)return!1;if(n instanceof Yg)return!1;const e=n instanceof Fy||n instanceof cm;let t=!0;return n.eachChild(r=>{e?t=t&&Z4(r):t=t&&r instanceof $4}),t?Q5(n)&&$5(n,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Q5(n){if(n instanceof Hv){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof q7||n instanceof Yg)return!1;let e=!0;return n.eachChild(t=>{e&&!Q5(t)&&(e=!1)}),e}function Mb(n){if(n instanceof Hv&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!Mb(t)&&(e=!1)}),e}function $5(n,e){if(n instanceof Hv&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(r=>{t&&!$5(r,e)&&(t=!1)}),t}function ZO(n){return{result:"success",value:n}}function fy(n){return{result:"error",value:n}}function X4(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function kj(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function J7(n){return!!n.expression&&n.expression.interpolated}function Uo(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function r2(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function jne(n){return n}function eI(n,e){const t=e.type==="color",r=n.stops&&typeof n.stops[0][0]=="object",i=r||n.property!==void 0,o=r||!i,s=n.type||(J7(e)?"exponential":"interval");if(t||e.type==="padding"){const C=t?Ls.parse:Sh.parse;n=Iv({},n),n.stops&&(n.stops=n.stops.map(B=>[B[0],C(B[1])])),n.default?n.default=C(n.default):n.default=C(e.default)}if(n.colorSpace&&!Wte(n.colorSpace))throw new Error(`Unknown color space: "${n.colorSpace}"`);let a,f,m;if(s==="exponential")a=UP;else if(s==="interval")a=Wne;else if(s==="categorical"){a=Nne,f=Object.create(null);for(const C of n.stops)f[C[0]]=C[1];m=typeof n.stops[0][0]}else if(s==="identity")a=Gne;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},B=[];for(let L=0;L<n.stops.length;L++){const Y=n.stops[L],ee=Y[0].zoom;C[ee]===void 0&&(C[ee]={zoom:ee,type:n.type,property:n.property,default:n.default,stops:[]},B.push(ee)),C[ee].stops.push([Y[0].value,Y[1]])}const I=[];for(const L of B)I.push([C[L].zoom,eI(C[L],e)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:gm.interpolationFactor.bind(void 0,K),zoomStops:I.map(L=>L[0]),evaluate({zoom:L},Y){return UP({stops:I,base:n.base},e,L).evaluate(L,Y)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:gm.interpolationFactor.bind(void 0,C),zoomStops:n.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(n,e,B,f,m)}}else return{kind:"source",evaluate(C,B){const I=B&&B.properties?B.properties[n.property]:void 0;return I===void 0?i2(n.default,e.default):a(n,e,I,f,m)}}}function i2(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function Nne(n,e,t,r,i){const o=typeof t===i?r[t]:void 0;return i2(o,n.default,e.default)}function Wne(n,e,t){if(Uo(t)!=="number")return i2(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const i=W5(n.stops.map(o=>o[0]),t);return n.stops[i][1]}function UP(n,e,t){const r=n.base!==void 0?n.base:1;if(Uo(t)!=="number")return i2(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const o=W5(n.stops.map(C=>C[0]),t),s=Qne(t,r,n.stops[o][0],n.stops[o+1][0]),a=n.stops[o][1],f=n.stops[o+1][1],m=J3[e.type]||jne;return typeof a.evaluate=="function"?{evaluate(...C){const B=a.evaluate.apply(void 0,C),I=f.evaluate.apply(void 0,C);if(!(B===void 0||I===void 0))return m(B,I,s,n.colorSpace)}}:m(a,f,s,n.colorSpace)}function Gne(n,e,t){switch(e.type){case"color":t=Ls.parse(t);break;case"formatted":t=Yv.fromString(t.toString());break;case"resolvedImage":t=v1.fromString(t.toString());break;case"padding":t=Sh.parse(t);break;default:Uo(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0)}return i2(t,n.default,e.default)}function Qne(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}let Tj=class{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new rj,this._defaultValue=t?Vne(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,i,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new Pl(`Expected value to be one of ${Object.keys(this._enumValues).map(f=>JSON.stringify(f)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}};function o2(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in X7}function tI(n,e){const t=new ij(X7,Z4,[],e?qne(e):void 0),r=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?ZO(new Tj(r,e)):fy(t.errors)}let XO=class{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!Mb(t.expression)}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}},JO=class{constructor(e,t,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!Mb(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}interpolationFactor(e,t,r){return this.interpolationType?gm.interpolationFactor(this.interpolationType,e,t,r):0}};function $ne(n){return n._styleExpression!==void 0}function nI(n,e){const t=tI(n,e);if(t.result==="error")return t;const r=t.value.expression,i=Q5(r);if(!i&&!X4(e))return fy([new dp("","data expressions not supported")]);const o=$5(r,["zoom"]);if(!o&&!kj(e))return fy([new dp("","zoom expressions not supported")]);const s=t4(r);if(!s&&!o)return fy([new dp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof dp)return fy([s]);if(s instanceof gm&&!J7(e))return fy([new dp("",'"interpolate" expressions cannot be used with this property')]);if(!s)return ZO(i?new XO("constant",t.value):new XO("source",t.value));const a=s instanceof gm?s.interpolation:void 0;return ZO(i?new JO("camera",t.value,s.labels,a):new JO("composite",t.value,s.labels,a))}let Pj=class Kj{constructor(e,t){this._parameters=e,this._specification=t,Iv(this,eI(this._parameters,this._specification))}static deserialize(e){return new Kj(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}};function Yne(n,e){if(r2(n))return new Pj(n,e);if(o2(n)){const t=nI(n,e);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=n;return e.type==="color"&&typeof n=="string"?t=Ls.parse(n):e.type==="padding"&&(typeof n=="number"||Array.isArray(n))?t=Sh.parse(n):e.type==="variableAnchorOffsetCollection"&&Array.isArray(n)&&(t=xp.parse(n)),{kind:"constant",evaluate:()=>t}}}function t4(n){let e=null;if(n instanceof aj)e=t4(n.result);else if(n instanceof gj){for(const t of n.args)if(e=t4(t),e)break}else(n instanceof fj||n instanceof gm)&&n.input instanceof Hv&&n.input.name==="zoom"&&(e=n);return e instanceof dp||n.eachChild(t=>{const r=t4(t);r instanceof dp?e=r:!e&&r?e=new dp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new dp("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function qne(n){const e={color:_p,string:mo,number:Jn,enum:mo,boolean:Zi,formatted:z5,padding:j5,resolvedImage:t2,variableAnchorOffsetCollection:N5};return n.type==="array"?yh(e[n.value]||Ji,n.length):e[n.type]}function Vne(n){return n.type==="color"&&r2(n.default)?new Ls(0,0,0,0):n.type==="color"?Ls.parse(n.default)||null:n.type==="padding"?Sh.parse(n.default)||null:n.type==="variableAnchorOffsetCollection"?xp.parse(n.default)||null:n.default===void 0?null:n.default}function Y5(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Y5(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function UC(n,e={}){if(Y5(n))return n;if(!n)return!0;const t=n,r=t[0];if(n.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=n;return Zne(i,o,r,e)}case"any":{const[,...i]=t;return["any",...i.map(s=>{const a={},f=UC(s,a),m=Hne(a);return m===!0?f:["case",m,f,!1]})]}case"all":{const[,...i]=t,o=i.map(s=>UC(s,e));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=t;return["!",UC(["any",...i],{})]}case"in":{const[,i,...o]=t;return zP(i,o)}case"!in":{const[,i,...o]=t;return zP(i,o,!0)}case"has":return jP(t[1]);case"!has":return["!",jP(t[1])];default:return!0}}function Hne(n){const e=[];for(const t in n){const r=t==="$id"?["id"]:["get",t];e.push(["==",["typeof",r],n[t]])}return e.length===0?!0:e.length===1?e[0]:["all",...e]}function Zne(n,e,t,r){let i;if(n==="$type")return[t,["geometry-type"],e];if(n==="$id"?i=["id"]:i=["get",n],r&&e!==null){const o=typeof e;r[n]=o}return t==="=="&&n!=="$id"&&e===null?["all",["has",n],["==",i,null]]:t==="!="&&n!=="$id"&&e===null?["any",["!",["has",n]],["!=",i,null]]:[t,i,e]}function zP(n,e,t=!1){if(e.length===0)return t;let r;n==="$type"?r=["geometry-type"]:n==="$id"?r=["id"]:r=["get",n];let i=!0;const o=typeof e[0];for(const s of e)if(typeof s!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const s=e.sort().filter((a,f)=>f===0||e[f-1]!==a);return["match",r,s,!t,t]}return t?["all",...e.map(s=>["!=",r,s])]:["any",...e.map(s=>["==",r,s])]}function jP(n){return n==="$type"?!0:n==="$id"?["!=",["id"],null]:["has",n]}function Sb(n){return typeof n=="object"?["literal",n]:n}function Lj(n,e){let t=n.stops;if(!t)return Xne(n,e);const r=t&&typeof t[0][0]=="object",i=r||n.property!==void 0,o=r||!i;return t=t.map(s=>!i&&e.tokens&&typeof s[1]=="string"?[s[0],Dj(s[1])]:[s[0],Sb(s[1])]),r?Jne(n,e,t):o?tre(n,e,t):eB(n,e,t)}function Xne(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const r=[e.type==="color"?"to-color":e.type,t,Sb(n.default)];return e.type==="array"&&r.splice(1,0,e.value,e.length||null),r}}function rI(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Jne(n,e,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const f=t[a],m=f[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:n.type,property:n.property,default:n.default},i[m]=[],o.push(m)),i[m].push([f[0].value,f[1]])}if(oI({},e)==="exponential"){const a=[rI(n),["linear"],["zoom"]];for(const f of o){const m=eB(r[f],e,i[f]);nv(a,f,m,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const m=eB(r[f],e,i[f]);nv(a,f,m,!0)}return iI(a),a}}function ere(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function NP(n,e){const t=Sb(ere(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function eB(n,e,t){const r=oI(n,e),i=["get",n.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(NP(n,e)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)nv(o,s[0],s[1],!1);return o.push(NP(n,e)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)nv(o,s[0],s[1],!0);return iI(o),n.default===void 0?o:["case",["==",["typeof",i],"number"],o,Sb(n.default)]}else if(r==="exponential"){const o=n.base!==void 0?n.base:1,s=[rI(n),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)nv(s,a[0],a[1],!1);return n.default===void 0?s:["case",["==",["typeof",i],"number"],s,Sb(n.default)]}else throw new Error(`Unknown property function type ${r}`)}function tre(n,e,t,r=["zoom"]){const i=oI(n,e);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=n.base!==void 0?n.base:1;o=[rI(n),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)nv(o,a[0],a[1],s);return iI(o),o}function iI(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function nv(n,e,t,r){n.length>3&&e===n[n.length-2]||(r&&n.length===2||n.push(e),n.push(t))}function oI(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function Dj(n){const e=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(n);i!==null;i=t.exec(n)){const o=n.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return n;if(r<n.length)e.push(n.slice(r));else if(e.length===2)return["to-string",e[1]];return e}function nre(n){for(let e=0;e<da.layout.length;e++)for(const t in da[da.layout[e]])if(t===n)return da[da.layout[e]][t];for(let e=0;e<da.paint.length;e++)for(const t in da[da.paint[e]])if(t===n)return da[da.paint[e]][t];return null}function rre(n,e){for(const t in n.sources)e(n.sources[t])}function zC(n,e){for(const t of n.layers)e(t)}function aI(n,e,t){function r(i,o){const s=i[o];s&&Object.keys(s).forEach(a=>{t({path:[i.id,o,a],key:a,value:s[a],reference:nre(a),set(f){s[a]=f}})})}zC(n,i=>{e.paint&&r(i,"paint"),e.layout&&r(i,"layout")})}function Fj(n){const e=n.key,t=n.value;return t?[new Vn(e,t,"constants have been deprecated as of v8")]:[]}function hl(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function a1(n){if(Array.isArray(n))return n.map(a1);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=a1(n[t]);return e}return hl(n)}function pd(n){const e=n.key,t=n.value,r=n.valueSpec||{},i=n.objectElementValidators||{},o=n.style,s=n.styleSpec,a=n.validateSpec;let f=[];const m=Uo(t);if(m!=="object")return[new Vn(e,t,`object expected, ${m} found`)];for(const C in t){const B=C.split(".")[0],I=r[B]||r["*"];let K;if(i[B])K=i[B];else if(r[B])K=a;else if(i["*"])K=i["*"];else if(r["*"])K=a;else{f.push(new Vn(e,t[C],`unknown property "${C}"`));continue}f=f.concat(K({key:(e&&`${e}.`)+C,value:t[C],valueSpec:I,style:o,styleSpec:s,object:t,objectKey:C,validateSpec:a},t))}for(const C in r)i[C]||r[C].required&&r[C].default===void 0&&t[C]===void 0&&f.push(new Vn(e,t,`missing required property "${C}"`));return f}function sI(n){const e=n.value,t=n.valueSpec,r=n.validateSpec,i=n.style,o=n.styleSpec,s=n.key,a=n.arrayElementValidator||r;if(Uo(e)!=="array")return[new Vn(s,e,`array expected, ${Uo(e)} found`)];if(t.length&&e.length!==t.length)return[new Vn(s,e,`array length ${t.length} expected, length ${e.length} found`)];if(t["min-length"]&&e.length<t["min-length"])return[new Vn(s,e,`array length at least ${t["min-length"]} expected, length ${e.length} found`)];let f={type:t.value,values:t.values};o.$version<7&&(f.function=t.function),Uo(t.value)==="object"&&(f=t.value);let m=[];for(let C=0;C<e.length;C++)m=m.concat(a({array:e,arrayIndex:C,value:e[C],valueSpec:f,validateSpec:n.validateSpec,style:i,styleSpec:o,key:`${s}[${C}]`}));return m}function lI(n){const e=n.key,t=n.value,r=n.valueSpec;let i=Uo(t);return i==="number"&&t!==t&&(i="NaN"),i!=="number"?[new Vn(e,t,`number expected, ${i} found`)]:"minimum"in r&&t<r.minimum?[new Vn(e,t,`${t} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&t>r.maximum?[new Vn(e,t,`${t} is greater than the maximum value ${r.maximum}`)]:[]}function Rj(n){const e=n.valueSpec,t=hl(n.value.type);let r,i={},o,s;const a=t!=="categorical"&&n.value.property===void 0,f=!a,m=Uo(n.value.stops)==="array"&&Uo(n.value.stops[0])==="array"&&Uo(n.value.stops[0][0])==="object",C=pd({key:n.key,value:n.value,valueSpec:n.styleSpec.function,validateSpec:n.validateSpec,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:B,default:L}});return t==="identity"&&a&&C.push(new Vn(n.key,n.value,'missing required property "property"')),t!=="identity"&&!n.value.stops&&C.push(new Vn(n.key,n.value,'missing required property "stops"')),t==="exponential"&&n.valueSpec.expression&&!J7(n.valueSpec)&&C.push(new Vn(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(f&&!X4(n.valueSpec)?C.push(new Vn(n.key,n.value,"property functions not supported")):a&&!kj(n.valueSpec)&&C.push(new Vn(n.key,n.value,"zoom functions not supported"))),(t==="categorical"||m)&&n.value.property===void 0&&C.push(new Vn(n.key,n.value,'"property" property is required')),C;function B(Y){if(t==="identity")return[new Vn(Y.key,Y.value,'identity function may not have a "stops" property')];let ee=[];const V=Y.value;return ee=ee.concat(sI({key:Y.key,value:V,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:I})),Uo(V)==="array"&&V.length===0&&ee.push(new Vn(Y.key,V,"array must have at least one stop")),ee}function I(Y){let ee=[];const V=Y.value,W=Y.key;if(Uo(V)!=="array")return[new Vn(W,V,`array expected, ${Uo(V)} found`)];if(V.length!==2)return[new Vn(W,V,`array length 2 expected, length ${V.length} found`)];if(m){if(Uo(V[0])!=="object")return[new Vn(W,V,`object expected, ${Uo(V[0])} found`)];if(V[0].zoom===void 0)return[new Vn(W,V,"object stop key must have zoom")];if(V[0].value===void 0)return[new Vn(W,V,"object stop key must have value")];if(s&&s>hl(V[0].zoom))return[new Vn(W,V[0].zoom,"stop zoom values must appear in ascending order")];hl(V[0].zoom)!==s&&(s=hl(V[0].zoom),o=void 0,i={}),ee=ee.concat(pd({key:`${W}[0]`,value:V[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:lI,value:K}}))}else ee=ee.concat(K({key:`${W}[0]`,value:V[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},V));return o2(a1(V[1]))?ee.concat([new Vn(`${W}[1]`,V[1],"expressions are not allowed in function stops.")]):ee.concat(Y.validateSpec({key:`${W}[1]`,value:V[1],valueSpec:e,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function K(Y,ee){const V=Uo(Y.value),W=hl(Y.value),ne=Y.value!==null?Y.value:ee;if(!r)r=V;else if(V!==r)return[new Vn(Y.key,ne,`${V} stop domain type must match previous stop domain type ${r}`)];if(V!=="number"&&V!=="string"&&V!=="boolean")return[new Vn(Y.key,ne,"stop domain value must be a number, string, or boolean")];if(V!=="number"&&t!=="categorical"){let ce=`number expected, ${V} found`;return X4(e)&&t===void 0&&(ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Vn(Y.key,ne,ce)]}return t==="categorical"&&V==="number"&&(!isFinite(W)||Math.floor(W)!==W)?[new Vn(Y.key,ne,`integer expected, found ${W}`)]:t!=="categorical"&&V==="number"&&o!==void 0&&W<o?[new Vn(Y.key,ne,"stop domain values must appear in ascending order")]:(o=W,t==="categorical"&&W in i?[new Vn(Y.key,ne,"stop domain values must be unique")]:(i[W]=!0,[]))}function L(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:e,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}function kv(n){const e=(n.expressionContext==="property"?nI:tI)(a1(n.value),n.valueSpec);if(e.result==="error")return e.value.map(r=>new Vn(`${n.key}${r.key}`,n.value,r.message));const t=e.value.expression||e.value._styleExpression.expression;if(n.expressionContext==="property"&&n.propertyKey==="text-font"&&!t.outputDefined())return[new Vn(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if(n.expressionContext==="property"&&n.propertyType==="layout"&&!Mb(t))return[new Vn(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if(n.expressionContext==="filter"&&!Mb(t))return[new Vn(n.key,n.value,'"feature-state" data expressions are not supported with filters.')];if(n.expressionContext&&n.expressionContext.indexOf("cluster")===0){if(!$5(t,["zoom","feature-state"]))return[new Vn(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(n.expressionContext==="cluster-initial"&&!Q5(t))return[new Vn(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ire(n){const e=n.value,t=n.key,r=Uo(e);return r!=="boolean"?[new Vn(t,e,`boolean expected, ${r} found`)]:[]}function ore(n){const e=n.key,t=n.value,r=Uo(t);return r!=="string"?[new Vn(e,t,`color expected, ${r} found`)]:Ls.parse(String(t))?[]:[new Vn(e,t,`color expected, "${t}" found`)]}function Eb(n){const e=n.key,t=n.value,r=n.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(hl(t))===-1&&i.push(new Vn(e,t,`expected one of [${r.values.join(", ")}], ${JSON.stringify(t)} found`)):Object.keys(r.values).indexOf(hl(t))===-1&&i.push(new Vn(e,t,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(t)} found`)),i}function uI(n){return Y5(a1(n.value))?kv(Iv({},n,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Uj(n)}function Uj(n){const e=n.value,t=n.key;if(Uo(e)!=="array")return[new Vn(t,e,`array expected, ${Uo(e)} found`)];const r=n.styleSpec;let i,o=[];if(e.length<1)return[new Vn(t,e,"filter array must have at least 1 element")];switch(o=o.concat(Eb({key:`${t}[0]`,value:e[0],valueSpec:r.filter_operator,style:n.style,styleSpec:n.styleSpec})),hl(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&hl(e[1])==="$type"&&o.push(new Vn(t,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&o.push(new Vn(t,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(i=Uo(e[1]),i!=="string"&&o.push(new Vn(`${t}[1]`,e[1],`string expected, ${i} found`)));for(let s=2;s<e.length;s++)i=Uo(e[s]),hl(e[1])==="$type"?o=o.concat(Eb({key:`${t}[${s}]`,value:e[s],valueSpec:r.geometry_type,style:n.style,styleSpec:n.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Vn(`${t}[${s}]`,e[s],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let s=1;s<e.length;s++)o=o.concat(Uj({key:`${t}[${s}]`,value:e[s],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":i=Uo(e[1]),e.length!==2?o.push(new Vn(t,e,`filter array for "${e[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Vn(`${t}[1]`,e[1],`string expected, ${i} found`));break}return o}function zj(n,e){const t=n.key,r=n.validateSpec,i=n.style,o=n.styleSpec,s=n.value,a=n.objectKey,f=o[`${e}_${n.layerType}`];if(!f)return[];const m=a.match(/^(.*)-transition$/);if(e==="paint"&&m&&f[m[1]]&&f[m[1]].transition)return r({key:t,value:s,valueSpec:o.transition,style:i,styleSpec:o});const C=n.valueSpec||f[a];if(!C)return[new Vn(t,s,`unknown property "${a}"`)];let B;if(Uo(s)==="string"&&X4(C)&&!C.tokens&&(B=/^{([^}]+)}$/.exec(s)))return[new Vn(t,s,`"${a}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];const I=[];return n.layerType==="symbol"&&(a==="text-field"&&i&&!i.glyphs&&I.push(new Vn(t,s,'use of "text-field" requires a style "glyphs" property')),a==="text-font"&&r2(a1(s))&&hl(s.type)==="identity"&&I.push(new Vn(t,s,'"text-font" does not support identity functions'))),I.concat(r({key:n.key,value:s,valueSpec:C,style:i,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function jj(n){return zj(n,"paint")}function Nj(n){return zj(n,"layout")}function Wj(n){let e=[];const t=n.value,r=n.key,i=n.style,o=n.styleSpec;!t.type&&!t.ref&&e.push(new Vn(r,t,'either "type" or "ref" is required'));let s=hl(t.type);const a=hl(t.ref);if(t.id){const f=hl(t.id);for(let m=0;m<n.arrayIndex;m++){const C=i.layers[m];hl(C.id)===f&&e.push(new Vn(r,t.id,`duplicate layer id "${t.id}", previously used at line ${C.id.__line__}`))}}if("ref"in t){["type","source","source-layer","filter","layout"].forEach(m=>{m in t&&e.push(new Vn(r,t[m],`"${m}" is prohibited for ref layers`))});let f;i.layers.forEach(m=>{hl(m.id)===a&&(f=m)}),f?f.ref?e.push(new Vn(r,t.ref,"ref cannot reference another ref layer")):s=hl(f.type):e.push(new Vn(r,t.ref,`ref layer "${a}" not found`))}else if(s!=="background")if(!t.source)e.push(new Vn(r,t,'missing required property "source"'));else{const f=i.sources&&i.sources[t.source],m=f&&hl(f.type);f?m==="vector"&&s==="raster"?e.push(new Vn(r,t.source,`layer "${t.id}" requires a raster source`)):m!=="raster-dem"&&s==="hillshade"?e.push(new Vn(r,t.source,`layer "${t.id}" requires a raster-dem source`)):m==="raster"&&s!=="raster"?e.push(new Vn(r,t.source,`layer "${t.id}" requires a vector source`)):m==="vector"&&!t["source-layer"]?e.push(new Vn(r,t,`layer "${t.id}" must specify a "source-layer"`)):m==="raster-dem"&&s!=="hillshade"?e.push(new Vn(r,t.source,"raster-dem source can only be used with layer type 'hillshade'.")):s==="line"&&t.paint&&t.paint["line-gradient"]&&(m!=="geojson"||!f.lineMetrics)&&e.push(new Vn(r,t,`layer "${t.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Vn(r,t.source,`source "${t.source}" not found`))}return e=e.concat(pd({key:r,value:t,valueSpec:o.layer,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,objectElementValidators:{"*"(){return[]},type(){return n.validateSpec({key:`${r}.type`,value:t.type,valueSpec:o.layer.type,style:n.style,styleSpec:n.styleSpec,validateSpec:n.validateSpec,object:t,objectKey:"type"})},filter:uI,layout(f){return pd({layer:t,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(m){return Nj(Iv({layerType:s},m))}}})},paint(f){return pd({layer:t,key:f.key,value:f.value,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*"(m){return jj(Iv({layerType:s},m))}}})}}})),e}function s1(n){const e=n.value,t=n.key,r=Uo(e);return r!=="string"?[new Vn(t,e,`string expected, ${r} found`)]:[]}function are(n){var e;const t=(e=n.sourceName)!==null&&e!==void 0?e:"",r=n.value,i=n.styleSpec,o=i.source_raster_dem,s=n.style;let a=[];const f=Uo(r);if(r===void 0)return a;if(f!=="object")return a.push(new Vn("source_raster_dem",r,`object expected, ${f} found`)),a;const C=hl(r.encoding)==="custom",B=["redFactor","greenFactor","blueFactor","baseShift"],I=n.value.encoding?`"${n.value.encoding}"`:"Default";for(const K in r)!C&&B.includes(K)?a.push(new Vn(K,r[K],`In "${t}": "${K}" is only valid when "encoding" is set to "custom". ${I} encoding found`)):o[K]?a=a.concat(n.validateSpec({key:K,value:r[K],valueSpec:o[K],validateSpec:n.validateSpec,style:s,styleSpec:i})):a.push(new Vn(K,r[K],`unknown property "${K}"`));return a}const WP={promoteId:sre};function Gj(n){const e=n.value,t=n.key,r=n.styleSpec,i=n.style,o=n.validateSpec;if(!e.type)return[new Vn(t,e,'"type" is required')];const s=hl(e.type);let a;switch(s){case"vector":case"raster":return a=pd({key:t,value:e,valueSpec:r[`source_${s.replace("-","_")}`],style:n.style,styleSpec:r,objectElementValidators:WP,validateSpec:o}),a;case"raster-dem":return a=are({sourceName:t,value:e,style:n.style,styleSpec:r,validateSpec:o}),a;case"geojson":if(a=pd({key:t,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:WP}),e.cluster)for(const f in e.clusterProperties){const[m,C]=e.clusterProperties[f],B=typeof m=="string"?[m,["accumulated"],["get",f]]:m;a.push(...kv({key:`${t}.${f}.map`,value:C,validateSpec:o,expressionContext:"cluster-map"})),a.push(...kv({key:`${t}.${f}.reduce`,value:B,validateSpec:o,expressionContext:"cluster-reduce"}))}return a;case"video":return pd({key:t,value:e,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return pd({key:t,value:e,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Vn(t,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Eb({key:`${t}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function sre({key:n,value:e}){if(Uo(e)==="string")return s1({key:n,value:e});{const t=[];for(const r in e)t.push(...s1({key:`${n}.${r}`,value:e[r]}));return t}}function Qj(n){const e=n.value,t=n.styleSpec,r=t.light,i=n.style;let o=[];const s=Uo(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new Vn("light",e,`object expected, ${s} found`)]),o;for(const a in e){const f=a.match(/^(.*)-transition$/);f&&r[f[1]]&&r[f[1]].transition?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:t.transition,validateSpec:n.validateSpec,style:i,styleSpec:t})):r[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],validateSpec:n.validateSpec,style:i,styleSpec:t})):o=o.concat([new Vn(a,e[a],`unknown property "${a}"`)])}return o}function $j(n){const e=n.value,t=n.styleSpec,r=t.sky,i=n.style,o=Uo(e);if(e===void 0)return[];if(o!=="object")return[new Vn("sky",e,`object expected, ${o} found`)];let s=[];for(const a in e)r[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Vn(a,e[a],`unknown property "${a}"`)]);return s}function Yj(n){const e=n.value,t=n.styleSpec,r=t.terrain,i=n.style;let o=[];const s=Uo(e);if(e===void 0)return o;if(s!=="object")return o=o.concat([new Vn("terrain",e,`object expected, ${s} found`)]),o;for(const a in e)r[a]?o=o.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],validateSpec:n.validateSpec,style:i,styleSpec:t})):o=o.concat([new Vn(a,e[a],`unknown property "${a}"`)]);return o}function lre(n){return s1(n).length===0?[]:kv(n)}function ure(n){return s1(n).length===0?[]:kv(n)}function Are(n){const e=n.key,t=n.value;if(Uo(t)==="array"){if(t.length<1||t.length>4)return[new Vn(e,t,`padding requires 1 to 4 values; ${t.length} values found`)];const i={type:"number"};let o=[];for(let s=0;s<t.length;s++)o=o.concat(n.validateSpec({key:`${e}[${s}]`,value:t[s],validateSpec:n.validateSpec,valueSpec:i}));return o}else return lI({key:e,value:t,valueSpec:{}})}function cre(n){const e=n.key,t=n.value,r=Uo(t),i=n.styleSpec;if(r!=="array"||t.length<1||t.length%2!==0)return[new Vn(e,t,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let s=0;s<t.length;s+=2)o=o.concat(Eb({key:`${e}[${s}]`,value:t[s],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(sI({key:`${e}[${s+1}]`,value:t[s+1],valueSpec:{length:2,value:"number"},validateSpec:n.validateSpec,style:n.style,styleSpec:i}));return o}function qj(n){let e=[];const t=n.value,r=n.key;if(Array.isArray(t)){const i=[],o=[];for(const s in t){t[s].id&&i.includes(t[s].id)&&e.push(new Vn(r,t,`all the sprites' ids must be unique, but ${t[s].id} is duplicated`)),i.push(t[s].id),t[s].url&&o.includes(t[s].url)&&e.push(new Vn(r,t,`all the sprites' URLs must be unique, but ${t[s].url} is duplicated`)),o.push(t[s].url);const a={id:{type:"string",required:!0},url:{type:"string",required:!0}};e=e.concat(pd({key:`${r}[${s}]`,value:t[s],valueSpec:a,validateSpec:n.validateSpec}))}return e}else return s1({key:r,value:t})}function hre(n){const e=n.value,t=n.styleSpec,r=t.projection,i=n.style,o=Uo(e);if(e===void 0)return[];if(o!=="object")return[new Vn("projection",e,`object expected, ${o} found`)];let s=[];for(const a in e)r[a]?s=s.concat(n.validateSpec({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:t})):s=s.concat([new Vn(a,e[a],`unknown property "${a}"`)]);return s}const GP={"*"(){return[]},array:sI,boolean:ire,number:lI,color:ore,constants:Fj,enum:Eb,filter:uI,function:Rj,layer:Wj,object:pd,source:Gj,light:Qj,sky:$j,terrain:Yj,projection:hre,string:s1,formatted:lre,resolvedImage:ure,padding:Are,variableAnchorOffsetCollection:cre,sprite:qj};function jC(n){const e=n.value,t=n.valueSpec,r=n.styleSpec;return n.validateSpec=jC,t.expression&&r2(hl(e))?Rj(n):t.expression&&o2(a1(e))?kv(n):t.type&&GP[t.type]?GP[t.type](n):pd(Iv({},n,{valueSpec:t.type?r[t.type]:t}))}function Vj(n){const e=n.value,t=n.key,r=s1(n);return r.length||(e.indexOf("{fontstack}")===-1&&r.push(new Vn(t,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&r.push(new Vn(t,e,'"glyphs" url must include a "{range}" token'))),r}function wd(n,e=da){let t=[];return t=t.concat(jC({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,validateSpec:jC,objectElementValidators:{glyphs:Vj,"*"(){return[]}}})),n.constants&&(t=t.concat(Fj({key:"constants",value:n.constants,style:n,styleSpec:e,validateSpec:jC}))),Hj(t)}wd.source=kp(Ip(Gj));wd.sprite=kp(Ip(qj));wd.glyphs=kp(Ip(Vj));wd.light=kp(Ip(Qj));wd.sky=kp(Ip($j));wd.terrain=kp(Ip(Yj));wd.layer=kp(Ip(Wj));wd.filter=kp(Ip(uI));wd.paintProperty=kp(Ip(jj));wd.layoutProperty=kp(Ip(Nj));function Ip(n){return function(e){return n({...e,validateSpec:jC})}}function Hj(n){return[].concat(n).sort((e,t)=>e.line-t.line)}function kp(n){return function(...e){return Hj(n.apply(this,e))}}const dre=/("(?:[^\\"]|\\.)*")|[:,]/g;function fre(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),r=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:i}=e;return function o(s,a,f){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const m=JSON.stringify(s,i);if(m===void 0)return m;const C=r-a.length-f;if(m.length<=C){const B=m.replace(dre,(I,K)=>K||`${I} `);if(B.length<=C)return B}if(i!=null&&(s=JSON.parse(m),i=void 0),typeof s=="object"&&s!==null){const B=a+t,I=[];let K=0,L,Y;if(Array.isArray(s)){L="[",Y="]";const{length:ee}=s;for(;K<ee;K++)I.push(o(s[K],B,K===ee-1?0:1)||"null")}else{L="{",Y="}";const ee=Object.keys(s),{length:V}=ee;for(;K<V;K++){const W=ee[K],ne=`${JSON.stringify(W)}: `,ce=o(s[W],B,ne.length+(K===V-1?0:1));ce!==void 0&&I.push(ne+ce)}}if(I.length>0)return[L,t+I.join(`,
${B}`),Y].join(`
${a}`)}return m}(n,"",0)}function QP(n,e){const t={};for(const r in e)n[r]!==void 0&&(t[r]=n[r]);for(const r in n)t[r]===void 0&&(t[r]=n[r]);return t}function Zj(n,e=2){return n=QP(n,da.$root),n.layers&&(n.layers=n.layers.map(t=>QP(t,da.layer))),fre(n,{indent:e})}function xE(n,e){for(const t in n)t.indexOf("layout")===0&&e(n[t],t)}function $P(n,e){for(const t in n)t.indexOf("paint")===0&&e(n[t],t)}function tB(n,e){return typeof e=="string"&&e[0]==="@"?tB(n,n.constants[e]):e}function pre(n){return Array.isArray(n.stops)}function X_(n,e,t){n[t]=n[e],delete n[e]}function mre(n){n.version=8,rre(n,i=>{i.type==="video"&&i.url!==void 0&&X_(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),zC(n,i=>{xE(i,o=>{o["symbol-min-distance"]!==void 0&&X_(o,"symbol-min-distance","symbol-spacing")}),$P(i,o=>{o["background-image"]!==void 0&&X_(o,"background-image","background-pattern"),o["line-image"]!==void 0&&X_(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&X_(o,"fill-image","fill-pattern")})}),aI(n,{paint:!0,layout:!0},i=>{const o=tB(n,i.value);pre(o)&&o.stops.forEach(s=>{s[1]=tB(n,s[1])}),i.set(o)}),delete n.constants,zC(n,i=>{xE(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),$P(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function e(i){function o(s){return s.split(",").map(a=>a.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(s=>{s[1]=o(s[1])}),i;throw new Error("unexpected font value")}zC(n,i=>{xE(i,o=>{o["text-font"]&&(o["text-font"]=e(o["text-font"]))})});let t=0;for(let i=n.layers.length-1;i>=0;i--)if(n.layers[i].type!=="symbol"){t=i+1;break}const r=n.layers.splice(t);return r.reverse(),n.layers=n.layers.concat(r),n}function gre(n){const e=[];return zC(n,t=>{t.filter&&(t.filter=UC(t.filter))}),aI(n,{paint:!0,layout:!0},({path:t,value:r,reference:i,set:o})=>{o2(r)||(typeof r=="object"&&!Array.isArray(r)?(o(Lj(r,i)),e.push(t.join("."))):i.tokens&&typeof r=="string"&&o(Dj(r)))}),n}function yre(n){return JSON.parse(vre(JSON.stringify(n)))}function vre(n){return n.replace(/"hsla?\((.+?)\)"/gi,(e,t)=>{const r=t.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,s,a]=r.slice(1);return[o,s]=[o,s].map(f=>f.endsWith("%")?f:`${parseFloat(f)*100}%`),`"hsl${typeof a=="string"?"a":""}(${[i,o,s,a].filter(Boolean).join(",")})"`}return e})}function _re(n){let e=!1;if(n.version===7&&(n=mre(n),e=!0),n.version===8&&(e=!!gre(n),e=!0),aI(n,{paint:!0,layout:!0},({value:t,reference:r,set:i})=>{r.type==="color"&&i(yre(t))}),!e)throw new Error(`Cannot migrate from ${n.version}`);return n}const Cre={StyleExpression:Tj,StylePropertyFunction:Pj,ZoomConstantExpression:XO,ZoomDependentExpression:JO,createExpression:tI,createPropertyExpression:nI,isExpression:o2,isExpressionFilter:Y5,isZoomExpression:$ne,normalizePropertyExpression:Yne},bre={convertFunction:Lj,createFunction:eI,isFunction:r2};var Xj={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.0.0-pre.1/LICENSE.txt
 */(function(n,e){(function(t,r){n.exports=r()})(Bp,function(){var t={},r={};function i(s,a,f){if(r[s]=f,s==="index"){var m="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",C={};return r.shared(C),r.index(t,C),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([m],{type:"text/javascript"}))),t}}i("shared",["exports"],function(s){function a(d,u,h,y){return new(h||(h=Promise))(function(x,P){function T($){try{N(y.next($))}catch(te){P(te)}}function D($){try{N(y.throw($))}catch(te){P(te)}}function N($){var te;$.done?x($.value):(te=$.value,te instanceof h?te:new h(function(se){se(te)})).then(T,D)}N((y=y.apply(d,u||[])).next())})}function f(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var m,C;function B(){if(C)return m;function d(u,h){this.x=u,this.y=h}return C=1,m=d,d.prototype={clone:function(){return new d(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,h){return this.clone()._rotateAround(u,h)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var h=u.x-this.x,y=u.y-this.y;return h*h+y*y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,h){return Math.atan2(this.x*h-this.y*u,this.x*u+this.y*h)},_matMult:function(u){var h=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=h,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var h=Math.cos(u),y=Math.sin(u),x=y*this.x+h*this.y;return this.x=h*this.x-y*this.y,this.y=x,this},_rotateAround:function(u,h){var y=Math.cos(u),x=Math.sin(u),P=h.y+x*(this.x-h.x)+y*(this.y-h.y);return this.x=h.x+y*(this.x-h.x)-x*(this.y-h.y),this.y=P,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(u){return u instanceof d?u:Array.isArray(u)?new d(u[0],u[1]):u},m}typeof SuppressedError=="function"&&SuppressedError;var I,K,L=f(B()),Y=function(){if(K)return I;function d(u,h,y,x){this.cx=3*u,this.bx=3*(y-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(x-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=h,this.p2x=y,this.p2y=x}return K=1,I=d,d.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,h){if(h===void 0&&(h=1e-6),u<0)return 0;if(u>1)return 1;for(var y=u,x=0;x<8;x++){var P=this.sampleCurveX(y)-u;if(Math.abs(P)<h)return y;var T=this.sampleCurveDerivativeX(y);if(Math.abs(T)<1e-6)break;y-=P/T}var D=0,N=1;for(y=u,x=0;x<20&&(P=this.sampleCurveX(y),!(Math.abs(P-u)<h));x++)u>P?D=y:N=y,y=.5*(N-D)+D;return y},solve:function(u,h){return this.sampleCurveY(this.solveCurveX(u,h))}},I}(),ee=f(Y);let V,W;function ne(){return V==null&&(V=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),V}function ce(){if(W==null&&(W=!1,ne())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let y=0;y<5*5;y++){const x=4*y;u.fillStyle=`rgb(${x},${x+1},${x+2})`,u.fillRect(y%5,Math.floor(y/5),1,1)}const h=u.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&h[y]!==y){W=!0;break}}}return W||!1}var ge,fe=1e-6,H=typeof Float32Array<"u"?Float32Array:Array;function X(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function Me(d,u,h){var y=u[0],x=u[1],P=u[2],T=u[3];return d[0]=h[0]*y+h[4]*x+h[8]*P+h[12]*T,d[1]=h[1]*y+h[5]*x+h[9]*P+h[13]*T,d[2]=h[2]*y+h[6]*x+h[10]*P+h[14]*T,d[3]=h[3]*y+h[7]*x+h[11]*P+h[15]*T,d}Math.hypot||(Math.hypot=function(){for(var d=0,u=arguments.length;u--;)d+=arguments[u]*arguments[u];return Math.sqrt(d)}),ge=new H(4),H!=Float32Array&&(ge[0]=0,ge[1]=0,ge[2]=0,ge[3]=0);const be=8192;function Fe(d,u,h){return u*(be/(d.tileSize*Math.pow(2,h-d.tileID.overscaledZ)))}function Ue(d,u){return(d%u+u)%u}function me(d,u,h){return d*(1-h)+u*h}function Ve(d){if(d<=0)return 0;if(d>=1)return 1;const u=d*d,h=u*d;return 4*(d<.5?h:3*(d-u)+h-.75)}function _e(d,u,h,y){const x=new ee(d,u,h,y);return P=>x.solve(P)}const Ot=_e(.25,.1,.25,1);function St(d,u,h){return Math.min(h,Math.max(u,d))}function _t(d,u,h){const y=h-u,x=((d-u)%y+y)%y+u;return x===u?h:x}function ft(d,...u){for(const h of u)for(const y in h)d[y]=h[y];return d}let $e=1;function et(d,u,h){const y={};for(const x in d)y[x]=u.call(this,d[x],x,d);return y}function nt(d,u,h){const y={};for(const x in d)u.call(this,d[x],x,d)&&(y[x]=d[x]);return y}function en(d){return Array.isArray(d)?d.map(en):typeof d=="object"&&d?et(d,en):d}const nn={};function Et(d){nn[d]||(typeof console<"u"&&console.warn(d),nn[d]=!0)}function Vt(d,u,h){return(h.y-d.y)*(u.x-d.x)>(u.y-d.y)*(h.x-d.x)}function Jt(d){return typeof WorkerGlobalScope<"u"&&d!==void 0&&d instanceof WorkerGlobalScope}let Le=null;function ye(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Qe(d,u,h,y,x){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const P=new VideoFrame(d,{timestamp:0});try{const T=P==null?void 0:P.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const D=T.startsWith("BGR"),N=new Uint8ClampedArray(y*x*4);if(yield P.copyTo(N,function($,te,se,pe,we){const Ie=4*Math.max(-te,0),Se=(Math.max(0,se)-se)*pe*4+Ie,He=4*pe,Ye=Math.max(0,te),Mt=Math.max(0,se);return{rect:{x:Ye,y:Mt,width:Math.min($.width,te+pe)-Ye,height:Math.min($.height,se+we)-Mt},layout:[{offset:Se,stride:He}]}}(d,u,h,y,x)),D)for(let $=0;$<N.length;$+=4){const te=N[$];N[$]=N[$+2],N[$+2]=te}return N}finally{P.close()}})}let st,lt;const Kt="AbortError";function Ht(){return new Error(Kt)}const Wt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Rn(d){return Wt.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))]}const nr="global-dispatcher";class _n extends Error{constructor(u,h,y,x){super(`AJAXError: ${h} (${u}): ${y}`),this.status=u,this.statusText=h,this.url=y,this.body=x}}const tr=()=>Jt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ur=function(d,u){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){const y=Rn(d.url);if(y)return y(d,u);if(Jt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,targetMapId:nr},u)}if(!(/^file:/.test(h=d.url)||/^file:/.test(tr())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,x){return a(this,void 0,void 0,function*(){const P=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:tr(),signal:x.signal});y.type!=="json"||P.headers.has("Accept")||P.headers.set("Accept","application/json");const T=yield fetch(P);if(!T.ok){const $=yield T.blob();throw new _n(T.status,T.statusText,y.url,$)}let D;D=y.type==="arrayBuffer"||y.type==="image"?T.arrayBuffer():y.type==="json"?T.json():T.text();const N=yield D;if(x.signal.aborted)throw Ht();return{data:N,cacheControl:T.headers.get("Cache-Control"),expires:T.headers.get("Expires")}})}(d,u);if(Jt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,mustQueue:!0,targetMapId:nr},u)}var h;return function(y,x){return new Promise((P,T)=>{var D;const N=new XMLHttpRequest;N.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(N.responseType="arraybuffer");for(const $ in y.headers)N.setRequestHeader($,y.headers[$]);y.type==="json"&&(N.responseType="text",!((D=y.headers)===null||D===void 0)&&D.Accept||N.setRequestHeader("Accept","application/json")),N.withCredentials=y.credentials==="include",N.onerror=()=>{T(new Error(N.statusText))},N.onload=()=>{if(!x.signal.aborted)if((N.status>=200&&N.status<300||N.status===0)&&N.response!==null){let $=N.response;if(y.type==="json")try{$=JSON.parse(N.response)}catch(te){return void T(te)}P({data:$,cacheControl:N.getResponseHeader("Cache-Control"),expires:N.getResponseHeader("Expires")})}else{const $=new Blob([N.response],{type:N.getResponseHeader("Content-Type")});T(new _n(N.status,N.statusText,y.url,$))}},x.signal.addEventListener("abort",()=>{N.abort(),T(Ht())}),N.send(y.body)})}(d,u)};function _r(d){if(!d||d.indexOf("://")<=0||d.indexOf("data:image/")===0||d.indexOf("blob:")===0)return!0;const u=new URL(d),h=window.location;return u.protocol===h.protocol&&u.host===h.host}function Sr(d,u,h){h[d]&&h[d].indexOf(u)!==-1||(h[d]=h[d]||[],h[d].push(u))}function fr(d,u,h){if(h&&h[d]){const y=h[d].indexOf(u);y!==-1&&h[d].splice(y,1)}}class pr{constructor(u,h={}){ft(this,h),this.type=u}}class fi extends pr{constructor(u,h={}){super("error",ft({error:u},h))}}class Pe{on(u,h){return this._listeners=this._listeners||{},Sr(u,h,this._listeners),this}off(u,h){return fr(u,h,this._listeners),fr(u,h,this._oneTimeListeners),this}once(u,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},Sr(u,h,this._oneTimeListeners),this):new Promise(y=>this.once(u,y))}fire(u,h){typeof u=="string"&&(u=new pr(u,h||{}));const y=u.type;if(this.listens(y)){u.target=this;const x=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const D of x)D.call(this,u);const P=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const D of P)fr(y,D,this._oneTimeListeners),D.call(this,u);const T=this._eventedParent;T&&(ft(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(u))}else u instanceof fi&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,h){return this._eventedParent=u,this._eventedParentData=h,this}}var Q={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const oe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Re(d,u){const h={};for(const y in d)y!=="ref"&&(h[y]=d[y]);return oe.forEach(y=>{y in u&&(h[y]=u[y])}),h}function ut(d,u){if(Array.isArray(d)){if(!Array.isArray(u)||d.length!==u.length)return!1;for(let h=0;h<d.length;h++)if(!ut(d[h],u[h]))return!1;return!0}if(typeof d=="object"&&d!==null&&u!==null){if(typeof u!="object"||Object.keys(d).length!==Object.keys(u).length)return!1;for(const h in d)if(!ut(d[h],u[h]))return!1;return!0}return d===u}function Tt(d,u){d.push(u)}function jt(d,u,h){Tt(h,{command:"addSource",args:[d,u[d]]})}function ar(d,u,h){Tt(u,{command:"removeSource",args:[d]}),h[d]=!0}function ht(d,u,h,y){ar(d,h,y),jt(d,u,h)}function Ee(d,u,h){let y;for(y in d[h])if(Object.prototype.hasOwnProperty.call(d[h],y)&&y!=="data"&&!ut(d[h][y],u[h][y]))return!1;for(y in u[h])if(Object.prototype.hasOwnProperty.call(u[h],y)&&y!=="data"&&!ut(d[h][y],u[h][y]))return!1;return!0}function ve(d,u,h,y,x,P){d=d||{},u=u||{};for(const T in d)Object.prototype.hasOwnProperty.call(d,T)&&(ut(d[T],u[T])||h.push({command:P,args:[y,T,u[T],x]}));for(const T in u)Object.prototype.hasOwnProperty.call(u,T)&&!Object.prototype.hasOwnProperty.call(d,T)&&(ut(d[T],u[T])||h.push({command:P,args:[y,T,u[T],x]}))}function p(d){return d.id}function Ke(d,u){return d[u.id]=u,d}class ze{constructor(u,h,y,x){this.message=(u?`${u}: `:"")+y,x&&(this.identifier=x),h!=null&&h.__line__&&(this.line=h.__line__)}}function it(d,...u){for(const h of u)for(const y in h)d[y]=h[y];return d}class dt extends Error{constructor(u,h){super(h),this.message=h,this.key=u}}class ot{constructor(u,h=[]){this.parent=u,this.bindings={};for(const[y,x]of h)this.bindings[y]=x}concat(u){return new ot(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const Ft={kind:"null"},rt={kind:"number"},mt={kind:"string"},Bt={kind:"boolean"},cn={kind:"color"},mn={kind:"object"},fn={kind:"value"},Cr={kind:"collator"},rr={kind:"formatted"},Mr={kind:"padding"},oi={kind:"resolvedImage"},$r={kind:"variableAnchorOffsetCollection"};function Un(d,u){return{kind:"array",itemType:d,N:u}}function On(d){if(d.kind==="array"){const u=On(d.itemType);return typeof d.N=="number"?`array<${u}, ${d.N}>`:d.itemType.kind==="value"?"array":`array<${u}>`}return d.kind}const Er=[Ft,rt,mt,Bt,cn,rr,mn,Un(fn),Mr,oi,$r];function ti(d,u){if(u.kind==="error")return null;if(d.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!ti(d.itemType,u.itemType))&&(typeof d.N!="number"||d.N===u.N))return null}else{if(d.kind===u.kind)return null;if(d.kind==="value"){for(const h of Er)if(!ti(h,u))return null}}return`Expected ${On(d)} but found ${On(u)} instead.`}function ji(d,u){return u.some(h=>h.kind===d.kind)}function ei(d,u){return u.some(h=>h==="null"?d===null:h==="array"?Array.isArray(d):h==="object"?d&&!Array.isArray(d)&&typeof d=="object":h===typeof d)}function Wr(d,u){return d.kind==="array"&&u.kind==="array"?d.itemType.kind===u.itemType.kind&&typeof d.N=="number":d.kind===u.kind}const Ni=.96422,Ko=.82521,aa=4/29,yo=6/29,qa=3*yo*yo,Wi=yo*yo*yo,Ho=Math.PI/180,Ma=180/Math.PI;function Gi(d){return(d%=360)<0&&(d+=360),d}function sa([d,u,h,y]){let x,P;const T=ci((.2225045*(d=Va(d))+.7168786*(u=Va(u))+.0606169*(h=Va(h)))/1);d===u&&u===h?x=P=T:(x=ci((.4360747*d+.3850649*u+.1430804*h)/Ni),P=ci((.0139322*d+.0971045*u+.7141733*h)/Ko));const D=116*T-16;return[D<0?0:D,500*(x-T),200*(T-P),y]}function Va(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function ci(d){return d>Wi?Math.pow(d,1/3):d/qa+aa}function er([d,u,h,y]){let x=(d+16)/116,P=isNaN(u)?x:x+u/500,T=isNaN(h)?x:x-h/200;return x=1*co(x),P=Ni*co(P),T=Ko*co(T),[jo(3.1338561*P-1.6168667*x-.4906146*T),jo(-.9787684*P+1.9161415*x+.033454*T),jo(.0719453*P-.2289914*x+1.4052427*T),y]}function jo(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:d>1?1:d}function co(d){return d>yo?d*d*d:qa*(d-aa)}function Qi(d){return parseInt(d.padEnd(2,d),16)/255}function Oe(d,u){return Je(u?d/100:d,0,1)}function Je(d,u,h){return Math.min(Math.max(u,d),h)}function rn(d){return!d.some(Number.isNaN)}const pn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Pt{constructor(u,h,y,x=1,P=!0){this.r=u,this.g=h,this.b=y,this.a=x,P||(this.r*=x,this.g*=x,this.b*=x,x||this.overwriteGetter("rgb",[u,h,y,x]))}static parse(u){if(u instanceof Pt)return u;if(typeof u!="string")return;const h=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const x=pn[y];if(x){const[T,D,N]=x;return[T/255,D/255,N/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const T=y.length<6?1:2;let D=1;return[Qi(y.slice(D,D+=T)),Qi(y.slice(D,D+=T)),Qi(y.slice(D,D+=T)),Qi(y.slice(D,D+T)||"ff")]}if(y.startsWith("rgb")){const T=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[D,N,$,te,se,pe,we,Ie,Se,He,Ye,Mt]=T,At=[te||" ",we||" ",He].join("");if(At==="  "||At==="  /"||At===",,"||At===",,,"){const de=[$,pe,Se].join(""),Ne=de==="%%%"?100:de===""?255:0;if(Ne){const yt=[Je(+N/Ne,0,1),Je(+se/Ne,0,1),Je(+Ie/Ne,0,1),Ye?Oe(+Ye,Mt):1];if(rn(yt))return yt}}return}}const P=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[T,D,N,$,te,se,pe,we,Ie]=P,Se=[N||" ",te||" ",pe].join("");if(Se==="  "||Se==="  /"||Se===",,"||Se===",,,"){const He=[+D,Je(+$,0,100),Je(+se,0,100),we?Oe(+we,Ie):1];if(rn(He))return function([Ye,Mt,At,de]){function Ne(yt){const Ut=(yt+Ye/30)%12,gn=Mt*Math.min(At,1-At);return At-gn*Math.max(-1,Math.min(Ut-3,9-Ut,1))}return Ye=Gi(Ye),Mt/=100,At/=100,[Ne(0),Ne(8),Ne(4),de]}(He)}}}(u);return h?new Pt(...h,!1):void 0}get rgb(){const{r:u,g:h,b:y,a:x}=this,P=x||1/0;return this.overwriteGetter("rgb",[u/P,h/P,y/P,x])}get hcl(){return this.overwriteGetter("hcl",function(u){const[h,y,x,P]=sa(u),T=Math.sqrt(y*y+x*x);return[Math.round(1e4*T)?Gi(Math.atan2(x,y)*Ma):NaN,T,h,P]}(this.rgb))}get lab(){return this.overwriteGetter("lab",sa(this.rgb))}overwriteGetter(u,h){return Object.defineProperty(this,u,{value:h}),h}toString(){const[u,h,y,x]=this.rgb;return`rgba(${[u,h,y].map(P=>Math.round(255*P)).join(",")},${x})`}}Pt.black=new Pt(0,0,0,1),Pt.white=new Pt(1,1,1,1),Pt.transparent=new Pt(0,0,0,0),Pt.red=new Pt(1,0,0,1);class En{constructor(u,h,y){this.sensitivity=u?h?"variant":"case":h?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,h){return this.collator.compare(u,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Hr{constructor(u,h,y,x,P){this.text=u,this.image=h,this.scale=y,this.fontStack=x,this.textColor=P}}class Yr{constructor(u){this.sections=u}static fromString(u){return new Yr([new Hr(u,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof Yr?u:Yr.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class ni{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof ni)return u;if(typeof u=="number")return new ni([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const h of u)if(typeof h!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new ni(u)}}toString(){return JSON.stringify(this.values)}}const Sa=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class la{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof la)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let h=0;h<u.length;h+=2){const y=u[h],x=u[h+1];if(typeof y!="string"||!Sa.has(y)||!Array.isArray(x)||x.length!==2||typeof x[0]!="number"||typeof x[1]!="number")return}return new la(u)}}toString(){return JSON.stringify(this.values)}}class mr{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new mr({name:u,available:!1}):null}}function Fs(d,u,h,y){return typeof d=="number"&&d>=0&&d<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof h=="number"&&h>=0&&h<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[d,u,h,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[d,u,h,y]:[d,u,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ms(d){if(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number"||d instanceof Pt||d instanceof En||d instanceof Yr||d instanceof ni||d instanceof la||d instanceof mr)return!0;if(Array.isArray(d)){for(const u of d)if(!Ms(u))return!1;return!0}if(typeof d=="object"){for(const u in d)if(!Ms(d[u]))return!1;return!0}return!1}function Hi(d){if(d===null)return Ft;if(typeof d=="string")return mt;if(typeof d=="boolean")return Bt;if(typeof d=="number")return rt;if(d instanceof Pt)return cn;if(d instanceof En)return Cr;if(d instanceof Yr)return rr;if(d instanceof ni)return Mr;if(d instanceof la)return $r;if(d instanceof mr)return oi;if(Array.isArray(d)){const u=d.length;let h;for(const y of d){const x=Hi(y);if(h){if(h===x)continue;h=fn;break}h=x}return Un(h||fn,u)}return mn}function Ha(d){const u=typeof d;return d===null?"":u==="string"||u==="number"||u==="boolean"?String(d):d instanceof Pt||d instanceof Yr||d instanceof ni||d instanceof la||d instanceof mr?d.toString():JSON.stringify(d)}class dl{constructor(u,h){this.type=u,this.value=h}static parse(u,h){if(u.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!Ms(u[1]))return h.error("invalid value");const y=u[1];let x=Hi(y);const P=h.expectedType;return x.kind!=="array"||x.N!==0||!P||P.kind!=="array"||typeof P.N=="number"&&P.N!==0||(x=P),new dl(x,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class to{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const No={string:mt,number:rt,boolean:Bt,object:mn};class no{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");let y,x=1;const P=u[0];if(P==="array"){let D,N;if(u.length>2){const $=u[1];if(typeof $!="string"||!($ in No)||$==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);D=No[$],x++}else D=fn;if(u.length>3){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return h.error('The length argument to "array" must be a positive integer literal',2);N=u[2],x++}y=Un(D,N)}else{if(!No[P])throw new Error(`Types doesn't contain name = ${P}`);y=No[P]}const T=[];for(;x<u.length;x++){const D=h.parse(u[x],x,fn);if(!D)return null;T.push(D)}return new no(y,T)}evaluate(u){for(let h=0;h<this.args.length;h++){const y=this.args[h].evaluate(u);if(!ti(this.type,Hi(y)))return y;if(h===this.args.length-1)throw new to(`Expected value to be of type ${On(this.type)}, but found ${On(Hi(y))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Rs={"to-boolean":Bt,"to-color":cn,"to-number":rt,"to-string":mt};class Ka{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");const y=u[0];if(!Rs[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&u.length!==2)return h.error("Expected one argument.");const x=Rs[y],P=[];for(let T=1;T<u.length;T++){const D=h.parse(u[T],T,fn);if(!D)return null;P.push(D)}return new Ka(x,P)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let h,y;for(const x of this.args){if(h=x.evaluate(u),y=null,h instanceof Pt)return h;if(typeof h=="string"){const P=u.parseColor(h);if(P)return P}else if(Array.isArray(h)&&(y=h.length<3||h.length>4?`Invalid rbga value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:Fs(h[0],h[1],h[2],h[3]),!y))return new Pt(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new to(y||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const y of this.args){h=y.evaluate(u);const x=ni.parse(h);if(x)return x}throw new to(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const y of this.args){h=y.evaluate(u);const x=la.parse(h);if(x)return x}throw new to(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const y of this.args){if(h=y.evaluate(u),h===null)return 0;const x=Number(h);if(!isNaN(x))return x}throw new to(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Yr.fromString(Ha(this.args[0].evaluate(u)));case"resolvedImage":return mr.fromString(Ha(this.args[0].evaluate(u)));default:return Ha(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Ea=["Unknown","Point","LineString","Polygon"];class cA{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ea[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let h=this._parseColorCache[u];return h||(h=this._parseColorCache[u]=Pt.parse(u)),h}}class Xs{constructor(u,h,y=[],x,P=new ot,T=[]){this.registry=u,this.path=y,this.key=y.map(D=>`[${D}]`).join(""),this.scope=P,this.errors=T,this.expectedType=x,this._isConstant=h}parse(u,h,y,x,P={}){return h?this.concat(h,y,x)._parse(u,P):this._parse(u,P)}_parse(u,h){function y(x,P,T){return T==="assert"?new no(P,[x]):T==="coerce"?new Ka(P,[x]):x}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=u[0];if(typeof x!="string")return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const P=this.registry[x];if(P){let T=P.parse(u,this);if(!T)return null;if(this.expectedType){const D=this.expectedType,N=T.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||N.kind!=="value")if(D.kind!=="color"&&D.kind!=="formatted"&&D.kind!=="resolvedImage"||N.kind!=="value"&&N.kind!=="string")if(D.kind!=="padding"||N.kind!=="value"&&N.kind!=="number"&&N.kind!=="array")if(D.kind!=="variableAnchorOffsetCollection"||N.kind!=="value"&&N.kind!=="array"){if(this.checkSubtype(D,N))return null}else T=y(T,D,h.typeAnnotation||"coerce");else T=y(T,D,h.typeAnnotation||"coerce");else T=y(T,D,h.typeAnnotation||"coerce");else T=y(T,D,h.typeAnnotation||"assert")}if(!(T instanceof dl)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const D=new cA;try{T=new dl(T.type,T.evaluate(D))}catch(N){return this.error(N.message),null}}return T}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(u===void 0?"'undefined' value invalid. Use null instead.":typeof u=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,h,y){const x=typeof u=="number"?this.path.concat(u):this.path,P=y?this.scope.concat(y):this.scope;return new Xs(this.registry,this._isConstant,x,h||null,P,this.errors)}error(u,...h){const y=`${this.key}${h.map(x=>`[${x}]`).join("")}`;this.errors.push(new dt(y,u))}checkSubtype(u,h){const y=ti(u,h);return y&&this.error(y),y}}class gu{constructor(u,h){this.type=h.type,this.bindings=[].concat(u),this.result=h}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const h of this.bindings)u(h[1]);u(this.result)}static parse(u,h){if(u.length<4)return h.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const y=[];for(let P=1;P<u.length-1;P+=2){const T=u[P];if(typeof T!="string")return h.error(`Expected string, but found ${typeof T} instead.`,P);if(/[^a-zA-Z0-9_]/.test(T))return h.error("Variable names must contain only alphanumeric characters or '_'.",P);const D=h.parse(u[P+1],P+1);if(!D)return null;y.push([T,D])}const x=h.parse(u[u.length-1],u.length-1,h.expectedType,y);return x?new gu(y,x):null}outputDefined(){return this.result.outputDefined()}}class zu{constructor(u,h){this.type=h.type,this.name=u,this.boundExpression=h}static parse(u,h){if(u.length!==2||typeof u[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const y=u[1];return h.scope.has(y)?new zu(y,h.scope.get(y)):h.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class hA{constructor(u,h,y){this.type=u,this.index=h,this.input=y}static parse(u,h){if(u.length!==3)return h.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,rt),x=h.parse(u[2],2,Un(h.expectedType||fn));return y&&x?new hA(x.type.itemType,y,x):null}evaluate(u){const h=this.index.evaluate(u),y=this.input.evaluate(u);if(h<0)throw new to(`Array index out of bounds: ${h} < 0.`);if(h>=y.length)throw new to(`Array index out of bounds: ${h} > ${y.length-1}.`);if(h!==Math.floor(h))throw new to(`Array index must be an integer, but found ${h} instead.`);return y[h]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class Bo{constructor(u,h){this.type=Bt,this.needle=u,this.haystack=h}static parse(u,h){if(u.length!==3)return h.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,fn),x=h.parse(u[2],2,fn);return y&&x?ji(y.type,[Bt,mt,rt,Ft,fn])?new Bo(y,x):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${On(y.type)} instead`):null}evaluate(u){const h=this.needle.evaluate(u),y=this.haystack.evaluate(u);if(!y)return!1;if(!ei(h,["boolean","string","number","null"]))throw new to(`Expected first argument to be of type boolean, string, number or null, but found ${On(Hi(h))} instead.`);if(!ei(y,["string","array"]))throw new to(`Expected second argument to be of type array or string, but found ${On(Hi(y))} instead.`);return y.indexOf(h)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class Io{constructor(u,h,y){this.type=rt,this.needle=u,this.haystack=h,this.fromIndex=y}static parse(u,h){if(u.length<=2||u.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,fn),x=h.parse(u[2],2,fn);if(!y||!x)return null;if(!ji(y.type,[Bt,mt,rt,Ft,fn]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${On(y.type)} instead`);if(u.length===4){const P=h.parse(u[3],3,rt);return P?new Io(y,x,P):null}return new Io(y,x)}evaluate(u){const h=this.needle.evaluate(u),y=this.haystack.evaluate(u);if(!ei(h,["boolean","string","number","null"]))throw new to(`Expected first argument to be of type boolean, string, number or null, but found ${On(Hi(h))} instead.`);let x;if(this.fromIndex&&(x=this.fromIndex.evaluate(u)),ei(y,["string"])){const P=y.indexOf(h,x);return P===-1?-1:[...y.slice(0,P)].length}if(ei(y,["array"]))return y.indexOf(h,x);throw new to(`Expected second argument to be of type array or string, but found ${On(Hi(y))} instead.`)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class yi{constructor(u,h,y,x,P,T){this.inputType=u,this.type=h,this.input=y,this.cases=x,this.outputs=P,this.otherwise=T}static parse(u,h){if(u.length<5)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return h.error("Expected an even number of arguments.");let y,x;h.expectedType&&h.expectedType.kind!=="value"&&(x=h.expectedType);const P={},T=[];for(let $=2;$<u.length-1;$+=2){let te=u[$];const se=u[$+1];Array.isArray(te)||(te=[te]);const pe=h.concat($);if(te.length===0)return pe.error("Expected at least one branch label.");for(const Ie of te){if(typeof Ie!="number"&&typeof Ie!="string")return pe.error("Branch labels must be numbers or strings.");if(typeof Ie=="number"&&Math.abs(Ie)>Number.MAX_SAFE_INTEGER)return pe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ie=="number"&&Math.floor(Ie)!==Ie)return pe.error("Numeric branch labels must be integer values.");if(y){if(pe.checkSubtype(y,Hi(Ie)))return null}else y=Hi(Ie);if(P[String(Ie)]!==void 0)return pe.error("Branch labels must be unique.");P[String(Ie)]=T.length}const we=h.parse(se,$,x);if(!we)return null;x=x||we.type,T.push(we)}const D=h.parse(u[1],1,fn);if(!D)return null;const N=h.parse(u[u.length-1],u.length-1,x);return N?D.type.kind!=="value"&&h.concat(1).checkSubtype(y,D.type)?null:new yi(y,x,D,P,T,N):null}evaluate(u){const h=this.input.evaluate(u);return(Hi(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class Za{constructor(u,h,y){this.type=u,this.branches=h,this.otherwise=y}static parse(u,h){if(u.length<4)return h.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return h.error("Expected an odd number of arguments.");let y;h.expectedType&&h.expectedType.kind!=="value"&&(y=h.expectedType);const x=[];for(let T=1;T<u.length-1;T+=2){const D=h.parse(u[T],T,Bt);if(!D)return null;const N=h.parse(u[T+1],T+1,y);if(!N)return null;x.push([D,N]),y=y||N.type}const P=h.parse(u[u.length-1],u.length-1,y);if(!P)return null;if(!y)throw new Error("Can't infer output type");return new Za(y,x,P)}evaluate(u){for(const[h,y]of this.branches)if(h.evaluate(u))return y.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[h,y]of this.branches)u(h),u(y);u(this.otherwise)}outputDefined(){return this.branches.every(([u,h])=>h.outputDefined())&&this.otherwise.outputDefined()}}class Oa{constructor(u,h,y,x){this.type=u,this.input=h,this.beginIndex=y,this.endIndex=x}static parse(u,h){if(u.length<=2||u.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const y=h.parse(u[1],1,fn),x=h.parse(u[2],2,rt);if(!y||!x)return null;if(!ji(y.type,[Un(fn),mt,fn]))return h.error(`Expected first argument to be of type array or string, but found ${On(y.type)} instead`);if(u.length===4){const P=h.parse(u[3],3,rt);return P?new Oa(y.type,y,x,P):null}return new Oa(y.type,y,x)}evaluate(u){const h=this.input.evaluate(u),y=this.beginIndex.evaluate(u);let x;if(this.endIndex&&(x=this.endIndex.evaluate(u)),ei(h,["string"]))return[...h].slice(y,x).join("");if(ei(h,["array"]))return h.slice(y,x);throw new to(`Expected first argument to be of type array or string, but found ${On(Hi(h))} instead.`)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function Xa(d,u){const h=d.length-1;let y,x,P=0,T=h,D=0;for(;P<=T;)if(D=Math.floor((P+T)/2),y=d[D],x=d[D+1],y<=u){if(D===h||u<x)return D;P=D+1}else{if(!(y>u))throw new to("Input is not a number.");T=D-1}return 0}class yu{constructor(u,h,y){this.type=u,this.input=h,this.labels=[],this.outputs=[];for(const[x,P]of y)this.labels.push(x),this.outputs.push(P)}static parse(u,h){if(u.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return h.error("Expected an even number of arguments.");const y=h.parse(u[1],1,rt);if(!y)return null;const x=[];let P=null;h.expectedType&&h.expectedType.kind!=="value"&&(P=h.expectedType);for(let T=1;T<u.length;T+=2){const D=T===1?-1/0:u[T],N=u[T+1],$=T,te=T+1;if(typeof D!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(x.length&&x[x.length-1][0]>=D)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',$);const se=h.parse(N,te,P);if(!se)return null;P=P||se.type,x.push([D,se])}return new yu(P,y,x)}evaluate(u){const h=this.labels,y=this.outputs;if(h.length===1)return y[0].evaluate(u);const x=this.input.evaluate(u);if(x<=h[0])return y[0].evaluate(u);const P=h.length;return x>=h[P-1]?y[P-1].evaluate(u):y[Xa(h,x)].evaluate(u)}eachChild(u){u(this.input);for(const h of this.outputs)u(h)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function ql(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Vl=Js;function Js(d,u,h,y){this.cx=3*d,this.bx=3*(h-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(y-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=u,this.p2x=h,this.p2y=y}Js.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,u){if(u===void 0&&(u=1e-6),d<0)return 0;if(d>1)return 1;for(var h=d,y=0;y<8;y++){var x=this.sampleCurveX(h)-d;if(Math.abs(x)<u)return h;var P=this.sampleCurveDerivativeX(h);if(Math.abs(P)<1e-6)break;h-=x/P}var T=0,D=1;for(h=d,y=0;y<20&&(x=this.sampleCurveX(h),!(Math.abs(x-d)<u));y++)d>x?T=h:D=h,h=.5*(D-T)+T;return h},solve:function(d,u){return this.sampleCurveY(this.solveCurveX(d,u))}};var Zo=ql(Vl);function Us(d,u,h){return d+h*(u-d)}function fl(d,u,h){return d.map((y,x)=>Us(y,u[x],h))}const gr={number:Us,color:function(d,u,h,y="rgb"){switch(y){case"rgb":{const[x,P,T,D]=fl(d.rgb,u.rgb,h);return new Pt(x,P,T,D,!1)}case"hcl":{const[x,P,T,D]=d.hcl,[N,$,te,se]=u.hcl;let pe,we;if(isNaN(x)||isNaN(N))isNaN(x)?isNaN(N)?pe=NaN:(pe=N,T!==1&&T!==0||(we=$)):(pe=x,te!==1&&te!==0||(we=P));else{let Mt=N-x;N>x&&Mt>180?Mt-=360:N<x&&x-N>180&&(Mt+=360),pe=x+h*Mt}const[Ie,Se,He,Ye]=function([Mt,At,de,Ne]){return Mt=isNaN(Mt)?0:Mt*Ho,er([de,Math.cos(Mt)*At,Math.sin(Mt)*At,Ne])}([pe,we??Us(P,$,h),Us(T,te,h),Us(D,se,h)]);return new Pt(Ie,Se,He,Ye,!1)}case"lab":{const[x,P,T,D]=er(fl(d.lab,u.lab,h));return new Pt(x,P,T,D,!1)}}},array:fl,padding:function(d,u,h){return new ni(fl(d.values,u.values,h))},variableAnchorOffsetCollection:function(d,u,h){const y=d.values,x=u.values;if(y.length!==x.length)throw new to(`Cannot interpolate values of different length. from: ${d.toString()}, to: ${u.toString()}`);const P=[];for(let T=0;T<y.length;T+=2){if(y[T]!==x[T])throw new to(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${y[T]}, to[${T}]: ${x[T]}`);P.push(y[T]);const[D,N]=y[T+1],[$,te]=x[T+1];P.push([Us(D,$,h),Us(N,te,h)])}return new la(P)}};class li{constructor(u,h,y,x,P){this.type=u,this.operator=h,this.interpolation=y,this.input=x,this.labels=[],this.outputs=[];for(const[T,D]of P)this.labels.push(T),this.outputs.push(D)}static interpolationFactor(u,h,y,x){let P=0;if(u.name==="exponential")P=j(h,u.base,y,x);else if(u.name==="linear")P=j(h,1,y,x);else if(u.name==="cubic-bezier"){const T=u.controlPoints;P=new Zo(T[0],T[1],T[2],T[3]).solve(j(h,1,y,x))}return P}static parse(u,h){let[y,x,P,...T]=u;if(!Array.isArray(x)||x.length===0)return h.error("Expected an interpolation type expression.",1);if(x[0]==="linear")x={name:"linear"};else if(x[0]==="exponential"){const $=x[1];if(typeof $!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:$}}else{if(x[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const $=x.slice(1);if($.length!==4||$.some(te=>typeof te!="number"||te<0||te>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:$}}}if(u.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(P=h.parse(P,2,rt),!P)return null;const D=[];let N=null;y==="interpolate-hcl"||y==="interpolate-lab"?N=cn:h.expectedType&&h.expectedType.kind!=="value"&&(N=h.expectedType);for(let $=0;$<T.length;$+=2){const te=T[$],se=T[$+1],pe=$+3,we=$+4;if(typeof te!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pe);if(D.length&&D[D.length-1][0]>=te)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',pe);const Ie=h.parse(se,we,N);if(!Ie)return null;N=N||Ie.type,D.push([te,Ie])}return Wr(N,rt)||Wr(N,cn)||Wr(N,Mr)||Wr(N,$r)||Wr(N,Un(rt))?new li(N,y,x,P,D):h.error(`Type ${On(N)} is not interpolatable.`)}evaluate(u){const h=this.labels,y=this.outputs;if(h.length===1)return y[0].evaluate(u);const x=this.input.evaluate(u);if(x<=h[0])return y[0].evaluate(u);const P=h.length;if(x>=h[P-1])return y[P-1].evaluate(u);const T=Xa(h,x),D=li.interpolationFactor(this.interpolation,x,h[T],h[T+1]),N=y[T].evaluate(u),$=y[T+1].evaluate(u);switch(this.operator){case"interpolate":return gr[this.type.kind](N,$,D);case"interpolate-hcl":return gr.color(N,$,D,"hcl");case"interpolate-lab":return gr.color(N,$,D,"lab")}}eachChild(u){u(this.input);for(const h of this.outputs)u(h)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function j(d,u,h,y){const x=y-h,P=d-h;return x===0?0:u===1?P/x:(Math.pow(u,P)-1)/(Math.pow(u,x)-1)}class le{constructor(u,h){this.type=u,this.args=h}static parse(u,h){if(u.length<2)return h.error("Expectected at least one argument.");let y=null;const x=h.expectedType;x&&x.kind!=="value"&&(y=x);const P=[];for(const D of u.slice(1)){const N=h.parse(D,1+P.length,y,void 0,{typeAnnotation:"omit"});if(!N)return null;y=y||N.type,P.push(N)}if(!y)throw new Error("No output type");const T=x&&P.some(D=>ti(x,D.type));return new le(T?fn:y,P)}evaluate(u){let h,y=null,x=0;for(const P of this.args)if(x++,y=P.evaluate(u),y&&y instanceof mr&&!y.available&&(h||(h=y.name),y=null,x===this.args.length&&(y=h)),y!==null)break;return y}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}function We(d,u){return d==="=="||d==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function xt(d,u,h,y){return y.compare(u,h)===0}function Hn(d,u,h){const y=d!=="=="&&d!=="!=";return class Jj{constructor(P,T,D){this.type=Bt,this.lhs=P,this.rhs=T,this.collator=D,this.hasUntypedArgument=P.type.kind==="value"||T.type.kind==="value"}static parse(P,T){if(P.length!==3&&P.length!==4)return T.error("Expected two or three arguments.");const D=P[0];let N=T.parse(P[1],1,fn);if(!N)return null;if(!We(D,N.type))return T.concat(1).error(`"${D}" comparisons are not supported for type '${On(N.type)}'.`);let $=T.parse(P[2],2,fn);if(!$)return null;if(!We(D,$.type))return T.concat(2).error(`"${D}" comparisons are not supported for type '${On($.type)}'.`);if(N.type.kind!==$.type.kind&&N.type.kind!=="value"&&$.type.kind!=="value")return T.error(`Cannot compare types '${On(N.type)}' and '${On($.type)}'.`);y&&(N.type.kind==="value"&&$.type.kind!=="value"?N=new no($.type,[N]):N.type.kind!=="value"&&$.type.kind==="value"&&($=new no(N.type,[$])));let te=null;if(P.length===4){if(N.type.kind!=="string"&&$.type.kind!=="string"&&N.type.kind!=="value"&&$.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(te=T.parse(P[3],3,Cr),!te)return null}return new Jj(N,$,te)}evaluate(P){const T=this.lhs.evaluate(P),D=this.rhs.evaluate(P);if(y&&this.hasUntypedArgument){const N=Hi(T),$=Hi(D);if(N.kind!==$.kind||N.kind!=="string"&&N.kind!=="number")throw new to(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${N.kind}, ${$.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const N=Hi(T),$=Hi(D);if(N.kind!=="string"||$.kind!=="string")return u(P,T,D)}return this.collator?h(P,T,D,this.collator.evaluate(P)):u(P,T,D)}eachChild(P){P(this.lhs),P(this.rhs),this.collator&&P(this.collator)}outputDefined(){return!0}}}const bn=Hn("==",function(d,u,h){return u===h},xt),kr=Hn("!=",function(d,u,h){return u!==h},function(d,u,h,y){return!xt(0,u,h,y)}),Ur=Hn("<",function(d,u,h){return u<h},function(d,u,h,y){return y.compare(u,h)<0}),yr=Hn(">",function(d,u,h){return u>h},function(d,u,h,y){return y.compare(u,h)>0}),Tr=Hn("<=",function(d,u,h){return u<=h},function(d,u,h,y){return y.compare(u,h)<=0}),Di=Hn(">=",function(d,u,h){return u>=h},function(d,u,h,y){return y.compare(u,h)>=0});class ro{constructor(u,h,y){this.type=Cr,this.locale=y,this.caseSensitive=u,this.diacriticSensitive=h}static parse(u,h){if(u.length!==2)return h.error("Expected one argument.");const y=u[1];if(typeof y!="object"||Array.isArray(y))return h.error("Collator options argument must be an object.");const x=h.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Bt);if(!x)return null;const P=h.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Bt);if(!P)return null;let T=null;return y.locale&&(T=h.parse(y.locale,1,mt),!T)?null:new ro(x,P,T)}evaluate(u){return new En(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}class vi{constructor(u,h,y,x,P){this.type=mt,this.number=u,this.locale=h,this.currency=y,this.minFractionDigits=x,this.maxFractionDigits=P}static parse(u,h){if(u.length!==3)return h.error("Expected two arguments.");const y=h.parse(u[1],1,rt);if(!y)return null;const x=u[2];if(typeof x!="object"||Array.isArray(x))return h.error("NumberFormat options argument must be an object.");let P=null;if(x.locale&&(P=h.parse(x.locale,1,mt),!P))return null;let T=null;if(x.currency&&(T=h.parse(x.currency,1,mt),!T))return null;let D=null;if(x["min-fraction-digits"]&&(D=h.parse(x["min-fraction-digits"],1,rt),!D))return null;let N=null;return x["max-fraction-digits"]&&(N=h.parse(x["max-fraction-digits"],1,rt),!N)?null:new vi(y,P,T,D,N)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class Xr{constructor(u){this.type=rr,this.sections=u}static parse(u,h){if(u.length<2)return h.error("Expected at least one argument.");const y=u[1];if(!Array.isArray(y)&&typeof y=="object")return h.error("First argument must be an image or text section.");const x=[];let P=!1;for(let T=1;T<=u.length-1;++T){const D=u[T];if(P&&typeof D=="object"&&!Array.isArray(D)){P=!1;let N=null;if(D["font-scale"]&&(N=h.parse(D["font-scale"],1,rt),!N))return null;let $=null;if(D["text-font"]&&($=h.parse(D["text-font"],1,Un(mt)),!$))return null;let te=null;if(D["text-color"]&&(te=h.parse(D["text-color"],1,cn),!te))return null;const se=x[x.length-1];se.scale=N,se.font=$,se.textColor=te}else{const N=h.parse(u[T],1,fn);if(!N)return null;const $=N.type.kind;if($!=="string"&&$!=="value"&&$!=="null"&&$!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");P=!0,x.push({content:N,scale:null,font:null,textColor:null})}}return new Xr(x)}evaluate(u){return new Yr(this.sections.map(h=>{const y=h.content.evaluate(u);return Hi(y)===oi?new Hr("",y,null,null,null):new Hr(Ha(y),null,h.scale?h.scale.evaluate(u):null,h.font?h.font.evaluate(u).join(","):null,h.textColor?h.textColor.evaluate(u):null)}))}eachChild(u){for(const h of this.sections)u(h.content),h.scale&&u(h.scale),h.font&&u(h.font),h.textColor&&u(h.textColor)}outputDefined(){return!1}}class ki{constructor(u){this.type=oi,this.input=u}static parse(u,h){if(u.length!==2)return h.error("Expected two arguments.");const y=h.parse(u[1],1,mt);return y?new ki(y):h.error("No image name provided.")}evaluate(u){const h=this.input.evaluate(u),y=mr.fromString(h);return y&&u.availableImages&&(y.available=u.availableImages.indexOf(h)>-1),y}eachChild(u){u(this.input)}outputDefined(){return!1}}class pi{constructor(u){this.type=rt,this.input=u}static parse(u,h){if(u.length!==2)return h.error(`Expected 1 argument, but found ${u.length-1} instead.`);const y=h.parse(u[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${On(y.type)} instead.`):new pi(y):null}evaluate(u){const h=this.input.evaluate(u);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new to(`Expected value to be of type string or array, but found ${On(Hi(h))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const $i=8192;function La(d,u){const h=(180+d[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d[1]*Math.PI/360)))/360,x=Math.pow(2,u.z);return[Math.round(h*x*$i),Math.round(y*x*$i)]}function Ss(d,u){const h=Math.pow(2,u.z);return[(x=(d[0]/$i+u.x)/h,360*x-180),(y=(d[1]/$i+u.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*y)*Math.PI/180))-90)];var y,x}function ho(d,u){d[0]=Math.min(d[0],u[0]),d[1]=Math.min(d[1],u[1]),d[2]=Math.max(d[2],u[0]),d[3]=Math.max(d[3],u[1])}function Lo(d,u){return!(d[0]<=u[0]||d[2]>=u[2]||d[1]<=u[1]||d[3]>=u[3])}function Pp(d,u,h){const y=d[0]-u[0],x=d[1]-u[1],P=d[0]-h[0],T=d[1]-h[1];return y*T-P*x==0&&y*P<=0&&x*T<=0}function el(d,u,h,y){return(x=[y[0]-h[0],y[1]-h[1]])[0]*(P=[u[0]-d[0],u[1]-d[1]])[1]-x[1]*P[0]!=0&&!(!Xo(d,u,h,y)||!Xo(h,y,d,u));var x,P}function Sd(d,u,h){for(const y of h)for(let x=0;x<y.length-1;++x)if(el(d,u,y[x],y[x+1]))return!0;return!1}function dA(d,u,h=!1){let y=!1;for(const D of u)for(let N=0;N<D.length-1;N++){if(Pp(d,D[N],D[N+1]))return h;(P=D[N])[1]>(x=d)[1]!=(T=D[N+1])[1]>x[1]&&x[0]<(T[0]-P[0])*(x[1]-P[1])/(T[1]-P[1])+P[0]&&(y=!y)}var x,P,T;return y}function zA(d,u){for(const h of u)if(dA(d,h))return!0;return!1}function Ed(d,u){for(const h of d)if(!dA(h,u))return!1;for(let h=0;h<d.length-1;++h)if(Sd(d[h],d[h+1],u))return!1;return!0}function Kp(d,u){for(const h of u)if(Ed(d,h))return!0;return!1}function Xo(d,u,h,y){const x=y[0]-h[0],P=y[1]-h[1],T=(d[0]-h[0])*P-x*(d[1]-h[1]),D=(u[0]-h[0])*P-x*(u[1]-h[1]);return T>0&&D<0||T<0&&D>0}function Hl(d,u,h){const y=[];for(let x=0;x<d.length;x++){const P=[];for(let T=0;T<d[x].length;T++){const D=La(d[x][T],h);ho(u,D),P.push(D)}y.push(P)}return y}function Zl(d,u,h){const y=[];for(let x=0;x<d.length;x++){const P=Hl(d[x],u,h);y.push(P)}return y}function kh(d,u,h,y){if(d[0]<h[0]||d[0]>h[2]){const x=.5*y;let P=d[0]-h[0]>x?-y:h[0]-d[0]>x?y:0;P===0&&(P=d[0]-h[2]>x?-y:h[2]-d[0]>x?y:0),d[0]+=P}ho(u,d)}function Rc(d,u,h,y){const x=Math.pow(2,y.z)*$i,P=[y.x*$i,y.y*$i],T=[];for(const D of d)for(const N of D){const $=[N.x+P[0],N.y+P[1]];kh($,u,h,x),T.push($)}return T}function jA(d,u,h,y){const x=Math.pow(2,y.z)*$i,P=[y.x*$i,y.y*$i],T=[];for(const N of d){const $=[];for(const te of N){const se=[te.x+P[0],te.y+P[1]];ho(u,se),$.push(se)}T.push($)}if(u[2]-u[0]<=x/2){(D=u)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const N of T)for(const $ of N)kh($,u,h,x)}var D;return T}class Uc{constructor(u,h){this.type=Bt,this.geojson=u,this.geometries=h}static parse(u,h){if(u.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ms(u[1])){const y=u[1];if(y.type==="FeatureCollection"){const x=[];for(const P of y.features){const{type:T,coordinates:D}=P.geometry;T==="Polygon"&&x.push(D),T==="MultiPolygon"&&x.push(...D)}if(x.length)return new Uc(y,{type:"MultiPolygon",coordinates:x})}else if(y.type==="Feature"){const x=y.geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new Uc(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new Uc(y,y)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(h,y){const x=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(y.type==="Polygon"){const D=Hl(y.coordinates,P,T),N=Rc(h.geometry(),x,P,T);if(!Lo(x,P))return!1;for(const $ of N)if(!dA($,D))return!1}if(y.type==="MultiPolygon"){const D=Zl(y.coordinates,P,T),N=Rc(h.geometry(),x,P,T);if(!Lo(x,P))return!1;for(const $ of N)if(!zA($,D))return!1}return!0}(u,this.geometries);if(u.geometryType()==="LineString")return function(h,y){const x=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(y.type==="Polygon"){const D=Hl(y.coordinates,P,T),N=jA(h.geometry(),x,P,T);if(!Lo(x,P))return!1;for(const $ of N)if(!Ed($,D))return!1}if(y.type==="MultiPolygon"){const D=Zl(y.coordinates,P,T),N=jA(h.geometry(),x,P,T);if(!Lo(x,P))return!1;for(const $ of N)if(!Kp($,D))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Im=class{constructor(d=[],u=(h,y)=>h<y?-1:h>y?1:0){if(this.data=d,this.length=this.data.length,this.compare=u,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(d){this.data.push(d),this._up(this.length++)}pop(){if(this.length===0)return;const d=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:u,compare:h}=this,y=u[d];for(;d>0;){const x=d-1>>1,P=u[x];if(h(y,P)>=0)break;u[d]=P,d=x}u[d]=y}_down(d){const{data:u,compare:h}=this,y=this.length>>1,x=u[d];for(;d<y;){let P=1+(d<<1);const T=P+1;if(T<this.length&&h(u[T],u[P])<0&&(P=T),h(u[P],x)>=0)break;u[d]=u[P],d=P}u[d]=x}};function km(d,u,h,y,x){NA(d,u,h,y||d.length-1,x||Q0)}function NA(d,u,h,y,x){for(;y>h;){if(y-h>600){var P=y-h+1,T=u-h+1,D=Math.log(P),N=.5*Math.exp(2*D/3),$=.5*Math.sqrt(D*N*(P-N)/P)*(T-P/2<0?-1:1);NA(d,u,Math.max(h,Math.floor(u-T*N/P+$)),Math.min(y,Math.floor(u+(P-T)*N/P+$)),x)}var te=d[u],se=h,pe=y;for(bo(d,h,u),x(d[y],te)>0&&bo(d,h,y);se<pe;){for(bo(d,se,pe),se++,pe--;x(d[se],te)<0;)se++;for(;x(d[pe],te)>0;)pe--}x(d[h],te)===0?bo(d,h,pe):bo(d,++pe,y),pe<=u&&(h=pe+1),u<=pe&&(y=pe-1)}}function bo(d,u,h){var y=d[u];d[u]=d[h],d[h]=y}function Q0(d,u){return d<u?-1:d>u?1:0}function zc(d,u){if(d.length<=1)return[d];const h=[];let y,x;for(const P of d){const T=Lp(P);T!==0&&(P.area=Math.abs(T),x===void 0&&(x=T<0),x===T<0?(y&&h.push(y),y=[P]):y.push(P))}if(y&&h.push(y),u>1)for(let P=0;P<h.length;P++)h[P].length<=u||(km(h[P],u,1,h[P].length-1,jc),h[P]=h[P].slice(0,u));return h}function jc(d,u){return u.area-d.area}function Lp(d){let u=0;for(let h,y,x=0,P=d.length,T=P-1;x<P;T=x++)h=d[x],y=d[T],u+=(y.x-h.x)*(h.y+y.y);return u}const Th=1/298.257223563,Dp=Th*(2-Th),gf=Math.PI/180;class Ph{constructor(u){const h=6378.137*gf*1e3,y=Math.cos(u*gf),x=1/(1-Dp*(1-y*y)),P=Math.sqrt(x);this.kx=h*P*y,this.ky=h*P*x*(1-Dp)}distance(u,h){const y=this.wrap(u[0]-h[0])*this.kx,x=(u[1]-h[1])*this.ky;return Math.sqrt(y*y+x*x)}pointOnLine(u,h){let y,x,P,T,D=1/0;for(let N=0;N<u.length-1;N++){let $=u[N][0],te=u[N][1],se=this.wrap(u[N+1][0]-$)*this.kx,pe=(u[N+1][1]-te)*this.ky,we=0;se===0&&pe===0||(we=(this.wrap(h[0]-$)*this.kx*se+(h[1]-te)*this.ky*pe)/(se*se+pe*pe),we>1?($=u[N+1][0],te=u[N+1][1]):we>0&&($+=se/this.kx*we,te+=pe/this.ky*we)),se=this.wrap(h[0]-$)*this.kx,pe=(h[1]-te)*this.ky;const Ie=se*se+pe*pe;Ie<D&&(D=Ie,y=$,x=te,P=N,T=we)}return{point:[y,x],index:P,t:Math.max(0,Math.min(1,T))}}wrap(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}}function yf(d,u){return u[0]-d[0]}function vf(d){return d[1]-d[0]+1}function vu(d,u){return d[1]>=d[0]&&d[1]<u}function zs(d,u){if(d[0]>d[1])return[null,null];const h=vf(d);if(u){if(h===2)return[d,null];const x=Math.floor(h/2);return[[d[0],d[0]+x],[d[0]+x,d[1]]]}if(h===1)return[d,null];const y=Math.floor(h/2)-1;return[[d[0],d[0]+y],[d[0]+y+1,d[1]]]}function Kh(d,u){if(!vu(u,d.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let y=u[0];y<=u[1];++y)ho(h,d[y]);return h}function ju(d){const u=[1/0,1/0,-1/0,-1/0];for(const h of d)for(const y of h)ho(u,y);return u}function Nu(d){return d[0]!==-1/0&&d[1]!==-1/0&&d[2]!==1/0&&d[3]!==1/0}function Nc(d,u,h){if(!Nu(d)||!Nu(u))return NaN;let y=0,x=0;return d[2]<u[0]&&(y=u[0]-d[2]),d[0]>u[2]&&(y=d[0]-u[2]),d[1]>u[3]&&(x=d[1]-u[3]),d[3]<u[1]&&(x=u[1]-d[3]),h.distance([0,0],[y,x])}function Wu(d,u,h){const y=h.pointOnLine(u,d);return h.distance(d,y.point)}function _f(d,u,h,y,x){const P=Math.min(Wu(d,[h,y],x),Wu(u,[h,y],x)),T=Math.min(Wu(h,[d,u],x),Wu(y,[d,u],x));return Math.min(P,T)}function fA(d,u,h,y,x){if(!vu(u,d.length)||!vu(y,h.length))return 1/0;let P=1/0;for(let T=u[0];T<u[1];++T){const D=d[T],N=d[T+1];for(let $=y[0];$<y[1];++$){const te=h[$],se=h[$+1];if(el(D,N,te,se))return 0;P=Math.min(P,_f(D,N,te,se,x))}}return P}function Wc(d,u,h,y,x){if(!vu(u,d.length)||!vu(y,h.length))return NaN;let P=1/0;for(let T=u[0];T<=u[1];++T)for(let D=y[0];D<=y[1];++D)if(P=Math.min(P,x.distance(d[T],h[D])),P===0)return P;return P}function Cf(d,u,h){if(dA(d,u,!0))return 0;let y=1/0;for(const x of u){const P=x[0],T=x[x.length-1];if(P!==T&&(y=Math.min(y,Wu(d,[T,P],h)),y===0))return y;const D=h.pointOnLine(x,d);if(y=Math.min(y,h.distance(d,D.point)),y===0)return y}return y}function Gc(d,u,h,y){if(!vu(u,d.length))return NaN;for(let P=u[0];P<=u[1];++P)if(dA(d[P],h,!0))return 0;let x=1/0;for(let P=u[0];P<u[1];++P){const T=d[P],D=d[P+1];for(const N of h)for(let $=0,te=N.length,se=te-1;$<te;se=$++){const pe=N[se],we=N[$];if(el(T,D,pe,we))return 0;x=Math.min(x,_f(T,D,pe,we,y))}}return x}function Fp(d,u){for(const h of d)for(const y of h)if(dA(y,u,!0))return!0;return!1}function $0(d,u,h,y=1/0){const x=ju(d),P=ju(u);if(y!==1/0&&Nc(x,P,h)>=y)return y;if(Lo(x,P)){if(Fp(d,u))return 0}else if(Fp(u,d))return 0;let T=1/0;for(const D of d)for(let N=0,$=D.length,te=$-1;N<$;te=N++){const se=D[te],pe=D[N];for(const we of u)for(let Ie=0,Se=we.length,He=Se-1;Ie<Se;He=Ie++){const Ye=we[He],Mt=we[Ie];if(el(se,pe,Ye,Mt))return 0;T=Math.min(T,_f(se,pe,Ye,Mt,h))}}return T}function Lh(d,u,h,y,x,P){if(!P)return;const T=Nc(Kh(y,P),x,h);T<u&&d.push([T,P,[0,0]])}function sc(d,u,h,y,x,P,T){if(!P||!T)return;const D=Nc(Kh(y,P),Kh(x,T),h);D<u&&d.push([D,P,T])}function tl(d,u,h,y,x=1/0){let P=Math.min(y.distance(d[0],h[0][0]),x);if(P===0)return P;const T=new Im([[0,[0,d.length-1],[0,0]]],yf),D=ju(h);for(;T.length>0;){const N=T.pop();if(N[0]>=P)continue;const $=N[1],te=u?50:100;if(vf($)<=te){if(!vu($,d.length))return NaN;if(u){const se=Gc(d,$,h,y);if(isNaN(se)||se===0)return se;P=Math.min(P,se)}else for(let se=$[0];se<=$[1];++se){const pe=Cf(d[se],h,y);if(P=Math.min(P,pe),P===0)return 0}}else{const se=zs($,u);Lh(T,P,y,d,D,se[0]),Lh(T,P,y,d,D,se[1])}}return P}function nl(d,u,h,y,x,P=1/0){let T=Math.min(P,x.distance(d[0],h[0]));if(T===0)return T;const D=new Im([[0,[0,d.length-1],[0,h.length-1]]],yf);for(;D.length>0;){const N=D.pop();if(N[0]>=T)continue;const $=N[1],te=N[2],se=u?50:100,pe=y?50:100;if(vf($)<=se&&vf(te)<=pe){if(!vu($,d.length)&&vu(te,h.length))return NaN;let we;if(u&&y)we=fA(d,$,h,te,x),T=Math.min(T,we);else if(u&&!y){const Ie=d.slice($[0],$[1]+1);for(let Se=te[0];Se<=te[1];++Se)if(we=Wu(h[Se],Ie,x),T=Math.min(T,we),T===0)return T}else if(!u&&y){const Ie=h.slice(te[0],te[1]+1);for(let Se=$[0];Se<=$[1];++Se)if(we=Wu(d[Se],Ie,x),T=Math.min(T,we),T===0)return T}else we=Wc(d,$,h,te,x),T=Math.min(T,we)}else{const we=zs($,u),Ie=zs(te,y);sc(D,T,x,d,h,we[0],Ie[0]),sc(D,T,x,d,h,we[0],Ie[1]),sc(D,T,x,d,h,we[1],Ie[0]),sc(D,T,x,d,h,we[1],Ie[1])}}return T}function bf(d){return d.type==="MultiPolygon"?d.coordinates.map(u=>({type:"Polygon",coordinates:u})):d.type==="MultiLineString"?d.coordinates.map(u=>({type:"LineString",coordinates:u})):d.type==="MultiPoint"?d.coordinates.map(u=>({type:"Point",coordinates:u})):[d]}class lc{constructor(u,h){this.type=rt,this.geojson=u,this.geometries=h}static parse(u,h){if(u.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ms(u[1])){const y=u[1];if(y.type==="FeatureCollection")return new lc(y,y.features.map(x=>bf(x.geometry)).flat());if(y.type==="Feature")return new lc(y,bf(y.geometry));if("type"in y&&"coordinates"in y)return new lc(y,bf(y))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(h,y){const x=h.geometry(),P=x.flat().map(N=>Ss([N.x,N.y],h.canonical));if(x.length===0)return NaN;const T=new Ph(P[0][1]);let D=1/0;for(const N of y){switch(N.type){case"Point":D=Math.min(D,nl(P,!1,[N.coordinates],!1,T,D));break;case"LineString":D=Math.min(D,nl(P,!1,N.coordinates,!0,T,D));break;case"Polygon":D=Math.min(D,tl(P,!1,N.coordinates,T,D))}if(D===0)return D}return D}(u,this.geometries);if(u.geometryType()==="LineString")return function(h,y){const x=h.geometry(),P=x.flat().map(N=>Ss([N.x,N.y],h.canonical));if(x.length===0)return NaN;const T=new Ph(P[0][1]);let D=1/0;for(const N of y){switch(N.type){case"Point":D=Math.min(D,nl(P,!0,[N.coordinates],!1,T,D));break;case"LineString":D=Math.min(D,nl(P,!0,N.coordinates,!0,T,D));break;case"Polygon":D=Math.min(D,tl(P,!0,N.coordinates,T,D))}if(D===0)return D}return D}(u,this.geometries);if(u.geometryType()==="Polygon")return function(h,y){const x=h.geometry();if(x.length===0||x[0].length===0)return NaN;const P=zc(x,0).map(N=>N.map($=>$.map(te=>Ss([te.x,te.y],h.canonical)))),T=new Ph(P[0][0][0][1]);let D=1/0;for(const N of y)for(const $ of P){switch(N.type){case"Point":D=Math.min(D,tl([N.coordinates],!1,$,T,D));break;case"LineString":D=Math.min(D,tl(N.coordinates,!0,$,T,D));break;case"Polygon":D=Math.min(D,$0($,N.coordinates,T,D))}if(D===0)return D}return D}(u,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Dh={"==":bn,"!=":kr,">":yr,"<":Ur,">=":Di,"<=":Tr,array:no,at:hA,boolean:no,case:Za,coalesce:le,collator:ro,format:Xr,image:ki,in:Bo,"index-of":Io,interpolate:li,"interpolate-hcl":li,"interpolate-lab":li,length:pi,let:gu,literal:dl,match:yi,number:no,"number-format":vi,object:no,slice:Oa,step:yu,string:no,"to-boolean":Ka,"to-color":Ka,"to-number":Ka,"to-string":Ka,var:zu,within:Uc,distance:lc};class js{constructor(u,h,y,x){this.name=u,this.type=h,this._evaluate=y,this.args=x}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,h){const y=u[0],x=js.definitions[y];if(!x)return h.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const P=Array.isArray(x)?x[0]:x.type,T=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,D=T.filter(([$])=>!Array.isArray($)||$.length===u.length-1);let N=null;for(const[$,te]of D){N=new Xs(h.registry,Od,h.path,null,h.scope);const se=[];let pe=!1;for(let we=1;we<u.length;we++){const Ie=u[we],Se=Array.isArray($)?$[we-1]:$.type,He=N.parse(Ie,1+se.length,Se);if(!He){pe=!0;break}se.push(He)}if(!pe)if(Array.isArray($)&&$.length!==se.length)N.error(`Expected ${$.length} arguments, but found ${se.length} instead.`);else{for(let we=0;we<se.length;we++){const Ie=Array.isArray($)?$[we]:$.type,Se=se[we];N.concat(we+1).checkSubtype(Ie,Se.type)}if(N.errors.length===0)return new js(y,P,te,se)}}if(D.length===1)h.errors.push(...N.errors);else{const $=(D.length?D:T).map(([se])=>{return pe=se,Array.isArray(pe)?`(${pe.map(On).join(", ")})`:`(${On(pe.type)}...)`;var pe}).join(" | "),te=[];for(let se=1;se<u.length;se++){const pe=h.parse(u[se],1+te.length);if(!pe)return null;te.push(On(pe.type))}h.error(`Expected arguments of type ${$}, but found (${te.join(", ")}) instead.`)}return null}static register(u,h){js.definitions=h;for(const y in h)u[y]=js}}function _u(d,[u,h,y,x]){u=u.evaluate(d),h=h.evaluate(d),y=y.evaluate(d);const P=x?x.evaluate(d):1,T=Fs(u,h,y,P);if(T)throw new to(T);return new Pt(u/255,h/255,y/255,P,!1)}function io(d,u){return d in u}function xf(d,u){const h=u[d];return h===void 0?null:h}function Gu(d){return{type:d}}function Od(d){if(d instanceof zu)return Od(d.boundExpression);if(d instanceof js&&d.name==="error"||d instanceof ro||d instanceof Uc||d instanceof lc)return!1;const u=d instanceof Ka||d instanceof no;let h=!0;return d.eachChild(y=>{h=u?h&&Od(y):h&&y instanceof dl}),!!h&&Bd(d)&&Cu(d,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Bd(d){if(d instanceof js&&(d.name==="get"&&d.args.length===1||d.name==="feature-state"||d.name==="has"&&d.args.length===1||d.name==="properties"||d.name==="geometry-type"||d.name==="id"||/^filter-/.test(d.name))||d instanceof Uc||d instanceof lc)return!1;let u=!0;return d.eachChild(h=>{u&&!Bd(h)&&(u=!1)}),u}function Qc(d){if(d instanceof js&&d.name==="feature-state")return!1;let u=!0;return d.eachChild(h=>{u&&!Qc(h)&&(u=!1)}),u}function Cu(d,u){if(d instanceof js&&u.indexOf(d.name)>=0)return!1;let h=!0;return d.eachChild(y=>{h&&!Cu(y,u)&&(h=!1)}),h}function Dt(d){return{result:"success",value:d}}function un(d){return{result:"error",value:d}}function Qt(d){return d["property-type"]==="data-driven"||d["property-type"]==="cross-faded-data-driven"}function Ar(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function ai(d){return!!d.expression&&d.expression.interpolated}function br(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":d===null?"null":typeof d}function fa(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)}function Do(d){return d}function Fh(d,u){const h=u.type==="color",y=d.stops&&typeof d.stops[0][0]=="object",x=y||!(y||d.property!==void 0),P=d.type||(ai(u)?"exponential":"interval");if(h||u.type==="padding"){const te=h?Pt.parse:ni.parse;(d=it({},d)).stops&&(d.stops=d.stops.map(se=>[se[0],te(se[1])])),d.default=te(d.default?d.default:u.default)}if(d.colorSpace&&(T=d.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${d.colorSpace}"`);var T;let D,N,$;if(P==="exponential")D=uc;else if(P==="interval")D=wf;else if(P==="categorical"){D=bu,N=Object.create(null);for(const te of d.stops)N[te[0]]=te[1];$=typeof d.stops[0][0]}else{if(P!=="identity")throw new Error(`Unknown function type "${P}"`);D=Qu}if(y){const te={},se=[];for(let Ie=0;Ie<d.stops.length;Ie++){const Se=d.stops[Ie],He=Se[0].zoom;te[He]===void 0&&(te[He]={zoom:He,type:d.type,property:d.property,default:d.default,stops:[]},se.push(He)),te[He].stops.push([Se[0].value,Se[1]])}const pe=[];for(const Ie of se)pe.push([te[Ie].zoom,Fh(te[Ie],u)]);const we={name:"linear"};return{kind:"composite",interpolationType:we,interpolationFactor:li.interpolationFactor.bind(void 0,we),zoomStops:pe.map(Ie=>Ie[0]),evaluate:({zoom:Ie},Se)=>uc({stops:pe,base:d.base},u,Ie).evaluate(Ie,Se)}}if(x){const te=P==="exponential"?{name:"exponential",base:d.base!==void 0?d.base:1}:null;return{kind:"camera",interpolationType:te,interpolationFactor:li.interpolationFactor.bind(void 0,te),zoomStops:d.stops.map(se=>se[0]),evaluate:({zoom:se})=>D(d,u,se,N,$)}}return{kind:"source",evaluate(te,se){const pe=se&&se.properties?se.properties[d.property]:void 0;return pe===void 0?Id(d.default,u.default):D(d,u,pe,N,$)}}}function Id(d,u,h){return d!==void 0?d:u!==void 0?u:h!==void 0?h:void 0}function bu(d,u,h,y,x){return Id(typeof h===x?y[h]:void 0,d.default,u.default)}function wf(d,u,h){if(br(h)!=="number")return Id(d.default,u.default);const y=d.stops.length;if(y===1||h<=d.stops[0][0])return d.stops[0][1];if(h>=d.stops[y-1][0])return d.stops[y-1][1];const x=Xa(d.stops.map(P=>P[0]),h);return d.stops[x][1]}function uc(d,u,h){const y=d.base!==void 0?d.base:1;if(br(h)!=="number")return Id(d.default,u.default);const x=d.stops.length;if(x===1||h<=d.stops[0][0])return d.stops[0][1];if(h>=d.stops[x-1][0])return d.stops[x-1][1];const P=Xa(d.stops.map(te=>te[0]),h),T=function(te,se,pe,we){const Ie=we-pe,Se=te-pe;return Ie===0?0:se===1?Se/Ie:(Math.pow(se,Se)-1)/(Math.pow(se,Ie)-1)}(h,y,d.stops[P][0],d.stops[P+1][0]),D=d.stops[P][1],N=d.stops[P+1][1],$=gr[u.type]||Do;return typeof D.evaluate=="function"?{evaluate(...te){const se=D.evaluate.apply(void 0,te),pe=N.evaluate.apply(void 0,te);if(se!==void 0&&pe!==void 0)return $(se,pe,T,d.colorSpace)}}:$(D,N,T,d.colorSpace)}function Qu(d,u,h){switch(u.type){case"color":h=Pt.parse(h);break;case"formatted":h=Yr.fromString(h.toString());break;case"resolvedImage":h=mr.fromString(h.toString());break;case"padding":h=ni.parse(h);break;default:br(h)===u.type||u.type==="enum"&&u.values[h]||(h=void 0)}return Id(h,d.default,u.default)}js.register(Dh,{error:[{kind:"error"},[mt],(d,[u])=>{throw new to(u.evaluate(d))}],typeof:[mt,[fn],(d,[u])=>On(Hi(u.evaluate(d)))],"to-rgba":[Un(rt,4),[cn],(d,[u])=>{const[h,y,x,P]=u.evaluate(d).rgb;return[255*h,255*y,255*x,P]}],rgb:[cn,[rt,rt,rt],_u],rgba:[cn,[rt,rt,rt,rt],_u],has:{type:Bt,overloads:[[[mt],(d,[u])=>io(u.evaluate(d),d.properties())],[[mt,mn],(d,[u,h])=>io(u.evaluate(d),h.evaluate(d))]]},get:{type:fn,overloads:[[[mt],(d,[u])=>xf(u.evaluate(d),d.properties())],[[mt,mn],(d,[u,h])=>xf(u.evaluate(d),h.evaluate(d))]]},"feature-state":[fn,[mt],(d,[u])=>xf(u.evaluate(d),d.featureState||{})],properties:[mn,[],d=>d.properties()],"geometry-type":[mt,[],d=>d.geometryType()],id:[fn,[],d=>d.id()],zoom:[rt,[],d=>d.globals.zoom],"heatmap-density":[rt,[],d=>d.globals.heatmapDensity||0],"line-progress":[rt,[],d=>d.globals.lineProgress||0],accumulated:[fn,[],d=>d.globals.accumulated===void 0?null:d.globals.accumulated],"+":[rt,Gu(rt),(d,u)=>{let h=0;for(const y of u)h+=y.evaluate(d);return h}],"*":[rt,Gu(rt),(d,u)=>{let h=1;for(const y of u)h*=y.evaluate(d);return h}],"-":{type:rt,overloads:[[[rt,rt],(d,[u,h])=>u.evaluate(d)-h.evaluate(d)],[[rt],(d,[u])=>-u.evaluate(d)]]},"/":[rt,[rt,rt],(d,[u,h])=>u.evaluate(d)/h.evaluate(d)],"%":[rt,[rt,rt],(d,[u,h])=>u.evaluate(d)%h.evaluate(d)],ln2:[rt,[],()=>Math.LN2],pi:[rt,[],()=>Math.PI],e:[rt,[],()=>Math.E],"^":[rt,[rt,rt],(d,[u,h])=>Math.pow(u.evaluate(d),h.evaluate(d))],sqrt:[rt,[rt],(d,[u])=>Math.sqrt(u.evaluate(d))],log10:[rt,[rt],(d,[u])=>Math.log(u.evaluate(d))/Math.LN10],ln:[rt,[rt],(d,[u])=>Math.log(u.evaluate(d))],log2:[rt,[rt],(d,[u])=>Math.log(u.evaluate(d))/Math.LN2],sin:[rt,[rt],(d,[u])=>Math.sin(u.evaluate(d))],cos:[rt,[rt],(d,[u])=>Math.cos(u.evaluate(d))],tan:[rt,[rt],(d,[u])=>Math.tan(u.evaluate(d))],asin:[rt,[rt],(d,[u])=>Math.asin(u.evaluate(d))],acos:[rt,[rt],(d,[u])=>Math.acos(u.evaluate(d))],atan:[rt,[rt],(d,[u])=>Math.atan(u.evaluate(d))],min:[rt,Gu(rt),(d,u)=>Math.min(...u.map(h=>h.evaluate(d)))],max:[rt,Gu(rt),(d,u)=>Math.max(...u.map(h=>h.evaluate(d)))],abs:[rt,[rt],(d,[u])=>Math.abs(u.evaluate(d))],round:[rt,[rt],(d,[u])=>{const h=u.evaluate(d);return h<0?-Math.round(-h):Math.round(h)}],floor:[rt,[rt],(d,[u])=>Math.floor(u.evaluate(d))],ceil:[rt,[rt],(d,[u])=>Math.ceil(u.evaluate(d))],"filter-==":[Bt,[mt,fn],(d,[u,h])=>d.properties()[u.value]===h.value],"filter-id-==":[Bt,[fn],(d,[u])=>d.id()===u.value],"filter-type-==":[Bt,[mt],(d,[u])=>d.geometryType()===u.value],"filter-<":[Bt,[mt,fn],(d,[u,h])=>{const y=d.properties()[u.value],x=h.value;return typeof y==typeof x&&y<x}],"filter-id-<":[Bt,[fn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h<y}],"filter->":[Bt,[mt,fn],(d,[u,h])=>{const y=d.properties()[u.value],x=h.value;return typeof y==typeof x&&y>x}],"filter-id->":[Bt,[fn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h>y}],"filter-<=":[Bt,[mt,fn],(d,[u,h])=>{const y=d.properties()[u.value],x=h.value;return typeof y==typeof x&&y<=x}],"filter-id-<=":[Bt,[fn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h<=y}],"filter->=":[Bt,[mt,fn],(d,[u,h])=>{const y=d.properties()[u.value],x=h.value;return typeof y==typeof x&&y>=x}],"filter-id->=":[Bt,[fn],(d,[u])=>{const h=d.id(),y=u.value;return typeof h==typeof y&&h>=y}],"filter-has":[Bt,[fn],(d,[u])=>u.value in d.properties()],"filter-has-id":[Bt,[],d=>d.id()!==null&&d.id()!==void 0],"filter-type-in":[Bt,[Un(mt)],(d,[u])=>u.value.indexOf(d.geometryType())>=0],"filter-id-in":[Bt,[Un(fn)],(d,[u])=>u.value.indexOf(d.id())>=0],"filter-in-small":[Bt,[mt,Un(fn)],(d,[u,h])=>h.value.indexOf(d.properties()[u.value])>=0],"filter-in-large":[Bt,[mt,Un(fn)],(d,[u,h])=>function(y,x,P,T){for(;P<=T;){const D=P+T>>1;if(x[D]===y)return!0;x[D]>y?T=D-1:P=D+1}return!1}(d.properties()[u.value],h.value,0,h.value.length-1)],all:{type:Bt,overloads:[[[Bt,Bt],(d,[u,h])=>u.evaluate(d)&&h.evaluate(d)],[Gu(Bt),(d,u)=>{for(const h of u)if(!h.evaluate(d))return!1;return!0}]]},any:{type:Bt,overloads:[[[Bt,Bt],(d,[u,h])=>u.evaluate(d)||h.evaluate(d)],[Gu(Bt),(d,u)=>{for(const h of u)if(h.evaluate(d))return!0;return!1}]]},"!":[Bt,[Bt],(d,[u])=>!u.evaluate(d)],"is-supported-script":[Bt,[mt],(d,[u])=>{const h=d.globals&&d.globals.isSupportedScript;return!h||h(u.evaluate(d))}],upcase:[mt,[mt],(d,[u])=>u.evaluate(d).toUpperCase()],downcase:[mt,[mt],(d,[u])=>u.evaluate(d).toLowerCase()],concat:[mt,Gu(fn),(d,u)=>u.map(h=>Ha(h.evaluate(d))).join("")],"resolved-locale":[mt,[Cr],(d,[u])=>u.evaluate(d).resolvedLocale()]});class $u{constructor(u,h){var y;this.expression=u,this._warningHistory={},this._evaluator=new cA,this._defaultValue=h?(y=h).type==="color"&&fa(y.default)?new Pt(0,0,0,0):y.type==="color"?Pt.parse(y.default)||null:y.type==="padding"?ni.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?la.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(u,h,y,x,P,T){return this._evaluator.globals=u,this._evaluator.feature=h,this._evaluator.featureState=y,this._evaluator.canonical=x,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(u,h,y,x,P,T){this._evaluator.globals=u,this._evaluator.feature=h||null,this._evaluator.featureState=y||null,this._evaluator.canonical=x,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=T||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new to(`Expected value to be one of ${Object.keys(this._enumValues).map(N=>JSON.stringify(N)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function WA(d){return Array.isArray(d)&&d.length>0&&typeof d[0]=="string"&&d[0]in Dh}function so(d,u){const h=new Xs(Dh,Od,[],u?function(x){const P={color:cn,string:mt,number:rt,enum:mt,boolean:Bt,formatted:rr,padding:Mr,resolvedImage:oi,variableAnchorOffsetCollection:$r};return x.type==="array"?Un(P[x.value]||fn,x.length):P[x.type]}(u):void 0),y=h.parse(d,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Dt(new $u(y,u)):un(h.errors)}class Mf{constructor(u,h){this.kind=u,this._styleExpression=h,this.isStateDependent=u!=="constant"&&!Qc(h.expression)}evaluateWithoutErrorHandling(u,h,y,x,P,T){return this._styleExpression.evaluateWithoutErrorHandling(u,h,y,x,P,T)}evaluate(u,h,y,x,P,T){return this._styleExpression.evaluate(u,h,y,x,P,T)}}class Rh{constructor(u,h,y,x){this.kind=u,this.zoomStops=y,this._styleExpression=h,this.isStateDependent=u!=="camera"&&!Qc(h.expression),this.interpolationType=x}evaluateWithoutErrorHandling(u,h,y,x,P,T){return this._styleExpression.evaluateWithoutErrorHandling(u,h,y,x,P,T)}evaluate(u,h,y,x,P,T){return this._styleExpression.evaluate(u,h,y,x,P,T)}interpolationFactor(u,h,y){return this.interpolationType?li.interpolationFactor(this.interpolationType,u,h,y):0}}function Yu(d,u){const h=so(d,u);if(h.result==="error")return h;const y=h.value.expression,x=Bd(y);if(!x&&!Qt(u))return un([new dt("","data expressions not supported")]);const P=Cu(y,["zoom"]);if(!P&&!Ar(u))return un([new dt("","zoom expressions not supported")]);const T=Es(y);return T||P?T instanceof dt?un([T]):T instanceof li&&!ai(u)?un([new dt("",'"interpolate" expressions cannot be used with this property')]):Dt(T?new Rh(x?"camera":"composite",h.value,T.labels,T instanceof li?T.interpolation:void 0):new Mf(x?"constant":"source",h.value)):un([new dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class pA{constructor(u,h){this._parameters=u,this._specification=h,it(this,Fh(this._parameters,this._specification))}static deserialize(u){return new pA(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function Es(d){let u=null;if(d instanceof gu)u=Es(d.result);else if(d instanceof le){for(const h of d.args)if(u=Es(h),u)break}else(d instanceof yu||d instanceof li)&&d.input instanceof js&&d.input.name==="zoom"&&(u=d);return u instanceof dt||d.eachChild(h=>{const y=Es(h);y instanceof dt?u=y:!u&&y?u=new dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&y&&u!==y&&(u=new dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function mA(d){if(d===!0||d===!1)return!0;if(!Array.isArray(d)||d.length===0)return!1;switch(d[0]){case"has":return d.length>=2&&d[1]!=="$id"&&d[1]!=="$type";case"in":return d.length>=3&&(typeof d[1]!="string"||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return d.length!==3||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const u of d.slice(1))if(!mA(u)&&typeof u!="boolean")return!1;return!0;default:return!0}}const qu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Xl(d){if(d==null)return{filter:()=>!0,needGeometry:!1};mA(d)||(d=Vu(d));const u=so(d,qu);if(u.result==="error")throw new Error(u.value.map(h=>`${h.key}: ${h.message}`).join(", "));return{filter:(h,y,x)=>u.value.evaluate(h,y,{},x),needGeometry:Sf(d)}}function Uh(d,u){return d<u?-1:d>u?1:0}function Sf(d){if(!Array.isArray(d))return!1;if(d[0]==="within"||d[0]==="distance")return!0;for(let u=1;u<d.length;u++)if(Sf(d[u]))return!0;return!1}function Vu(d){if(!d)return!0;const u=d[0];return d.length<=1?u!=="any":u==="=="?kd(d[1],d[2],"=="):u==="!="?cc(kd(d[1],d[2],"==")):u==="<"||u===">"||u==="<="||u===">="?kd(d[1],d[2],u):u==="any"?(h=d.slice(1),["any"].concat(h.map(Vu))):u==="all"?["all"].concat(d.slice(1).map(Vu)):u==="none"?["all"].concat(d.slice(1).map(Vu).map(cc)):u==="in"?Td(d[1],d.slice(2)):u==="!in"?cc(Td(d[1],d.slice(2))):u==="has"?Ac(d[1]):u!=="!has"||cc(Ac(d[1]));var h}function kd(d,u,h){switch(d){case"$type":return[`filter-type-${h}`,u];case"$id":return[`filter-id-${h}`,u];default:return[`filter-${h}`,d,u]}}function Td(d,u){if(u.length===0)return!1;switch(d){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(h=>typeof h!=typeof u[0])?["filter-in-large",d,["literal",u.sort(Uh)]]:["filter-in-small",d,["literal",u]]}}function Ac(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function cc(d){return["!",d]}function gA(d){const u=typeof d;if(u==="number"||u==="boolean"||u==="string"||d==null)return JSON.stringify(d);if(Array.isArray(d)){let x="[";for(const P of d)x+=`${gA(P)},`;return`${x}]`}const h=Object.keys(d).sort();let y="{";for(let x=0;x<h.length;x++)y+=`${JSON.stringify(h[x])}:${gA(d[h[x]])},`;return`${y}}`}function hc(d){let u="";for(const h of oe)u+=`/${gA(d[h])}`;return u}function $c(d){const u=d.value;return u?[new ze(d.key,u,"constants have been deprecated as of v8")]:[]}function ua(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function xu(d){if(Array.isArray(d))return d.map(xu);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const u={};for(const h in d)u[h]=xu(d[h]);return u}return ua(d)}function pl(d){const u=d.key,h=d.value,y=d.valueSpec||{},x=d.objectElementValidators||{},P=d.style,T=d.styleSpec,D=d.validateSpec;let N=[];const $=br(h);if($!=="object")return[new ze(u,h,`object expected, ${$} found`)];for(const te in h){const se=te.split(".")[0],pe=y[se]||y["*"];let we;if(x[se])we=x[se];else if(y[se])we=D;else if(x["*"])we=x["*"];else{if(!y["*"]){N.push(new ze(u,h[te],`unknown property "${te}"`));continue}we=D}N=N.concat(we({key:(u&&`${u}.`)+te,value:h[te],valueSpec:pe,style:P,styleSpec:T,object:h,objectKey:te,validateSpec:D},h))}for(const te in y)x[te]||y[te].required&&y[te].default===void 0&&h[te]===void 0&&N.push(new ze(u,h,`missing required property "${te}"`));return N}function dc(d){const u=d.value,h=d.valueSpec,y=d.style,x=d.styleSpec,P=d.key,T=d.arrayElementValidator||d.validateSpec;if(br(u)!=="array")return[new ze(P,u,`array expected, ${br(u)} found`)];if(h.length&&u.length!==h.length)return[new ze(P,u,`array length ${h.length} expected, length ${u.length} found`)];if(h["min-length"]&&u.length<h["min-length"])return[new ze(P,u,`array length at least ${h["min-length"]} expected, length ${u.length} found`)];let D={type:h.value,values:h.values};x.$version<7&&(D.function=h.function),br(h.value)==="object"&&(D=h.value);let N=[];for(let $=0;$<u.length;$++)N=N.concat(T({array:u,arrayIndex:$,value:u[$],valueSpec:D,validateSpec:d.validateSpec,style:y,styleSpec:x,key:`${P}[${$}]`}));return N}function yA(d){const u=d.key,h=d.value,y=d.valueSpec;let x=br(h);return x==="number"&&h!=h&&(x="NaN"),x!=="number"?[new ze(u,h,`number expected, ${x} found`)]:"minimum"in y&&h<y.minimum?[new ze(u,h,`${h} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&h>y.maximum?[new ze(u,h,`${h} is greater than the maximum value ${y.maximum}`)]:[]}function Ef(d){const u=d.valueSpec,h=ua(d.value.type);let y,x,P,T={};const D=h!=="categorical"&&d.value.property===void 0,N=!D,$=br(d.value.stops)==="array"&&br(d.value.stops[0])==="array"&&br(d.value.stops[0][0])==="object",te=pl({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(we){if(h==="identity")return[new ze(we.key,we.value,'identity function may not have a "stops" property')];let Ie=[];const Se=we.value;return Ie=Ie.concat(dc({key:we.key,value:Se,valueSpec:we.valueSpec,validateSpec:we.validateSpec,style:we.style,styleSpec:we.styleSpec,arrayElementValidator:se})),br(Se)==="array"&&Se.length===0&&Ie.push(new ze(we.key,Se,"array must have at least one stop")),Ie},default:function(we){return we.validateSpec({key:we.key,value:we.value,valueSpec:u,validateSpec:we.validateSpec,style:we.style,styleSpec:we.styleSpec})}}});return h==="identity"&&D&&te.push(new ze(d.key,d.value,'missing required property "property"')),h==="identity"||d.value.stops||te.push(new ze(d.key,d.value,'missing required property "stops"')),h==="exponential"&&d.valueSpec.expression&&!ai(d.valueSpec)&&te.push(new ze(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(N&&!Qt(d.valueSpec)?te.push(new ze(d.key,d.value,"property functions not supported")):D&&!Ar(d.valueSpec)&&te.push(new ze(d.key,d.value,"zoom functions not supported"))),h!=="categorical"&&!$||d.value.property!==void 0||te.push(new ze(d.key,d.value,'"property" property is required')),te;function se(we){let Ie=[];const Se=we.value,He=we.key;if(br(Se)!=="array")return[new ze(He,Se,`array expected, ${br(Se)} found`)];if(Se.length!==2)return[new ze(He,Se,`array length 2 expected, length ${Se.length} found`)];if($){if(br(Se[0])!=="object")return[new ze(He,Se,`object expected, ${br(Se[0])} found`)];if(Se[0].zoom===void 0)return[new ze(He,Se,"object stop key must have zoom")];if(Se[0].value===void 0)return[new ze(He,Se,"object stop key must have value")];if(P&&P>ua(Se[0].zoom))return[new ze(He,Se[0].zoom,"stop zoom values must appear in ascending order")];ua(Se[0].zoom)!==P&&(P=ua(Se[0].zoom),x=void 0,T={}),Ie=Ie.concat(pl({key:`${He}[0]`,value:Se[0],valueSpec:{zoom:{}},validateSpec:we.validateSpec,style:we.style,styleSpec:we.styleSpec,objectElementValidators:{zoom:yA,value:pe}}))}else Ie=Ie.concat(pe({key:`${He}[0]`,value:Se[0],valueSpec:{},validateSpec:we.validateSpec,style:we.style,styleSpec:we.styleSpec},Se));return WA(xu(Se[1]))?Ie.concat([new ze(`${He}[1]`,Se[1],"expressions are not allowed in function stops.")]):Ie.concat(we.validateSpec({key:`${He}[1]`,value:Se[1],valueSpec:u,validateSpec:we.validateSpec,style:we.style,styleSpec:we.styleSpec}))}function pe(we,Ie){const Se=br(we.value),He=ua(we.value),Ye=we.value!==null?we.value:Ie;if(y){if(Se!==y)return[new ze(we.key,Ye,`${Se} stop domain type must match previous stop domain type ${y}`)]}else y=Se;if(Se!=="number"&&Se!=="string"&&Se!=="boolean")return[new ze(we.key,Ye,"stop domain value must be a number, string, or boolean")];if(Se!=="number"&&h!=="categorical"){let Mt=`number expected, ${Se} found`;return Qt(u)&&h===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ze(we.key,Ye,Mt)]}return h!=="categorical"||Se!=="number"||isFinite(He)&&Math.floor(He)===He?h!=="categorical"&&Se==="number"&&x!==void 0&&He<x?[new ze(we.key,Ye,"stop domain values must appear in ascending order")]:(x=He,h==="categorical"&&He in T?[new ze(we.key,Ye,"stop domain values must be unique")]:(T[He]=!0,[])):[new ze(we.key,Ye,`integer expected, found ${He}`)]}}function zh(d){const u=(d.expressionContext==="property"?Yu:so)(xu(d.value),d.valueSpec);if(u.result==="error")return u.value.map(y=>new ze(`${d.key}${y.key}`,d.value,y.message));const h=u.value.expression||u.value._styleExpression.expression;if(d.expressionContext==="property"&&d.propertyKey==="text-font"&&!h.outputDefined())return[new ze(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if(d.expressionContext==="property"&&d.propertyType==="layout"&&!Qc(h))return[new ze(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if(d.expressionContext==="filter"&&!Qc(h))return[new ze(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&d.expressionContext.indexOf("cluster")===0){if(!Cu(h,["zoom","feature-state"]))return[new ze(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(d.expressionContext==="cluster-initial"&&!Bd(h))return[new ze(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yc(d){const u=d.key,h=d.value,y=d.valueSpec,x=[];return Array.isArray(y.values)?y.values.indexOf(ua(h))===-1&&x.push(new ze(u,h,`expected one of [${y.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(y.values).indexOf(ua(h))===-1&&x.push(new ze(u,h,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(h)} found`)),x}function jh(d){return mA(xu(d.value))?zh(it({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Pd(d)}function Pd(d){const u=d.value,h=d.key;if(br(u)!=="array")return[new ze(h,u,`array expected, ${br(u)} found`)];const y=d.styleSpec;let x,P=[];if(u.length<1)return[new ze(h,u,"filter array must have at least 1 element")];switch(P=P.concat(Yc({key:`${h}[0]`,value:u[0],valueSpec:y.filter_operator,style:d.style,styleSpec:d.styleSpec})),ua(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&ua(u[1])==="$type"&&P.push(new ze(h,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":u.length!==3&&P.push(new ze(h,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(x=br(u[1]),x!=="string"&&P.push(new ze(`${h}[1]`,u[1],`string expected, ${x} found`)));for(let T=2;T<u.length;T++)x=br(u[T]),ua(u[1])==="$type"?P=P.concat(Yc({key:`${h}[${T}]`,value:u[T],valueSpec:y.geometry_type,style:d.style,styleSpec:d.styleSpec})):x!=="string"&&x!=="number"&&x!=="boolean"&&P.push(new ze(`${h}[${T}]`,u[T],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let T=1;T<u.length;T++)P=P.concat(Pd({key:`${h}[${T}]`,value:u[T],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":x=br(u[1]),u.length!==2?P.push(new ze(h,u,`filter array for "${u[0]}" operator must have 2 elements`)):x!=="string"&&P.push(new ze(`${h}[1]`,u[1],`string expected, ${x} found`))}return P}function Yo(d,u){const h=d.key,y=d.validateSpec,x=d.style,P=d.styleSpec,T=d.value,D=d.objectKey,N=P[`${u}_${d.layerType}`];if(!N)return[];const $=D.match(/^(.*)-transition$/);if(u==="paint"&&$&&N[$[1]]&&N[$[1]].transition)return y({key:h,value:T,valueSpec:P.transition,style:x,styleSpec:P});const te=d.valueSpec||N[D];if(!te)return[new ze(h,T,`unknown property "${D}"`)];let se;if(br(T)==="string"&&Qt(te)&&!te.tokens&&(se=/^{([^}]+)}$/.exec(T)))return[new ze(h,T,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(se[1])} }\`.`)];const pe=[];return d.layerType==="symbol"&&(D==="text-field"&&x&&!x.glyphs&&pe.push(new ze(h,T,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&fa(xu(T))&&ua(T.type)==="identity"&&pe.push(new ze(h,T,'"text-font" does not support identity functions'))),pe.concat(y({key:d.key,value:T,valueSpec:te,style:x,styleSpec:P,expressionContext:"property",propertyType:u,propertyKey:D}))}function pa(d){return Yo(d,"paint")}function Of(d){return Yo(d,"layout")}function qc(d){let u=[];const h=d.value,y=d.key,x=d.style,P=d.styleSpec;h.type||h.ref||u.push(new ze(y,h,'either "type" or "ref" is required'));let T=ua(h.type);const D=ua(h.ref);if(h.id){const N=ua(h.id);for(let $=0;$<d.arrayIndex;$++){const te=x.layers[$];ua(te.id)===N&&u.push(new ze(y,h.id,`duplicate layer id "${h.id}", previously used at line ${te.id.__line__}`))}}if("ref"in h){let N;["type","source","source-layer","filter","layout"].forEach($=>{$ in h&&u.push(new ze(y,h[$],`"${$}" is prohibited for ref layers`))}),x.layers.forEach($=>{ua($.id)===D&&(N=$)}),N?N.ref?u.push(new ze(y,h.ref,"ref cannot reference another ref layer")):T=ua(N.type):u.push(new ze(y,h.ref,`ref layer "${D}" not found`))}else if(T!=="background")if(h.source){const N=x.sources&&x.sources[h.source],$=N&&ua(N.type);N?$==="vector"&&T==="raster"?u.push(new ze(y,h.source,`layer "${h.id}" requires a raster source`)):$!=="raster-dem"&&T==="hillshade"?u.push(new ze(y,h.source,`layer "${h.id}" requires a raster-dem source`)):$==="raster"&&T!=="raster"?u.push(new ze(y,h.source,`layer "${h.id}" requires a vector source`)):$!=="vector"||h["source-layer"]?$==="raster-dem"&&T!=="hillshade"?u.push(new ze(y,h.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!h.paint||!h.paint["line-gradient"]||$==="geojson"&&N.lineMetrics||u.push(new ze(y,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new ze(y,h,`layer "${h.id}" must specify a "source-layer"`)):u.push(new ze(y,h.source,`source "${h.source}" not found`))}else u.push(new ze(y,h,'missing required property "source"'));return u=u.concat(pl({key:y,value:h,valueSpec:P.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*":()=>[],type:()=>d.validateSpec({key:`${y}.type`,value:h.type,valueSpec:P.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:h,objectKey:"type"}),filter:jh,layout:N=>pl({layer:h,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":$=>Of(it({layerType:T},$))}}),paint:N=>pl({layer:h,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":$=>pa(it({layerType:T},$))}})}})),u}function wu(d){const u=d.value,h=d.key,y=br(u);return y!=="string"?[new ze(h,u,`string expected, ${y} found`)]:[]}const Nh={promoteId:function({key:d,value:u}){if(br(u)==="string")return wu({key:d,value:u});{const h=[];for(const y in u)h.push(...wu({key:`${d}.${y}`,value:u[y]}));return h}}};function Kd(d){const u=d.value,h=d.key,y=d.styleSpec,x=d.style,P=d.validateSpec;if(!u.type)return[new ze(h,u,'"type" is required')];const T=ua(u.type);let D;switch(T){case"vector":case"raster":return D=pl({key:h,value:u,valueSpec:y[`source_${T.replace("-","_")}`],style:d.style,styleSpec:y,objectElementValidators:Nh,validateSpec:P}),D;case"raster-dem":return D=function(N){var $;const te=($=N.sourceName)!==null&&$!==void 0?$:"",se=N.value,pe=N.styleSpec,we=pe.source_raster_dem,Ie=N.style;let Se=[];const He=br(se);if(se===void 0)return Se;if(He!=="object")return Se.push(new ze("source_raster_dem",se,`object expected, ${He} found`)),Se;const Ye=ua(se.encoding)==="custom",Mt=["redFactor","greenFactor","blueFactor","baseShift"],At=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const de in se)!Ye&&Mt.includes(de)?Se.push(new ze(de,se[de],`In "${te}": "${de}" is only valid when "encoding" is set to "custom". ${At} encoding found`)):we[de]?Se=Se.concat(N.validateSpec({key:de,value:se[de],valueSpec:we[de],validateSpec:N.validateSpec,style:Ie,styleSpec:pe})):Se.push(new ze(de,se[de],`unknown property "${de}"`));return Se}({sourceName:h,value:u,style:d.style,styleSpec:y,validateSpec:P}),D;case"geojson":if(D=pl({key:h,value:u,valueSpec:y.source_geojson,style:x,styleSpec:y,validateSpec:P,objectElementValidators:Nh}),u.cluster)for(const N in u.clusterProperties){const[$,te]=u.clusterProperties[N],se=typeof $=="string"?[$,["accumulated"],["get",N]]:$;D.push(...zh({key:`${h}.${N}.map`,value:te,validateSpec:P,expressionContext:"cluster-map"})),D.push(...zh({key:`${h}.${N}.reduce`,value:se,validateSpec:P,expressionContext:"cluster-reduce"}))}return D;case"video":return pl({key:h,value:u,valueSpec:y.source_video,style:x,validateSpec:P,styleSpec:y});case"image":return pl({key:h,value:u,valueSpec:y.source_image,style:x,validateSpec:P,styleSpec:y});case"canvas":return[new ze(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yc({key:`${h}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:P,styleSpec:y})}}function Mu(d){const u=d.value,h=d.styleSpec,y=h.light,x=d.style;let P=[];const T=br(u);if(u===void 0)return P;if(T!=="object")return P=P.concat([new ze("light",u,`object expected, ${T} found`)]),P;for(const D in u){const N=D.match(/^(.*)-transition$/);P=P.concat(N&&y[N[1]]&&y[N[1]].transition?d.validateSpec({key:D,value:u[D],valueSpec:h.transition,validateSpec:d.validateSpec,style:x,styleSpec:h}):y[D]?d.validateSpec({key:D,value:u[D],valueSpec:y[D],validateSpec:d.validateSpec,style:x,styleSpec:h}):[new ze(D,u[D],`unknown property "${D}"`)])}return P}function fc(d){const u=d.value,h=d.styleSpec,y=h.sky,x=d.style,P=br(u);if(u===void 0)return[];if(P!=="object")return[new ze("sky",u,`object expected, ${P} found`)];let T=[];for(const D in u)T=T.concat(y[D]?d.validateSpec({key:D,value:u[D],valueSpec:y[D],style:x,styleSpec:h}):[new ze(D,u[D],`unknown property "${D}"`)]);return T}function Jl(d){const u=d.value,h=d.styleSpec,y=h.terrain,x=d.style;let P=[];const T=br(u);if(u===void 0)return P;if(T!=="object")return P=P.concat([new ze("terrain",u,`object expected, ${T} found`)]),P;for(const D in u)P=P.concat(y[D]?d.validateSpec({key:D,value:u[D],valueSpec:y[D],validateSpec:d.validateSpec,style:x,styleSpec:h}):[new ze(D,u[D],`unknown property "${D}"`)]);return P}function vA(d){let u=[];const h=d.value,y=d.key;if(Array.isArray(h)){const x=[],P=[];for(const T in h)h[T].id&&x.includes(h[T].id)&&u.push(new ze(y,h,`all the sprites' ids must be unique, but ${h[T].id} is duplicated`)),x.push(h[T].id),h[T].url&&P.includes(h[T].url)&&u.push(new ze(y,h,`all the sprites' URLs must be unique, but ${h[T].url} is duplicated`)),P.push(h[T].url),u=u.concat(pl({key:`${y}[${T}]`,value:h[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return u}return wu({key:y,value:h})}const Su={"*":()=>[],array:dc,boolean:function(d){const u=d.value,h=d.key,y=br(u);return y!=="boolean"?[new ze(h,u,`boolean expected, ${y} found`)]:[]},number:yA,color:function(d){const u=d.key,h=d.value,y=br(h);return y!=="string"?[new ze(u,h,`color expected, ${y} found`)]:Pt.parse(String(h))?[]:[new ze(u,h,`color expected, "${h}" found`)]},constants:$c,enum:Yc,filter:jh,function:Ef,layer:qc,object:pl,source:Kd,light:Mu,sky:fc,terrain:Jl,projection:function(d){const u=d.value,h=d.styleSpec,y=h.projection,x=d.style,P=br(u);if(u===void 0)return[];if(P!=="object")return[new ze("projection",u,`object expected, ${P} found`)];let T=[];for(const D in u)T=T.concat(y[D]?d.validateSpec({key:D,value:u[D],valueSpec:y[D],style:x,styleSpec:h}):[new ze(D,u[D],`unknown property "${D}"`)]);return T},string:wu,formatted:function(d){return wu(d).length===0?[]:zh(d)},resolvedImage:function(d){return wu(d).length===0?[]:zh(d)},padding:function(d){const u=d.key,h=d.value;if(br(h)==="array"){if(h.length<1||h.length>4)return[new ze(u,h,`padding requires 1 to 4 values; ${h.length} values found`)];const y={type:"number"};let x=[];for(let P=0;P<h.length;P++)x=x.concat(d.validateSpec({key:`${u}[${P}]`,value:h[P],validateSpec:d.validateSpec,valueSpec:y}));return x}return yA({key:u,value:h,valueSpec:{}})},variableAnchorOffsetCollection:function(d){const u=d.key,h=d.value,y=br(h),x=d.styleSpec;if(y!=="array"||h.length<1||h.length%2!=0)return[new ze(u,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let P=[];for(let T=0;T<h.length;T+=2)P=P.concat(Yc({key:`${u}[${T}]`,value:h[T],valueSpec:x.layout_symbol["text-anchor"]})),P=P.concat(dc({key:`${u}[${T+1}]`,value:h[T+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:x}));return P},sprite:vA};function _A(d){const u=d.value,h=d.valueSpec,y=d.styleSpec;return d.validateSpec=_A,h.expression&&fa(ua(u))?Ef(d):h.expression&&WA(xu(u))?zh(d):h.type&&Su[h.type]?Su[h.type](d):pl(it({},d,{valueSpec:h.type?y[h.type]:h}))}function Hu(d){const u=d.value,h=d.key,y=wu(d);return y.length||(u.indexOf("{fontstack}")===-1&&y.push(new ze(h,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&y.push(new ze(h,u,'"glyphs" url must include a "{range}" token'))),y}function Eu(d,u=Q){let h=[];return h=h.concat(_A({key:"",value:d,valueSpec:u.$root,styleSpec:u,style:d,validateSpec:_A,objectElementValidators:{glyphs:Hu,"*":()=>[]}})),d.constants&&(h=h.concat($c({key:"constants",value:d.constants,style:d,styleSpec:u,validateSpec:_A}))),GA(h)}function Zu(d){return function(u){return d({...u,validateSpec:_A})}}function GA(d){return[].concat(d).sort((u,h)=>u.line-h.line)}function rl(d){return function(...u){return GA(d.apply(this,u))}}Eu.source=rl(Zu(Kd)),Eu.sprite=rl(Zu(vA)),Eu.glyphs=rl(Zu(Hu)),Eu.light=rl(Zu(Mu)),Eu.sky=rl(Zu(fc)),Eu.terrain=rl(Zu(Jl)),Eu.layer=rl(Zu(qc)),Eu.filter=rl(Zu(jh)),Eu.paintProperty=rl(Zu(pa)),Eu.layoutProperty=rl(Zu(Of));const Vc=Eu,Ld=Vc.light,pc=Vc.sky,Tm=Vc.paintProperty,je=Vc.layoutProperty;function Hc(d,u){let h=!1;if(u&&u.length)for(const y of u)d.fire(new fi(new Error(y.message))),h=!0;return h}class Da{constructor(u,h,y){const x=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const T=new Int32Array(this.arrayBuffer);u=T[0],this.d=(h=T[1])+2*(y=T[2]);for(let N=0;N<this.d*this.d;N++){const $=T[3+N],te=T[3+N+1];x.push($===te?null:T.subarray($,te))}const D=T[3+x.length+1];this.keys=T.subarray(T[3+x.length],D),this.bboxes=T.subarray(D),this.insert=this._insertReadonly}else{this.d=h+2*y;for(let T=0;T<this.d*this.d;T++)x.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=u,this.padding=y,this.scale=h/u,this.uid=0;const P=y/h*u;this.min=-P,this.max=u+P}insert(u,h,y,x,P){this._forEachCell(h,y,x,P,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(h),this.bboxes.push(y),this.bboxes.push(x),this.bboxes.push(P)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,h,y,x,P,T){this.cells[P].push(T)}query(u,h,y,x,P){const T=this.min,D=this.max;if(u<=T&&h<=T&&D<=y&&D<=x&&!P)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(u,h,y,x,this._queryCell,N,{},P),N}}_queryCell(u,h,y,x,P,T,D,N){const $=this.cells[P];if($!==null){const te=this.keys,se=this.bboxes;for(let pe=0;pe<$.length;pe++){const we=$[pe];if(D[we]===void 0){const Ie=4*we;(N?N(se[Ie+0],se[Ie+1],se[Ie+2],se[Ie+3]):u<=se[Ie+2]&&h<=se[Ie+3]&&y>=se[Ie+0]&&x>=se[Ie+1])?(D[we]=!0,T.push(te[we])):D[we]=!1}}}}_forEachCell(u,h,y,x,P,T,D,N){const $=this._convertToCellCoord(u),te=this._convertToCellCoord(h),se=this._convertToCellCoord(y),pe=this._convertToCellCoord(x);for(let we=$;we<=se;we++)for(let Ie=te;Ie<=pe;Ie++){const Se=this.d*Ie+we;if((!N||N(this._convertFromCellCoord(we),this._convertFromCellCoord(Ie),this._convertFromCellCoord(we+1),this._convertFromCellCoord(Ie+1)))&&P.call(this,u,h,y,x,Se,T,D,N))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,h=3+this.cells.length+1+1;let y=0;for(let T=0;T<this.cells.length;T++)y+=this.cells[T].length;const x=new Int32Array(h+y+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let P=h;for(let T=0;T<u.length;T++){const D=u[T];x[3+T]=P,x.set(D,P),P+=D.length}return x[3+u.length]=P,x.set(this.keys,P),P+=this.keys.length,x[3+u.length+1]=P,x.set(this.bboxes,P),P+=this.bboxes.length,x.buffer}static serialize(u,h){const y=u.toArrayBuffer();return h&&h.push(y),{buffer:y}}static deserialize(u){return new Da(u.buffer)}}const Fi={};function hn(d,u,h={}){if(Fi[d])throw new Error(`${d} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:d,writeable:!1}),Fi[d]={klass:u,omit:h.omit||[],shallow:h.shallow||[]}}hn("Object",Object),hn("TransferableGridIndex",Da),hn("Color",Pt),hn("Error",Error),hn("AJAXError",_n),hn("ResolvedImage",mr),hn("StylePropertyFunction",pA),hn("StyleExpression",$u,{omit:["_evaluator"]}),hn("ZoomDependentExpression",Rh),hn("ZoomConstantExpression",Mf),hn("CompoundExpression",js,{omit:["_evaluate"]});for(const d in Dh)Dh[d]._classRegistryKey||hn(`Expression_${d}`,Dh[d]);function ma(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&d.constructor.name==="ArrayBuffer")}function fs(d){return d.$name||d.constructor._classRegistryKey}function Wh(d){return!function(u){if(u===null||typeof u!="object")return!1;const h=fs(u);return!(!h||h==="Object")}(d)&&(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error||ma(d)||ye(d)||ArrayBuffer.isView(d)||d instanceof ImageData)}function ml(d,u){if(Wh(d))return(ma(d)||ye(d))&&u&&u.push(d),ArrayBuffer.isView(d)&&u&&u.push(d.buffer),d instanceof ImageData&&u&&u.push(d.data.buffer),d;if(Array.isArray(d)){const P=[];for(const T of d)P.push(ml(T,u));return P}if(typeof d!="object")throw new Error("can't serialize object of type "+typeof d);const h=fs(d);if(!h)throw new Error(`can't serialize object of unregistered class ${d.constructor.name}`);if(!Fi[h])throw new Error(`${h} is not registered.`);const{klass:y}=Fi[h],x=y.serialize?y.serialize(d,u):{};if(y.serialize){if(u&&x===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const P in d){if(!d.hasOwnProperty(P)||Fi[h].omit.indexOf(P)>=0)continue;const T=d[P];x[P]=Fi[h].shallow.indexOf(P)>=0?T:ml(T,u)}d instanceof Error&&(x.message=d.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(x.$name=h),x}function Dd(d){if(Wh(d))return d;if(Array.isArray(d))return d.map(Dd);if(typeof d!="object")throw new Error("can't deserialize object of type "+typeof d);const u=fs(d)||"Object";if(!Fi[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:h}=Fi[u];if(!h)throw new Error(`can't deserialize unregistered class ${u}`);if(h.deserialize)return h.deserialize(d);const y=Object.create(h.prototype);for(const x of Object.keys(d)){if(x==="$name")continue;const P=d[x];y[x]=Fi[u].shallow.indexOf(x)>=0?P:Dd(P)}return y}class Pm{constructor(){this.first=!0}update(u,h){const y=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=h),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=y,!0))}}const Si={"Latin-1 Supplement":d=>d>=128&&d<=255,"Hangul Jamo":d=>d>=4352&&d<=4607,Khmer:d=>d>=6016&&d<=6143,"General Punctuation":d=>d>=8192&&d<=8303,"Letterlike Symbols":d=>d>=8448&&d<=8527,"Number Forms":d=>d>=8528&&d<=8591,"Miscellaneous Technical":d=>d>=8960&&d<=9215,"Control Pictures":d=>d>=9216&&d<=9279,"Optical Character Recognition":d=>d>=9280&&d<=9311,"Enclosed Alphanumerics":d=>d>=9312&&d<=9471,"Geometric Shapes":d=>d>=9632&&d<=9727,"Miscellaneous Symbols":d=>d>=9728&&d<=9983,"Miscellaneous Symbols and Arrows":d=>d>=11008&&d<=11263,"Ideographic Description Characters":d=>d>=12272&&d<=12287,"CJK Symbols and Punctuation":d=>d>=12288&&d<=12351,Katakana:d=>d>=12448&&d<=12543,Kanbun:d=>d>=12688&&d<=12703,"CJK Strokes":d=>d>=12736&&d<=12783,"Enclosed CJK Letters and Months":d=>d>=12800&&d<=13055,"CJK Compatibility":d=>d>=13056&&d<=13311,"Yijing Hexagram Symbols":d=>d>=19904&&d<=19967,"Private Use Area":d=>d>=57344&&d<=63743,"Vertical Forms":d=>d>=65040&&d<=65055,"CJK Compatibility Forms":d=>d>=65072&&d<=65103,"Small Form Variants":d=>d>=65104&&d<=65135,"Halfwidth and Fullwidth Forms":d=>d>=65280&&d<=65519};function Gh(d){for(const u of d)if(If(u.charCodeAt(0)))return!0;return!1}function Bf(d){for(const u of d)if(!Up(u.charCodeAt(0)))return!1;return!0}function eu(d){const u=d.map(h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}}).filter(h=>h);return new RegExp(u.join("|"),"u")}const Rp=eu(["Arab","Dupl","Mong","Ougr","Syrc"]);function Up(d){return!Rp.test(String.fromCodePoint(d))}const mc=eu(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function If(d){return!(d!==746&&d!==747&&(d<4352||!(Si["CJK Compatibility Forms"](d)&&!(d>=65097&&d<=65103)||Si["CJK Compatibility"](d)||Si["CJK Strokes"](d)||!(!Si["CJK Symbols and Punctuation"](d)||d>=12296&&d<=12305||d>=12308&&d<=12319||d===12336)||Si["Enclosed CJK Letters and Months"](d)||Si["Ideographic Description Characters"](d)||Si.Kanbun(d)||Si.Katakana(d)&&d!==12540||!(!Si["Halfwidth and Fullwidth Forms"](d)||d===65288||d===65289||d===65293||d>=65306&&d<=65310||d===65339||d===65341||d===65343||d>=65371&&d<=65503||d===65507||d>=65512&&d<=65519)||!(!Si["Small Form Variants"](d)||d>=65112&&d<=65118||d>=65123&&d<=65126)||Si["Vertical Forms"](d)||Si["Yijing Hexagram Symbols"](d)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(d))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(d))||mc.test(String.fromCodePoint(d)))))}function Fd(d){return!(If(d)||function(u){return!!(Si["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||Si["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||Si["Letterlike Symbols"](u)||Si["Number Forms"](u)||Si["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||Si["Control Pictures"](u)&&u!==9251||Si["Optical Character Recognition"](u)||Si["Enclosed Alphanumerics"](u)||Si["Geometric Shapes"](u)||Si["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||Si["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||Si["CJK Symbols and Punctuation"](u)||Si.Katakana(u)||Si["Private Use Area"](u)||Si["CJK Compatibility Forms"](u)||Si["Small Form Variants"](u)||Si["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(d))}const Ou=eu(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Rd(d){return Ou.test(String.fromCodePoint(d))}function Qh(d,u){return!(!u&&Rd(d)||d>=2304&&d<=3583||d>=3840&&d<=4255||Si.Khmer(d))}function Km(d){for(const u of d)if(Rd(u.charCodeAt(0)))return!0;return!1}const CA=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(d){this.pluginStatus=d.pluginStatus,this.pluginURL=d.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(d){this.applyArabicShaping=d.applyArabicShaping,this.processBidirectionalText=d.processBidirectionalText,this.processStyledBidirectionalText=d.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class oo{constructor(u,h){this.zoom=u,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.zoomHistory=h.zoomHistory,this.transition=h.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pm,this.transition={})}isSupportedScript(u){return function(h,y){for(const x of h)if(!Qh(x.charCodeAt(0),y))return!1;return!0}(u,CA.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,h=u-Math.floor(u),y=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*h}}}class Kl{constructor(u,h){this.property=u,this.value=h,this.expression=function(y,x){if(fa(y))return new pA(y,x);if(WA(y)){const P=Yu(y,x);if(P.result==="error")throw new Error(P.value.map(T=>`${T.key}: ${T.message}`).join(", "));return P.value}{let P=y;return x.type==="color"&&typeof y=="string"?P=Pt.parse(y):x.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?x.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(P=la.parse(y)):P=ni.parse(y),{kind:"constant",evaluate:()=>P}}}(h===void 0?u.specification.default:h,u.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(u,h,y){return this.property.possiblyEvaluate(this,u,h,y)}}class kf{constructor(u){this.property=u,this.value=new Kl(u,void 0)}transitioned(u,h){return new Jo(this.property,this.value,h,ft({},u.transition,this.transition),u.now)}untransitioned(){return new Jo(this.property,this.value,null,{},0)}}class Tf{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return en(this._values[u].value.value)}setValue(u,h){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new kf(this._values[u].property)),this._values[u].value=new Kl(this._values[u].property,h===null?void 0:en(h))}getTransition(u){return en(this._values[u].transition)}setTransition(u,h){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new kf(this._values[u].property)),this._values[u].transition=en(h)||void 0}serialize(){const u={};for(const h of Object.keys(this._values)){const y=this.getValue(h);y!==void 0&&(u[h]=y);const x=this.getTransition(h);x!==void 0&&(u[`${h}-transition`]=x)}return u}transitioned(u,h){const y=new lo(this._properties);for(const x of Object.keys(this._values))y._values[x]=this._values[x].transitioned(u,h._values[x]);return y}untransitioned(){const u=new lo(this._properties);for(const h of Object.keys(this._values))u._values[h]=this._values[h].untransitioned();return u}}class Jo{constructor(u,h,y,x,P){this.property=u,this.value=h,this.begin=P+x.delay||0,this.end=this.begin+x.duration||0,u.specification.transition&&(x.delay||x.duration)&&(this.prior=y)}possiblyEvaluate(u,h,y){const x=u.now||0,P=this.value.possiblyEvaluate(u,h,y),T=this.prior;if(T){if(x>this.end)return this.prior=null,P;if(this.value.isDataDriven())return this.prior=null,P;if(x<this.begin)return T.possiblyEvaluate(u,h,y);{const D=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(u,h,y),P,Ve(D))}}return P}}class lo{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,h,y){const x=new Xu(this._properties);for(const P of Object.keys(this._values))x._values[P]=this._values[P].possiblyEvaluate(u,h,y);return x}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class tu{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return this._values[u].value!==void 0}getValue(u){return en(this._values[u].value)}setValue(u,h){this._values[u]=new Kl(this._values[u].property,h===null?void 0:en(h))}serialize(){const u={};for(const h of Object.keys(this._values)){const y=this.getValue(h);y!==void 0&&(u[h]=y)}return u}possiblyEvaluate(u,h,y){const x=new Xu(this._properties);for(const P of Object.keys(this._values))x._values[P]=this._values[P].possiblyEvaluate(u,h,y);return x}}class Os{constructor(u,h,y){this.property=u,this.value=h,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,h,y,x){return this.property.evaluate(this.value,this.parameters,u,h,y,x)}}class Xu{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class vr{constructor(u){this.specification=u}possiblyEvaluate(u,h){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(h)}interpolate(u,h,y){const x=gr[this.specification.type];return x?x(u,h,y):u}}class Pr{constructor(u,h){this.specification=u,this.overrides=h}possiblyEvaluate(u,h,y,x){return new Os(this,u.expression.kind==="constant"||u.expression.kind==="camera"?{kind:"constant",value:u.expression.evaluate(h,null,{},y,x)}:u.expression,h)}interpolate(u,h,y){if(u.value.kind!=="constant"||h.value.kind!=="constant")return u;if(u.value.value===void 0||h.value.value===void 0)return new Os(this,{kind:"constant",value:void 0},u.parameters);const x=gr[this.specification.type];if(x){const P=x(u.value.value,h.value.value,y);return new Os(this,{kind:"constant",value:P},u.parameters)}return u}evaluate(u,h,y,x,P,T){return u.kind==="constant"?u.value:u.evaluate(h,y,x,P,T)}}class Zc extends Pr{possiblyEvaluate(u,h,y,x){if(u.value===void 0)return new Os(this,{kind:"constant",value:void 0},h);if(u.expression.kind==="constant"){const P=u.expression.evaluate(h,null,{},y,x),T=u.property.specification.type==="resolvedImage"&&typeof P!="string"?P.name:P,D=this._calculate(T,T,T,h);return new Os(this,{kind:"constant",value:D},h)}if(u.expression.kind==="camera"){const P=this._calculate(u.expression.evaluate({zoom:h.zoom-1}),u.expression.evaluate({zoom:h.zoom}),u.expression.evaluate({zoom:h.zoom+1}),h);return new Os(this,{kind:"constant",value:P},h)}return new Os(this,u.expression,h)}evaluate(u,h,y,x,P,T){if(u.kind==="source"){const D=u.evaluate(h,y,x,P,T);return this._calculate(D,D,D,h)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(h.zoom)-1},y,x),u.evaluate({zoom:Math.floor(h.zoom)},y,x),u.evaluate({zoom:Math.floor(h.zoom)+1},y,x),h):u.value}_calculate(u,h,y,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:u,to:h}:{from:y,to:h}}interpolate(u){return u}}class Pf{constructor(u){this.specification=u}possiblyEvaluate(u,h,y,x){if(u.value!==void 0){if(u.expression.kind==="constant"){const P=u.expression.evaluate(h,null,{},y,x);return this._calculate(P,P,P,h)}return this._calculate(u.expression.evaluate(new oo(Math.floor(h.zoom-1),h)),u.expression.evaluate(new oo(Math.floor(h.zoom),h)),u.expression.evaluate(new oo(Math.floor(h.zoom+1),h)),h)}}_calculate(u,h,y,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:u,to:h}:{from:y,to:h}}interpolate(u){return u}}class $h{constructor(u){this.specification=u}possiblyEvaluate(u,h,y,x){return!!u.expression.evaluate(h,null,{},y,x)}interpolate(){return!1}}class Ja{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in u){const y=u[h];y.specification.overridable&&this.overridableProperties.push(h);const x=this.defaultPropertyValues[h]=new Kl(y,void 0),P=this.defaultTransitionablePropertyValues[h]=new kf(y);this.defaultTransitioningPropertyValues[h]=P.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=x.possiblyEvaluate({})}}}hn("DataDrivenProperty",Pr),hn("DataConstantProperty",vr),hn("CrossFadedDataDrivenProperty",Zc),hn("CrossFadedProperty",Pf),hn("ColorRampProperty",$h);const Xc="-transition";class il extends Pe{constructor(u,h){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),h.layout&&(this._unevaluatedLayout=new tu(h.layout)),h.paint)){this._transitionablePaint=new Tf(h.paint);for(const y in u.paint)this.setPaintProperty(y,u.paint[y],{validate:!1});for(const y in u.layout)this.setLayoutProperty(y,u.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xu(h.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,h,y={}){h!=null&&this._validate(je,`layers.${this.id}.layout.${u}`,u,h,y)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,h):this.visibility=h)}getPaintProperty(u){return u.endsWith(Xc)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,h,y={}){if(h!=null&&this._validate(Tm,`layers.${this.id}.paint.${u}`,u,h,y))return!1;if(u.endsWith(Xc))return this._transitionablePaint.setTransition(u.slice(0,-11),h||void 0),!1;{const x=this._transitionablePaint._values[u],P=x.property.specification["property-type"]==="cross-faded-data-driven",T=x.value.isDataDriven(),D=x.value;this._transitionablePaint.setValue(u,h),this._handleSpecialPaintPropertyUpdate(u);const N=this._transitionablePaint._values[u].value;return N.isDataDriven()||T||P||this._handleOverridablePaintPropertyUpdate(u,D,N)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,h,y){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,h){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,h)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),nt(u,(h,y)=>!(h===void 0||y==="layout"&&!Object.keys(h).length||y==="paint"&&!Object.keys(h).length))}_validate(u,h,y,x,P={}){return(!P||P.validate!==!1)&&Hc(this,u.call(Vc,{key:h,layerType:this.type,objectKey:y,value:x,styleSpec:Q,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const h=this.paint.get(u);if(h instanceof Os&&Qt(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const QA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class gc{constructor(u,h){this._structArray=u,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ea{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,h){return u._trim(),h&&(u.isTransferred=!0,h.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const h=Object.create(this.prototype);return h.arrayBuffer=u.arrayBuffer,h.length=u.length,h.capacity=u.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function vo(d,u=1){let h=0,y=0;return{members:d.map(x=>{const P=QA[x.type].BYTES_PER_ELEMENT,T=h=Jc(h,Math.max(u,P)),D=x.components||1;return y=Math.max(y,P),h+=P*D,{name:x.name,type:x.type,components:D,offset:T}}),size:Jc(h,Math.max(y,u)),alignment:u}}function Jc(d,u){return Math.ceil(d/u)*u}class gl extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const x=2*u;return this.int16[x+0]=h,this.int16[x+1]=y,u}}gl.prototype.bytesPerElement=4,hn("StructArrayLayout2i4",gl);class ol extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,u,h,y)}emplace(u,h,y,x){const P=3*u;return this.int16[P+0]=h,this.int16[P+1]=y,this.int16[P+2]=x,u}}ol.prototype.bytesPerElement=6,hn("StructArrayLayout3i6",ol);class zp extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x){const P=this.length;return this.resize(P+1),this.emplace(P,u,h,y,x)}emplace(u,h,y,x,P){const T=4*u;return this.int16[T+0]=h,this.int16[T+1]=y,this.int16[T+2]=x,this.int16[T+3]=P,u}}zp.prototype.bytesPerElement=8,hn("StructArrayLayout4i8",zp);class Yh extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T){const D=this.length;return this.resize(D+1),this.emplace(D,u,h,y,x,P,T)}emplace(u,h,y,x,P,T,D){const N=6*u;return this.int16[N+0]=h,this.int16[N+1]=y,this.int16[N+2]=x,this.int16[N+3]=P,this.int16[N+4]=T,this.int16[N+5]=D,u}}Yh.prototype.bytesPerElement=12,hn("StructArrayLayout2i4i12",Yh);class Ud extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T){const D=this.length;return this.resize(D+1),this.emplace(D,u,h,y,x,P,T)}emplace(u,h,y,x,P,T,D){const N=4*u,$=8*u;return this.int16[N+0]=h,this.int16[N+1]=y,this.uint8[$+4]=x,this.uint8[$+5]=P,this.uint8[$+6]=T,this.uint8[$+7]=D,u}}Ud.prototype.bytesPerElement=8,hn("StructArrayLayout2i4ub8",Ud);class bA extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const x=2*u;return this.float32[x+0]=h,this.float32[x+1]=y,u}}bA.prototype.bytesPerElement=8,hn("StructArrayLayout2f8",bA);class nu extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T,D,N,$,te){const se=this.length;return this.resize(se+1),this.emplace(se,u,h,y,x,P,T,D,N,$,te)}emplace(u,h,y,x,P,T,D,N,$,te,se){const pe=10*u;return this.uint16[pe+0]=h,this.uint16[pe+1]=y,this.uint16[pe+2]=x,this.uint16[pe+3]=P,this.uint16[pe+4]=T,this.uint16[pe+5]=D,this.uint16[pe+6]=N,this.uint16[pe+7]=$,this.uint16[pe+8]=te,this.uint16[pe+9]=se,u}}nu.prototype.bytesPerElement=20,hn("StructArrayLayout10ui20",nu);class zd extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T,D,N,$,te,se,pe){const we=this.length;return this.resize(we+1),this.emplace(we,u,h,y,x,P,T,D,N,$,te,se,pe)}emplace(u,h,y,x,P,T,D,N,$,te,se,pe,we){const Ie=12*u;return this.int16[Ie+0]=h,this.int16[Ie+1]=y,this.int16[Ie+2]=x,this.int16[Ie+3]=P,this.uint16[Ie+4]=T,this.uint16[Ie+5]=D,this.uint16[Ie+6]=N,this.uint16[Ie+7]=$,this.int16[Ie+8]=te,this.int16[Ie+9]=se,this.int16[Ie+10]=pe,this.int16[Ie+11]=we,u}}zd.prototype.bytesPerElement=24,hn("StructArrayLayout4i4ui4i24",zd);class jp extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,u,h,y)}emplace(u,h,y,x){const P=3*u;return this.float32[P+0]=h,this.float32[P+1]=y,this.float32[P+2]=x,u}}jp.prototype.bytesPerElement=12,hn("StructArrayLayout3f12",jp);class qh extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.uint32[1*u+0]=h,u}}qh.prototype.bytesPerElement=4,hn("StructArrayLayout1ul4",qh);class Kf extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T,D,N,$){const te=this.length;return this.resize(te+1),this.emplace(te,u,h,y,x,P,T,D,N,$)}emplace(u,h,y,x,P,T,D,N,$,te){const se=10*u,pe=5*u;return this.int16[se+0]=h,this.int16[se+1]=y,this.int16[se+2]=x,this.int16[se+3]=P,this.int16[se+4]=T,this.int16[se+5]=D,this.uint32[pe+3]=N,this.uint16[se+8]=$,this.uint16[se+9]=te,u}}Kf.prototype.bytesPerElement=20,hn("StructArrayLayout6i1ul2ui20",Kf);class Ll extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T){const D=this.length;return this.resize(D+1),this.emplace(D,u,h,y,x,P,T)}emplace(u,h,y,x,P,T,D){const N=6*u;return this.int16[N+0]=h,this.int16[N+1]=y,this.int16[N+2]=x,this.int16[N+3]=P,this.int16[N+4]=T,this.int16[N+5]=D,u}}Ll.prototype.bytesPerElement=12,hn("StructArrayLayout2i2i2i12",Ll);class Fa extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P){const T=this.length;return this.resize(T+1),this.emplace(T,u,h,y,x,P)}emplace(u,h,y,x,P,T){const D=4*u,N=8*u;return this.float32[D+0]=h,this.float32[D+1]=y,this.float32[D+2]=x,this.int16[N+6]=P,this.int16[N+7]=T,u}}Fa.prototype.bytesPerElement=16,hn("StructArrayLayout2f1f2i16",Fa);class yc extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T){const D=this.length;return this.resize(D+1),this.emplace(D,u,h,y,x,P,T)}emplace(u,h,y,x,P,T,D){const N=16*u,$=4*u,te=8*u;return this.uint8[N+0]=h,this.uint8[N+1]=y,this.float32[$+1]=x,this.float32[$+2]=P,this.int16[te+6]=T,this.int16[te+7]=D,u}}yc.prototype.bytesPerElement=16,hn("StructArrayLayout2ub2f2i16",yc);class Vh extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,u,h,y)}emplace(u,h,y,x){const P=3*u;return this.uint16[P+0]=h,this.uint16[P+1]=y,this.uint16[P+2]=x,u}}Vh.prototype.bytesPerElement=6,hn("StructArrayLayout3ui6",Vh);class Dl extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye)}emplace(u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye,Mt){const At=24*u,de=12*u,Ne=48*u;return this.int16[At+0]=h,this.int16[At+1]=y,this.uint16[At+2]=x,this.uint16[At+3]=P,this.uint32[de+2]=T,this.uint32[de+3]=D,this.uint32[de+4]=N,this.uint16[At+10]=$,this.uint16[At+11]=te,this.uint16[At+12]=se,this.float32[de+7]=pe,this.float32[de+8]=we,this.uint8[Ne+36]=Ie,this.uint8[Ne+37]=Se,this.uint8[Ne+38]=He,this.uint32[de+10]=Ye,this.int16[At+22]=Mt,u}}Dl.prototype.bytesPerElement=48,hn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Dl);class eh extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye,Mt,At,de,Ne,yt,Ut,gn,qt,on,Mn,Cn){const Tn=this.length;return this.resize(Tn+1),this.emplace(Tn,u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye,Mt,At,de,Ne,yt,Ut,gn,qt,on,Mn,Cn)}emplace(u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie,Se,He,Ye,Mt,At,de,Ne,yt,Ut,gn,qt,on,Mn,Cn,Tn){const ln=32*u,lr=16*u;return this.int16[ln+0]=h,this.int16[ln+1]=y,this.int16[ln+2]=x,this.int16[ln+3]=P,this.int16[ln+4]=T,this.int16[ln+5]=D,this.int16[ln+6]=N,this.int16[ln+7]=$,this.uint16[ln+8]=te,this.uint16[ln+9]=se,this.uint16[ln+10]=pe,this.uint16[ln+11]=we,this.uint16[ln+12]=Ie,this.uint16[ln+13]=Se,this.uint16[ln+14]=He,this.uint16[ln+15]=Ye,this.uint16[ln+16]=Mt,this.uint16[ln+17]=At,this.uint16[ln+18]=de,this.uint16[ln+19]=Ne,this.uint16[ln+20]=yt,this.uint16[ln+21]=Ut,this.uint16[ln+22]=gn,this.uint32[lr+12]=qt,this.float32[lr+13]=on,this.float32[lr+14]=Mn,this.uint16[ln+30]=Cn,this.uint16[ln+31]=Tn,u}}eh.prototype.bytesPerElement=64,hn("StructArrayLayout8i15ui1ul2f2ui64",eh);class th extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.float32[1*u+0]=h,u}}th.prototype.bytesPerElement=4,hn("StructArrayLayout1f4",th);class xA extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,u,h,y)}emplace(u,h,y,x){const P=3*u;return this.uint16[6*u+0]=h,this.float32[P+1]=y,this.float32[P+2]=x,u}}xA.prototype.bytesPerElement=12,hn("StructArrayLayout1ui2f12",xA);class qo extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,u,h,y)}emplace(u,h,y,x){const P=4*u;return this.uint32[2*u+0]=h,this.uint16[P+2]=y,this.uint16[P+3]=x,u}}qo.prototype.bytesPerElement=8,hn("StructArrayLayout1ul2ui8",qo);class Ra extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,h){const y=this.length;return this.resize(y+1),this.emplace(y,u,h)}emplace(u,h,y){const x=2*u;return this.uint16[x+0]=h,this.uint16[x+1]=y,u}}Ra.prototype.bytesPerElement=4,hn("StructArrayLayout2ui4",Ra);class vc extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const h=this.length;return this.resize(h+1),this.emplace(h,u)}emplace(u,h){return this.uint16[1*u+0]=h,u}}vc.prototype.bytesPerElement=2,hn("StructArrayLayout1ui2",vc);class jd extends ea{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,h,y,x){const P=this.length;return this.resize(P+1),this.emplace(P,u,h,y,x)}emplace(u,h,y,x,P){const T=4*u;return this.float32[T+0]=h,this.float32[T+1]=y,this.float32[T+2]=x,this.float32[T+3]=P,u}}jd.prototype.bytesPerElement=16,hn("StructArrayLayout4f16",jd);class Nd extends gc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new L(this.anchorPointX,this.anchorPointY)}}Nd.prototype.size=20;class nh extends Kf{get(u){return new Nd(this,u)}}hn("CollisionBoxArray",nh);class wA extends gc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}wA.prototype.size=48;class rh extends Dl{get(u){return new wA(this,u)}}hn("PlacedSymbolArray",rh);class ih extends gc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ih.prototype.size=64;class Wd extends eh{get(u){return new ih(this,u)}}hn("SymbolInstanceArray",Wd);class Ju extends th{getoffsetX(u){return this.float32[1*u+0]}}hn("GlyphOffsetArray",Ju);class Np extends ol{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}hn("SymbolLineVertexArray",Np);class $A extends gc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}$A.prototype.size=12;class Lf extends xA{get(u){return new $A(this,u)}}hn("TextAnchorOffsetArray",Lf);class Hh extends gc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Hh.prototype.size=8;class O extends qo{get(u){return new Hh(this,u)}}hn("FeatureIndexArray",O);class l extends gl{}class c extends gl{}class v extends gl{}class b extends Yh{}class S extends Ud{}class F extends bA{}class R extends nu{}class G extends zd{}class J extends jp{}class ue extends qh{}class re extends Ll{}class xe extends yc{}class Be extends Vh{}class De extends Ra{}const tt=vo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xe}=tt;class Ge{constructor(u=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=u}prepareSegment(u,h,y,x){const P=this.segments[this.segments.length-1];return u>Ge.MAX_VERTEX_ARRAY_LENGTH&&Et(`Max vertices per segment is ${Ge.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Ge.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!P||P.vertexLength+u>Ge.MAX_VERTEX_ARRAY_LENGTH||P.sortKey!==x?this.createNewSegment(h,y,x):P}createNewSegment(u,h,y){const x={vertexOffset:u.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return y!==void 0&&(x.sortKey=y),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(x),x}getOrCreateLatestSegment(u,h,y){return this.prepareSegment(0,u,h,y)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const u of this.segments)for(const h in u.vaos)u.vaos[h].destroy()}static simpleSegment(u,h,y,x){return new Ge([{vertexOffset:u,primitiveOffset:h,vertexLength:y,primitiveLength:x,vaos:{},sortKey:0}])}}function gt(d,u){return 256*(d=St(Math.floor(d),0,255))+St(Math.floor(u),0,255)}Ge.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hn("SegmentVector",Ge);const ct=vo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var pt,vt,bt,Nt={exports:{}},Rt={exports:{}},Gt={exports:{}},tn=function(){if(bt)return Nt.exports;bt=1;var d=(pt||(pt=1,Rt.exports=function(h,y){var x,P,T,D,N,$,te,se;for(P=h.length-(x=3&h.length),T=y,N=3432918353,$=461845907,se=0;se<P;)te=255&h.charCodeAt(se)|(255&h.charCodeAt(++se))<<8|(255&h.charCodeAt(++se))<<16|(255&h.charCodeAt(++se))<<24,++se,T=27492+(65535&(D=5*(65535&(T=(T^=te=(65535&(te=(te=(65535&te)*N+(((te>>>16)*N&65535)<<16)&4294967295)<<15|te>>>17))*$+(((te>>>16)*$&65535)<<16)&4294967295)<<13|T>>>19))+((5*(T>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(te=0,x){case 3:te^=(255&h.charCodeAt(se+2))<<16;case 2:te^=(255&h.charCodeAt(se+1))<<8;case 1:T^=te=(65535&(te=(te=(65535&(te^=255&h.charCodeAt(se)))*N+(((te>>>16)*N&65535)<<16)&4294967295)<<15|te>>>17))*$+(((te>>>16)*$&65535)<<16)&4294967295}return T^=h.length,T=2246822507*(65535&(T^=T>>>16))+((2246822507*(T>>>16)&65535)<<16)&4294967295,T=3266489909*(65535&(T^=T>>>13))+((3266489909*(T>>>16)&65535)<<16)&4294967295,(T^=T>>>16)>>>0}),Rt.exports),u=(vt||(vt=1,Gt.exports=function(h,y){for(var x,P=h.length,T=y^P,D=0;P>=4;)x=1540483477*(65535&(x=255&h.charCodeAt(D)|(255&h.charCodeAt(++D))<<8|(255&h.charCodeAt(++D))<<16|(255&h.charCodeAt(++D))<<24))+((1540483477*(x>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^(x=1540483477*(65535&(x^=x>>>24))+((1540483477*(x>>>16)&65535)<<16)),P-=4,++D;switch(P){case 3:T^=(255&h.charCodeAt(D+2))<<16;case 2:T^=(255&h.charCodeAt(D+1))<<8;case 1:T=1540483477*(65535&(T^=255&h.charCodeAt(D)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0}),Gt.exports);return Nt.exports=d,Nt.exports.murmur3=d,Nt.exports.murmur2=u,Nt.exports}(),In=f(tn);class Pn{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,h,y,x){this.ids.push(Fn(u)),this.positions.push(h,y,x)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=Fn(u);let y=0,x=this.ids.length-1;for(;y<x;){const T=y+x>>1;this.ids[T]>=h?x=T:y=T+1}const P=[];for(;this.ids[y]===h;)P.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return P}static serialize(u,h){const y=new Float64Array(u.ids),x=new Uint32Array(u.positions);return $n(y,x,0,y.length-1),h&&h.push(y.buffer,x.buffer),{ids:y,positions:x}}static deserialize(u){const h=new Pn;return h.ids=u.ids,h.positions=u.positions,h.indexed=!0,h}}function Fn(d){const u=+d;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:In(String(d))}function $n(d,u,h,y){for(;h<y;){const x=d[h+y>>1];let P=h-1,T=y+1;for(;;){do P++;while(d[P]<x);do T--;while(d[T]>x);if(P>=T)break;jn(d,P,T),jn(u,3*P,3*T),jn(u,3*P+1,3*T+1),jn(u,3*P+2,3*T+2)}T-h<y-T?($n(d,u,h,T),h=T+1):($n(d,u,T+1,y),y=T)}}function jn(d,u,h){const y=d[u];d[u]=d[h],d[h]=y}hn("FeaturePositionMap",Pn);class Ei{constructor(u,h){this.gl=u.gl,this.location=h}}class zr extends Ei{constructor(u,h){super(u,h),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class Rr extends Ei{constructor(u,h){super(u,h),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class Kr extends Ei{constructor(u,h){super(u,h),this.current=Pt.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const ta=new Float32Array(16);function _o(d){return[gt(255*d.r,255*d.g),gt(255*d.b,255*d.a)]}class mi{constructor(u,h,y){this.value=u,this.uniformNames=h.map(x=>`u_${x}`),this.type=y}setUniform(u,h,y){u.set(y.constantOr(this.value))}getBinding(u,h,y){return this.type==="color"?new Kr(u,h):new zr(u,h)}}class ga{constructor(u,h){this.uniformNames=h.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=u.tlbr}setUniform(u,h,y,x){const P=x==="u_pattern_to"?this.patternTo:x==="u_pattern_from"?this.patternFrom:x==="u_pixel_ratio_to"?this.pixelRatioTo:x==="u_pixel_ratio_from"?this.pixelRatioFrom:null;P&&u.set(P)}getBinding(u,h,y){return y.substr(0,9)==="u_pattern"?new Rr(u,h):new zr(u,h)}}class Aa{constructor(u,h,y,x){this.expression=u,this.type=y,this.maxValue=0,this.paintVertexAttributes=h.map(P=>({name:`a_${P}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(u,h,y,x,P){const T=this.paintVertexArray.length,D=this.expression.evaluate(new oo(0),h,{},x,[],P);this.paintVertexArray.resize(u),this._setPaintValue(T,u,D)}updatePaintArray(u,h,y,x){const P=this.expression.evaluate({zoom:0},y,x);this._setPaintValue(u,h,P)}_setPaintValue(u,h,y){if(this.type==="color"){const x=_o(y);for(let P=u;P<h;P++)this.paintVertexArray.emplace(P,x[0],x[1])}else{for(let x=u;x<h;x++)this.paintVertexArray.emplace(x,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ko{constructor(u,h,y,x,P,T){this.expression=u,this.uniformNames=h.map(D=>`u_${D}_t`),this.type=y,this.useIntegerZoom=x,this.zoom=P,this.maxValue=0,this.paintVertexAttributes=h.map(D=>({name:`a_${D}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(u,h,y,x,P){const T=this.expression.evaluate(new oo(this.zoom),h,{},x,[],P),D=this.expression.evaluate(new oo(this.zoom+1),h,{},x,[],P),N=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(N,u,T,D)}updatePaintArray(u,h,y,x){const P=this.expression.evaluate({zoom:this.zoom},y,x),T=this.expression.evaluate({zoom:this.zoom+1},y,x);this._setPaintValue(u,h,P,T)}_setPaintValue(u,h,y,x){if(this.type==="color"){const P=_o(y),T=_o(x);for(let D=u;D<h;D++)this.paintVertexArray.emplace(D,P[0],P[1],T[0],T[1])}else{for(let P=u;P<h;P++)this.paintVertexArray.emplace(P,y,x);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(x))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,h){const y=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,x=St(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);u.set(x)}getBinding(u,h,y){return new zr(u,h)}}class na{constructor(u,h,y,x,P,T){this.expression=u,this.type=h,this.useIntegerZoom=y,this.zoom=x,this.layerId=T,this.zoomInPaintVertexArray=new P,this.zoomOutPaintVertexArray=new P}populatePaintArray(u,h,y){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(x,u,h.patterns&&h.patterns[this.layerId],y)}updatePaintArray(u,h,y,x,P){this._setPaintValues(u,h,y.patterns&&y.patterns[this.layerId],P)}_setPaintValues(u,h,y,x){if(!x||!y)return;const{min:P,mid:T,max:D}=y,N=x[P],$=x[T],te=x[D];if(N&&$&&te)for(let se=u;se<h;se++)this.zoomInPaintVertexArray.emplace(se,$.tl[0],$.tl[1],$.br[0],$.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],$.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(se,$.tl[0],$.tl[1],$.br[0],$.br[1],te.tl[0],te.tl[1],te.br[0],te.br[1],$.pixelRatio,te.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,ct.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,ct.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ps{constructor(u,h,y){this.binders={},this._buffers=[];const x=[];for(const P in u.paint._values){if(!y(P))continue;const T=u.paint.get(P);if(!(T instanceof Os&&Qt(T.property.specification)))continue;const D=MA(P,u.type),N=T.value,$=T.property.specification.type,te=T.property.useIntegerZoom,se=T.property.specification["property-type"],pe=se==="cross-faded"||se==="cross-faded-data-driven";if(N.kind==="constant")this.binders[P]=pe?new ga(N.value,D):new mi(N.value,D,$),x.push(`/u_${P}`);else if(N.kind==="source"||pe){const we=Fl(P,$,"source");this.binders[P]=pe?new na(N,$,te,h,we,u.id):new Aa(N,D,$,we),x.push(`/a_${P}`)}else{const we=Fl(P,$,"composite");this.binders[P]=new ko(N,D,$,te,h,we),x.push(`/z_${P}`)}}this.cacheKey=x.sort().join("")}getMaxValue(u){const h=this.binders[u];return h instanceof Aa||h instanceof ko?h.maxValue:0}populatePaintArrays(u,h,y,x,P){for(const T in this.binders){const D=this.binders[T];(D instanceof Aa||D instanceof ko||D instanceof na)&&D.populatePaintArray(u,h,y,x,P)}}setConstantPatternPositions(u,h){for(const y in this.binders){const x=this.binders[y];x instanceof ga&&x.setConstantPatternPositions(u,h)}}updatePaintArrays(u,h,y,x,P){let T=!1;for(const D in u){const N=h.getPositions(D);for(const $ of N){const te=y.feature($.index);for(const se in this.binders){const pe=this.binders[se];if((pe instanceof Aa||pe instanceof ko||pe instanceof na)&&pe.expression.isStateDependent===!0){const we=x.paint.get(se);pe.expression=we.value,pe.updatePaintArray($.start,$.end,te,u[D],P),T=!0}}}}return T}defines(){const u=[];for(const h in this.binders){const y=this.binders[h];(y instanceof mi||y instanceof ga)&&u.push(...y.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return u}getBinderAttributes(){const u=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof Aa||y instanceof ko)for(let x=0;x<y.paintVertexAttributes.length;x++)u.push(y.paintVertexAttributes[x].name);else if(y instanceof na)for(let x=0;x<ct.members.length;x++)u.push(ct.members[x].name)}return u}getBinderUniforms(){const u=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof mi||y instanceof ga||y instanceof ko)for(const x of y.uniformNames)u.push(x)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,h){const y=[];for(const x in this.binders){const P=this.binders[x];if(P instanceof mi||P instanceof ga||P instanceof ko){for(const T of P.uniformNames)if(h[T]){const D=P.getBinding(u,h[T],T);y.push({name:T,property:x,binding:D})}}}return y}setUniforms(u,h,y,x){for(const{name:P,property:T,binding:D}of h)this.binders[T].setUniform(D,x,y.get(T),P)}updatePaintBuffers(u){this._buffers=[];for(const h in this.binders){const y=this.binders[h];if(u&&y instanceof na){const x=u.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(y instanceof Aa||y instanceof ko)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(u){for(const h in this.binders){const y=this.binders[h];(y instanceof Aa||y instanceof ko||y instanceof na)&&y.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const h=this.binders[u];(h instanceof Aa||h instanceof ko||h instanceof na)&&h.destroy()}}}class yl{constructor(u,h,y=()=>!0){this.programConfigurations={};for(const x of u)this.programConfigurations[x.id]=new ps(x,h,y);this.needsUpload=!1,this._featureMap=new Pn,this._bufferOffset=0}populatePaintArrays(u,h,y,x,P,T){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(u,h,x,P,T);h.id!==void 0&&this._featureMap.add(h.id,y,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,h,y,x){for(const P of y)this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(u,this._featureMap,h,P,x)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function MA(d,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(`${u}-`,"").replace(/-/g,"_")]}function Fl(d,u,h){const y={color:{source:bA,composite:jd},number:{source:th,composite:bA}},x=function(P){return{"line-pattern":{source:R,composite:R},"fill-pattern":{source:R,composite:R},"fill-extrusion-pattern":{source:R,composite:R}}[P]}(d);return x&&x[h]||y[u][h]}hn("ConstantBinder",mi),hn("CrossFadedConstantBinder",ga),hn("SourceExpressionBinder",Aa),hn("CrossFadedCompositeBinder",na),hn("CompositeExpressionBinder",ko),hn("ProgramConfiguration",ps,{omit:["_buffers"]}),hn("ProgramConfigurationSet",yl);const ru=Math.pow(2,14)-1,YA=-ru-1;function Ns(d){const u=be/d.extent,h=d.loadGeometry();for(let y=0;y<h.length;y++){const x=h[y];for(let P=0;P<x.length;P++){const T=x[P],D=Math.round(T.x*u),N=Math.round(T.y*u);T.x=St(D,YA,ru),T.y=St(N,YA,ru),(D<T.x||D>T.x+1||N<T.y||N>T.y+1)&&Et("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function es(d,u){return{type:d.type,id:d.id,properties:d.properties,geometry:u?Ns(d):[]}}const iu=-32768;function eA(d,u,h,y,x){d.emplaceBack(iu+8*u+y,iu+8*h+x)}class oh{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new c,this.indexArray=new Be,this.segments=new Ge,this.programConfigurations=new yl(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){const x=this.layers[0],P=[];let T=null,D=!1,N=x.type==="heatmap";if(x.type==="circle"){const te=x;T=te.layout.get("circle-sort-key"),D=!T.isConstant(),N=N||te.paint.get("circle-pitch-alignment")==="map"}const $=N?h.subdivisionGranularity.circle:1;for(const{feature:te,id:se,index:pe,sourceLayerIndex:we}of u){const Ie=this.layers[0]._featureFilter.needGeometry,Se=es(te,Ie);if(!this.layers[0]._featureFilter.filter(new oo(this.zoom),Se,y))continue;const He=D?T.evaluate(Se,{},y):void 0,Ye={id:se,properties:te.properties,type:te.type,sourceLayerIndex:we,index:pe,geometry:Ie?Se.geometry:Ns(te),patterns:{},sortKey:He};P.push(Ye)}D&&P.sort((te,se)=>te.sortKey-se.sortKey);for(const te of P){const{geometry:se,index:pe,sourceLayerIndex:we}=te,Ie=u[pe].feature;this.addFeature(te,se,pe,y,$),h.featureIndex.insert(Ie,se,pe,we,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Xe),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,h,y,x,P=1){let T;switch(P){case 1:T=[0,7];break;case 3:T=[0,2,5,7];break;case 5:T=[0,1,3,4,6,7];break;case 7:T=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${P}; valid values are 1, 3, 5, 7.`)}const D=T.length;for(const N of h)for(const $ of N){const te=$.x,se=$.y;if(te<0||te>=be||se<0||se>=be)continue;const pe=this.segments.prepareSegment(D*D,this.layoutVertexArray,this.indexArray,u.sortKey),we=pe.vertexLength;for(let Ie=0;Ie<D;Ie++)for(let Se=0;Se<D;Se++)eA(this.layoutVertexArray,te,se,T[Se],T[Ie]);for(let Ie=0;Ie<D-1;Ie++)for(let Se=0;Se<D-1;Se++){const He=we+Ie*D+Se,Ye=we+(Ie+1)*D+Se;this.indexArray.emplaceBack(He,Ye+1,He+1),this.indexArray.emplaceBack(He,Ye,Ye+1)}pe.vertexLength+=D*D,pe.primitiveLength+=(D-1)*(D-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,{},x)}}function Ws(d,u){for(let h=0;h<d.length;h++)if(ah(u,d[h]))return!0;for(let h=0;h<u.length;h++)if(ah(d,u[h]))return!0;return!!Gd(d,u)}function ya(d,u,h){return!!ah(d,u)||!!Qd(u,d,h)}function Bs(d,u){if(d.length===1)return Bu(u,d[0]);for(let h=0;h<u.length;h++){const y=u[h];for(let x=0;x<y.length;x++)if(ah(d,y[x]))return!0}for(let h=0;h<d.length;h++)if(Bu(u,d[h]))return!0;for(let h=0;h<u.length;h++)if(Gd(d,u[h]))return!0;return!1}function ts(d,u,h){if(d.length>1){if(Gd(d,u))return!0;for(let y=0;y<u.length;y++)if(Qd(u[y],d,h))return!0}for(let y=0;y<d.length;y++)if(Qd(d[y],u,h))return!0;return!1}function Gd(d,u){if(d.length===0||u.length===0)return!1;for(let h=0;h<d.length-1;h++){const y=d[h],x=d[h+1];for(let P=0;P<u.length-1;P++)if(Df(y,x,u[P],u[P+1]))return!0}return!1}function Df(d,u,h,y){return Vt(d,h,y)!==Vt(u,h,y)&&Vt(d,u,h)!==Vt(d,u,y)}function Qd(d,u,h){const y=h*h;if(u.length===1)return d.distSqr(u[0])<y;for(let x=1;x<u.length;x++)if(vl(d,u[x-1],u[x])<y)return!0;return!1}function vl(d,u,h){const y=u.distSqr(h);if(y===0)return d.distSqr(u);const x=((d.x-u.x)*(h.x-u.x)+(d.y-u.y)*(h.y-u.y))/y;return d.distSqr(x<0?u:x>1?h:h.sub(u)._mult(x)._add(u))}function Bu(d,u){let h,y,x,P=!1;for(let T=0;T<d.length;T++){h=d[T];for(let D=0,N=h.length-1;D<h.length;N=D++)y=h[D],x=h[N],y.y>u.y!=x.y>u.y&&u.x<(x.x-y.x)*(u.y-y.y)/(x.y-y.y)+y.x&&(P=!P)}return P}function ah(d,u){let h=!1;for(let y=0,x=d.length-1;y<d.length;x=y++){const P=d[y],T=d[x];P.y>u.y!=T.y>u.y&&u.x<(T.x-P.x)*(u.y-P.y)/(T.y-P.y)+P.x&&(h=!h)}return h}function sh(d,u,h){const y=h[0],x=h[2];if(d.x<y.x&&u.x<y.x||d.x>x.x&&u.x>x.x||d.y<y.y&&u.y<y.y||d.y>x.y&&u.y>x.y)return!1;const P=Vt(d,u,h[0]);return P!==Vt(d,u,h[1])||P!==Vt(d,u,h[2])||P!==Vt(d,u,h[3])}function tA(d,u,h){const y=u.paint.get(d).value;return y.kind==="constant"?y.value:h.programConfigurations.get(u.id).getMaxValue(d)}function Rl(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function SA(d,u,h,y,x){if(!u[0]&&!u[1])return d;const P=L.convert(u)._mult(x);h==="viewport"&&P._rotate(-y);const T=[];for(let D=0;D<d.length;D++)T.push(d[D].sub(P));return T}let $d,Ff;hn("CircleBucket",oh,{omit:["layers"]});var Rf={get paint(){return Ff=Ff||new Ja({"circle-radius":new Pr(Q.paint_circle["circle-radius"]),"circle-color":new Pr(Q.paint_circle["circle-color"]),"circle-blur":new Pr(Q.paint_circle["circle-blur"]),"circle-opacity":new Pr(Q.paint_circle["circle-opacity"]),"circle-translate":new vr(Q.paint_circle["circle-translate"]),"circle-translate-anchor":new vr(Q.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new vr(Q.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new vr(Q.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pr(Q.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pr(Q.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pr(Q.paint_circle["circle-stroke-opacity"])})},get layout(){return $d=$d||new Ja({"circle-sort-key":new Pr(Q.layout_circle["circle-sort-key"])})}};class Uf extends il{constructor(u){super(u,Rf)}createBucket(u){return new oh(u)}queryRadius(u){const h=u;return tA("circle-radius",this,h)+tA("circle-stroke-width",this,h)+Rl(this.paint.get("circle-translate"))}queryIntersectsFeature(u,h,y,x,P,T,D,N){const $=SA(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,D),te=this.paint.get("circle-radius").evaluate(h,y)+this.paint.get("circle-stroke-width").evaluate(h,y),se=this.paint.get("circle-pitch-alignment")==="map",pe=se?$:function(Ie,Se){return Ie.map(He=>zf(He,Se))}($,N),we=se?te*D:te;for(const Ie of x)for(const Se of Ie){const He=se?Se:zf(Se,N);let Ye=we;const Mt=Me([],[Se.x,Se.y,0,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ye*=Mt[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ye*=T.cameraToCenterDistance/Mt[3]),ya(pe,He,Ye))return!0}return!1}}function zf(d,u){const h=Me([],[d.x,d.y,0,1],u);return new L(h[0]/h[3],h[1]/h[3])}class O1 extends oh{}let Lm;hn("HeatmapBucket",O1,{omit:["layers"]});var B1={get paint(){return Lm=Lm||new Ja({"heatmap-radius":new Pr(Q.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pr(Q.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new vr(Q.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $h(Q.paint_heatmap["heatmap-color"]),"heatmap-opacity":new vr(Q.paint_heatmap["heatmap-opacity"])})}};function jf(d,{width:u,height:h},y,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==u*h*y)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${u*h*y}`)}else x=new Uint8Array(u*h*y);return d.width=u,d.height=h,d.data=x,d}function Dm(d,{width:u,height:h},y){if(u===d.width&&h===d.height)return;const x=jf({},{width:u,height:h},y);Zh(d,x,{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,u),height:Math.min(d.height,h)},y),d.width=u,d.height=h,d.data=x.data}function Zh(d,u,h,y,x,P){if(x.width===0||x.height===0)return u;if(x.width>d.width||x.height>d.height||h.x>d.width-x.width||h.y>d.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>u.width||x.height>u.height||y.x>u.width-x.width||y.y>u.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const T=d.data,D=u.data;if(T===D)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<x.height;N++){const $=((h.y+N)*d.width+h.x)*P,te=((y.y+N)*u.width+y.x)*P;for(let se=0;se<x.width*P;se++)D[te+se]=T[$+se]}return u}class Xh{constructor(u,h){jf(this,u,1,h)}resize(u){Dm(this,u,1)}clone(){return new Xh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,h,y,x,P){Zh(u,h,y,x,P,1)}}class Ul{constructor(u,h){jf(this,u,4,h)}resize(u){Dm(this,u,4)}replace(u,h){h?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new Ul({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,h,y,x,P){Zh(u,h,y,x,P,4)}}function Y0(d){const u={},h=d.resolution||256,y=d.clips?d.clips.length:1,x=d.image||new Ul({width:h,height:y});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const P=(T,D,N)=>{u[d.evaluationKey]=N;const $=d.expression.evaluate(u);x.data[T+D+0]=Math.floor(255*$.r/$.a),x.data[T+D+1]=Math.floor(255*$.g/$.a),x.data[T+D+2]=Math.floor(255*$.b/$.a),x.data[T+D+3]=Math.floor(255*$.a)};if(d.clips)for(let T=0,D=0;T<y;++T,D+=4*h)for(let N=0,$=0;N<h;N++,$+=4){const te=N/(h-1),{start:se,end:pe}=d.clips[T];P(D,$,se*(1-te)+pe*te)}else for(let T=0,D=0;T<h;T++,D+=4)P(0,D,T/(h-1));return x}hn("AlphaImage",Xh),hn("RGBAImage",Ul);const lh="big-fb";class Wp extends il{createBucket(u){return new O1(u)}constructor(u){super(u,B1),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Y0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(lh)&&this.heatmapFbos.delete(lh)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Nf;var q0={get paint(){return Nf=Nf||new Ja({"hillshade-illumination-direction":new vr(Q.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new vr(Q.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new vr(Q.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new vr(Q.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new vr(Q.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new vr(Q.paint_hillshade["hillshade-accent-color"])})}};class d_ extends il{constructor(u){super(u,q0)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const I1=vo([{name:"a_pos",components:2,type:"Int16"}],4),{members:xo}=I1;function Fm(d,u,h){const y=h.patternDependencies;let x=!1;for(const P of u){const T=P.paint.get(`${d}-pattern`);T.isConstant()||(x=!0);const D=T.constantOr(null);D&&(x=!0,y[D.to]=!0,y[D.from]=!0)}return x}function Wf(d,u,h,y,x){const P=x.patternDependencies;for(const T of u){const D=T.paint.get(`${d}-pattern`).value;if(D.kind!=="constant"){let N=D.evaluate({zoom:y-1},h,{},x.availableImages),$=D.evaluate({zoom:y},h,{},x.availableImages),te=D.evaluate({zoom:y+1},h,{},x.availableImages);N=N&&N.name?N.name:N,$=$&&$.name?$.name:$,te=te&&te.name?te.name:te,P[N]=!0,P[$]=!0,P[te]=!0,h.patterns[T.id]={min:N,mid:$,max:te}}}return h}function Gf(d,u,h,y,x){let P;if(x===function(T,D,N,$){let te=0;for(let se=D,pe=N-$;se<N;se+=$)te+=(T[pe]-T[se])*(T[se+1]+T[pe+1]),pe=se;return te}(d,u,h,y)>0)for(let T=u;T<h;T+=y)P=k1(T/y|0,d[T],d[T+1],P);else for(let T=h-y;T>=u;T-=y)P=k1(T/y|0,d[T],d[T+1],P);return P&&qA(P,P.next)&&($f(P),P=P.next),P}function al(d,u){if(!d)return d;u||(u=d);let h,y=d;do if(h=!1,y.steiner||!qA(y,y.next)&&Ua(y.prev,y,y.next)!==0)y=y.next;else{if($f(y),y=u=y.prev,y===y.next)break;h=!0}while(h||y!==u);return u}function Jh(d,u,h,y,x,P,T){if(!d)return;!T&&P&&function(N,$,te,se){let pe=N;do pe.z===0&&(pe.z=Jr(pe.x,pe.y,$,te,se)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==N);pe.prevZ.nextZ=null,pe.prevZ=null,function(we){let Ie,Se=1;do{let He,Ye=we;we=null;let Mt=null;for(Ie=0;Ye;){Ie++;let At=Ye,de=0;for(let yt=0;yt<Se&&(de++,At=At.nextZ,At);yt++);let Ne=Se;for(;de>0||Ne>0&&At;)de!==0&&(Ne===0||!At||Ye.z<=At.z)?(He=Ye,Ye=Ye.nextZ,de--):(He=At,At=At.nextZ,Ne--),Mt?Mt.nextZ=He:we=He,He.prevZ=Mt,Mt=He;Ye=At}Mt.nextZ=null,Se*=2}while(Ie>1)}(pe)}(d,y,x,P);let D=d;for(;d.prev!==d.next;){const N=d.prev,$=d.next;if(P?_c(d,y,x,P):V0(d))u.push(N.i,d.i,$.i),$f(d),d=$.next,D=$.next;else if((d=$)===D){T?T===1?Jh(d=Rm(al(d),u),u,h,y,x,P,2):T===2&&Um(d,u,h,y,x,P):Jh(al(d),u,h,y,x,P,1);break}}}function V0(d){const u=d.prev,h=d,y=d.next;if(Ua(u,h,y)>=0)return!1;const x=u.x,P=h.x,T=y.x,D=u.y,N=h.y,$=y.y,te=x<P?x<T?x:T:P<T?P:T,se=D<N?D<$?D:$:N<$?N:$,pe=x>P?x>T?x:T:P>T?P:T,we=D>N?D>$?D:$:N>$?N:$;let Ie=y.next;for(;Ie!==u;){if(Ie.x>=te&&Ie.x<=pe&&Ie.y>=se&&Ie.y<=we&&ao(x,D,P,N,T,$,Ie.x,Ie.y)&&Ua(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.next}return!0}function _c(d,u,h,y){const x=d.prev,P=d,T=d.next;if(Ua(x,P,T)>=0)return!1;const D=x.x,N=P.x,$=T.x,te=x.y,se=P.y,pe=T.y,we=D<N?D<$?D:$:N<$?N:$,Ie=te<se?te<pe?te:pe:se<pe?se:pe,Se=D>N?D>$?D:$:N>$?N:$,He=te>se?te>pe?te:pe:se>pe?se:pe,Ye=Jr(we,Ie,u,h,y),Mt=Jr(Se,He,u,h,y);let At=d.prevZ,de=d.nextZ;for(;At&&At.z>=Ye&&de&&de.z<=Mt;){if(At.x>=we&&At.x<=Se&&At.y>=Ie&&At.y<=He&&At!==x&&At!==T&&ao(D,te,N,se,$,pe,At.x,At.y)&&Ua(At.prev,At,At.next)>=0||(At=At.prevZ,de.x>=we&&de.x<=Se&&de.y>=Ie&&de.y<=He&&de!==x&&de!==T&&ao(D,te,N,se,$,pe,de.x,de.y)&&Ua(de.prev,de,de.next)>=0))return!1;de=de.nextZ}for(;At&&At.z>=Ye;){if(At.x>=we&&At.x<=Se&&At.y>=Ie&&At.y<=He&&At!==x&&At!==T&&ao(D,te,N,se,$,pe,At.x,At.y)&&Ua(At.prev,At,At.next)>=0)return!1;At=At.prevZ}for(;de&&de.z<=Mt;){if(de.x>=we&&de.x<=Se&&de.y>=Ie&&de.y<=He&&de!==x&&de!==T&&ao(D,te,N,se,$,pe,de.x,de.y)&&Ua(de.prev,de,de.next)>=0)return!1;de=de.nextZ}return!0}function Rm(d,u){let h=d;do{const y=h.prev,x=h.next.next;!qA(y,x)&&H0(y,h,h.next,x)&&ca(y,x)&&ca(x,y)&&(u.push(y.i,h.i,x.i),$f(h),$f(h.next),h=d=x),h=h.next}while(h!==d);return al(h)}function Um(d,u,h,y,x,P){let T=d;do{let D=T.next.next;for(;D!==T.prev;){if(T.i!==D.i&&ed(T,D)){let N=Z0(T,D);return T=al(T,T.next),N=al(N,N.next),Jh(T,u,h,y,x,P,0),void Jh(N,u,h,y,x,P,0)}D=D.next}T=T.next}while(T!==d)}function Gp(d,u){return d.x-u.x}function Qp(d,u){const h=function(x,P){let T=P;const D=x.x,N=x.y;let $,te=-1/0;do{if(N<=T.y&&N>=T.next.y&&T.next.y!==T.y){const Se=T.x+(N-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Se<=D&&Se>te&&(te=Se,$=T.x<T.next.x?T:T.next,Se===D))return $}T=T.next}while(T!==P);if(!$)return null;const se=$,pe=$.x,we=$.y;let Ie=1/0;T=$;do{if(D>=T.x&&T.x>=pe&&D!==T.x&&ao(N<we?D:te,N,pe,we,N<we?te:D,N,T.x,T.y)){const Se=Math.abs(N-T.y)/(D-T.x);ca(T,x)&&(Se<Ie||Se===Ie&&(T.x>$.x||T.x===$.x&&Qf($,T)))&&($=T,Ie=Se)}T=T.next}while(T!==se);return $}(d,u);if(!h)return u;const y=Z0(h,d);return al(y,y.next),al(h,h.next)}function Qf(d,u){return Ua(d.prev,d,u.prev)<0&&Ua(u.next,d,d.next)<0}function Jr(d,u,h,y,x){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-h)*x|0)|d<<8))|d<<4))|d<<2))|d<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-y)*x|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function $p(d){let u=d,h=d;do(u.x<h.x||u.x===h.x&&u.y<h.y)&&(h=u),u=u.next;while(u!==d);return h}function ao(d,u,h,y,x,P,T,D){return(x-T)*(u-D)>=(d-T)*(P-D)&&(d-T)*(y-D)>=(h-T)*(u-D)&&(h-T)*(P-D)>=(x-T)*(y-D)}function ed(d,u){return d.next.i!==u.i&&d.prev.i!==u.i&&!function(h,y){let x=h;do{if(x.i!==h.i&&x.next.i!==h.i&&x.i!==y.i&&x.next.i!==y.i&&H0(x,x.next,h,y))return!0;x=x.next}while(x!==h);return!1}(d,u)&&(ca(d,u)&&ca(u,d)&&function(h,y){let x=h,P=!1;const T=(h.x+y.x)/2,D=(h.y+y.y)/2;do x.y>D!=x.next.y>D&&x.next.y!==x.y&&T<(x.next.x-x.x)*(D-x.y)/(x.next.y-x.y)+x.x&&(P=!P),x=x.next;while(x!==h);return P}(d,u)&&(Ua(d.prev,d,u.prev)||Ua(d,u.prev,u))||qA(d,u)&&Ua(d.prev,d,d.next)>0&&Ua(u.prev,u,u.next)>0)}function Ua(d,u,h){return(u.y-d.y)*(h.x-u.x)-(u.x-d.x)*(h.y-u.y)}function qA(d,u){return d.x===u.x&&d.y===u.y}function H0(d,u,h,y){const x=zm(Ua(d,u,h)),P=zm(Ua(d,u,y)),T=zm(Ua(h,y,d)),D=zm(Ua(h,y,u));return x!==P&&T!==D||!(x!==0||!ns(d,h,u))||!(P!==0||!ns(d,y,u))||!(T!==0||!ns(h,d,y))||!(D!==0||!ns(h,u,y))}function ns(d,u,h){return u.x<=Math.max(d.x,h.x)&&u.x>=Math.min(d.x,h.x)&&u.y<=Math.max(d.y,h.y)&&u.y>=Math.min(d.y,h.y)}function zm(d){return d>0?1:d<0?-1:0}function ca(d,u){return Ua(d.prev,d,d.next)<0?Ua(d,u,d.next)>=0&&Ua(d,d.prev,u)>=0:Ua(d,u,d.prev)<0||Ua(d,d.next,u)<0}function Z0(d,u){const h=Yf(d.i,d.x,d.y),y=Yf(u.i,u.x,u.y),x=d.next,P=u.prev;return d.next=u,u.prev=d,h.next=x,x.prev=h,y.next=h,h.prev=y,P.next=y,y.prev=P,y}function k1(d,u,h,y){const x=Yf(d,u,h);return y?(x.next=y.next,x.prev=y,y.next.prev=x,y.next=x):(x.prev=x,x.next=x),x}function $f(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function Yf(d,u,h){return{i:d,x:u,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class A{constructor(u,h){if(h>u)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=u,this._minGranularity=h}getGranularityForZoomLevel(u){return Math.max(Math.floor(this._baseZoomGranularity/(1<<u)),this._minGranularity,1)}}class g{constructor(u){this.fill=u.fill,this.line=u.line,this.tile=u.tile,this.stencil=u.stencil,this.circle=u.circle}}g.noSubdivision=new g({fill:new A(0,0),line:new A(0,0),tile:new A(0,0),stencil:new A(0,0),circle:1}),hn("SubdivisionGranularityExpression",A),hn("SubdivisionGranularitySetting",g);const M=-32768,w=32767;class k{constructor(u,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=u,this._granularityCellSize=be/u,this._canonical=h}_getKey(u,h){return(u+=32768)<<16|(h+=32768)<<0}_vertexToIndex(u,h){if(u<-32768||h<-32768||u>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const y=0|Math.round(u),x=0|Math.round(h),P=this._getKey(y,x);if(this._vertexDictionary.has(P))return this._vertexDictionary.get(P);const T=this._vertexBuffer.length/2;return this._vertexDictionary.set(P,T),this._vertexBuffer.push(y,x),T}_subdivideTrianglesScanline(u){if(this._granularity<2)return function(x,P){const T=[];for(let D=0;D<P.length;D+=3){const N=P[D],$=P[D+1],te=P[D+2],se=x[2*N],pe=x[2*N+1];(x[2*$]-se)*(x[2*te+1]-pe)-(x[2*$+1]-pe)*(x[2*te]-se)>0?(T.push(N),T.push(te),T.push($)):(T.push(N),T.push($),T.push(te))}return T}(this._vertexBuffer,u);const h=[],y=u.length;for(let x=0;x<y;x+=3){const P=[u[x+0],u[x+1],u[x+2]],T=[this._vertexBuffer[2*u[x+0]+0],this._vertexBuffer[2*u[x+0]+1],this._vertexBuffer[2*u[x+1]+0],this._vertexBuffer[2*u[x+1]+1],this._vertexBuffer[2*u[x+2]+0],this._vertexBuffer[2*u[x+2]+1]];let D=1/0,N=1/0,$=-1/0,te=-1/0;for(let Se=0;Se<3;Se++){const He=T[2*Se],Ye=T[2*Se+1];D=Math.min(D,He),$=Math.max($,He),N=Math.min(N,Ye),te=Math.max(te,Ye)}if(D===$||N===te)continue;const se=Math.floor(D/this._granularityCellSize),pe=Math.ceil($/this._granularityCellSize),we=Math.floor(N/this._granularityCellSize),Ie=Math.ceil(te/this._granularityCellSize);if(se!==pe||we!==Ie)for(let Se=we;Se<Ie;Se++){const He=this._scanlineGenerateVertexRingForCellRow(Se,T,P);ae(this._vertexBuffer,He,h)}else h.push(...P)}return h}_scanlineGenerateVertexRingForCellRow(u,h,y){const x=u*this._granularityCellSize,P=x+this._granularityCellSize,T=[];for(let D=0;D<3;D++){const N=h[2*D],$=h[2*D+1],te=h[2*(D+1)%6],se=h[(2*(D+1)+1)%6],pe=h[2*(D+2)%6],we=h[(2*(D+2)+1)%6],Ie=te-N,Se=se-$,He=Ie===0,Ye=Se===0,Mt=(x-$)/Se,At=(P-$)/Se,de=Math.min(Mt,At),Ne=Math.max(Mt,At);if(!Ye&&(de>=1||Ne<=0)||Ye&&($<x||$>P)){se>=x&&se<=P&&T.push(y[(D+1)%3]);continue}!Ye&&de>0&&T.push(this._vertexToIndex(N+Ie*de,$+Se*de));const yt=N+Ie*Math.max(de,0),Ut=N+Ie*Math.min(Ne,1);He||this._generateIntraEdgeVertices(T,N,$,te,se,yt,Ut),!Ye&&Ne<1&&T.push(this._vertexToIndex(N+Ie*Ne,$+Se*Ne)),(Ye||se>=x&&se<=P)&&T.push(y[(D+1)%3]),!Ye&&(se<=x||se>=P)&&this._generateInterEdgeVertices(T,N,$,te,se,pe,we,Ut,x,P)}return T}_generateIntraEdgeVertices(u,h,y,x,P,T,D){const N=x-h,$=P-y,te=$===0,se=te?Math.min(h,x):Math.min(T,D),pe=te?Math.max(h,x):Math.max(T,D),we=Math.floor(se/this._granularityCellSize)+1,Ie=Math.ceil(pe/this._granularityCellSize)-1;if(te?h<x:T<D)for(let Se=we;Se<=Ie;Se++){const He=Se*this._granularityCellSize;u.push(this._vertexToIndex(He,y+$*(He-h)/N))}else for(let Se=Ie;Se>=we;Se--){const He=Se*this._granularityCellSize;u.push(this._vertexToIndex(He,y+$*(He-h)/N))}}_generateInterEdgeVertices(u,h,y,x,P,T,D,N,$,te){const se=P-y,pe=T-x,we=D-P,Ie=($-P)/we,Se=(te-P)/we,He=Math.min(Ie,Se),Ye=Math.max(Ie,Se),Mt=x+pe*He;let At=Math.floor(Math.min(Mt,N)/this._granularityCellSize)+1,de=Math.ceil(Math.max(Mt,N)/this._granularityCellSize)-1,Ne=N<Mt;const yt=we===0;if(yt&&(D===$||D===te))return;if(yt||He>=1||Ye<=0){const gn=y-D,qt=T+(h-T)*Math.min(($-D)/gn,(te-D)/gn);At=Math.floor(Math.min(qt,N)/this._granularityCellSize)+1,de=Math.ceil(Math.max(qt,N)/this._granularityCellSize)-1,Ne=N<qt}const Ut=se>0?te:$;if(Ne)for(let gn=At;gn<=de;gn++)u.push(this._vertexToIndex(gn*this._granularityCellSize,Ut));else for(let gn=de;gn>=At;gn--)u.push(this._vertexToIndex(gn*this._granularityCellSize,Ut))}_generateOutline(u){const h=[];for(const y of u){const x=Z(y,this._granularity,!0),P=this._pointArrayToIndices(x),T=[];for(let D=1;D<P.length;D++)T.push(P[D-1]),T.push(P[D]);h.push(T)}return h}_handlePoles(u){let h=!1,y=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(y=!0)),(h||y)&&this._fillPoles(u,h,y)}_ensureNoPoleVertices(){const u=this._vertexBuffer;for(let h=0;h<u.length;h+=2){const y=u[h+1];y===M&&(u[h+1]=-32767),y===w&&(u[h+1]=32766)}}_generatePoleQuad(u,h,y,x,P,T){x>P!=(T===M)?(u.push(h),u.push(y),u.push(this._vertexToIndex(x,T)),u.push(y),u.push(this._vertexToIndex(P,T)),u.push(this._vertexToIndex(x,T))):(u.push(y),u.push(h),u.push(this._vertexToIndex(x,T)),u.push(this._vertexToIndex(P,T)),u.push(y),u.push(this._vertexToIndex(x,T)))}_fillPoles(u,h,y){const x=this._vertexBuffer,P=be,T=u.length;for(let D=2;D<T;D+=3){const N=u[D-2],$=u[D-1],te=u[D],se=x[2*N],pe=x[2*N+1],we=x[2*$],Ie=x[2*$+1],Se=x[2*te],He=x[2*te+1];h&&(pe===0&&Ie===0&&this._generatePoleQuad(u,N,$,se,we,M),Ie===0&&He===0&&this._generatePoleQuad(u,$,te,we,Se,M),He===0&&pe===0&&this._generatePoleQuad(u,te,N,Se,se,M)),y&&(pe===P&&Ie===P&&this._generatePoleQuad(u,N,$,se,we,w),Ie===P&&He===P&&this._generatePoleQuad(u,$,te,we,Se,w),He===P&&pe===P&&this._generatePoleQuad(u,te,N,Se,se,w))}}_initializeVertices(u){for(let h=0;h<u.length;h+=2)this._vertexToIndex(u[h],u[h+1])}subdividePolygonInternal(u,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:y,holeIndices:x}=function(D){const N=[],$=[];for(const te of D)if(te.length!==0){te!==D[0]&&N.push($.length/2);for(let se=0;se<te.length;se++)$.push(te[se].x),$.push(te[se].y)}return{flattened:$,holeIndices:N}}(u);let P;this._initializeVertices(y);try{const D=function($,te,se=2){const pe=te&&te.length,we=pe?te[0]*se:$.length;let Ie=Gf($,0,we,se,!0);const Se=[];if(!Ie||Ie.next===Ie.prev)return Se;let He,Ye,Mt;if(pe&&(Ie=function(At,de,Ne,yt){const Ut=[];for(let gn=0,qt=de.length;gn<qt;gn++){const on=Gf(At,de[gn]*yt,gn<qt-1?de[gn+1]*yt:At.length,yt,!1);on===on.next&&(on.steiner=!0),Ut.push($p(on))}Ut.sort(Gp);for(let gn=0;gn<Ut.length;gn++)Ne=Qp(Ut[gn],Ne);return Ne}($,te,Ie,se)),$.length>80*se){He=1/0,Ye=1/0;let At=-1/0,de=-1/0;for(let Ne=se;Ne<we;Ne+=se){const yt=$[Ne],Ut=$[Ne+1];yt<He&&(He=yt),Ut<Ye&&(Ye=Ut),yt>At&&(At=yt),Ut>de&&(de=Ut)}Mt=Math.max(At-He,de-Ye),Mt=Mt!==0?32767/Mt:0}return Jh(Ie,Se,se,He,Ye,Mt,0),Se}(y,x),N=this._convertIndices(y,D);P=this._subdivideTrianglesScanline(N)}catch(D){console.error(D)}let T=[];return h&&(T=this._generateOutline(u)),this._ensureNoPoleVertices(),this._handlePoles(P),{verticesFlattened:this._vertexBuffer,indicesTriangles:P,indicesLineList:T}}_convertIndices(u,h){const y=[];for(let x=0;x<h.length;x++)y.push(this._vertexToIndex(u[2*h[x]],u[2*h[x]+1]));return y}_pointArrayToIndices(u){const h=[];for(let y=0;y<u.length;y++){const x=u[y];h.push(this._vertexToIndex(x.x,x.y))}return h}}function z(d,u,h,y=!0){return new k(h,u).subdividePolygonInternal(d,y)}function Z(d,u,h=!1){if(!d||d.length<1)return[];if(d.length<2)return[];const y=d[0],x=d[d.length-1],P=h&&(y.x!==x.x||y.y!==x.y);if(u<2)return P?[...d,d[0]]:[...d];const T=Math.floor(be/u),D=[];D.push(new L(d[0].x,d[0].y));const N=d.length,$=P?N:N-1;for(let te=0;te<$;te++){const se=d[te],pe=te<N-1?d[te+1]:d[0],we=se.x,Ie=se.y,Se=pe.x,He=pe.y,Ye=we!==Se,Mt=Ie!==He;if(!Ye&&!Mt)continue;const At=Se-we,de=He-Ie,Ne=Math.abs(At),yt=Math.abs(de);let Ut=we,gn=Ie;for(;;){const on=At>0?(Math.floor(Ut/T)+1)*T:(Math.ceil(Ut/T)-1)*T,Mn=de>0?(Math.floor(gn/T)+1)*T:(Math.ceil(gn/T)-1)*T,Cn=Math.abs(Ut-on),Tn=Math.abs(gn-Mn),ln=Math.abs(Ut-Se),lr=Math.abs(gn-He),Gr=Ye?Cn/Ne:Number.POSITIVE_INFINITY,Ir=Mt?Tn/yt:Number.POSITIVE_INFINITY;if((ln<=Cn||!Ye)&&(lr<=Tn||!Mt))break;if(Gr<Ir&&Ye||!Mt){Ut=on,gn+=de*Gr;const xr=new L(Ut,Math.round(gn));D[D.length-1].x===xr.x&&D[D.length-1].y===xr.y||D.push(xr)}else{Ut+=At*Ir,gn=Mn;const xr=new L(Math.round(Ut),gn);D[D.length-1].x===xr.x&&D[D.length-1].y===xr.y||D.push(xr)}}const qt=new L(Se,He);D[D.length-1].x===qt.x&&D[D.length-1].y===qt.y||D.push(qt)}return D}function ae(d,u,h){if(u.length===0)throw new Error("Subdivision vertex ring is empty.");let y=0,x=d[2*u[0]];for(let N=1;N<u.length;N++){const $=d[2*u[N]];$<x&&(x=$,y=N)}const P=u.length;let T=y,D=(T+1)%P;for(;;){const N=T-1>=0?T-1:P-1,$=(D+1)%P,te=d[2*u[N]],se=d[2*u[$]],pe=d[2*u[T]],we=d[2*u[T]+1],Ie=d[2*u[D]+1];let Se=!1;if(te<se)Se=!0;else if(te>se)Se=!1;else{const He=Ie-we,Ye=-(d[2*u[D]]-pe),Mt=we<Ie?1:-1;((te-pe)*He+(d[2*u[N]+1]-we)*Ye)*Mt>((se-pe)*He+(d[2*u[$]+1]-we)*Ye)*Mt&&(Se=!0)}if(Se){const He=u[N],Ye=u[T],Mt=u[D];He!==Ye&&He!==Mt&&Ye!==Mt&&h.push(Mt,Ye,He),T--,T<0&&(T=P-1)}else{const He=u[$],Ye=u[T],Mt=u[D];He!==Ye&&He!==Mt&&Ye!==Mt&&h.push(Mt,Ye,He),D++,D>=P&&(D=0)}if(N===$)break}}function he(d,u,h,y,x,P,T,D,N){const $=x.length/2,te=T&&D&&N;if($<Ge.MAX_VERTEX_ARRAY_LENGTH){const se=u.prepareSegment($,h,y),pe=se.vertexLength;for(let Se=0;Se<P.length;Se+=3)y.emplaceBack(pe+P[Se],pe+P[Se+1],pe+P[Se+2]);let we,Ie;se.vertexLength+=$,se.primitiveLength+=P.length/3,te&&(Ie=T.prepareSegment($,h,D),we=Ie.vertexLength,Ie.vertexLength+=$);for(let Se=0;Se<x.length;Se+=2)d(x[Se],x[Se+1]);if(te)for(let Se=0;Se<N.length;Se++){const He=N[Se];for(let Ye=1;Ye<He.length;Ye+=2)D.emplaceBack(we+He[Ye-1],we+He[Ye]);Ie.primitiveLength+=He.length/2}}else(function(se,pe,we,Ie,Se,He){const Ye=[];for(let yt=0;yt<Ie.length/2;yt++)Ye.push(-1);const Mt={count:0};let At=0,de=se.getOrCreateLatestSegment(pe,we),Ne=de.vertexLength;for(let yt=2;yt<Se.length;yt+=3){const Ut=Se[yt-2],gn=Se[yt-1],qt=Se[yt];let on=Ye[Ut]<At,Mn=Ye[gn]<At,Cn=Ye[qt]<At;de.vertexLength+((on?1:0)+(Mn?1:0)+(Cn?1:0))>Ge.MAX_VERTEX_ARRAY_LENGTH&&(de=se.createNewSegment(pe,we),At=Mt.count,on=!0,Mn=!0,Cn=!0,Ne=0);const Tn=Ce(Ye,Ie,He,Mt,Ut,on,de),ln=Ce(Ye,Ie,He,Mt,gn,Mn,de),lr=Ce(Ye,Ie,He,Mt,qt,Cn,de);we.emplaceBack(Ne+Tn-At,Ne+ln-At,Ne+lr-At),de.primitiveLength++}})(u,h,y,x,P,d),te&&function(se,pe,we,Ie,Se,He){const Ye=[];for(let yt=0;yt<Ie.length/2;yt++)Ye.push(-1);const Mt={count:0};let At=0,de=se.getOrCreateLatestSegment(pe,we),Ne=de.vertexLength;for(let yt=0;yt<Se.length;yt++){const Ut=Se[yt];for(let gn=1;gn<Se[yt].length;gn+=2){const qt=Ut[gn-1],on=Ut[gn];let Mn=Ye[qt]<At,Cn=Ye[on]<At;de.vertexLength+((Mn?1:0)+(Cn?1:0))>Ge.MAX_VERTEX_ARRAY_LENGTH&&(de=se.createNewSegment(pe,we),At=Mt.count,Mn=!0,Cn=!0,Ne=0);const Tn=Ce(Ye,Ie,He,Mt,qt,Mn,de),ln=Ce(Ye,Ie,He,Mt,on,Cn,de);we.emplaceBack(Ne+Tn-At,Ne+ln-At),de.primitiveLength++}}}(T,h,D,x,N,d),u.forceNewSegmentOnNextPrepare(),T==null||T.forceNewSegmentOnNextPrepare()}function Ce(d,u,h,y,x,P,T){if(P){const D=y.count;return h(u[2*x],u[2*x+1]),d[x]=y.count,y.count++,T.vertexLength++,D}return d[x]}class Ze{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new v,this.indexArray=new Be,this.indexArray2=new De,this.programConfigurations=new yl(u.layers,u.zoom),this.segments=new Ge,this.segments2=new Ge,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.hasPattern=Fm("fill",this.layers,h);const x=this.layers[0].layout.get("fill-sort-key"),P=!x.isConstant(),T=[];for(const{feature:D,id:N,index:$,sourceLayerIndex:te}of u){const se=this.layers[0]._featureFilter.needGeometry,pe=es(D,se);if(!this.layers[0]._featureFilter.filter(new oo(this.zoom),pe,y))continue;const we=P?x.evaluate(pe,{},y,h.availableImages):void 0,Ie={id:N,properties:D.properties,type:D.type,sourceLayerIndex:te,index:$,geometry:se?pe.geometry:Ns(D),patterns:{},sortKey:we};T.push(Ie)}P&&T.sort((D,N)=>D.sortKey-N.sortKey);for(const D of T){const{geometry:N,index:$,sourceLayerIndex:te}=D;if(this.hasPattern){const se=Wf("fill",this.layers,D,this.zoom,h);this.patternFeatures.push(se)}else this.addFeature(D,N,$,y,{},h.subdivisionGranularity);h.featureIndex.insert(u[$].feature,N,$,te,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}addFeatures(u,h,y){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,h,y,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,xo),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,h,y,x,P,T){for(const D of zc(h,500)){const N=z(D,x,T.fill.getGranularityForZoomLevel(x.z)),$=this.layoutVertexArray;he((te,se)=>{$.emplaceBack(te,se)},this.segments,this.layoutVertexArray,this.indexArray,N.verticesFlattened,N.indicesTriangles,this.segments2,this.indexArray2,N.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,P,x)}}let at,Lt;hn("FillBucket",Ze,{omit:["layers","patternFeatures"]});var kt={get paint(){return Lt=Lt||new Ja({"fill-antialias":new vr(Q.paint_fill["fill-antialias"]),"fill-opacity":new Pr(Q.paint_fill["fill-opacity"]),"fill-color":new Pr(Q.paint_fill["fill-color"]),"fill-outline-color":new Pr(Q.paint_fill["fill-outline-color"]),"fill-translate":new vr(Q.paint_fill["fill-translate"]),"fill-translate-anchor":new vr(Q.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zc(Q.paint_fill["fill-pattern"])})},get layout(){return at=at||new Ja({"fill-sort-key":new Pr(Q.layout_fill["fill-sort-key"])})}};class sn extends il{constructor(u){super(u,kt)}recalculate(u,h){super.recalculate(u,h);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new Ze(u)}queryRadius(){return Rl(this.paint.get("fill-translate"))}queryIntersectsFeature(u,h,y,x,P,T,D){return Bs(SA(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,D),x)}isTileClipped(){return!0}}const vn=vo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Kn=vo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Yn}=vn;var Zn,Gn,or,Lr,Br,Oi,Fo,va={};function ha(){if(Gn)return Zn;Gn=1;var d=B();function u(x,P,T,D,N){this.properties={},this.extent=T,this.type=0,this._pbf=x,this._geometry=-1,this._keys=D,this._values=N,x.readFields(h,this,P)}function h(x,P,T){x==1?P.id=T.readVarint():x==2?function(D,N){for(var $=D.readVarint()+D.pos;D.pos<$;){var te=N._keys[D.readVarint()],se=N._values[D.readVarint()];N.properties[te]=se}}(T,P):x==3?P.type=T.readVarint():x==4&&(P._geometry=T.pos)}function y(x){for(var P,T,D=0,N=0,$=x.length,te=$-1;N<$;te=N++)D+=((T=x[te]).x-(P=x[N]).x)*(P.y+T.y);return D}return Zn=u,u.types=["Unknown","Point","LineString","Polygon"],u.prototype.loadGeometry=function(){var x=this._pbf;x.pos=this._geometry;for(var P,T=x.readVarint()+x.pos,D=1,N=0,$=0,te=0,se=[];x.pos<T;){if(N<=0){var pe=x.readVarint();D=7&pe,N=pe>>3}if(N--,D===1||D===2)$+=x.readSVarint(),te+=x.readSVarint(),D===1&&(P&&se.push(P),P=[]),P.push(new d($,te));else{if(D!==7)throw new Error("unknown command "+D);P&&P.push(P[0].clone())}}return P&&se.push(P),se},u.prototype.bbox=function(){var x=this._pbf;x.pos=this._geometry;for(var P=x.readVarint()+x.pos,T=1,D=0,N=0,$=0,te=1/0,se=-1/0,pe=1/0,we=-1/0;x.pos<P;){if(D<=0){var Ie=x.readVarint();T=7&Ie,D=Ie>>3}if(D--,T===1||T===2)(N+=x.readSVarint())<te&&(te=N),N>se&&(se=N),($+=x.readSVarint())<pe&&(pe=$),$>we&&(we=$);else if(T!==7)throw new Error("unknown command "+T)}return[te,pe,se,we]},u.prototype.toGeoJSON=function(x,P,T){var D,N,$=this.extent*Math.pow(2,T),te=this.extent*x,se=this.extent*P,pe=this.loadGeometry(),we=u.types[this.type];function Ie(Ye){for(var Mt=0;Mt<Ye.length;Mt++){var At=Ye[Mt];Ye[Mt]=[360*(At.x+te)/$-180,360/Math.PI*Math.atan(Math.exp((180-360*(At.y+se)/$)*Math.PI/180))-90]}}switch(this.type){case 1:var Se=[];for(D=0;D<pe.length;D++)Se[D]=pe[D][0];Ie(pe=Se);break;case 2:for(D=0;D<pe.length;D++)Ie(pe[D]);break;case 3:for(pe=function(Ye){var Mt=Ye.length;if(Mt<=1)return[Ye];for(var At,de,Ne=[],yt=0;yt<Mt;yt++){var Ut=y(Ye[yt]);Ut!==0&&(de===void 0&&(de=Ut<0),de===Ut<0?(At&&Ne.push(At),At=[Ye[yt]]):At.push(Ye[yt]))}return At&&Ne.push(At),Ne}(pe),D=0;D<pe.length;D++)for(N=0;N<pe[D].length;N++)Ie(pe[D][N])}pe.length===1?pe=pe[0]:we="Multi"+we;var He={type:"Feature",geometry:{type:we,coordinates:pe},properties:this.properties};return"id"in this&&(He.id=this.id),He},Zn}function Ba(){if(Lr)return or;Lr=1;var d=ha();function u(y,x){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=y,this._keys=[],this._values=[],this._features=[],y.readFields(h,this,x),this.length=this._features.length}function h(y,x,P){y===15?x.version=P.readVarint():y===1?x.name=P.readString():y===5?x.extent=P.readVarint():y===2?x._features.push(P.pos):y===3?x._keys.push(P.readString()):y===4&&x._values.push(function(T){for(var D=null,N=T.readVarint()+T.pos;T.pos<N;){var $=T.readVarint()>>3;D=$===1?T.readString():$===2?T.readFloat():$===3?T.readDouble():$===4?T.readVarint64():$===5?T.readVarint():$===6?T.readSVarint():$===7?T.readBoolean():null}return D}(P))}return or=u,u.prototype.feature=function(y){if(y<0||y>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[y];var x=this._pbf.readVarint()+this._pbf.pos;return new d(this._pbf,x,this.extent,this._keys,this._values)},or}function rs(){return Fo||(Fo=1,va.VectorTile=function(){if(Oi)return Br;Oi=1;var d=Ba();function u(h,y,x){if(h===3){var P=new d(x,x.readVarint()+x.pos);P.length&&(y[P.name]=P)}}return Br=function(h,y){this.layers=h.readFields(u,{},y)},Br}(),va.VectorTileFeature=ha(),va.VectorTileLayer=Ba()),va}var _a=f(rs());const zl=_a.VectorTileFeature.types,Is=Math.pow(2,13);function Ia(d,u,h,y,x,P,T,D){d.emplaceBack(u,h,2*Math.floor(y*Is)+T,x*Is*2,P*Is*2,Math.round(D))}class za{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new b,this.centroidVertexArray=new l,this.indexArray=new Be,this.programConfigurations=new yl(u.layers,u.zoom),this.segments=new Ge,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.features=[],this.hasPattern=Fm("fill-extrusion",this.layers,h);for(const{feature:x,id:P,index:T,sourceLayerIndex:D}of u){const N=this.layers[0]._featureFilter.needGeometry,$=es(x,N);if(!this.layers[0]._featureFilter.filter(new oo(this.zoom),$,y))continue;const te={id:P,sourceLayerIndex:D,index:T,geometry:N?$.geometry:Ns(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(Wf("fill-extrusion",this.layers,te,this.zoom,h)):this.addFeature(te,te.geometry,T,y,{},h.subdivisionGranularity),h.featureIndex.insert(x,te.geometry,T,D,this.index,!0)}}addFeatures(u,h,y){for(const x of this.features){const{geometry:P}=x;this.addFeature(x,P,x.index,h,y,u.subdivisionGranularity)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Yn),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,Kn.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,h,y,x,P,T){for(const D of zc(h,500)){const N={x:0,y:0,sampleCount:0},$=this.layoutVertexArray.length;this.processPolygon(N,x,u,D,T);const te=this.layoutVertexArray.length-$,se=Math.floor(N.x/N.sampleCount),pe=Math.floor(N.y/N.sampleCount);for(let we=0;we<te;we++)this.centroidVertexArray.emplaceBack(se,pe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,P,x)}processPolygon(u,h,y,x,P){if(x.length<1||Yd(x[0]))return;for(const se of x)se.length!==0&&ja(u,se);const T={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},D=P.fill.getGranularityForZoomLevel(h.z),N=zl[y.type]==="Polygon";for(const se of x){if(se.length===0||Yd(se))continue;const pe=Z(se,D,N);this._generateSideFaces(pe,T)}if(!N)return;const $=z(x,h,D,!1),te=this.layoutVertexArray;he((se,pe)=>{Ia(te,se,pe,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,$.verticesFlattened,$.indicesTriangles)}_generateSideFaces(u,h){let y=0;for(let x=1;x<u.length;x++){const P=u[x],T=u[x-1];if(ou(P,T))continue;h.segment.vertexLength+4>Ge.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const D=P.sub(T)._perp()._unit(),N=T.dist(P);y+N>32768&&(y=0),Ia(this.layoutVertexArray,P.x,P.y,D.x,D.y,0,0,y),Ia(this.layoutVertexArray,P.x,P.y,D.x,D.y,0,1,y),y+=N,Ia(this.layoutVertexArray,T.x,T.y,D.x,D.y,0,0,y),Ia(this.layoutVertexArray,T.x,T.y,D.x,D.y,0,1,y);const $=h.segment.vertexLength;this.indexArray.emplaceBack($,$+2,$+1),this.indexArray.emplaceBack($+1,$+2,$+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function ja(d,u){for(let h=0;h<u.length;h++){const y=u[h];h===u.length-1&&u[0].x===y.x&&u[0].y===y.y||(d.x+=y.x,d.y+=y.y,d.sampleCount++)}}function ou(d,u){return d.x===u.x&&(d.x<0||d.x>be)||d.y===u.y&&(d.y<0||d.y>be)}function Yd(d){return d.every(u=>u.x<0)||d.every(u=>u.x>be)||d.every(u=>u.y<0)||d.every(u=>u.y>be)}let uh;hn("FillExtrusionBucket",za,{omit:["layers","features"]});var _l={get paint(){return uh=uh||new Ja({"fill-extrusion-opacity":new vr(Q["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pr(Q["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new vr(Q["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new vr(Q["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zc(Q["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pr(Q["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pr(Q["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new vr(Q["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Cc extends il{constructor(u){super(u,_l)}createBucket(u){return new za(u)}queryRadius(){return Rl(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,h,y,x,P,T,D,N){const $=SA(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,D),te=this.paint.get("fill-extrusion-height").evaluate(h,y),se=this.paint.get("fill-extrusion-base").evaluate(h,y),pe=function(Ie,Se,He,Ye){const Mt=[];for(const At of Ie){const de=[At.x,At.y,0,1];Me(de,de,Se),Mt.push(new L(de[0]/de[3],de[1]/de[3]))}return Mt}($,N),we=function(Ie,Se,He,Ye){const Mt=[],At=[],de=Ye[8]*Se,Ne=Ye[9]*Se,yt=Ye[10]*Se,Ut=Ye[11]*Se,gn=Ye[8]*He,qt=Ye[9]*He,on=Ye[10]*He,Mn=Ye[11]*He;for(const Cn of Ie){const Tn=[],ln=[];for(const lr of Cn){const Gr=lr.x,Ir=lr.y,xr=Ye[0]*Gr+Ye[4]*Ir+Ye[12],Yi=Ye[1]*Gr+Ye[5]*Ir+Ye[13],Ga=Ye[2]*Gr+Ye[6]*Ir+Ye[14],is=Ye[3]*Gr+Ye[7]*Ir+Ye[15],au=Ga+yt,Iu=is+Ut,ku=xr+gn,Cl=Yi+qt,Tu=Ga+on,Ri=is+Mn,Mo=new L((xr+de)/Iu,(Yi+Ne)/Iu);Mo.z=au/Iu,Tn.push(Mo);const bl=new L(ku/Ri,Cl/Ri);bl.z=Tu/Ri,ln.push(bl)}Mt.push(Tn),At.push(ln)}return[Mt,At]}(x,se,te,N);return function(Ie,Se,He){let Ye=1/0;Bs(He,Se)&&(Ye=jm(He,Se[0]));for(let Mt=0;Mt<Se.length;Mt++){const At=Se[Mt],de=Ie[Mt];for(let Ne=0;Ne<At.length-1;Ne++){const yt=At[Ne],Ut=[yt,At[Ne+1],de[Ne+1],de[Ne],yt];Ws(He,Ut)&&(Ye=Math.min(Ye,jm(He,Ut)))}}return Ye!==1/0&&Ye}(we[0],we[1],pe)}}function Na(d,u){return d.x*u.x+d.y*u.y}function jm(d,u){if(d.length===1){let h=0;const y=u[h++];let x;for(;!x||y.equals(x);)if(x=u[h++],!x)return 1/0;for(;h<u.length;h++){const P=u[h],T=d[0],D=x.sub(y),N=P.sub(y),$=T.sub(y),te=Na(D,D),se=Na(D,N),pe=Na(N,N),we=Na($,D),Ie=Na($,N),Se=te*pe-se*se,He=(pe*we-se*Ie)/Se,Ye=(te*Ie-se*we)/Se,Mt=y.z*(1-He-Ye)+x.z*He+P.z*Ye;if(isFinite(Mt))return Mt}return 1/0}{let h=1/0;for(const y of u)h=Math.min(h,y.z);return h}}const bc=vo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:td}=bc,nd=vo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:jl}=nd,qf=_a.VectorTileFeature.types,X0=Math.cos(Math.PI/180*37.5),f_=Math.pow(2,14)/.5;class p_{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(h=>h.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new S,this.layoutVertexArray2=new F,this.indexArray=new Be,this.programConfigurations=new yl(u.layers,u.zoom),this.segments=new Ge,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(u,h,y){this.hasPattern=Fm("line",this.layers,h);const x=this.layers[0].layout.get("line-sort-key"),P=!x.isConstant(),T=[];for(const{feature:D,id:N,index:$,sourceLayerIndex:te}of u){const se=this.layers[0]._featureFilter.needGeometry,pe=es(D,se);if(!this.layers[0]._featureFilter.filter(new oo(this.zoom),pe,y))continue;const we=P?x.evaluate(pe,{},y):void 0,Ie={id:N,properties:D.properties,type:D.type,sourceLayerIndex:te,index:$,geometry:se?pe.geometry:Ns(D),patterns:{},sortKey:we};T.push(Ie)}P&&T.sort((D,N)=>D.sortKey-N.sortKey);for(const D of T){const{geometry:N,index:$,sourceLayerIndex:te}=D;if(this.hasPattern){const se=Wf("line",this.layers,D,this.zoom,h);this.patternFeatures.push(se)}else this.addFeature(D,N,$,y,{},h.subdivisionGranularity);h.featureIndex.insert(u[$].feature,N,$,te,this.index)}}update(u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,h,this.stateDependentLayers,y)}addFeatures(u,h,y){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,h,y,u.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,jl)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,td),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,h,y,x,P,T){const D=this.layers[0].layout,N=D.get("line-join").evaluate(u,{}),$=D.get("line-cap"),te=D.get("line-miter-limit"),se=D.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const pe of h)this.addLine(pe,u,N,$,te,se,x,T);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,y,P,x)}addLine(u,h,y,x,P,T,D,N){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,u=Z(u,D?N.line.getGranularityForZoomLevel(D.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let At=0;At<u.length-1;At++)this.totalDistance+=u[At].dist(u[At+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const $=qf[h.type]==="Polygon";let te=u.length;for(;te>=2&&u[te-1].equals(u[te-2]);)te--;let se=0;for(;se<te-1&&u[se].equals(u[se+1]);)se++;if(te<($?3:2))return;y==="bevel"&&(P=1.05);const pe=this.overscaling<=16?15*be/(512*this.overscaling):0,we=this.segments.prepareSegment(10*te,this.layoutVertexArray,this.indexArray);let Ie,Se,He,Ye,Mt;this.e1=this.e2=-1,$&&(Ie=u[te-2],Mt=u[se].sub(Ie)._unit()._perp());for(let At=se;At<te;At++){if(He=At===te-1?$?u[se+1]:void 0:u[At+1],He&&u[At].equals(He))continue;Mt&&(Ye=Mt),Ie&&(Se=Ie),Ie=u[At],Mt=He?He.sub(Ie)._unit()._perp():Ye,Ye=Ye||Mt;let de=Ye.add(Mt);de.x===0&&de.y===0||de._unit();const Ne=Ye.x*Mt.x+Ye.y*Mt.y,yt=de.x*Mt.x+de.y*Mt.y,Ut=yt!==0?1/yt:1/0,gn=2*Math.sqrt(2-2*yt),qt=yt<X0&&Se&&He,on=Ye.x*Mt.y-Ye.y*Mt.x>0;if(qt&&At>se){const Tn=Ie.dist(Se);if(Tn>2*pe){const ln=Ie.sub(Ie.sub(Se)._mult(pe/Tn)._round());this.updateDistance(Se,ln),this.addCurrentVertex(ln,Ye,0,0,we),Se=ln}}const Mn=Se&&He;let Cn=Mn?y:$?"butt":x;if(Mn&&Cn==="round"&&(Ut<T?Cn="miter":Ut<=2&&(Cn="fakeround")),Cn==="miter"&&Ut>P&&(Cn="bevel"),Cn==="bevel"&&(Ut>2&&(Cn="flipbevel"),Ut<P&&(Cn="miter")),Se&&this.updateDistance(Se,Ie),Cn==="miter")de._mult(Ut),this.addCurrentVertex(Ie,de,0,0,we);else if(Cn==="flipbevel"){if(Ut>100)de=Mt.mult(-1);else{const Tn=Ut*Ye.add(Mt).mag()/Ye.sub(Mt).mag();de._perp()._mult(Tn*(on?-1:1))}this.addCurrentVertex(Ie,de,0,0,we),this.addCurrentVertex(Ie,de.mult(-1),0,0,we)}else if(Cn==="bevel"||Cn==="fakeround"){const Tn=-Math.sqrt(Ut*Ut-1),ln=on?Tn:0,lr=on?0:Tn;if(Se&&this.addCurrentVertex(Ie,Ye,ln,lr,we),Cn==="fakeround"){const Gr=Math.round(180*gn/Math.PI/20);for(let Ir=1;Ir<Gr;Ir++){let xr=Ir/Gr;if(xr!==.5){const Ga=xr-.5;xr+=xr*Ga*(xr-1)*((1.0904+Ne*(Ne*(3.55645-1.43519*Ne)-3.2452))*Ga*Ga+(.848013+Ne*(.215638*Ne-1.06021)))}const Yi=Mt.sub(Ye)._mult(xr)._add(Ye)._unit()._mult(on?-1:1);this.addHalfVertex(Ie,Yi.x,Yi.y,!1,on,0,we)}}He&&this.addCurrentVertex(Ie,Mt,-ln,-lr,we)}else if(Cn==="butt")this.addCurrentVertex(Ie,de,0,0,we);else if(Cn==="square"){const Tn=Se?1:-1;this.addCurrentVertex(Ie,de,Tn,Tn,we)}else Cn==="round"&&(Se&&(this.addCurrentVertex(Ie,Ye,0,0,we),this.addCurrentVertex(Ie,Ye,1,1,we,!0)),He&&(this.addCurrentVertex(Ie,Mt,-1,-1,we,!0),this.addCurrentVertex(Ie,Mt,0,0,we)));if(qt&&At<te-1){const Tn=Ie.dist(He);if(Tn>2*pe){const ln=Ie.add(He.sub(Ie)._mult(pe/Tn)._round());this.updateDistance(Ie,ln),this.addCurrentVertex(ln,Mt,0,0,we),Ie=ln}}}}addCurrentVertex(u,h,y,x,P,T=!1){const D=h.y*x-h.x,N=-h.y-h.x*x;this.addHalfVertex(u,h.x+h.y*y,h.y-h.x*y,T,!1,y,P),this.addHalfVertex(u,D,N,T,!0,-x,P),this.distance>f_/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,h,y,x,P,T))}addHalfVertex({x:u,y:h},y,x,P,T,D,N){const $=.5*(this.lineClips?this.scaledDistance*(f_-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(P?1:0),(h<<1)+(T?1:0),Math.round(63*y)+128,Math.round(63*x)+128,1+(D===0?0:D<0?-1:1)|(63&$)<<2,$>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const te=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,te,this.e2),N.primitiveLength++),T?this.e2=te:this.e1=te}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,h){this.distance+=u.dist(h),this.updateScaledDistance()}}let W2,G2;hn("LineBucket",p_,{omit:["layers","patternFeatures"]});var Q2={get paint(){return G2=G2||new Ja({"line-opacity":new Pr(Q.paint_line["line-opacity"]),"line-color":new Pr(Q.paint_line["line-color"]),"line-translate":new vr(Q.paint_line["line-translate"]),"line-translate-anchor":new vr(Q.paint_line["line-translate-anchor"]),"line-width":new Pr(Q.paint_line["line-width"]),"line-gap-width":new Pr(Q.paint_line["line-gap-width"]),"line-offset":new Pr(Q.paint_line["line-offset"]),"line-blur":new Pr(Q.paint_line["line-blur"]),"line-dasharray":new Pf(Q.paint_line["line-dasharray"]),"line-pattern":new Zc(Q.paint_line["line-pattern"]),"line-gradient":new $h(Q.paint_line["line-gradient"])})},get layout(){return W2=W2||new Ja({"line-cap":new vr(Q.layout_line["line-cap"]),"line-join":new Pr(Q.layout_line["line-join"]),"line-miter-limit":new vr(Q.layout_line["line-miter-limit"]),"line-round-limit":new vr(Q.layout_line["line-round-limit"]),"line-sort-key":new Pr(Q.layout_line["line-sort-key"])})}};class QM extends Pr{possiblyEvaluate(u,h){return h=new oo(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(u,h)}evaluate(u,h,y,x){return h=ft({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(u,h,y,x)}}let T1;class xc extends il{constructor(u){super(u,Q2),this.gradientVersion=0,T1||(T1=new QM(Q2.paint.properties["line-width"].specification),T1.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(h)&&h._styleExpression.expression instanceof yu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,h){super.recalculate(u,h),this.paint._values["line-floorwidth"]=T1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new p_(u)}queryRadius(u){const h=u,y=$2(tA("line-width",this,h),tA("line-gap-width",this,h)),x=tA("line-offset",this,h);return y/2+Math.abs(x)+Rl(this.paint.get("line-translate"))}queryIntersectsFeature(u,h,y,x,P,T,D){const N=SA(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,D),$=D/2*$2(this.paint.get("line-width").evaluate(h,y),this.paint.get("line-gap-width").evaluate(h,y)),te=this.paint.get("line-offset").evaluate(h,y);return te&&(x=function(se,pe){const we=[];for(let Ie=0;Ie<se.length;Ie++){const Se=se[Ie],He=[];for(let Ye=0;Ye<Se.length;Ye++){const Mt=Se[Ye-1],At=Se[Ye],de=Se[Ye+1],Ne=Ye===0?new L(0,0):At.sub(Mt)._unit()._perp(),yt=Ye===Se.length-1?new L(0,0):de.sub(At)._unit()._perp(),Ut=Ne._add(yt)._unit(),gn=Ut.x*yt.x+Ut.y*yt.y;gn!==0&&Ut._mult(1/gn),He.push(Ut._mult(pe)._add(At))}we.push(He)}return we}(x,te*D)),function(se,pe,we){for(let Ie=0;Ie<pe.length;Ie++){const Se=pe[Ie];if(se.length>=3){for(let He=0;He<Se.length;He++)if(ah(se,Se[He]))return!0}if(ts(se,Se,we))return!0}return!1}(N,x,$)}isTileClipped(){return!0}}function $2(d,u){return u>0?u+2*d:d}const $M=vo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),YM=vo([{name:"a_projected_pos",components:3,type:"Float32"}],4);vo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Y2=vo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);vo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const q2=vo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qM=vo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function VM(d,u,h){return d.sections.forEach(y=>{y.text=function(x,P,T){const D=P.layout.get("text-transform").evaluate(T,{});return D==="uppercase"?x=x.toLocaleUpperCase():D==="lowercase"&&(x=x.toLocaleLowerCase()),CA.applyArabicShaping&&(x=CA.applyArabicShaping(x)),x}(y.text,u,h)}),d}vo([{name:"triangle",components:3,type:"Uint16"}]),vo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),vo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),vo([{type:"Float32",name:"offsetX"}]),vo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),vo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const J0={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var P1,m_,V2,Gs=24,g_={};function HM(){return P1||(P1=1,g_.read=function(d,u,h,y,x){var P,T,D=8*x-y-1,N=(1<<D)-1,$=N>>1,te=-7,se=h?x-1:0,pe=h?-1:1,we=d[u+se];for(se+=pe,P=we&(1<<-te)-1,we>>=-te,te+=D;te>0;P=256*P+d[u+se],se+=pe,te-=8);for(T=P&(1<<-te)-1,P>>=-te,te+=y;te>0;T=256*T+d[u+se],se+=pe,te-=8);if(P===0)P=1-$;else{if(P===N)return T?NaN:1/0*(we?-1:1);T+=Math.pow(2,y),P-=$}return(we?-1:1)*T*Math.pow(2,P-y)},g_.write=function(d,u,h,y,x,P){var T,D,N,$=8*P-x-1,te=(1<<$)-1,se=te>>1,pe=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,we=y?0:P-1,Ie=y?1:-1,Se=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(D=isNaN(u)?1:0,T=te):(T=Math.floor(Math.log(u)/Math.LN2),u*(N=Math.pow(2,-T))<1&&(T--,N*=2),(u+=T+se>=1?pe/N:pe*Math.pow(2,1-se))*N>=2&&(T++,N/=2),T+se>=te?(D=0,T=te):T+se>=1?(D=(u*N-1)*Math.pow(2,x),T+=se):(D=u*Math.pow(2,se-1)*Math.pow(2,x),T=0));x>=8;d[h+we]=255&D,we+=Ie,D/=256,x-=8);for(T=T<<x|D,$+=x;$>0;d[h+we]=255&T,we+=Ie,T/=256,$-=8);d[h+we-Ie]|=128*Se}),g_}function H2(){if(V2)return m_;V2=1,m_=u;var d=HM();function u(de){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(de)?de:new Uint8Array(de||0),this.pos=0,this.type=0,this.length=this.buf.length}u.Varint=0,u.Fixed64=1,u.Bytes=2,u.Fixed32=5;var h=4294967296,y=1/h,x=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function P(de){return de.type===u.Bytes?de.readVarint()+de.pos:de.pos+1}function T(de,Ne,yt){return yt?4294967296*Ne+(de>>>0):4294967296*(Ne>>>0)+(de>>>0)}function D(de,Ne,yt){var Ut=Ne<=16383?1:Ne<=2097151?2:Ne<=268435455?3:Math.floor(Math.log(Ne)/(7*Math.LN2));yt.realloc(Ut);for(var gn=yt.pos-1;gn>=de;gn--)yt.buf[gn+Ut]=yt.buf[gn]}function N(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeVarint(de[yt])}function $(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeSVarint(de[yt])}function te(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeFloat(de[yt])}function se(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeDouble(de[yt])}function pe(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeBoolean(de[yt])}function we(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeFixed32(de[yt])}function Ie(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeSFixed32(de[yt])}function Se(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeFixed64(de[yt])}function He(de,Ne){for(var yt=0;yt<de.length;yt++)Ne.writeSFixed64(de[yt])}function Ye(de,Ne){return(de[Ne]|de[Ne+1]<<8|de[Ne+2]<<16)+16777216*de[Ne+3]}function Mt(de,Ne,yt){de[yt]=Ne,de[yt+1]=Ne>>>8,de[yt+2]=Ne>>>16,de[yt+3]=Ne>>>24}function At(de,Ne){return(de[Ne]|de[Ne+1]<<8|de[Ne+2]<<16)+(de[Ne+3]<<24)}return u.prototype={destroy:function(){this.buf=null},readFields:function(de,Ne,yt){for(yt=yt||this.length;this.pos<yt;){var Ut=this.readVarint(),gn=Ut>>3,qt=this.pos;this.type=7&Ut,de(gn,Ne,this),this.pos===qt&&this.skip(Ut)}return Ne},readMessage:function(de,Ne){return this.readFields(de,Ne,this.readVarint()+this.pos)},readFixed32:function(){var de=Ye(this.buf,this.pos);return this.pos+=4,de},readSFixed32:function(){var de=At(this.buf,this.pos);return this.pos+=4,de},readFixed64:function(){var de=Ye(this.buf,this.pos)+Ye(this.buf,this.pos+4)*h;return this.pos+=8,de},readSFixed64:function(){var de=Ye(this.buf,this.pos)+At(this.buf,this.pos+4)*h;return this.pos+=8,de},readFloat:function(){var de=d.read(this.buf,this.pos,!0,23,4);return this.pos+=4,de},readDouble:function(){var de=d.read(this.buf,this.pos,!0,52,8);return this.pos+=8,de},readVarint:function(de){var Ne,yt,Ut=this.buf;return Ne=127&(yt=Ut[this.pos++]),yt<128?Ne:(Ne|=(127&(yt=Ut[this.pos++]))<<7,yt<128?Ne:(Ne|=(127&(yt=Ut[this.pos++]))<<14,yt<128?Ne:(Ne|=(127&(yt=Ut[this.pos++]))<<21,yt<128?Ne:function(gn,qt,on){var Mn,Cn,Tn=on.buf;if(Mn=(112&(Cn=Tn[on.pos++]))>>4,Cn<128||(Mn|=(127&(Cn=Tn[on.pos++]))<<3,Cn<128)||(Mn|=(127&(Cn=Tn[on.pos++]))<<10,Cn<128)||(Mn|=(127&(Cn=Tn[on.pos++]))<<17,Cn<128)||(Mn|=(127&(Cn=Tn[on.pos++]))<<24,Cn<128)||(Mn|=(1&(Cn=Tn[on.pos++]))<<31,Cn<128))return T(gn,Mn,qt);throw new Error("Expected varint not more than 10 bytes")}(Ne|=(15&(yt=Ut[this.pos]))<<28,de,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var de=this.readVarint();return de%2==1?(de+1)/-2:de/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var de=this.readVarint()+this.pos,Ne=this.pos;return this.pos=de,de-Ne>=12&&x?function(yt,Ut,gn){return x.decode(yt.subarray(Ut,gn))}(this.buf,Ne,de):function(yt,Ut,gn){for(var qt="",on=Ut;on<gn;){var Mn,Cn,Tn,ln=yt[on],lr=null,Gr=ln>239?4:ln>223?3:ln>191?2:1;if(on+Gr>gn)break;Gr===1?ln<128&&(lr=ln):Gr===2?(192&(Mn=yt[on+1]))==128&&(lr=(31&ln)<<6|63&Mn)<=127&&(lr=null):Gr===3?(Cn=yt[on+2],(192&(Mn=yt[on+1]))==128&&(192&Cn)==128&&((lr=(15&ln)<<12|(63&Mn)<<6|63&Cn)<=2047||lr>=55296&&lr<=57343)&&(lr=null)):Gr===4&&(Cn=yt[on+2],Tn=yt[on+3],(192&(Mn=yt[on+1]))==128&&(192&Cn)==128&&(192&Tn)==128&&((lr=(15&ln)<<18|(63&Mn)<<12|(63&Cn)<<6|63&Tn)<=65535||lr>=1114112)&&(lr=null)),lr===null?(lr=65533,Gr=1):lr>65535&&(lr-=65536,qt+=String.fromCharCode(lr>>>10&1023|55296),lr=56320|1023&lr),qt+=String.fromCharCode(lr),on+=Gr}return qt}(this.buf,Ne,de)},readBytes:function(){var de=this.readVarint()+this.pos,Ne=this.buf.subarray(this.pos,de);return this.pos=de,Ne},readPackedVarint:function(de,Ne){if(this.type!==u.Bytes)return de.push(this.readVarint(Ne));var yt=P(this);for(de=de||[];this.pos<yt;)de.push(this.readVarint(Ne));return de},readPackedSVarint:function(de){if(this.type!==u.Bytes)return de.push(this.readSVarint());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readSVarint());return de},readPackedBoolean:function(de){if(this.type!==u.Bytes)return de.push(this.readBoolean());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readBoolean());return de},readPackedFloat:function(de){if(this.type!==u.Bytes)return de.push(this.readFloat());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readFloat());return de},readPackedDouble:function(de){if(this.type!==u.Bytes)return de.push(this.readDouble());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readDouble());return de},readPackedFixed32:function(de){if(this.type!==u.Bytes)return de.push(this.readFixed32());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readFixed32());return de},readPackedSFixed32:function(de){if(this.type!==u.Bytes)return de.push(this.readSFixed32());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readSFixed32());return de},readPackedFixed64:function(de){if(this.type!==u.Bytes)return de.push(this.readFixed64());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readFixed64());return de},readPackedSFixed64:function(de){if(this.type!==u.Bytes)return de.push(this.readSFixed64());var Ne=P(this);for(de=de||[];this.pos<Ne;)de.push(this.readSFixed64());return de},skip:function(de){var Ne=7&de;if(Ne===u.Varint)for(;this.buf[this.pos++]>127;);else if(Ne===u.Bytes)this.pos=this.readVarint()+this.pos;else if(Ne===u.Fixed32)this.pos+=4;else{if(Ne!==u.Fixed64)throw new Error("Unimplemented type: "+Ne);this.pos+=8}},writeTag:function(de,Ne){this.writeVarint(de<<3|Ne)},realloc:function(de){for(var Ne=this.length||16;Ne<this.pos+de;)Ne*=2;if(Ne!==this.length){var yt=new Uint8Array(Ne);yt.set(this.buf),this.buf=yt,this.length=Ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(de){this.realloc(4),Mt(this.buf,de,this.pos),this.pos+=4},writeSFixed32:function(de){this.realloc(4),Mt(this.buf,de,this.pos),this.pos+=4},writeFixed64:function(de){this.realloc(8),Mt(this.buf,-1&de,this.pos),Mt(this.buf,Math.floor(de*y),this.pos+4),this.pos+=8},writeSFixed64:function(de){this.realloc(8),Mt(this.buf,-1&de,this.pos),Mt(this.buf,Math.floor(de*y),this.pos+4),this.pos+=8},writeVarint:function(de){(de=+de||0)>268435455||de<0?function(Ne,yt){var Ut,gn;if(Ne>=0?(Ut=Ne%4294967296|0,gn=Ne/4294967296|0):(gn=~(-Ne/4294967296),4294967295^(Ut=~(-Ne%4294967296))?Ut=Ut+1|0:(Ut=0,gn=gn+1|0)),Ne>=18446744073709552e3||Ne<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");yt.realloc(10),function(qt,on,Mn){Mn.buf[Mn.pos++]=127&qt|128,qt>>>=7,Mn.buf[Mn.pos++]=127&qt|128,qt>>>=7,Mn.buf[Mn.pos++]=127&qt|128,qt>>>=7,Mn.buf[Mn.pos++]=127&qt|128,Mn.buf[Mn.pos]=127&(qt>>>=7)}(Ut,0,yt),function(qt,on){var Mn=(7&qt)<<4;on.buf[on.pos++]|=Mn|((qt>>>=3)?128:0),qt&&(on.buf[on.pos++]=127&qt|((qt>>>=7)?128:0),qt&&(on.buf[on.pos++]=127&qt|((qt>>>=7)?128:0),qt&&(on.buf[on.pos++]=127&qt|((qt>>>=7)?128:0),qt&&(on.buf[on.pos++]=127&qt|((qt>>>=7)?128:0),qt&&(on.buf[on.pos++]=127&qt)))))}(gn,yt)}(de,this):(this.realloc(4),this.buf[this.pos++]=127&de|(de>127?128:0),de<=127||(this.buf[this.pos++]=127&(de>>>=7)|(de>127?128:0),de<=127||(this.buf[this.pos++]=127&(de>>>=7)|(de>127?128:0),de<=127||(this.buf[this.pos++]=de>>>7&127))))},writeSVarint:function(de){this.writeVarint(de<0?2*-de-1:2*de)},writeBoolean:function(de){this.writeVarint(!!de)},writeString:function(de){de=String(de),this.realloc(4*de.length),this.pos++;var Ne=this.pos;this.pos=function(Ut,gn,qt){for(var on,Mn,Cn=0;Cn<gn.length;Cn++){if((on=gn.charCodeAt(Cn))>55295&&on<57344){if(!Mn){on>56319||Cn+1===gn.length?(Ut[qt++]=239,Ut[qt++]=191,Ut[qt++]=189):Mn=on;continue}if(on<56320){Ut[qt++]=239,Ut[qt++]=191,Ut[qt++]=189,Mn=on;continue}on=Mn-55296<<10|on-56320|65536,Mn=null}else Mn&&(Ut[qt++]=239,Ut[qt++]=191,Ut[qt++]=189,Mn=null);on<128?Ut[qt++]=on:(on<2048?Ut[qt++]=on>>6|192:(on<65536?Ut[qt++]=on>>12|224:(Ut[qt++]=on>>18|240,Ut[qt++]=on>>12&63|128),Ut[qt++]=on>>6&63|128),Ut[qt++]=63&on|128)}return qt}(this.buf,de,this.pos);var yt=this.pos-Ne;yt>=128&&D(Ne,yt,this),this.pos=Ne-1,this.writeVarint(yt),this.pos+=yt},writeFloat:function(de){this.realloc(4),d.write(this.buf,de,this.pos,!0,23,4),this.pos+=4},writeDouble:function(de){this.realloc(8),d.write(this.buf,de,this.pos,!0,52,8),this.pos+=8},writeBytes:function(de){var Ne=de.length;this.writeVarint(Ne),this.realloc(Ne);for(var yt=0;yt<Ne;yt++)this.buf[this.pos++]=de[yt]},writeRawMessage:function(de,Ne){this.pos++;var yt=this.pos;de(Ne,this);var Ut=this.pos-yt;Ut>=128&&D(yt,Ut,this),this.pos=yt-1,this.writeVarint(Ut),this.pos+=Ut},writeMessage:function(de,Ne,yt){this.writeTag(de,u.Bytes),this.writeRawMessage(Ne,yt)},writePackedVarint:function(de,Ne){Ne.length&&this.writeMessage(de,N,Ne)},writePackedSVarint:function(de,Ne){Ne.length&&this.writeMessage(de,$,Ne)},writePackedBoolean:function(de,Ne){Ne.length&&this.writeMessage(de,pe,Ne)},writePackedFloat:function(de,Ne){Ne.length&&this.writeMessage(de,te,Ne)},writePackedDouble:function(de,Ne){Ne.length&&this.writeMessage(de,se,Ne)},writePackedFixed32:function(de,Ne){Ne.length&&this.writeMessage(de,we,Ne)},writePackedSFixed32:function(de,Ne){Ne.length&&this.writeMessage(de,Ie,Ne)},writePackedFixed64:function(de,Ne){Ne.length&&this.writeMessage(de,Se,Ne)},writePackedSFixed64:function(de,Ne){Ne.length&&this.writeMessage(de,He,Ne)},writeBytesField:function(de,Ne){this.writeTag(de,u.Bytes),this.writeBytes(Ne)},writeFixed32Field:function(de,Ne){this.writeTag(de,u.Fixed32),this.writeFixed32(Ne)},writeSFixed32Field:function(de,Ne){this.writeTag(de,u.Fixed32),this.writeSFixed32(Ne)},writeFixed64Field:function(de,Ne){this.writeTag(de,u.Fixed64),this.writeFixed64(Ne)},writeSFixed64Field:function(de,Ne){this.writeTag(de,u.Fixed64),this.writeSFixed64(Ne)},writeVarintField:function(de,Ne){this.writeTag(de,u.Varint),this.writeVarint(Ne)},writeSVarintField:function(de,Ne){this.writeTag(de,u.Varint),this.writeSVarint(Ne)},writeStringField:function(de,Ne){this.writeTag(de,u.Bytes),this.writeString(Ne)},writeFloatField:function(de,Ne){this.writeTag(de,u.Fixed32),this.writeFloat(Ne)},writeDoubleField:function(de,Ne){this.writeTag(de,u.Fixed64),this.writeDouble(Ne)},writeBooleanField:function(de,Ne){this.writeVarintField(de,!!Ne)}},m_}var y_=f(H2());const v_=3;function ZM(d,u,h){d===1&&h.readMessage(XM,u)}function XM(d,u,h){if(d===3){const{id:y,bitmap:x,width:P,height:T,left:D,top:N,advance:$}=h.readMessage(JM,{});u.push({id:y,bitmap:new Xh({width:P+2*v_,height:T+2*v_},x),metrics:{width:P,height:T,left:D,top:N,advance:$}})}}function JM(d,u,h){d===1?u.id=h.readVarint():d===2?u.bitmap=h.readBytes():d===3?u.width=h.readVarint():d===4?u.height=h.readVarint():d===5?u.left=h.readSVarint():d===6?u.top=h.readSVarint():d===7&&(u.advance=h.readVarint())}const Z2=v_;function X2(d){let u=0,h=0;for(const T of d)u+=T.w*T.h,h=Math.max(h,T.w);d.sort((T,D)=>D.h-T.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),h),h:1/0}];let x=0,P=0;for(const T of d)for(let D=y.length-1;D>=0;D--){const N=y[D];if(!(T.w>N.w||T.h>N.h)){if(T.x=N.x,T.y=N.y,P=Math.max(P,T.y+T.h),x=Math.max(x,T.x+T.w),T.w===N.w&&T.h===N.h){const $=y.pop();D<y.length&&(y[D]=$)}else T.h===N.h?(N.x+=T.w,N.w-=T.w):T.w===N.w?(N.y+=T.h,N.h-=T.h):(y.push({x:N.x+T.w,y:N.y,w:N.w-T.w,h:T.h}),N.y+=T.h,N.h-=T.h);break}}return{w:x,h:P,fill:u/(x*P)||0}}const nA=1;class __{constructor(u,{pixelRatio:h,version:y,stretchX:x,stretchY:P,content:T,textFitWidth:D,textFitHeight:N}){this.paddedRect=u,this.pixelRatio=h,this.stretchX=x,this.stretchY=P,this.content=T,this.version=y,this.textFitWidth=D,this.textFitHeight=N}get tl(){return[this.paddedRect.x+nA,this.paddedRect.y+nA]}get br(){return[this.paddedRect.x+this.paddedRect.w-nA,this.paddedRect.y+this.paddedRect.h-nA]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*nA)/this.pixelRatio,(this.paddedRect.h-2*nA)/this.pixelRatio]}}class J2{constructor(u,h){const y={},x={};this.haveRenderCallbacks=[];const P=[];this.addImages(u,y,P),this.addImages(h,x,P);const{w:T,h:D}=X2(P),N=new Ul({width:T||1,height:D||1});for(const $ in u){const te=u[$],se=y[$].paddedRect;Ul.copy(te.data,N,{x:0,y:0},{x:se.x+nA,y:se.y+nA},te.data)}for(const $ in h){const te=h[$],se=x[$].paddedRect,pe=se.x+nA,we=se.y+nA,Ie=te.data.width,Se=te.data.height;Ul.copy(te.data,N,{x:0,y:0},{x:pe,y:we},te.data),Ul.copy(te.data,N,{x:0,y:Se-1},{x:pe,y:we-1},{width:Ie,height:1}),Ul.copy(te.data,N,{x:0,y:0},{x:pe,y:we+Se},{width:Ie,height:1}),Ul.copy(te.data,N,{x:Ie-1,y:0},{x:pe-1,y:we},{width:1,height:Se}),Ul.copy(te.data,N,{x:0,y:0},{x:pe+Ie,y:we},{width:1,height:Se})}this.image=N,this.iconPositions=y,this.patternPositions=x}addImages(u,h,y){for(const x in u){const P=u[x],T={x:0,y:0,w:P.data.width+2*nA,h:P.data.height+2*nA};y.push(T),h[x]=new __(T,P),P.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(u,h){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in u.updatedImages)this.patchUpdatedImage(this.iconPositions[y],u.getImage(y),h),this.patchUpdatedImage(this.patternPositions[y],u.getImage(y),h)}patchUpdatedImage(u,h,y){if(!u||!h||u.version===h.version)return;u.version=h.version;const[x,P]=u.tl;y.update(h.data,void 0,{x,y:P})}}var Vf;hn("ImagePosition",__),hn("ImageAtlas",J2),s.ac=void 0,(Vf=s.ac||(s.ac={}))[Vf.none=0]="none",Vf[Vf.horizontal=1]="horizontal",Vf[Vf.vertical=2]="vertical",Vf[Vf.horizontalOnly=3]="horizontalOnly";const eg=-17;class tg{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,h){const y=new tg;return y.scale=u||1,y.fontStack=h,y}static forImage(u){const h=new tg;return h.imageName=u,h}}class Nm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,h){const y=new Nm;for(let x=0;x<u.sections.length;x++){const P=u.sections[x];P.image?y.addImageSection(P):y.addTextSection(P,h)}return y}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let h="";for(let y=0;y<u.length;y++){const x=u.charCodeAt(y+1)||null,P=u.charCodeAt(y-1)||null;h+=x&&Fd(x)&&!J0[u[y+1]]||P&&Fd(P)&&!J0[u[y-1]]||!J0[u[y]]?u[y]:J0[u[y]]}return h}(this.text)}trim(){let u=0;for(let y=0;y<this.text.length&&ng[this.text.charCodeAt(y)];y++)u++;let h=this.text.length;for(let y=this.text.length-1;y>=0&&y>=u&&ng[this.text.charCodeAt(y)];y--)h--;this.text=this.text.substring(u,h),this.sectionIndex=this.sectionIndex.slice(u,h)}substring(u,h){const y=new Nm;return y.text=this.text.substring(u,h),y.sectionIndex=this.sectionIndex.slice(u,h),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,h)=>Math.max(u,this.sections[h].scale),0)}addTextSection(u,h){this.text+=u.text,this.sections.push(tg.forText(u.scale,u.fontStack||h));const y=this.sections.length-1;for(let x=0;x<u.text.length;++x)this.sectionIndex.push(y)}addImageSection(u){const h=u.image?u.image.name:"";if(h.length===0)return void Et("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(tg.forImage(h)),this.sectionIndex.push(this.sections.length-1)):Et("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Wm(d,u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie){const Se=Nm.fromFeature(d,x);let He;se===s.ac.vertical&&Se.verticalizePunctuation();const{processBidirectionalText:Ye,processStyledBidirectionalText:Mt}=CA;if(Ye&&Se.sections.length===1){He=[];const Ne=Ye(Se.toString(),C_(Se,$,P,u,y,we));for(const yt of Ne){const Ut=new Nm;Ut.text=yt,Ut.sections=Se.sections;for(let gn=0;gn<yt.length;gn++)Ut.sectionIndex.push(0);He.push(Ut)}}else if(Mt){He=[];const Ne=Mt(Se.text,Se.sectionIndex,C_(Se,$,P,u,y,we));for(const yt of Ne){const Ut=new Nm;Ut.text=yt[0],Ut.sectionIndex=yt[1],Ut.sections=Se.sections,He.push(Ut)}}else He=function(Ne,yt){const Ut=[],gn=Ne.text;let qt=0;for(const on of yt)Ut.push(Ne.substring(qt,on)),qt=on;return qt<gn.length&&Ut.push(Ne.substring(qt,gn.length)),Ut}(Se,C_(Se,$,P,u,y,we));const At=[],de={positionedLines:At,text:Se.toString(),top:te[1],bottom:te[1],left:te[0],right:te[0],writingMode:se,iconsInText:!1,verticalizable:!1};return function(Ne,yt,Ut,gn,qt,on,Mn,Cn,Tn,ln,lr,Gr){let Ir=0,xr=eg,Yi=0,Ga=0;const is=Cn==="right"?1:Cn==="left"?0:.5;let au=0;for(const Ri of qt){Ri.trim();const Mo=Ri.getMaxScale(),bl=(Mo-1)*Gs,Pu={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[au]=Pu;const Ku=Pu.positionedGlyphs;let ks=0;if(!Ri.length()){xr+=on,++au;continue}for(let rA=0;rA<Ri.length();rA++){const Co=Ri.getSection(rA),xl=Ri.getSectionIndex(rA),ka=Ri.getCharCode(rA);let Qa=0,sl=null,Jf=null,BA=null,$1=Gs;const wc=!(Tn===s.ac.horizontal||!lr&&!If(ka)||lr&&(ng[ka]||(Iu=ka,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(Iu)))));if(Co.imageName){const IA=gn[Co.imageName];if(!IA)continue;BA=Co.imageName,Ne.iconsInText=Ne.iconsInText||!0,Jf=IA.paddedRect;const wl=IA.displaySize;Co.scale=Co.scale*Gs/Gr,sl={width:wl[0],height:wl[1],left:nA,top:-Z2,advance:wc?wl[1]:wl[0]},Qa=bl+(Gs-wl[1]*Co.scale),$1=sl.advance;const Wl=wc?wl[0]*Co.scale-Gs*Mo:wl[1]*Co.scale-Gs*Mo;Wl>0&&Wl>ks&&(ks=Wl)}else{const IA=Ut[Co.fontStack],wl=IA&&IA[ka];if(wl&&wl.rect)Jf=wl.rect,sl=wl.metrics;else{const Wl=yt[Co.fontStack],Vd=Wl&&Wl[ka];if(!Vd)continue;sl=Vd.metrics}Qa=(Mo-Co.scale)*Gs}wc?(Ne.verticalizable=!0,Ku.push({glyph:ka,imageName:BA,x:Ir,y:xr+Qa,vertical:wc,scale:Co.scale,fontStack:Co.fontStack,sectionIndex:xl,metrics:sl,rect:Jf}),Ir+=$1*Co.scale+ln):(Ku.push({glyph:ka,imageName:BA,x:Ir,y:xr+Qa,vertical:wc,scale:Co.scale,fontStack:Co.fontStack,sectionIndex:xl,metrics:sl,rect:Jf}),Ir+=sl.advance*Co.scale+ln)}Ku.length!==0&&(Yi=Math.max(Ir-ln,Yi),rS(Ku,0,Ku.length-1,is,ks)),Ir=0;const VA=on*Mo+ks;Pu.lineOffset=Math.max(ks,bl),xr+=VA,Ga=Math.max(VA,Ga),++au}var Iu;const ku=xr-eg,{horizontalAlign:Cl,verticalAlign:Tu}=K1(Mn);(function(Ri,Mo,bl,Pu,Ku,ks,VA,rA,Co){const xl=(Mo-bl)*Ku;let ka=0;ka=ks!==VA?-rA*Pu-eg:(-Pu*Co+.5)*VA;for(const Qa of Ri)for(const sl of Qa.positionedGlyphs)sl.x+=xl,sl.y+=ka})(Ne.positionedLines,is,Cl,Tu,Yi,Ga,on,ku,qt.length),Ne.top+=-Tu*ku,Ne.bottom=Ne.top+ku,Ne.left+=-Cl*Yi,Ne.right=Ne.left+Yi}(de,u,h,y,He,T,D,N,se,$,pe,Ie),!function(Ne){for(const yt of Ne)if(yt.positionedGlyphs.length!==0)return!1;return!0}(At)&&de}const ng={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},eS={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},tS={40:!0};function ex(d,u,h,y,x,P){if(u.imageName){const T=y[u.imageName];return T?T.displaySize[0]*u.scale*Gs/P+x:0}{const T=h[u.fontStack],D=T&&T[d];return D?D.metrics.advance*u.scale+x:0}}function tx(d,u,h,y){const x=Math.pow(d-u,2);return y?d<u?x/2:2*x:x+Math.abs(h)*h}function nS(d,u,h){let y=0;return d===10&&(y-=1e4),h&&(y+=150),d!==40&&d!==65288||(y+=50),u!==41&&u!==65289||(y+=50),y}function nx(d,u,h,y,x,P){let T=null,D=tx(u,h,x,P);for(const N of y){const $=tx(u-N.x,h,x,P)+N.badness;$<=D&&(T=N,D=$)}return{index:d,x:u,priorBreak:T,badness:D}}function rx(d){return d?rx(d.priorBreak).concat(d.index):[]}function C_(d,u,h,y,x,P){if(!d)return[];const T=[],D=function(se,pe,we,Ie,Se,He){let Ye=0;for(let Mt=0;Mt<se.length();Mt++){const At=se.getSection(Mt);Ye+=ex(se.getCharCode(Mt),At,Ie,Se,pe,He)}return Ye/Math.max(1,Math.ceil(Ye/we))}(d,u,h,y,x,P),N=d.text.indexOf("")>=0;let $=0;for(let se=0;se<d.length();se++){const pe=d.getSection(se),we=d.getCharCode(se);if(ng[we]||($+=ex(we,pe,y,x,u,P)),se<d.length()-1){const Ie=!((te=we)<11904)&&(!!Si["CJK Compatibility Forms"](te)||!!Si["CJK Compatibility"](te)||!!Si["CJK Strokes"](te)||!!Si["CJK Symbols and Punctuation"](te)||!!Si["Enclosed CJK Letters and Months"](te)||!!Si["Halfwidth and Fullwidth Forms"](te)||!!Si["Ideographic Description Characters"](te)||!!Si["Vertical Forms"](te)||mc.test(String.fromCodePoint(te)));(eS[we]||Ie||pe.imageName||se!==d.length()-2&&tS[d.getCharCode(se+1)])&&T.push(nx(se+1,$,D,T,nS(we,d.getCharCode(se+1),Ie&&N),!1))}}var te;return rx(nx(d.length(),$,D,T,0,!0))}function K1(d){let u=.5,h=.5;switch(d){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:u,verticalAlign:h}}function rS(d,u,h,y,x){if(!y&&!x)return;const P=d[h],T=(d[h].x+P.metrics.advance*P.scale)*y;for(let D=u;D<=h;D++)d[D].x-=T,d[D].y+=x}function L1(d,u,h){const{horizontalAlign:y,verticalAlign:x}=K1(h),P=u[0]-d.displaySize[0]*y,T=u[1]-d.displaySize[1]*x;return{image:d,top:T,bottom:T+d.displaySize[1],left:P,right:P+d.displaySize[0]}}function ix(d){var u,h;let y=d.left,x=d.top,P=d.right-y,T=d.bottom-x;const D=(u=d.image.textFitWidth)!==null&&u!==void 0?u:"stretchOrShrink",N=(h=d.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",$=(d.image.content[2]-d.image.content[0])/(d.image.content[3]-d.image.content[1]);if(N==="proportional"){if(D==="stretchOnly"&&P/T<$||D==="proportional"){const te=Math.ceil(T*$);y*=te/P,P=te}}else if(D==="proportional"&&N==="stretchOnly"&&$!==0&&P/T>$){const te=Math.ceil(P/$);x*=te/T,T=te}return{x1:y,y1:x,x2:y+P,y2:x+T}}function ox(d,u,h,y,x,P){const T=d.image;let D;if(T.content){const He=T.content,Ye=T.pixelRatio||1;D=[He[0]/Ye,He[1]/Ye,T.displaySize[0]-He[2]/Ye,T.displaySize[1]-He[3]/Ye]}const N=u.left*P,$=u.right*P;let te,se,pe,we;h==="width"||h==="both"?(we=x[0]+N-y[3],se=x[0]+$+y[1]):(we=x[0]+(N+$-T.displaySize[0])/2,se=we+T.displaySize[0]);const Ie=u.top*P,Se=u.bottom*P;return h==="height"||h==="both"?(te=x[1]+Ie-y[0],pe=x[1]+Se+y[2]):(te=x[1]+(Ie+Se-T.displaySize[1])/2,pe=te+T.displaySize[1]),{image:T,top:te,right:se,bottom:pe,left:we,collisionPadding:D}}const rg=255,rd=128,Hf=rg*rd;function ax(d,u){const{expression:h}=u;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new oo(d+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:x}=h;let P=0;for(;P<y.length&&y[P]<=d;)P++;P=Math.max(0,P-1);let T=P;for(;T<y.length&&y[T]<d+1;)T++;T=Math.min(y.length-1,T);const D=y[P],N=y[T];return h.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:N,interpolationType:x}:{kind:"camera",minZoom:D,maxZoom:N,minSize:h.evaluate(new oo(D)),maxSize:h.evaluate(new oo(N)),interpolationType:x}}}function b_(d,u,h){let y="never";const x=d.get(u);return x?y=x:d.get(h)&&(y="always"),y}const iS=_a.VectorTileFeature.types,oS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function D1(d,u,h,y,x,P,T,D,N,$,te,se,pe){const we=D?Math.min(Hf,Math.round(D[0])):0,Ie=D?Math.min(Hf,Math.round(D[1])):0;d.emplaceBack(u,h,Math.round(32*y),Math.round(32*x),P,T,(we<<1)+(N?1:0),Ie,16*$,16*te,256*se,256*pe)}function x_(d,u,h){d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h),d.emplaceBack(u.x,u.y,h)}function aS(d){for(const u of d.sections)if(Km(u.text))return!0;return!1}class w_{constructor(u){this.layoutVertexArray=new G,this.indexArray=new Be,this.programConfigurations=u,this.segments=new Ge,this.dynamicLayoutVertexArray=new J,this.opacityVertexArray=new ue,this.hasVisibleVertices=!1,this.placedSymbolArray=new rh}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,h,y,x){this.isEmpty()||(y&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,$M.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,YM.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,oS,!0),this.opacityVertexBuffer.itemSize=1),(y||x)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}hn("SymbolBuffers",w_);class M_{constructor(u,h,y){this.layoutVertexArray=new u,this.layoutAttributes=h,this.indexArray=new y,this.segments=new Ge,this.collisionVertexArray=new xe}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,Y2.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}hn("CollisionBuffers",M_);class Gm{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(T=>T.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ax(this.zoom,h["text-size"]),this.iconSizeData=ax(this.zoom,h["icon-size"]);const y=this.layers[0].layout,x=y.get("symbol-sort-key"),P=y.get("symbol-z-order");this.canOverlap=b_(y,"text-overlap","text-allow-overlap")!=="never"||b_(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=P!=="viewport-y"&&!x.isConstant(),this.sortFeaturesByY=(P==="viewport-y"||P==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(T=>s.ac[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=u.sourceID}createArrays(){this.text=new w_(new yl(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new w_(new yl(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new Ju,this.lineVertexArray=new Np,this.symbolInstances=new Wd,this.textAnchorOffsets=new Lf}calculateGlyphDependencies(u,h,y,x,P){for(let T=0;T<u.length;T++)if(h[u.charCodeAt(T)]=!0,(y||x)&&P){const D=J0[u.charAt(T)];D&&(h[D.charCodeAt(0)]=!0)}}populate(u,h,y){const x=this.layers[0],P=x.layout,T=P.get("text-font"),D=P.get("text-field"),N=P.get("icon-image"),$=(D.value.kind!=="constant"||D.value.value instanceof Yr&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),te=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,se=P.get("symbol-sort-key");if(this.features=[],!$&&!te)return;const pe=h.iconDependencies,we=h.glyphDependencies,Ie=h.availableImages,Se=new oo(this.zoom);for(const{feature:He,id:Ye,index:Mt,sourceLayerIndex:At}of u){const de=x._featureFilter.needGeometry,Ne=es(He,de);if(!x._featureFilter.filter(Se,Ne,y))continue;let yt,Ut;if(de||(Ne.geometry=Ns(He)),$){const qt=x.getValueAndResolveTokens("text-field",Ne,y,Ie),on=Yr.factory(qt),Mn=this.hasRTLText=this.hasRTLText||aS(on);(!Mn||CA.getRTLTextPluginStatus()==="unavailable"||Mn&&CA.isParsed())&&(yt=VM(on,x,Ne))}if(te){const qt=x.getValueAndResolveTokens("icon-image",Ne,y,Ie);Ut=qt instanceof mr?qt:mr.fromString(qt)}if(!yt&&!Ut)continue;const gn=this.sortFeaturesByKey?se.evaluate(Ne,{},y):void 0;if(this.features.push({id:Ye,text:yt,icon:Ut,index:Mt,sourceLayerIndex:At,geometry:Ne.geometry,properties:He.properties,type:iS[He.type],sortKey:gn}),Ut&&(pe[Ut.name]=!0),yt){const qt=T.evaluate(Ne,{},y).join(","),on=P.get("text-rotation-alignment")!=="viewport"&&P.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ac.vertical)>=0;for(const Mn of yt.sections)if(Mn.image)pe[Mn.image.name]=!0;else{const Cn=Gh(yt.toString()),Tn=Mn.fontStack||qt,ln=we[Tn]=we[Tn]||{};this.calculateGlyphDependencies(Mn.text,ln,on,this.allowVerticalPlacement,Cn)}}}P.get("symbol-placement")==="line"&&(this.features=function(He){const Ye={},Mt={},At=[];let de=0;function Ne(qt){At.push(He[qt]),de++}function yt(qt,on,Mn){const Cn=Mt[qt];return delete Mt[qt],Mt[on]=Cn,At[Cn].geometry[0].pop(),At[Cn].geometry[0]=At[Cn].geometry[0].concat(Mn[0]),Cn}function Ut(qt,on,Mn){const Cn=Ye[on];return delete Ye[on],Ye[qt]=Cn,At[Cn].geometry[0].shift(),At[Cn].geometry[0]=Mn[0].concat(At[Cn].geometry[0]),Cn}function gn(qt,on,Mn){const Cn=Mn?on[0][on[0].length-1]:on[0][0];return`${qt}:${Cn.x}:${Cn.y}`}for(let qt=0;qt<He.length;qt++){const on=He[qt],Mn=on.geometry,Cn=on.text?on.text.toString():null;if(!Cn){Ne(qt);continue}const Tn=gn(Cn,Mn),ln=gn(Cn,Mn,!0);if(Tn in Mt&&ln in Ye&&Mt[Tn]!==Ye[ln]){const lr=Ut(Tn,ln,Mn),Gr=yt(Tn,ln,At[lr].geometry);delete Ye[Tn],delete Mt[ln],Mt[gn(Cn,At[Gr].geometry,!0)]=Gr,At[lr].geometry=null}else Tn in Mt?yt(Tn,ln,Mn):ln in Ye?Ut(Tn,ln,Mn):(Ne(qt),Ye[Tn]=de-1,Mt[ln]=de-1)}return At.filter(qt=>qt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((He,Ye)=>He.sortKey-Ye.sortKey)}update(u,h,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,h,this.layers,y),this.icon.programConfigurations.updatePaintArrays(u,h,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,h){const y=this.lineVertexArray.length;if(u.segment!==void 0){let x=u.dist(h[u.segment+1]),P=u.dist(h[u.segment]);const T={};for(let D=u.segment+1;D<h.length;D++)T[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:x},D<h.length-1&&(x+=h[D+1].dist(h[D]));for(let D=u.segment||0;D>=0;D--)T[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:P},D>0&&(P+=h[D-1].dist(h[D]));for(let D=0;D<h.length;D++){const N=T[D];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(u,h,y,x,P,T,D,N,$,te,se,pe){const we=u.indexArray,Ie=u.layoutVertexArray,Se=u.segments.prepareSegment(4*h.length,Ie,we,this.canOverlap?T.sortKey:void 0),He=this.glyphOffsetArray.length,Ye=Se.vertexLength,Mt=this.allowVerticalPlacement&&D===s.ac.vertical?Math.PI/2:0,At=T.text&&T.text.sections;for(let de=0;de<h.length;de++){const{tl:Ne,tr:yt,bl:Ut,br:gn,tex:qt,pixelOffsetTL:on,pixelOffsetBR:Mn,minFontScaleX:Cn,minFontScaleY:Tn,glyphOffset:ln,isSDF:lr,sectionIndex:Gr}=h[de],Ir=Se.vertexLength,xr=ln[1];D1(Ie,N.x,N.y,Ne.x,xr+Ne.y,qt.x,qt.y,y,lr,on.x,on.y,Cn,Tn),D1(Ie,N.x,N.y,yt.x,xr+yt.y,qt.x+qt.w,qt.y,y,lr,Mn.x,on.y,Cn,Tn),D1(Ie,N.x,N.y,Ut.x,xr+Ut.y,qt.x,qt.y+qt.h,y,lr,on.x,Mn.y,Cn,Tn),D1(Ie,N.x,N.y,gn.x,xr+gn.y,qt.x+qt.w,qt.y+qt.h,y,lr,Mn.x,Mn.y,Cn,Tn),x_(u.dynamicLayoutVertexArray,N,Mt),we.emplaceBack(Ir,Ir+2,Ir+1),we.emplaceBack(Ir+1,Ir+2,Ir+3),Se.vertexLength+=4,Se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ln[0]),de!==h.length-1&&Gr===h[de+1].sectionIndex||u.programConfigurations.populatePaintArrays(Ie.length,T,T.index,{},pe,At&&At[Gr])}u.placedSymbolArray.emplaceBack(N.x,N.y,He,this.glyphOffsetArray.length-He,Ye,$,te,N.segment,y?y[0]:0,y?y[1]:0,x[0],x[1],D,0,!1,0,se)}_addCollisionDebugVertex(u,h,y,x,P,T){return h.emplaceBack(0,0),u.emplaceBack(y.x,y.y,x,P,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(u,h,y,x,P,T,D){const N=P.segments.prepareSegment(4,P.layoutVertexArray,P.indexArray),$=N.vertexLength,te=P.layoutVertexArray,se=P.collisionVertexArray,pe=D.anchorX,we=D.anchorY;this._addCollisionDebugVertex(te,se,T,pe,we,new L(u,h)),this._addCollisionDebugVertex(te,se,T,pe,we,new L(y,h)),this._addCollisionDebugVertex(te,se,T,pe,we,new L(y,x)),this._addCollisionDebugVertex(te,se,T,pe,we,new L(u,x)),N.vertexLength+=4;const Ie=P.indexArray;Ie.emplaceBack($,$+1),Ie.emplaceBack($+1,$+2),Ie.emplaceBack($+2,$+3),Ie.emplaceBack($+3,$),N.primitiveLength+=4}addDebugCollisionBoxes(u,h,y,x){for(let P=u;P<h;P++){const T=this.collisionBoxArray.get(P);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,x?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new M_(re,q2.members,De),this.iconCollisionBox=new M_(re,q2.members,De);for(let u=0;u<this.symbolInstances.length;u++){const h=this.symbolInstances.get(u);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(u,h,y,x,P,T,D,N,$){const te={};for(let se=h;se<y;se++){const pe=u.get(se);te.textBox={x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,anchorPointX:pe.anchorPointX,anchorPointY:pe.anchorPointY},te.textFeatureIndex=pe.featureIndex;break}for(let se=x;se<P;se++){const pe=u.get(se);te.verticalTextBox={x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,anchorPointX:pe.anchorPointX,anchorPointY:pe.anchorPointY},te.verticalTextFeatureIndex=pe.featureIndex;break}for(let se=T;se<D;se++){const pe=u.get(se);te.iconBox={x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,anchorPointX:pe.anchorPointX,anchorPointY:pe.anchorPointY},te.iconFeatureIndex=pe.featureIndex;break}for(let se=N;se<$;se++){const pe=u.get(se);te.verticalIconBox={x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,anchorPointX:pe.anchorPointX,anchorPointY:pe.anchorPointY},te.verticalIconFeatureIndex=pe.featureIndex;break}return te}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const y=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,h){const y=u.placedSymbolArray.get(h),x=y.vertexStartIndex+4*y.numGlyphs;for(let P=y.vertexStartIndex;P<x;P+=4)u.indexArray.emplaceBack(P,P+2,P+1),u.indexArray.emplaceBack(P+1,P+2,P+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(u),y=Math.cos(u),x=[],P=[],T=[];for(let D=0;D<this.symbolInstances.length;++D){T.push(D);const N=this.symbolInstances.get(D);x.push(0|Math.round(h*N.anchorX+y*N.anchorY)),P.push(N.featureIndex)}return T.sort((D,N)=>x[D]-x[N]||P[N]-P[D]),T}addToSortKeyRanges(u,h){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===h?y.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const y=this.symbolInstances.get(h);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((x,P,T)=>{x>=0&&T.indexOf(x)===P&&this.addIndicesForPlacedSymbol(this.text,x)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let sx,S_;hn("SymbolBucket",Gm,{omit:["layers","collisionBoxArray","features","compareText"]}),Gm.MAX_GLYPHS=65535,Gm.addDynamicAttributes=x_;var F1={get paint(){return S_=S_||new Ja({"icon-opacity":new Pr(Q.paint_symbol["icon-opacity"]),"icon-color":new Pr(Q.paint_symbol["icon-color"]),"icon-halo-color":new Pr(Q.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pr(Q.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pr(Q.paint_symbol["icon-halo-blur"]),"icon-translate":new vr(Q.paint_symbol["icon-translate"]),"icon-translate-anchor":new vr(Q.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pr(Q.paint_symbol["text-opacity"]),"text-color":new Pr(Q.paint_symbol["text-color"],{runtimeType:cn,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new Pr(Q.paint_symbol["text-halo-color"]),"text-halo-width":new Pr(Q.paint_symbol["text-halo-width"]),"text-halo-blur":new Pr(Q.paint_symbol["text-halo-blur"]),"text-translate":new vr(Q.paint_symbol["text-translate"]),"text-translate-anchor":new vr(Q.paint_symbol["text-translate-anchor"])})},get layout(){return sx=sx||new Ja({"symbol-placement":new vr(Q.layout_symbol["symbol-placement"]),"symbol-spacing":new vr(Q.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new vr(Q.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pr(Q.layout_symbol["symbol-sort-key"]),"symbol-z-order":new vr(Q.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new vr(Q.layout_symbol["icon-allow-overlap"]),"icon-overlap":new vr(Q.layout_symbol["icon-overlap"]),"icon-ignore-placement":new vr(Q.layout_symbol["icon-ignore-placement"]),"icon-optional":new vr(Q.layout_symbol["icon-optional"]),"icon-rotation-alignment":new vr(Q.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pr(Q.layout_symbol["icon-size"]),"icon-text-fit":new vr(Q.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new vr(Q.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pr(Q.layout_symbol["icon-image"]),"icon-rotate":new Pr(Q.layout_symbol["icon-rotate"]),"icon-padding":new Pr(Q.layout_symbol["icon-padding"]),"icon-keep-upright":new vr(Q.layout_symbol["icon-keep-upright"]),"icon-offset":new Pr(Q.layout_symbol["icon-offset"]),"icon-anchor":new Pr(Q.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new vr(Q.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new vr(Q.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new vr(Q.layout_symbol["text-rotation-alignment"]),"text-field":new Pr(Q.layout_symbol["text-field"]),"text-font":new Pr(Q.layout_symbol["text-font"]),"text-size":new Pr(Q.layout_symbol["text-size"]),"text-max-width":new Pr(Q.layout_symbol["text-max-width"]),"text-line-height":new vr(Q.layout_symbol["text-line-height"]),"text-letter-spacing":new Pr(Q.layout_symbol["text-letter-spacing"]),"text-justify":new Pr(Q.layout_symbol["text-justify"]),"text-radial-offset":new Pr(Q.layout_symbol["text-radial-offset"]),"text-variable-anchor":new vr(Q.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Pr(Q.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Pr(Q.layout_symbol["text-anchor"]),"text-max-angle":new vr(Q.layout_symbol["text-max-angle"]),"text-writing-mode":new vr(Q.layout_symbol["text-writing-mode"]),"text-rotate":new Pr(Q.layout_symbol["text-rotate"]),"text-padding":new vr(Q.layout_symbol["text-padding"]),"text-keep-upright":new vr(Q.layout_symbol["text-keep-upright"]),"text-transform":new Pr(Q.layout_symbol["text-transform"]),"text-offset":new Pr(Q.layout_symbol["text-offset"]),"text-allow-overlap":new vr(Q.layout_symbol["text-allow-overlap"]),"text-overlap":new vr(Q.layout_symbol["text-overlap"]),"text-ignore-placement":new vr(Q.layout_symbol["text-ignore-placement"]),"text-optional":new vr(Q.layout_symbol["text-optional"])})}};class lx{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:Ft,this.defaultValue=u}evaluate(u){if(u.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(u.formattedSection))return h.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}hn("FormatSectionOverride",lx,{omit:["defaultValue"]});class R1 extends il{constructor(u){super(u,F1)}recalculate(u,h){if(super.recalculate(u,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const x=[];for(const P of y)x.indexOf(P)<0&&x.push(P);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,h,y,x){const P=this.layout.get(u).evaluate(h,{},y,x),T=this._unevaluatedLayout._values[u];return T.isDataDriven()||WA(T.value)||!P?P:function(D,N){return N.replace(/{([^{}]+)}/g,($,te)=>D&&te in D?String(D[te]):"")}(h.properties,P)}createBucket(u){return new Gm(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of F1.paint.overridableProperties){if(!R1.hasPaintOverride(this.layout,u))continue;const h=this.paint.get(u),y=new lx(h),x=new $u(y,h.property.specification);let P=null;P=h.value.kind==="constant"||h.value.kind==="source"?new Mf("source",x):new Rh("composite",x,h.value.zoomStops),this.paint._values[u]=new Os(h.property,P,h.parameters)}}_handleOverridablePaintPropertyUpdate(u,h,y){return!(!this.layout||h.isDataDriven()||y.isDataDriven())&&R1.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,h){const y=u.get("text-field"),x=F1.paint.properties[h];let P=!1;const T=D=>{for(const N of D)if(x.overrides&&x.overrides.hasOverride(N))return void(P=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Yr)T(y.value.value.sections);else if(y.value.kind==="source"){const D=$=>{P||($ instanceof dl&&Hi($.value)===rr?T($.value.sections):$ instanceof Xr?T($.sections):$.eachChild(D))},N=y.value;N._styleExpression&&D(N._styleExpression.expression)}return P}}let ux;var sS={get paint(){return ux=ux||new Ja({"background-color":new vr(Q.paint_background["background-color"]),"background-pattern":new Pf(Q.paint_background["background-pattern"]),"background-opacity":new vr(Q.paint_background["background-opacity"])})}};class U1 extends il{constructor(u){super(u,sS)}}let Ax;var lS={get paint(){return Ax=Ax||new Ja({"raster-opacity":new vr(Q.paint_raster["raster-opacity"]),"raster-hue-rotate":new vr(Q.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new vr(Q.paint_raster["raster-brightness-min"]),"raster-brightness-max":new vr(Q.paint_raster["raster-brightness-max"]),"raster-saturation":new vr(Q.paint_raster["raster-saturation"]),"raster-contrast":new vr(Q.paint_raster["raster-contrast"]),"raster-resampling":new vr(Q.paint_raster["raster-resampling"]),"raster-fade-duration":new vr(Q.paint_raster["raster-fade-duration"])})}};class uS extends il{constructor(u){super(u,lS)}}class AS extends il{constructor(u){super(u,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class cS{constructor(u){this._methodToThrottle=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const E_=63710088e-1;class Zf{constructor(u,h){if(isNaN(u)||isNaN(h))throw new Error(`Invalid LngLat object: (${u}, ${h})`);if(this.lng=+u,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Zf(_t(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const h=Math.PI/180,y=this.lat*h,x=u.lat*h,P=Math.sin(y)*Math.sin(x)+Math.cos(y)*Math.cos(x)*Math.cos((u.lng-this.lng)*h);return E_*Math.acos(Math.min(P,1))}static convert(u){if(u instanceof Zf)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new Zf(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&typeof u=="object"&&u!==null)return new Zf(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const cx=2*Math.PI*E_;function hx(d){return cx*Math.cos(d*Math.PI/180)}function dx(d){return(180+d)/360}function fx(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function ig(d,u){return d/hx(u)}function O_(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}class Qm{constructor(u,h,y=0){this.x=+u,this.y=+h,this.z=+y}static fromLngLat(u,h=0){const y=Zf.convert(u);return new Qm(dx(y.lng),fx(y.lat),ig(h,y.lat))}toLngLat(){return new Zf(360*this.x-180,O_(this.y))}toAltitude(){return this.z*hx(O_(this.y))}meterInMercatorCoordinateUnits(){return 1/cx*(u=O_(this.y),1/Math.cos(u*Math.PI/180));var u}}function B_(d,u,h){var y=2*Math.PI*6378137/256/Math.pow(2,h);return[d*y-2*Math.PI*6378137/2,u*y-2*Math.PI*6378137/2]}class og{constructor(u,h,y){if(!function(x,P,T){return!(x<0||x>25||T<0||T>=Math.pow(2,x)||P<0||P>=Math.pow(2,x))}(u,h,y))throw new Error(`x=${h}, y=${y}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=h,this.y=y,this.key=Yp(0,u,u,h,y)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,h,y){const x=(T=this.y,D=this.z,N=B_(256*(P=this.x),256*(T=Math.pow(2,D)-T-1),D),$=B_(256*(P+1),256*(T+1),D),N[0]+","+N[1]+","+$[0]+","+$[1]);var P,T,D,N,$;const te=function(se,pe,we){let Ie,Se="";for(let He=se;He>0;He--)Ie=1<<He-1,Se+=(pe&Ie?1:0)+(we&Ie?2:0);return Se}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,te).replace(/{bbox-epsg-3857}/g,x)}isChildOf(u){const h=this.z-u.z;return h>0&&u.x===this.x>>h&&u.y===this.y>>h}getTilePoint(u){const h=Math.pow(2,this.z);return new L((u.x*h-this.x)*be,(u.y*h-this.y)*be)}toString(){return`${this.z}/${this.x}/${this.y}`}}class I_{constructor(u,h){this.wrap=u,this.canonical=h,this.key=Yp(u,h.z,h.z,h.x,h.y)}}class EA{constructor(u,h,y,x,P){if(this.terrainRttPosMatrix=null,u<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${y}`);this.overscaledZ=u,this.wrap=h,this.canonical=new og(y,+x,+P),this.key=Yp(h,u,y,x,P)}clone(){return new EA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-u;return u>this.canonical.z?new EA(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new EA(u,this.wrap,u,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(u,h){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-u;return u>this.canonical.z?Yp(this.wrap*+h,u,this.canonical.z,this.canonical.x,this.canonical.y):Yp(this.wrap*+h,u,u,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const h=this.canonical.z-u.canonical.z;return u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>h&&u.canonical.y===this.canonical.y>>h}children(u){if(this.overscaledZ>=u)return[new EA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,y=2*this.canonical.x,x=2*this.canonical.y;return[new EA(h,this.wrap,h,y,x),new EA(h,this.wrap,h,y+1,x),new EA(h,this.wrap,h,y,x+1),new EA(h,this.wrap,h,y+1,x+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new EA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new EA(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new I_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new Qm(u.x-this.wrap,u.y))}}function Yp(d,u,h,y,x){(d*=2)<0&&(d=-1*d-1);const P=1<<h;return(P*P*d+P*x+y).toString(36)+h.toString(36)+u.toString(36)}hn("CanonicalTileID",og),hn("OverscaledTileID",EA,{omit:["terrainRttPosMatrix"]});class k_{constructor(u,h,y,x=1,P=1,T=1,D=0){if(this.uid=u,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void Et(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const N=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=x,this.greenFactor=P,this.blueFactor=T,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let $=0;$<N;$++)this.data[this._idx(-1,$)]=this.data[this._idx(0,$)],this.data[this._idx(N,$)]=this.data[this._idx(N-1,$)],this.data[this._idx($,-1)]=this.data[this._idx($,0)],this.data[this._idx($,N)]=this.data[this._idx($,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let $=0;$<N;$++)for(let te=0;te<N;te++){const se=this.get($,te);se>this.max&&(this.max=se),se<this.min&&(this.min=se)}}get(u,h){const y=new Uint8Array(this.data.buffer),x=4*this._idx(u,h);return this.unpack(y[x],y[x+1],y[x+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,h){if(u<-1||u>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(u+1)}unpack(u,h,y){return u*this.redFactor+h*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new Ul({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,h,y){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let x=h*this.dim,P=h*this.dim+this.dim,T=y*this.dim,D=y*this.dim+this.dim;switch(h){case-1:x=P-1;break;case 1:P=x+1}switch(y){case-1:T=D-1;break;case 1:D=T+1}const N=-h*this.dim,$=-y*this.dim;for(let te=T;te<D;te++)for(let se=x;se<P;se++)this.data[this._idx(se,te)]=u.data[this._idx(se+N,te+$)]}}hn("DEMData",k_);class px{constructor(u){this._stringToNumber={},this._numberToString=[];for(let h=0;h<u.length;h++){const y=u[h];this._stringToNumber[y]=h,this._numberToString[h]=y}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class mx{constructor(u,h,y,x,P){this.type="Feature",this._vectorTileFeature=u,u._z=h,u._x=y,u._y=x,this.properties=u.properties,this.id=P}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(u[h]=this[h]);return u}}class gx{constructor(u,h){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new Da(be,16,0),this.grid3D=new Da(be,16,0),this.featureIndexArray=new O,this.promoteId=h}insert(u,h,y,x,P,T){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,x,P);const N=T?this.grid3D:this.grid;for(let $=0;$<h.length;$++){const te=h[$],se=[1/0,1/0,-1/0,-1/0];for(let pe=0;pe<te.length;pe++){const we=te[pe];se[0]=Math.min(se[0],we.x),se[1]=Math.min(se[1],we.y),se[2]=Math.max(se[2],we.x),se[3]=Math.max(se[3],we.y)}se[0]<be&&se[1]<be&&se[2]>=0&&se[3]>=0&&N.insert(D,se[0],se[1],se[2],se[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new _a.VectorTile(new y_(this.rawTileData)).layers,this.sourceLayerCoder=new px(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,h,y,x){this.loadVTLayers();const P=u.params||{},T=be/u.tileSize/u.scale,D=Xl(P.filter),N=u.queryGeometry,$=u.queryPadding*T,te=sg(N),se=this.grid.query(te.minX-$,te.minY-$,te.maxX+$,te.maxY+$),pe=sg(u.cameraQueryGeometry),we=this.grid3D.query(pe.minX-$,pe.minY-$,pe.maxX+$,pe.maxY+$,(He,Ye,Mt,At)=>function(de,Ne,yt,Ut,gn){for(const on of de)if(Ne<=on.x&&yt<=on.y&&Ut>=on.x&&gn>=on.y)return!0;const qt=[new L(Ne,yt),new L(Ne,gn),new L(Ut,gn),new L(Ut,yt)];if(de.length>2){for(const on of qt)if(ah(de,on))return!0}for(let on=0;on<de.length-1;on++)if(sh(de[on],de[on+1],qt))return!0;return!1}(u.cameraQueryGeometry,He-$,Ye-$,Mt+$,At+$));for(const He of we)se.push(He);se.sort(hS);const Ie={};let Se;for(let He=0;He<se.length;He++){const Ye=se[He];if(Ye===Se)continue;Se=Ye;const Mt=this.featureIndexArray.get(Ye);let At=null;this.loadMatchingFeature(Ie,Mt.bucketIndex,Mt.sourceLayerIndex,Mt.featureIndex,D,P.layers,P.availableImages,h,y,x,(de,Ne,yt)=>(At||(At=Ns(de)),Ne.queryIntersectsFeature(N,de,yt,At,this.z,u.transform,T,u.pixelPosMatrix)))}return Ie}loadMatchingFeature(u,h,y,x,P,T,D,N,$,te,se){const pe=this.bucketLayerIDs[h];if(T&&!function(He,Ye){for(let Mt=0;Mt<He.length;Mt++)if(Ye.indexOf(He[Mt])>=0)return!0;return!1}(T,pe))return;const we=this.sourceLayerCoder.decode(y),Ie=this.vtLayers[we].feature(x);if(P.needGeometry){const He=es(Ie,!0);if(!P.filter(new oo(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!P.filter(new oo(this.tileID.overscaledZ),Ie))return;const Se=this.getId(Ie,we);for(let He=0;He<pe.length;He++){const Ye=pe[He];if(T&&T.indexOf(Ye)<0)continue;const Mt=N[Ye];if(!Mt)continue;let At={};Se&&te&&(At=te.getState(Mt.sourceLayer||"_geojsonTileLayer",Se));const de=ft({},$[Ye]);de.paint=ag(de.paint,Mt.paint,Ie,At,D),de.layout=ag(de.layout,Mt.layout,Ie,At,D);const Ne=!se||se(Ie,Mt,At);if(!Ne)continue;const yt=new mx(Ie,this.z,this.x,this.y,Se);yt.layer=de;let Ut=u[Ye];Ut===void 0&&(Ut=u[Ye]=[]),Ut.push({featureIndex:x,feature:yt,intersectionZ:Ne})}}lookupSymbolFeatures(u,h,y,x,P,T,D,N){const $={};this.loadVTLayers();const te=Xl(P);for(const se of u)this.loadMatchingFeature($,y,x,se,te,T,D,N,h);return $}hasLayer(u){for(const h of this.bucketLayerIDs)for(const y of h)if(u===y)return!0;return!1}getId(u,h){let y=u.id;return this.promoteId&&(y=u.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof y=="boolean"&&(y=Number(y))),y}}function ag(d,u,h,y,x){return et(d,(P,T)=>{const D=u instanceof Xu?u.get(T):null;return D&&D.evaluate?D.evaluate(h,y,x):D})}function sg(d){let u=1/0,h=1/0,y=-1/0,x=-1/0;for(const P of d)u=Math.min(u,P.x),h=Math.min(h,P.y),y=Math.max(y,P.x),x=Math.max(x,P.y);return{minX:u,minY:h,maxX:y,maxY:x}}function hS(d,u){return u-d}function yx(d,u,h,y,x){const P=[];for(let T=0;T<d.length;T++){const D=d[T];let N;for(let $=0;$<D.length-1;$++){let te=D[$],se=D[$+1];te.x<u&&se.x<u||(te.x<u?te=new L(u,te.y+(u-te.x)/(se.x-te.x)*(se.y-te.y))._round():se.x<u&&(se=new L(u,te.y+(u-te.x)/(se.x-te.x)*(se.y-te.y))._round()),te.y<h&&se.y<h||(te.y<h?te=new L(te.x+(h-te.y)/(se.y-te.y)*(se.x-te.x),h)._round():se.y<h&&(se=new L(te.x+(h-te.y)/(se.y-te.y)*(se.x-te.x),h)._round()),te.x>=y&&se.x>=y||(te.x>=y?te=new L(y,te.y+(y-te.x)/(se.x-te.x)*(se.y-te.y))._round():se.x>=y&&(se=new L(y,te.y+(y-te.x)/(se.x-te.x)*(se.y-te.y))._round()),te.y>=x&&se.y>=x||(te.y>=x?te=new L(te.x+(x-te.y)/(se.y-te.y)*(se.x-te.x),x)._round():se.y>=x&&(se=new L(te.x+(x-te.y)/(se.y-te.y)*(se.x-te.x),x)._round()),N&&te.equals(N[N.length-1])||(N=[te],P.push(N)),N.push(se)))))}}return P}hn("FeatureIndex",gx,{omit:["rawTileData","sourceLayerCoder"]});class id extends L{constructor(u,h,y,x){super(u,h),this.angle=y,x!==void 0&&(this.segment=x)}clone(){return new id(this.x,this.y,this.angle,this.segment)}}function T_(d,u,h,y,x){if(u.segment===void 0||h===0)return!0;let P=u,T=u.segment+1,D=0;for(;D>-h/2;){if(T--,T<0)return!1;D-=d[T].dist(P),P=d[T]}D+=d[T].dist(d[T+1]),T++;const N=[];let $=0;for(;D<h/2;){const te=d[T],se=d[T+1];if(!se)return!1;let pe=d[T-1].angleTo(te)-te.angleTo(se);for(pe=Math.abs((pe+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:D,angleDelta:pe}),$+=pe;D-N[0].distance>y;)$-=N.shift().angleDelta;if($>x)return!1;T++,D+=te.dist(se)}return!0}function vx(d){let u=0;for(let h=0;h<d.length-1;h++)u+=d[h].dist(d[h+1]);return u}function _x(d,u,h){return d?.6*u*h:0}function Cx(d,u){return Math.max(d?d.right-d.left:0,u?u.right-u.left:0)}function dS(d,u,h,y,x,P){const T=_x(h,x,P),D=Cx(h,y)*P;let N=0;const $=vx(d)/2;for(let te=0;te<d.length-1;te++){const se=d[te],pe=d[te+1],we=se.dist(pe);if(N+we>$){const Ie=($-N)/we,Se=gr.number(se.x,pe.x,Ie),He=gr.number(se.y,pe.y,Ie),Ye=new id(Se,He,pe.angleTo(se),te);return Ye._round(),!T||T_(d,Ye,D,T,u)?Ye:void 0}N+=we}}function fS(d,u,h,y,x,P,T,D,N){const $=_x(y,P,T),te=Cx(y,x),se=te*T,pe=d[0].x===0||d[0].x===N||d[0].y===0||d[0].y===N;return u-se<u/4&&(u=se+u/4),bx(d,pe?u/2*D%u:(te/2+2*P)*T*D%u,u,$,h,se,pe,!1,N)}function bx(d,u,h,y,x,P,T,D,N){const $=P/2,te=vx(d);let se=0,pe=u-h,we=[];for(let Ie=0;Ie<d.length-1;Ie++){const Se=d[Ie],He=d[Ie+1],Ye=Se.dist(He),Mt=He.angleTo(Se);for(;pe+h<se+Ye;){pe+=h;const At=(pe-se)/Ye,de=gr.number(Se.x,He.x,At),Ne=gr.number(Se.y,He.y,At);if(de>=0&&de<N&&Ne>=0&&Ne<N&&pe-$>=0&&pe+$<=te){const yt=new id(de,Ne,Mt,Ie);yt._round(),y&&!T_(d,yt,P,y,x)||we.push(yt)}}se+=Ye}return D||we.length||T||(we=bx(d,se/2,h,y,x,P,T,!0,N)),we}hn("Anchor",id);const $m=nA;function xx(d,u,h,y){const x=[],P=d.image,T=P.pixelRatio,D=P.paddedRect.w-2*$m,N=P.paddedRect.h-2*$m;let $={x1:d.left,y1:d.top,x2:d.right,y2:d.bottom};const te=P.stretchX||[[0,D]],se=P.stretchY||[[0,N]],pe=(ln,lr)=>ln+lr[1]-lr[0],we=te.reduce(pe,0),Ie=se.reduce(pe,0),Se=D-we,He=N-Ie;let Ye=0,Mt=we,At=0,de=Ie,Ne=0,yt=Se,Ut=0,gn=He;if(P.content&&y){const ln=P.content,lr=ln[2]-ln[0],Gr=ln[3]-ln[1];(P.textFitWidth||P.textFitHeight)&&($=ix(d)),Ye=z1(te,0,ln[0]),At=z1(se,0,ln[1]),Mt=z1(te,ln[0],ln[2]),de=z1(se,ln[1],ln[3]),Ne=ln[0]-Ye,Ut=ln[1]-At,yt=lr-Mt,gn=Gr-de}const qt=$.x1,on=$.y1,Mn=$.x2-qt,Cn=$.y2-on,Tn=(ln,lr,Gr,Ir)=>{const xr=j1(ln.stretch-Ye,Mt,Mn,qt),Yi=N1(ln.fixed-Ne,yt,ln.stretch,we),Ga=j1(lr.stretch-At,de,Cn,on),is=N1(lr.fixed-Ut,gn,lr.stretch,Ie),au=j1(Gr.stretch-Ye,Mt,Mn,qt),Iu=N1(Gr.fixed-Ne,yt,Gr.stretch,we),ku=j1(Ir.stretch-At,de,Cn,on),Cl=N1(Ir.fixed-Ut,gn,Ir.stretch,Ie),Tu=new L(xr,Ga),Ri=new L(au,Ga),Mo=new L(au,ku),bl=new L(xr,ku),Pu=new L(Yi/T,is/T),Ku=new L(Iu/T,Cl/T),ks=u*Math.PI/180;if(ks){const Co=Math.sin(ks),xl=Math.cos(ks),ka=[xl,-Co,Co,xl];Tu._matMult(ka),Ri._matMult(ka),bl._matMult(ka),Mo._matMult(ka)}const VA=ln.stretch+ln.fixed,rA=lr.stretch+lr.fixed;return{tl:Tu,tr:Ri,bl,br:Mo,tex:{x:P.paddedRect.x+$m+VA,y:P.paddedRect.y+$m+rA,w:Gr.stretch+Gr.fixed-VA,h:Ir.stretch+Ir.fixed-rA},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Pu,pixelOffsetBR:Ku,minFontScaleX:yt/T/Mn,minFontScaleY:gn/T/Cn,isSDF:h}};if(y&&(P.stretchX||P.stretchY)){const ln=wx(te,Se,we),lr=wx(se,He,Ie);for(let Gr=0;Gr<ln.length-1;Gr++){const Ir=ln[Gr],xr=ln[Gr+1];for(let Yi=0;Yi<lr.length-1;Yi++)x.push(Tn(Ir,lr[Yi],xr,lr[Yi+1]))}}else x.push(Tn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:N+1}));return x}function z1(d,u,h){let y=0;for(const x of d)y+=Math.max(u,Math.min(h,x[1]))-Math.max(u,Math.min(h,x[0]));return y}function wx(d,u,h){const y=[{fixed:-$m,stretch:0}];for(const[x,P]of d){const T=y[y.length-1];y.push({fixed:x-T.stretch,stretch:T.stretch}),y.push({fixed:x-T.stretch,stretch:T.stretch+(P-x)})}return y.push({fixed:u+$m,stretch:h}),y}function j1(d,u,h,y){return d/u*h+y}function N1(d,u,h,y){return d-u*h/y}class OA{constructor(u,h,y,x,P,T,D,N,$,te){var se;if(this.boxStartIndex=u.length,$){let pe=T.top,we=T.bottom;const Ie=T.collisionPadding;Ie&&(pe-=Ie[1],we+=Ie[3]);let Se=we-pe;Se>0&&(Se=Math.max(10,Se),this.circleDiameter=Se)}else{const pe=!((se=T.image)===null||se===void 0)&&se.content&&(T.image.textFitWidth||T.image.textFitHeight)?ix(T):{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom};pe.y1=pe.y1*D-N[0],pe.y2=pe.y2*D+N[2],pe.x1=pe.x1*D-N[3],pe.x2=pe.x2*D+N[1];const we=T.collisionPadding;if(we&&(pe.x1-=we[0]*D,pe.y1-=we[1]*D,pe.x2+=we[2]*D,pe.y2+=we[3]*D),te){const Ie=new L(pe.x1,pe.y1),Se=new L(pe.x2,pe.y1),He=new L(pe.x1,pe.y2),Ye=new L(pe.x2,pe.y2),Mt=te*Math.PI/180;Ie._rotate(Mt),Se._rotate(Mt),He._rotate(Mt),Ye._rotate(Mt),pe.x1=Math.min(Ie.x,Se.x,He.x,Ye.x),pe.x2=Math.max(Ie.x,Se.x,He.x,Ye.x),pe.y1=Math.min(Ie.y,Se.y,He.y,Ye.y),pe.y2=Math.max(Ie.y,Se.y,He.y,Ye.y)}u.emplaceBack(h.x,h.y,pe.x1,pe.y1,pe.x2,pe.y2,y,x,P)}this.boxEndIndex=u.length}}class pS{constructor(u=[],h=(y,x)=>y<x?-1:y>x?1:0){if(this.data=u,this.length=this.data.length,this.compare=h,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:h,compare:y}=this,x=h[u];for(;u>0;){const P=u-1>>1,T=h[P];if(y(x,T)>=0)break;h[u]=T,u=P}h[u]=x}_down(u){const{data:h,compare:y}=this,x=this.length>>1,P=h[u];for(;u<x;){let T=1+(u<<1);const D=T+1;if(D<this.length&&y(h[D],h[T])<0&&(T=D),y(h[T],P)>=0)break;h[u]=h[T],u=T}h[u]=P}}function mS(d,u=1,h=!1){let y=1/0,x=1/0,P=-1/0,T=-1/0;const D=d[0];for(let we=0;we<D.length;we++){const Ie=D[we];(!we||Ie.x<y)&&(y=Ie.x),(!we||Ie.y<x)&&(x=Ie.y),(!we||Ie.x>P)&&(P=Ie.x),(!we||Ie.y>T)&&(T=Ie.y)}const N=Math.min(P-y,T-x);let $=N/2;const te=new pS([],qp);if(N===0)return new L(y,x);for(let we=y;we<P;we+=N)for(let Ie=x;Ie<T;Ie+=N)te.push(new _i(we+$,Ie+$,$,d));let se=function(we){let Ie=0,Se=0,He=0;const Ye=we[0];for(let Mt=0,At=Ye.length,de=At-1;Mt<At;de=Mt++){const Ne=Ye[Mt],yt=Ye[de],Ut=Ne.x*yt.y-yt.x*Ne.y;Se+=(Ne.x+yt.x)*Ut,He+=(Ne.y+yt.y)*Ut,Ie+=3*Ut}return new _i(Se/Ie,He/Ie,0,we)}(d),pe=te.length;for(;te.length;){const we=te.pop();(we.d>se.d||!se.d)&&(se=we,h&&console.log("found best %d after %d probes",Math.round(1e4*we.d)/1e4,pe)),we.max-se.d<=u||($=we.h/2,te.push(new _i(we.p.x-$,we.p.y-$,$,d)),te.push(new _i(we.p.x+$,we.p.y-$,$,d)),te.push(new _i(we.p.x-$,we.p.y+$,$,d)),te.push(new _i(we.p.x+$,we.p.y+$,$,d)),pe+=4)}return h&&(console.log(`num probes: ${pe}`),console.log(`best distance: ${se.d}`)),se.p}function qp(d,u){return u.max-d.max}function _i(d,u,h,y){this.p=new L(d,u),this.h=h,this.d=function(x,P){let T=!1,D=1/0;for(let N=0;N<P.length;N++){const $=P[N];for(let te=0,se=$.length,pe=se-1;te<se;pe=te++){const we=$[te],Ie=$[pe];we.y>x.y!=Ie.y>x.y&&x.x<(Ie.x-we.x)*(x.y-we.y)/(Ie.y-we.y)+we.x&&(T=!T),D=Math.min(D,vl(x,we,Ie))}}return(T?1:-1)*Math.sqrt(D)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Nl;s.aq=void 0,(Nl=s.aq||(s.aq={}))[Nl.center=1]="center",Nl[Nl.left=2]="left",Nl[Nl.right=3]="right",Nl[Nl.top=4]="top",Nl[Nl.bottom=5]="bottom",Nl[Nl["top-left"]=6]="top-left",Nl[Nl["top-right"]=7]="top-right",Nl[Nl["bottom-left"]=8]="bottom-left",Nl[Nl["bottom-right"]=9]="bottom-right";const Qs=7,ms=Number.POSITIVE_INFINITY;function Mx(d,u){return u[1]!==ms?function(h,y,x){let P=0,T=0;switch(y=Math.abs(y),x=Math.abs(x),h){case"top-right":case"top-left":case"top":T=x-Qs;break;case"bottom-right":case"bottom-left":case"bottom":T=-x+Qs}switch(h){case"top-right":case"bottom-right":case"right":P=-y;break;case"top-left":case"bottom-left":case"left":P=y}return[P,T]}(d,u[0],u[1]):function(h,y){let x=0,P=0;y<0&&(y=0);const T=y/Math.SQRT2;switch(h){case"top-right":case"top-left":P=T-Qs;break;case"bottom-right":case"bottom-left":P=-T+Qs;break;case"bottom":P=-y+Qs;break;case"top":P=y-Qs}switch(h){case"top-right":case"bottom-right":x=-T;break;case"top-left":case"bottom-left":x=T;break;case"left":x=y;break;case"right":x=-y}return[x,P]}(d,u[0])}function qd(d,u,h){var y;const x=d.layout,P=(y=x.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(u,{},h);if(P){const D=P.values,N=[];for(let $=0;$<D.length;$+=2){const te=N[$]=D[$],se=D[$+1].map(pe=>pe*Gs);te.startsWith("top")?se[1]-=Qs:te.startsWith("bottom")&&(se[1]+=Qs),N[$+1]=se}return new la(N)}const T=x.get("text-variable-anchor");if(T){let D;D=d._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[x.get("text-radial-offset").evaluate(u,{},h)*Gs,ms]:x.get("text-offset").evaluate(u,{},h).map($=>$*Gs);const N=[];for(const $ of T)N.push($,Mx($,D));return new la(N)}return null}function P_(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gS(d,u,h,y,x,P,T,D,N,$,te,se){let pe=P.textMaxSize.evaluate(u,{});pe===void 0&&(pe=T);const we=d.layers[0].layout,Ie=we.get("icon-offset").evaluate(u,{},te),Se=Ex(h.horizontal),He=T/24,Ye=d.tilePixelRatio*He,Mt=d.tilePixelRatio*pe/24,At=d.tilePixelRatio*D,de=d.tilePixelRatio*we.get("symbol-spacing"),Ne=we.get("text-padding")*d.tilePixelRatio,yt=function(Gr,Ir,xr,Yi=1){const Ga=Gr.get("icon-padding").evaluate(Ir,{},xr),is=Ga&&Ga.values;return[is[0]*Yi,is[1]*Yi,is[2]*Yi,is[3]*Yi]}(we,u,te,d.tilePixelRatio),Ut=we.get("text-max-angle")/180*Math.PI,gn=we.get("text-rotation-alignment")!=="viewport"&&we.get("symbol-placement")!=="point",qt=we.get("icon-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point",on=we.get("symbol-placement"),Mn=de/2,Cn=we.get("icon-text-fit");let Tn;y&&Cn!=="none"&&(d.allowVerticalPlacement&&h.vertical&&(Tn=ox(y,h.vertical,Cn,we.get("icon-text-fit-padding"),Ie,He)),Se&&(y=ox(y,Se,Cn,we.get("icon-text-fit-padding"),Ie,He)));const ln=te?se.line.getGranularityForZoomLevel(te.z):1,lr=(Gr,Ir)=>{Ir.x<0||Ir.x>=be||Ir.y<0||Ir.y>=be||function(xr,Yi,Ga,is,au,Iu,ku,Cl,Tu,Ri,Mo,bl,Pu,Ku,ks,VA,rA,Co,xl,ka,Qa,sl,Jf,BA,$1){const wc=xr.addToLineVertexArray(Yi,Ga);let IA,wl,Wl,Vd,Ox=0,Bx=0,Ix=0,kx=0,Y1=-1,q1=-1;const Hd={};let Tx=In("");if(xr.allowVerticalPlacement&&is.vertical){const su=Cl.layout.get("text-rotate").evaluate(Qa,{},BA)+90;Wl=new OA(Tu,Yi,Ri,Mo,bl,is.vertical,Pu,Ku,ks,su),ku&&(Vd=new OA(Tu,Yi,Ri,Mo,bl,ku,rA,Co,ks,su))}if(au){const su=Cl.layout.get("icon-rotate").evaluate(Qa,{}),HA=Cl.layout.get("icon-text-fit")!=="none",Vp=xx(au,su,Jf,HA),hh=ku?xx(ku,su,Jf,HA):void 0;wl=new OA(Tu,Yi,Ri,Mo,bl,au,rA,Co,!1,su),Ox=4*Vp.length;const Hp=xr.iconSizeData;let od=null;Hp.kind==="source"?(od=[rd*Cl.layout.get("icon-size").evaluate(Qa,{})],od[0]>Hf&&Et(`${xr.layerIds[0]}: Value for "icon-size" is >= ${rg}. Reduce your "icon-size".`)):Hp.kind==="composite"&&(od=[rd*sl.compositeIconSizes[0].evaluate(Qa,{},BA),rd*sl.compositeIconSizes[1].evaluate(Qa,{},BA)],(od[0]>Hf||od[1]>Hf)&&Et(`${xr.layerIds[0]}: Value for "icon-size" is >= ${rg}. Reduce your "icon-size".`)),xr.addSymbols(xr.icon,Vp,od,ka,xl,Qa,s.ac.none,Yi,wc.lineStartIndex,wc.lineLength,-1,BA),Y1=xr.icon.placedSymbolArray.length-1,hh&&(Bx=4*hh.length,xr.addSymbols(xr.icon,hh,od,ka,xl,Qa,s.ac.vertical,Yi,wc.lineStartIndex,wc.lineLength,-1,BA),q1=xr.icon.placedSymbolArray.length-1)}const Px=Object.keys(is.horizontal);for(const su of Px){const HA=is.horizontal[su];if(!IA){Tx=In(HA.text);const hh=Cl.layout.get("text-rotate").evaluate(Qa,{},BA);IA=new OA(Tu,Yi,Ri,Mo,bl,HA,Pu,Ku,ks,hh)}const Vp=HA.positionedLines.length===1;if(Ix+=Sx(xr,Yi,HA,Iu,Cl,ks,Qa,VA,wc,is.vertical?s.ac.horizontal:s.ac.horizontalOnly,Vp?Px:[su],Hd,Y1,sl,BA),Vp)break}is.vertical&&(kx+=Sx(xr,Yi,is.vertical,Iu,Cl,ks,Qa,VA,wc,s.ac.vertical,["vertical"],Hd,q1,sl,BA));const _S=IA?IA.boxStartIndex:xr.collisionBoxArray.length,CS=IA?IA.boxEndIndex:xr.collisionBoxArray.length,bS=Wl?Wl.boxStartIndex:xr.collisionBoxArray.length,xS=Wl?Wl.boxEndIndex:xr.collisionBoxArray.length,wS=wl?wl.boxStartIndex:xr.collisionBoxArray.length,MS=wl?wl.boxEndIndex:xr.collisionBoxArray.length,SS=Vd?Vd.boxStartIndex:xr.collisionBoxArray.length,ES=Vd?Vd.boxEndIndex:xr.collisionBoxArray.length;let ch=-1;const V1=(su,HA)=>su&&su.circleDiameter?Math.max(su.circleDiameter,HA):HA;ch=V1(IA,ch),ch=V1(Wl,ch),ch=V1(wl,ch),ch=V1(Vd,ch);const Kx=ch>-1?1:0;Kx&&(ch*=$1/Gs),xr.glyphOffsetArray.length>=Gm.MAX_GLYPHS&&Et("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Qa.sortKey!==void 0&&xr.addToSortKeyRanges(xr.symbolInstances.length,Qa.sortKey);const OS=qd(Cl,Qa,BA),[BS,IS]=function(su,HA){const Vp=su.length,hh=HA==null?void 0:HA.values;if((hh==null?void 0:hh.length)>0)for(let Hp=0;Hp<hh.length;Hp+=2){const od=hh[Hp+1];su.emplaceBack(s.aq[hh[Hp]],od[0],od[1])}return[Vp,su.length]}(xr.textAnchorOffsets,OS);xr.symbolInstances.emplaceBack(Yi.x,Yi.y,Hd.right>=0?Hd.right:-1,Hd.center>=0?Hd.center:-1,Hd.left>=0?Hd.left:-1,Hd.vertical||-1,Y1,q1,Tx,_S,CS,bS,xS,wS,MS,SS,ES,Ri,Ix,kx,Ox,Bx,Kx,0,Pu,ch,BS,IS)}(d,Ir,Gr,h,y,x,Tn,d.layers[0],d.collisionBoxArray,u.index,u.sourceLayerIndex,d.index,Ye,[Ne,Ne,Ne,Ne],gn,N,At,yt,qt,Ie,u,P,$,te,T)};if(on==="line")for(const Gr of yx(u.geometry,0,0,be,be)){const Ir=Z(Gr,ln),xr=fS(Ir,de,Ut,h.vertical||Se,y,24,Mt,d.overscaling,be);for(const Yi of xr)Se&&yS(d,Se.text,Mn,Yi)||lr(Ir,Yi)}else if(on==="line-center"){for(const Gr of u.geometry)if(Gr.length>1){const Ir=Z(Gr,ln),xr=dS(Ir,Ut,h.vertical||Se,y,24,Mt);xr&&lr(Ir,xr)}}else if(u.type==="Polygon")for(const Gr of zc(u.geometry,0)){const Ir=mS(Gr,16);lr(Z(Gr[0],ln,!0),new id(Ir.x,Ir.y,0))}else if(u.type==="LineString")for(const Gr of u.geometry){const Ir=Z(Gr,ln);lr(Ir,new id(Ir[0].x,Ir[0].y,0))}else if(u.type==="Point")for(const Gr of u.geometry)for(const Ir of Gr)lr([Ir],new id(Ir.x,Ir.y,0))}function Sx(d,u,h,y,x,P,T,D,N,$,te,se,pe,we,Ie){const Se=function(Mt,At,de,Ne,yt,Ut,gn,qt){const on=Ne.layout.get("text-rotate").evaluate(Ut,{})*Math.PI/180,Mn=[];for(const Cn of At.positionedLines)for(const Tn of Cn.positionedGlyphs){if(!Tn.rect)continue;const ln=Tn.rect||{};let lr=Z2+1,Gr=!0,Ir=1,xr=0;const Yi=(yt||qt)&&Tn.vertical,Ga=Tn.metrics.advance*Tn.scale/2;if(qt&&At.verticalizable&&(xr=Cn.lineOffset/2-(Tn.imageName?-(Gs-Tn.metrics.width*Tn.scale)/2:(Tn.scale-1)*Gs)),Tn.imageName){const Co=gn[Tn.imageName];Gr=Co.sdf,Ir=Co.pixelRatio,lr=nA/Ir}const is=yt?[Tn.x+Ga,Tn.y]:[0,0];let au=yt?[0,0]:[Tn.x+Ga+de[0],Tn.y+de[1]-xr],Iu=[0,0];Yi&&(Iu=au,au=[0,0]);const ku=Tn.metrics.isDoubleResolution?2:1,Cl=(Tn.metrics.left-lr)*Tn.scale-Ga+au[0],Tu=(-Tn.metrics.top-lr)*Tn.scale+au[1],Ri=Cl+ln.w/ku*Tn.scale/Ir,Mo=Tu+ln.h/ku*Tn.scale/Ir,bl=new L(Cl,Tu),Pu=new L(Ri,Tu),Ku=new L(Cl,Mo),ks=new L(Ri,Mo);if(Yi){const Co=new L(-Ga,Ga-eg),xl=-Math.PI/2,ka=Gs/2-Ga,Qa=new L(5-eg-ka,-(Tn.imageName?ka:0)),sl=new L(...Iu);bl._rotateAround(xl,Co)._add(Qa)._add(sl),Pu._rotateAround(xl,Co)._add(Qa)._add(sl),Ku._rotateAround(xl,Co)._add(Qa)._add(sl),ks._rotateAround(xl,Co)._add(Qa)._add(sl)}if(on){const Co=Math.sin(on),xl=Math.cos(on),ka=[xl,-Co,Co,xl];bl._matMult(ka),Pu._matMult(ka),Ku._matMult(ka),ks._matMult(ka)}const VA=new L(0,0),rA=new L(0,0);Mn.push({tl:bl,tr:Pu,bl:Ku,br:ks,tex:ln,writingMode:At.writingMode,glyphOffset:is,sectionIndex:Tn.sectionIndex,isSDF:Gr,pixelOffsetTL:VA,pixelOffsetBR:rA,minFontScaleX:0,minFontScaleY:0})}return Mn}(0,h,D,x,P,T,y,d.allowVerticalPlacement),He=d.textSizeData;let Ye=null;He.kind==="source"?(Ye=[rd*x.layout.get("text-size").evaluate(T,{})],Ye[0]>Hf&&Et(`${d.layerIds[0]}: Value for "text-size" is >= ${rg}. Reduce your "text-size".`)):He.kind==="composite"&&(Ye=[rd*we.compositeTextSizes[0].evaluate(T,{},Ie),rd*we.compositeTextSizes[1].evaluate(T,{},Ie)],(Ye[0]>Hf||Ye[1]>Hf)&&Et(`${d.layerIds[0]}: Value for "text-size" is >= ${rg}. Reduce your "text-size".`)),d.addSymbols(d.text,Se,Ye,D,P,T,$,u,N.lineStartIndex,N.lineLength,pe,Ie);for(const Mt of te)se[Mt]=d.text.placedSymbolArray.length-1;return 4*Se.length}function Ex(d){for(const u in d)return d[u];return null}function yS(d,u,h,y){const x=d.compareText;if(u in x){const P=x[u];for(let T=P.length-1;T>=0;T--)if(y.dist(P[T])<h)return!0}else x[u]=[];return x[u].push(y),!1}const W1=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class K_{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,y]=new Uint8Array(u,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const x=y>>4;if(x!==1)throw new Error(`Got v${x} data when expected v1.`);const P=W1[15&y];if(!P)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(u,2,1),[D]=new Uint32Array(u,4,1);return new K_(D,T,P,u)}constructor(u,h=64,y=Float64Array,x){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=y,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const P=W1.indexOf(this.ArrayType),T=2*u*this.ArrayType.BYTES_PER_ELEMENT,D=u*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-D%8)%8;if(P<0)throw new Error(`Unexpected typed array class: ${y}.`);x&&x instanceof ArrayBuffer?(this.data=x,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+D+N,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+T+D+N),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+D+N,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+P]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=u)}add(u,h){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=u,this.coords[this._pos++]=h,y}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return Ah(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,h,y,x){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:P,coords:T,nodeSize:D}=this,N=[0,P.length-1,0],$=[];for(;N.length;){const te=N.pop()||0,se=N.pop()||0,pe=N.pop()||0;if(se-pe<=D){for(let He=pe;He<=se;He++){const Ye=T[2*He],Mt=T[2*He+1];Ye>=u&&Ye<=y&&Mt>=h&&Mt<=x&&$.push(P[He])}continue}const we=pe+se>>1,Ie=T[2*we],Se=T[2*we+1];Ie>=u&&Ie<=y&&Se>=h&&Se<=x&&$.push(P[we]),(te===0?u<=Ie:h<=Se)&&(N.push(pe),N.push(we-1),N.push(1-te)),(te===0?y>=Ie:x>=Se)&&(N.push(we+1),N.push(se),N.push(1-te))}return $}within(u,h,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:P,nodeSize:T}=this,D=[0,x.length-1,0],N=[],$=y*y;for(;D.length;){const te=D.pop()||0,se=D.pop()||0,pe=D.pop()||0;if(se-pe<=T){for(let He=pe;He<=se;He++)gs(P[2*He],P[2*He+1],u,h)<=$&&N.push(x[He]);continue}const we=pe+se>>1,Ie=P[2*we],Se=P[2*we+1];gs(Ie,Se,u,h)<=$&&N.push(x[we]),(te===0?u-y<=Ie:h-y<=Se)&&(D.push(pe),D.push(we-1),D.push(1-te)),(te===0?u+y>=Ie:h+y>=Se)&&(D.push(we+1),D.push(se),D.push(1-te))}return N}}function Ah(d,u,h,y,x,P){if(x-y<=h)return;const T=y+x>>1;L_(d,u,T,y,x,P),Ah(d,u,h,y,T-1,1-P),Ah(d,u,h,T+1,x,1-P)}function L_(d,u,h,y,x,P){for(;x>y;){if(x-y>600){const $=x-y+1,te=h-y+1,se=Math.log($),pe=.5*Math.exp(2*se/3),we=.5*Math.sqrt(se*pe*($-pe)/$)*(te-$/2<0?-1:1);L_(d,u,h,Math.max(y,Math.floor(h-te*pe/$+we)),Math.min(x,Math.floor(h+($-te)*pe/$+we)),P)}const T=u[2*h+P];let D=y,N=x;for(Xf(d,u,y,h),u[2*x+P]>T&&Xf(d,u,y,x);D<N;){for(Xf(d,u,D,N),D++,N--;u[2*D+P]<T;)D++;for(;u[2*N+P]>T;)N--}u[2*y+P]===T?Xf(d,u,y,N):(N++,Xf(d,u,N,x)),N<=h&&(y=N+1),h<=N&&(x=N-1)}}function Xf(d,u,h,y){Wa(d,h,y),Wa(u,2*h,2*y),Wa(u,2*h+1,2*y+1)}function Wa(d,u,h){const y=d[u];d[u]=d[h],d[h]=y}function gs(d,u,h,y){const x=d-h,P=u-y;return x*x+P*P}var G1;s.bz=void 0,(G1=s.bz||(s.bz={})).create="create",G1.load="load",G1.fullLoad="fullLoad";let Q1=null,lg=[];const D_=1e3/60,F_="loadTime",R_="fullLoadTime",vS={mark(d){performance.mark(d)},frame(d){const u=d;Q1!=null&&lg.push(u-Q1),Q1=u},clearMetrics(){Q1=null,lg=[],performance.clearMeasures(F_),performance.clearMeasures(R_);for(const d in s.bz)performance.clearMarks(s.bz[d])},getPerformanceMetrics(){performance.measure(F_,s.bz.create,s.bz.load),performance.measure(R_,s.bz.create,s.bz.fullLoad);const d=performance.getEntriesByName(F_)[0].duration,u=performance.getEntriesByName(R_)[0].duration,h=lg.length,y=1/(lg.reduce((P,T)=>P+T,0)/h/1e3),x=lg.filter(P=>P>D_).reduce((P,T)=>P+(T-D_)/D_,0);return{loadTime:d,fullLoadTime:u,fps:y,percentDroppedFrames:x/(h+x)*100,totalFrames:h}}};s.$=ze,s.A=H,s.B=pc,s.C=function(d){if(Le==null){const u=d.navigator?d.navigator.userAgent:null;Le=!!d.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return Le},s.D=vr,s.E=Pe,s.F=class{constructor(d,u){this.target=d,this.mapId=u,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new cS(()=>this.process()),this.subscription=function(h,y,x,P){return h.addEventListener(y,x,!1),{unsubscribe:()=>{h.removeEventListener(y,x,!1)}}}(this.target,"message",h=>this.receive(h)),this.globalScope=Jt(self)?d:window}registerMessageHandler(d,u){this.messageHandlers[d]=u}sendAsync(d,u){return new Promise((h,y)=>{const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[x]={resolve:h,reject:y},u&&u.signal.addEventListener("abort",()=>{delete this.resolveRejects[x];const D={id:x,type:"<cancel>",origin:location.origin,targetMapId:d.targetMapId,sourceMapId:this.mapId};this.target.postMessage(D)},{once:!0});const P=[],T=Object.assign(Object.assign({},d),{id:x,sourceMapId:this.mapId,origin:location.origin,data:ml(d.data,P)});this.target.postMessage(T,{transfer:P})})}receive(d){const u=d.data,h=u.id;if(!(u.origin!=="file://"&&location.origin!=="file://"&&u.origin!=="resource://android"&&location.origin!=="resource://android"&&u.origin!==location.origin||u.targetMapId&&this.mapId!==u.targetMapId)){if(u.type==="<cancel>"){delete this.tasks[h];const y=this.abortControllers[h];return delete this.abortControllers[h],void(y&&y.abort())}if(Jt(self)||u.mustQueue)return this.tasks[h]=u,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,u)}}process(){if(this.taskQueue.length===0)return;const d=this.taskQueue.shift(),u=this.tasks[d];delete this.tasks[d],this.taskQueue.length>0&&this.invoker.trigger(),u&&this.processTask(d,u)}processTask(d,u){return a(this,void 0,void 0,function*(){if(u.type==="<response>"){const x=this.resolveRejects[d];return delete this.resolveRejects[d],x?void(u.error?x.reject(Dd(u.error)):x.resolve(Dd(u.data))):void 0}if(!this.messageHandlers[u.type])return void this.completeTask(d,new Error(`Could not find a registered handler for ${u.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=Dd(u.data),y=new AbortController;this.abortControllers[d]=y;try{const x=yield this.messageHandlers[u.type](u.sourceMapId,h,y);this.completeTask(d,null,x)}catch(x){this.completeTask(d,x)}})}completeTask(d,u,h){const y=[];delete this.abortControllers[d];const x={id:d,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:u?ml(u):null,data:ml(h,y)};this.target.postMessage(x,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.G=nr,s.H=function(){var d=new H(16);return H!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},s.I=__,s.J=function(d,u,h){var y,x,P,T,D,N,$,te,se,pe,we,Ie,Se=h[0],He=h[1],Ye=h[2];return u===d?(d[12]=u[0]*Se+u[4]*He+u[8]*Ye+u[12],d[13]=u[1]*Se+u[5]*He+u[9]*Ye+u[13],d[14]=u[2]*Se+u[6]*He+u[10]*Ye+u[14],d[15]=u[3]*Se+u[7]*He+u[11]*Ye+u[15]):(x=u[1],P=u[2],T=u[3],D=u[4],N=u[5],$=u[6],te=u[7],se=u[8],pe=u[9],we=u[10],Ie=u[11],d[0]=y=u[0],d[1]=x,d[2]=P,d[3]=T,d[4]=D,d[5]=N,d[6]=$,d[7]=te,d[8]=se,d[9]=pe,d[10]=we,d[11]=Ie,d[12]=y*Se+D*He+se*Ye+u[12],d[13]=x*Se+N*He+pe*Ye+u[13],d[14]=P*Se+$*He+we*Ye+u[14],d[15]=T*Se+te*He+Ie*Ye+u[15]),d},s.K=function(d,u,h){var y=h[0],x=h[1],P=h[2];return d[0]=u[0]*y,d[1]=u[1]*y,d[2]=u[2]*y,d[3]=u[3]*y,d[4]=u[4]*x,d[5]=u[5]*x,d[6]=u[6]*x,d[7]=u[7]*x,d[8]=u[8]*P,d[9]=u[9]*P,d[10]=u[10]*P,d[11]=u[11]*P,d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},s.L=function(d,u,h){var y=u[0],x=u[1],P=u[2],T=u[3],D=u[4],N=u[5],$=u[6],te=u[7],se=u[8],pe=u[9],we=u[10],Ie=u[11],Se=u[12],He=u[13],Ye=u[14],Mt=u[15],At=h[0],de=h[1],Ne=h[2],yt=h[3];return d[0]=At*y+de*D+Ne*se+yt*Se,d[1]=At*x+de*N+Ne*pe+yt*He,d[2]=At*P+de*$+Ne*we+yt*Ye,d[3]=At*T+de*te+Ne*Ie+yt*Mt,d[4]=(At=h[4])*y+(de=h[5])*D+(Ne=h[6])*se+(yt=h[7])*Se,d[5]=At*x+de*N+Ne*pe+yt*He,d[6]=At*P+de*$+Ne*we+yt*Ye,d[7]=At*T+de*te+Ne*Ie+yt*Mt,d[8]=(At=h[8])*y+(de=h[9])*D+(Ne=h[10])*se+(yt=h[11])*Se,d[9]=At*x+de*N+Ne*pe+yt*He,d[10]=At*P+de*$+Ne*we+yt*Ye,d[11]=At*T+de*te+Ne*Ie+yt*Mt,d[12]=(At=h[12])*y+(de=h[13])*D+(Ne=h[14])*se+(yt=h[15])*Se,d[13]=At*x+de*N+Ne*pe+yt*He,d[14]=At*P+de*$+Ne*we+yt*Ye,d[15]=At*T+de*te+Ne*Ie+yt*Mt,d},s.M=function(d,u){const h={};for(let y=0;y<u.length;y++){const x=u[y];x in d&&(h[x]=d[x])}return h},s.N=Zf,s.O=dx,s.P=L,s.Q=fx,s.R=Ul,s.S=EA,s.T=Tf,s.U=ne,s.V=ce,s.W=Qe,s.X=be,s.Y=Qm,s.Z=og,s._=a,s.a=Wt,s.a$=function(d,u){const h=Ue(d,2*Math.PI),y=Ue(u,2*Math.PI);return Math.min(Math.abs(h-y),Math.abs(h-y+2*Math.PI),Math.abs(h-y-2*Math.PI))},s.a0=d=>{const u=window.document.createElement("video");return u.muted=!0,new Promise(h=>{u.onloadstart=()=>{h(u)};for(const y of d){const x=window.document.createElement("source");_r(y)||(u.crossOrigin="Anonymous"),x.src=y,u.appendChild(x)}})},s.a1=function(){return $e++},s.a2=nh,s.a3=Gm,s.a4=Xl,s.a5=es,s.a6=mx,s.a7=function(d){const u={};if(d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,y,x,P)=>{const T=x||P;return u[y]=!T||T.toLowerCase(),""}),u["max-age"]){const h=parseInt(u["max-age"],10);isNaN(h)?delete u["max-age"]:u["max-age"]=h}return u},s.a8=function(d,u){const h=[];for(const y in d)y in u||h.push(y);return h},s.a9=St,s.aA=function(d,u,h){return d[0]=u[0]*h[0],d[1]=u[1]*h[1],d[2]=u[2]*h[2],d[3]=u[3]*h[3],d},s.aB=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]+d[3]*u[3]},s.aC=I_,s.aD=ig,s.aE=Yp,s.aF=function(d,u,h,y,x){var P,T=1/Math.tan(u/2);return d[0]=T/h,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=T,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,x!=null&&x!==1/0?(d[10]=(x+y)*(P=1/(y-x)),d[14]=2*x*y*P):(d[10]=-1,d[14]=-2*y),d},s.aG=function(d){var u=new H(16);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=d[6],u[7]=d[7],u[8]=d[8],u[9]=d[9],u[10]=d[10],u[11]=d[11],u[12]=d[12],u[13]=d[13],u[14]=d[14],u[15]=d[15],u},s.aH=function(d,u,h){var y=Math.sin(h),x=Math.cos(h),P=u[4],T=u[5],D=u[6],N=u[7],$=u[8],te=u[9],se=u[10],pe=u[11];return u!==d&&(d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[4]=P*x+$*y,d[5]=T*x+te*y,d[6]=D*x+se*y,d[7]=N*x+pe*y,d[8]=$*x-P*y,d[9]=te*x-T*y,d[10]=se*x-D*y,d[11]=pe*x-N*y,d},s.aI=function(){const d=new Float64Array(16);return X(d),d},s.aJ=function(){return new Float64Array(16)},s.aK=function(d){return d*Math.PI/180},s.aL=Pt,s.aM=zr,s.aN=M,s.aO=w,s.aP=A,s.aQ=me,s.aR=Ve,s.aS=function(d,u,h,y,x){return me(y,x,St((d-u)/(h-u),0,1))},s.aT=Ue,s.aU=function(){return new Float64Array(4)},s.aV=function(){return new Float64Array(3)},s.aW=function(d,u){const h=Ue(d,360),y=Ue(u,360),x=y-h,P=y>h?x-360:x+360;return Math.abs(x)<Math.abs(P)?x:P},s.aX=function(d,u,h){var y=Math.sin(h),x=Math.cos(h),P=u[0],T=u[1],D=u[2],N=u[3],$=u[8],te=u[9],se=u[10],pe=u[11];return u!==d&&(d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=P*x-$*y,d[1]=T*x-te*y,d[2]=D*x-se*y,d[3]=N*x-pe*y,d[8]=P*y+$*x,d[9]=T*y+te*x,d[10]=D*y+se*x,d[11]=N*y+pe*x,d},s.aY=function(d,u,h,y){const x=Math.sqrt(d*d+u*u),P=Math.sqrt(h*h+y*y);d/=x,u/=x,h/=P,y/=P;const T=Math.acos(d*h+u*y);return-u*h+d*y>0?T:-T},s.aZ=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]+d[3]},s.a_=E_,s.aa=function(d,u,h){var y=Math.sin(h),x=Math.cos(h),P=u[0],T=u[1],D=u[2],N=u[3],$=u[4],te=u[5],se=u[6],pe=u[7];return u!==d&&(d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=P*x+$*y,d[1]=T*x+te*y,d[2]=D*x+se*y,d[3]=N*x+pe*y,d[4]=$*x-P*y,d[5]=te*x-T*y,d[6]=se*x-D*y,d[7]=pe*x-N*y,d},s.ab=function(d,u){let h=0,y=0;if(d.kind==="constant")y=d.layoutSize;else if(d.kind!=="source"){const{interpolationType:x,minZoom:P,maxZoom:T}=d,D=x?St(li.interpolationFactor(x,u,P,T),0,1):0;d.kind==="camera"?y=gr.number(d.minSize,d.maxSize,D):h=D}return{uSizeT:h,uSize:y}},s.ad=function(d,{uSize:u,uSizeT:h},{lowerSize:y,upperSize:x}){return d.kind==="source"?y/rd:d.kind==="composite"?gr.number(y/rd,x/rd,h):u},s.ae=x_,s.af=Me,s.ag=function(d,u,h,y){const x=u.y-d.y,P=u.x-d.x,T=y.y-h.y,D=y.x-h.x,N=T*P-D*x;if(N===0)return null;const $=(D*(d.y-h.y)-T*(d.x-h.x))/N;return new L(d.x+$*P,d.y+$*x)},s.ah=function(d,u){var h=u[0],y=u[1],x=u[2],P=u[3],T=u[4],D=u[5],N=u[6],$=u[7],te=u[8],se=u[9],pe=u[10],we=u[11],Ie=u[12],Se=u[13],He=u[14],Ye=u[15],Mt=h*D-y*T,At=h*N-x*T,de=h*$-P*T,Ne=y*N-x*D,yt=y*$-P*D,Ut=x*$-P*N,gn=te*Se-se*Ie,qt=te*He-pe*Ie,on=te*Ye-we*Ie,Mn=se*He-pe*Se,Cn=se*Ye-we*Se,Tn=pe*Ye-we*He,ln=Mt*Tn-At*Cn+de*Mn+Ne*on-yt*qt+Ut*gn;return ln?(d[0]=(D*Tn-N*Cn+$*Mn)*(ln=1/ln),d[1]=(x*Cn-y*Tn-P*Mn)*ln,d[2]=(Se*Ut-He*yt+Ye*Ne)*ln,d[3]=(pe*yt-se*Ut-we*Ne)*ln,d[4]=(N*on-T*Tn-$*qt)*ln,d[5]=(h*Tn-x*on+P*qt)*ln,d[6]=(He*de-Ie*Ut-Ye*At)*ln,d[7]=(te*Ut-pe*de+we*At)*ln,d[8]=(T*Cn-D*on+$*gn)*ln,d[9]=(y*on-h*Cn-P*gn)*ln,d[10]=(Ie*yt-Se*de+Ye*Mt)*ln,d[11]=(se*de-te*yt-we*Mt)*ln,d[12]=(D*qt-T*Mn-N*gn)*ln,d[13]=(h*Mn-y*qt+x*gn)*ln,d[14]=(Se*At-Ie*Ne-He*Mt)*ln,d[15]=(te*Ne-se*At+pe*Mt)*ln,d):null},s.ai=_t,s.aj=X,s.ak=yx,s.al=Ws,s.am=function(d){let u=1/0,h=1/0,y=-1/0,x=-1/0;for(const P of d)u=Math.min(u,P.x),h=Math.min(h,P.y),y=Math.max(y,P.x),x=Math.max(x,P.y);return[u,h,y,x]},s.an=Gs,s.ao=Fe,s.ap=function(d,u,h,y,x=!1){if(!h[0]&&!h[1])return[0,0];const P=x?y==="map"?d.angle:0:y==="viewport"?-d.angle:0;if(P){const T=Math.sin(P),D=Math.cos(P);h=[h[0]*D-h[1]*T,h[0]*T+h[1]*D]}return[x?h[0]:Fe(u,h[0],d.zoom),x?h[1]:Fe(u,h[1],d.zoom)]},s.ar=b_,s.as=P_,s.at=K1,s.au=K_,s.av=vo,s.aw=g,s.ax=l,s.ay=Ge,s.az=Be,s.b=ye,s.b0=function(){const d={},u=Q.$version;for(const h in Q.$root){const y=Q.$root[h];if(y.required){let x=null;x=h==="version"?u:y.type==="array"?[]:{},x!=null&&(d[h]=x)}}return d},s.b1=Pm,s.b2=tr,s.b3=function(d){d=d.slice();const u=Object.create(null);for(let h=0;h<d.length;h++)u[d[h].id]=d[h];for(let h=0;h<d.length;h++)"ref"in d[h]&&(d[h]=Re(d[h],u[d[h].ref]));return d},s.b4=function(d){if(d.type==="custom")return new AS(d);switch(d.type){case"background":return new U1(d);case"circle":return new Uf(d);case"fill":return new sn(d);case"fill-extrusion":return new Cc(d);case"heatmap":return new Wp(d);case"hillshade":return new d_(d);case"line":return new xc(d);case"raster":return new uS(d);case"symbol":return new R1(d)}},s.b5=en,s.b6=function(d,u){if(!d)return[{command:"setStyle",args:[u]}];let h=[];try{if(!ut(d.version,u.version))return[{command:"setStyle",args:[u]}];ut(d.center,u.center)||h.push({command:"setCenter",args:[u.center]}),ut(d.zoom,u.zoom)||h.push({command:"setZoom",args:[u.zoom]}),ut(d.bearing,u.bearing)||h.push({command:"setBearing",args:[u.bearing]}),ut(d.pitch,u.pitch)||h.push({command:"setPitch",args:[u.pitch]}),ut(d.sprite,u.sprite)||h.push({command:"setSprite",args:[u.sprite]}),ut(d.glyphs,u.glyphs)||h.push({command:"setGlyphs",args:[u.glyphs]}),ut(d.transition,u.transition)||h.push({command:"setTransition",args:[u.transition]}),ut(d.light,u.light)||h.push({command:"setLight",args:[u.light]}),ut(d.terrain,u.terrain)||h.push({command:"setTerrain",args:[u.terrain]}),ut(d.sky,u.sky)||h.push({command:"setSky",args:[u.sky]}),ut(d.projection,u.projection)||h.push({command:"setProjection",args:[u.projection]});const y={},x=[];(function(T,D,N,$){let te;for(te in D=D||{},T=T||{})Object.prototype.hasOwnProperty.call(T,te)&&(Object.prototype.hasOwnProperty.call(D,te)||ar(te,N,$));for(te in D)Object.prototype.hasOwnProperty.call(D,te)&&(Object.prototype.hasOwnProperty.call(T,te)?ut(T[te],D[te])||(T[te].type==="geojson"&&D[te].type==="geojson"&&Ee(T,D,te)?Tt(N,{command:"setGeoJSONSourceData",args:[te,D[te].data]}):ht(te,D,N,$)):jt(te,D,N))})(d.sources,u.sources,x,y);const P=[];d.layers&&d.layers.forEach(T=>{"source"in T&&y[T.source]?h.push({command:"removeLayer",args:[T.id]}):P.push(T)}),h=h.concat(x),function(T,D,N){D=D||[];const $=(T=T||[]).map(p),te=D.map(p),se=T.reduce(Ke,{}),pe=D.reduce(Ke,{}),we=$.slice(),Ie=Object.create(null);let Se,He,Ye,Mt,At;for(let de=0,Ne=0;de<$.length;de++)Se=$[de],Object.prototype.hasOwnProperty.call(pe,Se)?Ne++:(Tt(N,{command:"removeLayer",args:[Se]}),we.splice(we.indexOf(Se,Ne),1));for(let de=0,Ne=0;de<te.length;de++)Se=te[te.length-1-de],we[we.length-1-de]!==Se&&(Object.prototype.hasOwnProperty.call(se,Se)?(Tt(N,{command:"removeLayer",args:[Se]}),we.splice(we.lastIndexOf(Se,we.length-Ne),1)):Ne++,Mt=we[we.length-de],Tt(N,{command:"addLayer",args:[pe[Se],Mt]}),we.splice(we.length-de,0,Se),Ie[Se]=!0);for(let de=0;de<te.length;de++)if(Se=te[de],He=se[Se],Ye=pe[Se],!Ie[Se]&&!ut(He,Ye))if(ut(He.source,Ye.source)&&ut(He["source-layer"],Ye["source-layer"])&&ut(He.type,Ye.type)){for(At in ve(He.layout,Ye.layout,N,Se,null,"setLayoutProperty"),ve(He.paint,Ye.paint,N,Se,null,"setPaintProperty"),ut(He.filter,Ye.filter)||Tt(N,{command:"setFilter",args:[Se,Ye.filter]}),ut(He.minzoom,Ye.minzoom)&&ut(He.maxzoom,Ye.maxzoom)||Tt(N,{command:"setLayerZoomRange",args:[Se,Ye.minzoom,Ye.maxzoom]}),He)Object.prototype.hasOwnProperty.call(He,At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?ve(He[At],Ye[At],N,Se,At.slice(6),"setPaintProperty"):ut(He[At],Ye[At])||Tt(N,{command:"setLayerProperty",args:[Se,At,Ye[At]]}));for(At in Ye)Object.prototype.hasOwnProperty.call(Ye,At)&&!Object.prototype.hasOwnProperty.call(He,At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?ve(He[At],Ye[At],N,Se,At.slice(6),"setPaintProperty"):ut(He[At],Ye[At])||Tt(N,{command:"setLayerProperty",args:[Se,At,Ye[At]]}))}else Tt(N,{command:"removeLayer",args:[Se]}),Mt=we[we.lastIndexOf(Se)+1],Tt(N,{command:"addLayer",args:[Ye,Mt]})}(P,u.layers,h)}catch(y){console.warn("Unable to compute style diff:",y),h=[{command:"setStyle",args:[u]}]}return h},s.b7=function(d){const u=[],h=d.id;return h===void 0&&u.push({message:`layers.${h}: missing required property "id"`}),d.render===void 0&&u.push({message:`layers.${h}: missing required method "render"`}),d.renderingMode&&d.renderingMode!=="2d"&&d.renderingMode!=="3d"&&u.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),u},s.b8=function d(u,h){if(Array.isArray(u)){if(!Array.isArray(h)||u.length!==h.length)return!1;for(let y=0;y<u.length;y++)if(!d(u[y],h[y]))return!1;return!0}if(typeof u=="object"&&u!==null&&h!==null){if(typeof h!="object"||Object.keys(u).length!==Object.keys(h).length)return!1;for(const y in u)if(!d(u[y],h[y]))return!1;return!0}return u===h},s.b9=et,s.bA=_n,s.bB=function(d,u){Wt.REGISTERED_PROTOCOLS[d]=u},s.bC=function(d){delete Wt.REGISTERED_PROTOCOLS[d]},s.bD=function(d,u){const h={};for(let x=0;x<d.length;x++){const P=u&&u[d[x].id]||hc(d[x]);u&&(u[d[x].id]=P);let T=h[P];T||(T=h[P]=[]),T.push(d[x])}const y=[];for(const x in h)y.push(h[x]);return y},s.bE=hn,s.bF=px,s.bG=gx,s.bH=J2,s.bI=function(d){d.bucket.createArrays(),d.bucket.tilePixelRatio=be/(512*d.bucket.overscaling),d.bucket.compareText={},d.bucket.iconsNeedLinear=!1;const u=d.bucket.layers[0],h=u.layout,y=u._unevaluatedLayout._values,x={layoutIconSize:y["icon-size"].possiblyEvaluate(new oo(d.bucket.zoom+1),d.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new oo(d.bucket.zoom+1),d.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new oo(18))};if(d.bucket.textSizeData.kind==="composite"){const{minZoom:$,maxZoom:te}=d.bucket.textSizeData;x.compositeTextSizes=[y["text-size"].possiblyEvaluate(new oo($),d.canonical),y["text-size"].possiblyEvaluate(new oo(te),d.canonical)]}if(d.bucket.iconSizeData.kind==="composite"){const{minZoom:$,maxZoom:te}=d.bucket.iconSizeData;x.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new oo($),d.canonical),y["icon-size"].possiblyEvaluate(new oo(te),d.canonical)]}const P=h.get("text-line-height")*Gs,T=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",D=h.get("text-keep-upright"),N=h.get("text-size");for(const $ of d.bucket.features){const te=h.get("text-font").evaluate($,{},d.canonical).join(","),se=N.evaluate($,{},d.canonical),pe=x.layoutTextSize.evaluate($,{},d.canonical),we=x.layoutIconSize.evaluate($,{},d.canonical),Ie={horizontal:{},vertical:void 0},Se=$.text;let He,Ye=[0,0];if(Se){const de=Se.toString(),Ne=h.get("text-letter-spacing").evaluate($,{},d.canonical)*Gs,yt=Bf(de)?Ne:0,Ut=h.get("text-anchor").evaluate($,{},d.canonical),gn=qd(u,$,d.canonical);if(!gn){const Cn=h.get("text-radial-offset").evaluate($,{},d.canonical);Ye=Cn?Mx(Ut,[Cn*Gs,ms]):h.get("text-offset").evaluate($,{},d.canonical).map(Tn=>Tn*Gs)}let qt=T?"center":h.get("text-justify").evaluate($,{},d.canonical);const on=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate($,{},d.canonical)*Gs:1/0,Mn=()=>{d.bucket.allowVerticalPlacement&&Gh(de)&&(Ie.vertical=Wm(Se,d.glyphMap,d.glyphPositions,d.imagePositions,te,on,P,Ut,"left",yt,Ye,s.ac.vertical,!0,pe,se))};if(!T&&gn){const Cn=new Set;if(qt==="auto")for(let ln=0;ln<gn.values.length;ln+=2)Cn.add(P_(gn.values[ln]));else Cn.add(qt);let Tn=!1;for(const ln of Cn)if(!Ie.horizontal[ln])if(Tn)Ie.horizontal[ln]=Ie.horizontal[0];else{const lr=Wm(Se,d.glyphMap,d.glyphPositions,d.imagePositions,te,on,P,"center",ln,yt,Ye,s.ac.horizontal,!1,pe,se);lr&&(Ie.horizontal[ln]=lr,Tn=lr.positionedLines.length===1)}Mn()}else{qt==="auto"&&(qt=P_(Ut));const Cn=Wm(Se,d.glyphMap,d.glyphPositions,d.imagePositions,te,on,P,Ut,qt,yt,Ye,s.ac.horizontal,!1,pe,se);Cn&&(Ie.horizontal[qt]=Cn),Mn(),Gh(de)&&T&&D&&(Ie.vertical=Wm(Se,d.glyphMap,d.glyphPositions,d.imagePositions,te,on,P,Ut,qt,yt,Ye,s.ac.vertical,!1,pe,se))}}let Mt=!1;if($.icon&&$.icon.name){const de=d.imageMap[$.icon.name];de&&(He=L1(d.imagePositions[$.icon.name],h.get("icon-offset").evaluate($,{},d.canonical),h.get("icon-anchor").evaluate($,{},d.canonical)),Mt=!!de.sdf,d.bucket.sdfIcons===void 0?d.bucket.sdfIcons=Mt:d.bucket.sdfIcons!==Mt&&Et("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(de.pixelRatio!==d.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(d.bucket.iconsNeedLinear=!0))}const At=Ex(Ie.horizontal)||Ie.vertical;d.bucket.iconsInText=!!At&&At.iconsInText,(At||He)&&gS(d.bucket,$,Ie,He,d.imageMap,x,pe,we,Ye,Mt,d.canonical,d.subdivisionGranularity)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},s.bJ=p_,s.bK=Ze,s.bL=za,s.bM=_a,s.bN=y_,s.bO=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return d.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},s.bP=function(d,u,h,y,x){return a(this,void 0,void 0,function*(){if(ce())try{return yield Qe(d,u,h,y,x)}catch{}return function(P,T,D,N,$){const te=P.width,se=P.height;st&&lt||(st=new OffscreenCanvas(te,se),lt=st.getContext("2d",{willReadFrequently:!0})),st.width=te,st.height=se,lt.drawImage(P,0,0,te,se);const pe=lt.getImageData(T,D,N,$);return lt.clearRect(0,0,te,se),pe.data}(d,u,h,y,x)})},s.bQ=k_,s.bR=f,s.bS=B,s.bT=rs,s.bU=H2,s.bV=function(d){return d.message===Kt},s.bW=so,s.bX=CA,s.ba=nt,s.bb=class extends Ei{constructor(d,u){super(d,u),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},s.bc=class extends Ei{constructor(d,u){super(d,u),this.current=ta}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let u=1;u<16;u++)if(d[u]!==this.current[u]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},s.bd=Rr,s.be=Kr,s.bf=class extends Ei{constructor(d,u){super(d,u),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},s.bg=class extends Ei{constructor(d,u){super(d,u),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},s.bh=function(d,u,h,y,x,P,T){var D=1/(u-h),N=1/(y-x),$=1/(P-T);return d[0]=-2*D,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*N,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*$,d[11]=0,d[12]=(u+h)*D,d[13]=(x+y)*N,d[14]=(T+P)*$,d[15]=1,d},s.bi=class extends Fa{},s.bj=qM,s.bk=class extends Vh{},s.bl=lh,s.bm=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},s.bn=Y0,s.bo=class extends zp{},s.bp=class extends vc{},s.bq=function(d,u){return d[0]===u[0]&&d[1]===u[1]&&d[2]===u[2]&&d[3]===u[3]&&d[4]===u[4]&&d[5]===u[5]&&d[6]===u[6]&&d[7]===u[7]&&d[8]===u[8]&&d[9]===u[9]&&d[10]===u[10]&&d[11]===u[11]&&d[12]===u[12]&&d[13]===u[13]&&d[14]===u[14]&&d[15]===u[15]},s.br=function(d,u){var h=d[0],y=d[1],x=d[2],P=d[3],T=d[4],D=d[5],N=d[6],$=d[7],te=d[8],se=d[9],pe=d[10],we=d[11],Ie=d[12],Se=d[13],He=d[14],Ye=d[15],Mt=u[0],At=u[1],de=u[2],Ne=u[3],yt=u[4],Ut=u[5],gn=u[6],qt=u[7],on=u[8],Mn=u[9],Cn=u[10],Tn=u[11],ln=u[12],lr=u[13],Gr=u[14],Ir=u[15];return Math.abs(h-Mt)<=fe*Math.max(1,Math.abs(h),Math.abs(Mt))&&Math.abs(y-At)<=fe*Math.max(1,Math.abs(y),Math.abs(At))&&Math.abs(x-de)<=fe*Math.max(1,Math.abs(x),Math.abs(de))&&Math.abs(P-Ne)<=fe*Math.max(1,Math.abs(P),Math.abs(Ne))&&Math.abs(T-yt)<=fe*Math.max(1,Math.abs(T),Math.abs(yt))&&Math.abs(D-Ut)<=fe*Math.max(1,Math.abs(D),Math.abs(Ut))&&Math.abs(N-gn)<=fe*Math.max(1,Math.abs(N),Math.abs(gn))&&Math.abs($-qt)<=fe*Math.max(1,Math.abs($),Math.abs(qt))&&Math.abs(te-on)<=fe*Math.max(1,Math.abs(te),Math.abs(on))&&Math.abs(se-Mn)<=fe*Math.max(1,Math.abs(se),Math.abs(Mn))&&Math.abs(pe-Cn)<=fe*Math.max(1,Math.abs(pe),Math.abs(Cn))&&Math.abs(we-Tn)<=fe*Math.max(1,Math.abs(we),Math.abs(Tn))&&Math.abs(Ie-ln)<=fe*Math.max(1,Math.abs(Ie),Math.abs(ln))&&Math.abs(Se-lr)<=fe*Math.max(1,Math.abs(Se),Math.abs(lr))&&Math.abs(He-Gr)<=fe*Math.max(1,Math.abs(He),Math.abs(Gr))&&Math.abs(Ye-Ir)<=fe*Math.max(1,Math.abs(Ye),Math.abs(Ir))},s.bs=function(d,u){return d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},s.bt=_e,s.bu=Ot,s.bv=function(d,u){const{x:h,y}=Qm.fromLngLat(u);return!(d<0||d>25||y<0||y>=1||h<0||h>=1)},s.bw=function(d,u){return d[0]=u[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=u[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=u[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},s.bx=class extends ol{},s.by=vS,s.c=Ht,s.d=d=>a(void 0,void 0,void 0,function*(){if(d.byteLength===0)return createImageBitmap(new ImageData(1,1));const u=new Blob([new Uint8Array(d)],{type:"image/png"});try{return createImageBitmap(u)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.e=ft,s.f=d=>new Promise((u,h)=>{const y=new Image;y.onload=()=>{u(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=Te})},y.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const x=new Blob([new Uint8Array(d)],{type:"image/png"});y.src=d.byteLength?URL.createObjectURL(x):Te}),s.g=Rn,s.h=(d,u)=>ur(ft(d,{type:"json"}),u),s.i=Jt,s.j=fi,s.k=pr,s.l=(d,u)=>ur(ft(d,{type:"arrayBuffer"}),u),s.m=ur,s.n=function(d){return new y_(d).readFields(ZM,[])},s.o=Xh,s.p=X2,s.q=Ja,s.r=Ld,s.s=_r,s.t=Hc,s.u=Vc,s.v=Q,s.w=Et,s.x=function([d,u,h]){return u+=90,u*=Math.PI/180,h*=Math.PI/180,{x:d*Math.cos(u)*Math.sin(h),y:d*Math.sin(u)*Math.sin(h),z:d*Math.cos(h)}},s.y=gr,s.z=oo}),i("worker",["./shared"],function(s){class a{constructor(Ee){this.keyCache={},Ee&&this.replace(Ee)}replace(Ee){this._layerConfigs={},this._layers={},this.update(Ee,[])}update(Ee,ve){for(const Ke of Ee){this._layerConfigs[Ke.id]=Ke;const ze=this._layers[Ke.id]=s.b4(Ke);ze._featureFilter=s.a4(ze.filter),this.keyCache[Ke.id]&&delete this.keyCache[Ke.id]}for(const Ke of ve)delete this.keyCache[Ke],delete this._layerConfigs[Ke],delete this._layers[Ke];this.familiesBySource={};const p=s.bD(Object.values(this._layerConfigs),this.keyCache);for(const Ke of p){const ze=Ke.map(mt=>this._layers[mt.id]),it=ze[0];if(it.visibility==="none")continue;const dt=it.source||"";let ot=this.familiesBySource[dt];ot||(ot=this.familiesBySource[dt]={});const Ft=it.sourceLayer||"_geojsonTileLayer";let rt=ot[Ft];rt||(rt=ot[Ft]=[]),rt.push(ze)}}}class f{constructor(Ee){const ve={},p=[];for(const dt in Ee){const ot=Ee[dt],Ft=ve[dt]={};for(const rt in ot){const mt=ot[+rt];if(!mt||mt.bitmap.width===0||mt.bitmap.height===0)continue;const Bt={x:0,y:0,w:mt.bitmap.width+2,h:mt.bitmap.height+2};p.push(Bt),Ft[rt]={rect:Bt,metrics:mt.metrics}}}const{w:Ke,h:ze}=s.p(p),it=new s.o({width:Ke||1,height:ze||1});for(const dt in Ee){const ot=Ee[dt];for(const Ft in ot){const rt=ot[+Ft];if(!rt||rt.bitmap.width===0||rt.bitmap.height===0)continue;const mt=ve[dt][Ft].rect;s.o.copy(rt.bitmap,it,{x:0,y:0},{x:mt.x+1,y:mt.y+1},rt.bitmap)}}this.image=it,this.positions=ve}}s.bE("GlyphAtlas",f);class m{constructor(Ee){this.tileID=new s.S(Ee.tileID.overscaledZ,Ee.tileID.wrap,Ee.tileID.canonical.z,Ee.tileID.canonical.x,Ee.tileID.canonical.y),this.uid=Ee.uid,this.zoom=Ee.zoom,this.pixelRatio=Ee.pixelRatio,this.tileSize=Ee.tileSize,this.source=Ee.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ee.showCollisionBoxes,this.collectResourceTiming=!!Ee.collectResourceTiming,this.returnDependencies=!!Ee.returnDependencies,this.promoteId=Ee.promoteId,this.inFlightDependencies=[]}parse(Ee,ve,p,Ke,ze){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=Ee,this.collisionBoxArray=new s.a2;const it=new s.bF(Object.keys(Ee.layers).sort()),dt=new s.bG(this.tileID,this.promoteId);dt.bucketLayerIDs=[];const ot={},Ft={featureIndex:dt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:p,subdivisionGranularity:ze},rt=ve.familiesBySource[this.source];for(const On in rt){const Er=Ee.layers[On];if(!Er)continue;Er.version===1&&s.w(`Vector tile source "${this.source}" layer "${On}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ti=it.encode(On),ji=[];for(let ei=0;ei<Er.length;ei++){const Wr=Er.feature(ei),Ni=dt.getId(Wr,On);ji.push({feature:Wr,id:Ni,index:ei,sourceLayerIndex:ti})}for(const ei of rt[On]){const Wr=ei[0];Wr.source!==this.source&&s.w(`layer.source = ${Wr.source} does not equal this.source = ${this.source}`),Wr.minzoom&&this.zoom<Math.floor(Wr.minzoom)||Wr.maxzoom&&this.zoom>=Wr.maxzoom||Wr.visibility!=="none"&&(C(ei,this.zoom,p),(ot[Wr.id]=Wr.createBucket({index:dt.bucketLayerIDs.length,layers:ei,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ti,sourceID:this.source})).populate(ji,Ft,this.tileID.canonical),dt.bucketLayerIDs.push(ei.map(Ni=>Ni.id)))}}const mt=s.b9(Ft.glyphDependencies,On=>Object.keys(On).map(Number));this.inFlightDependencies.forEach(On=>On==null?void 0:On.abort()),this.inFlightDependencies=[];let Bt=Promise.resolve({});if(Object.keys(mt).length){const On=new AbortController;this.inFlightDependencies.push(On),Bt=Ke.sendAsync({type:"GG",data:{stacks:mt,source:this.source,tileID:this.tileID,type:"glyphs"}},On)}const cn=Object.keys(Ft.iconDependencies);let mn=Promise.resolve({});if(cn.length){const On=new AbortController;this.inFlightDependencies.push(On),mn=Ke.sendAsync({type:"GI",data:{icons:cn,source:this.source,tileID:this.tileID,type:"icons"}},On)}const fn=Object.keys(Ft.patternDependencies);let Cr=Promise.resolve({});if(fn.length){const On=new AbortController;this.inFlightDependencies.push(On),Cr=Ke.sendAsync({type:"GI",data:{icons:fn,source:this.source,tileID:this.tileID,type:"patterns"}},On)}const[rr,Mr,oi]=yield Promise.all([Bt,mn,Cr]),$r=new f(rr),Un=new s.bH(Mr,oi);for(const On in ot){const Er=ot[On];Er instanceof s.a3?(C(Er.layers,this.zoom,p),s.bI({bucket:Er,glyphMap:rr,glyphPositions:$r.positions,imageMap:Mr,imagePositions:Un.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Ft.subdivisionGranularity})):Er.hasPattern&&(Er instanceof s.bJ||Er instanceof s.bK||Er instanceof s.bL)&&(C(Er.layers,this.zoom,p),Er.addFeatures(Ft,this.tileID.canonical,Un.patternPositions))}return this.status="done",{buckets:Object.values(ot).filter(On=>!On.isEmpty()),featureIndex:dt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$r.image,imageAtlas:Un,glyphMap:this.returnDependencies?rr:null,iconMap:this.returnDependencies?Mr:null,glyphPositions:this.returnDependencies?$r.positions:null}})}}function C(ht,Ee,ve){const p=new s.z(Ee);for(const Ke of ht)Ke.recalculate(p,ve)}class B{constructor(Ee,ve,p){this.actor=Ee,this.layerIndex=ve,this.availableImages=p,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(Ee,ve){return s._(this,void 0,void 0,function*(){const p=yield s.l(Ee.request,ve);try{return{vectorTile:new s.bM.VectorTile(new s.bN(p.data)),rawData:p.data,cacheControl:p.cacheControl,expires:p.expires}}catch(Ke){const ze=new Uint8Array(p.data);let it=`Unable to parse the tile at ${Ee.request.url}, `;throw it+=ze[0]===31&&ze[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ke.message}`,new Error(it)}})}loadTile(Ee){return s._(this,void 0,void 0,function*(){const ve=Ee.uid,p=!!(Ee&&Ee.request&&Ee.request.collectResourceTiming)&&new s.bO(Ee.request),Ke=new m(Ee);this.loading[ve]=Ke;const ze=new AbortController;Ke.abort=ze;try{const it=yield this.loadVectorTile(Ee,ze);if(delete this.loading[ve],!it)return null;const dt=it.rawData,ot={};it.expires&&(ot.expires=it.expires),it.cacheControl&&(ot.cacheControl=it.cacheControl);const Ft={};if(p){const mt=p.finish();mt&&(Ft.resourceTiming=JSON.parse(JSON.stringify(mt)))}Ke.vectorTile=it.vectorTile;const rt=Ke.parse(it.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity);this.loaded[ve]=Ke,this.fetching[ve]={rawTileData:dt,cacheControl:ot,resourceTiming:Ft};try{const mt=yield rt;return s.e({rawTileData:dt.slice(0)},mt,ot,Ft)}finally{delete this.fetching[ve]}}catch(it){throw delete this.loading[ve],Ke.status="done",this.loaded[ve]=Ke,it}})}reloadTile(Ee){return s._(this,void 0,void 0,function*(){const ve=Ee.uid;if(!this.loaded||!this.loaded[ve])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const p=this.loaded[ve];if(p.showCollisionBoxes=Ee.showCollisionBoxes,p.status==="parsing"){const Ke=yield p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity);let ze;if(this.fetching[ve]){const{rawTileData:it,cacheControl:dt,resourceTiming:ot}=this.fetching[ve];delete this.fetching[ve],ze=s.e({rawTileData:it.slice(0)},Ke,dt,ot)}else ze=Ke;return ze}if(p.status==="done"&&p.vectorTile)return p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee.subdivisionGranularity)})}abortTile(Ee){return s._(this,void 0,void 0,function*(){const ve=this.loading,p=Ee.uid;ve&&ve[p]&&ve[p].abort&&(ve[p].abort.abort(),delete ve[p])})}removeTile(Ee){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[Ee.uid]&&delete this.loaded[Ee.uid]})}}class I{constructor(){this.loaded={}}loadTile(Ee){return s._(this,void 0,void 0,function*(){const{uid:ve,encoding:p,rawImageData:Ke,redFactor:ze,greenFactor:it,blueFactor:dt,baseShift:ot}=Ee,Ft=Ke.width+2,rt=Ke.height+2,mt=s.b(Ke)?new s.R({width:Ft,height:rt},yield s.bP(Ke,-1,-1,Ft,rt)):Ke,Bt=new s.bQ(ve,mt,p,ze,it,dt,ot);return this.loaded=this.loaded||{},this.loaded[ve]=Bt,Bt})}removeTile(Ee){const ve=this.loaded,p=Ee.uid;ve&&ve[p]&&delete ve[p]}}var K,L,Y=function(){if(L)return K;function ht(ve,p){if(ve.length!==0){Ee(ve[0],p);for(var Ke=1;Ke<ve.length;Ke++)Ee(ve[Ke],!p)}}function Ee(ve,p){for(var Ke=0,ze=0,it=0,dt=ve.length,ot=dt-1;it<dt;ot=it++){var Ft=(ve[it][0]-ve[ot][0])*(ve[ot][1]+ve[it][1]),rt=Ke+Ft;ze+=Math.abs(Ke)>=Math.abs(Ft)?Ke-rt+Ft:Ft-rt+Ke,Ke=rt}Ke+ze>=0!=!!p&&ve.reverse()}return L=1,K=function ve(p,Ke){var ze,it=p&&p.type;if(it==="FeatureCollection")for(ze=0;ze<p.features.length;ze++)ve(p.features[ze],Ke);else if(it==="GeometryCollection")for(ze=0;ze<p.geometries.length;ze++)ve(p.geometries[ze],Ke);else if(it==="Feature")ve(p.geometry,Ke);else if(it==="Polygon")ht(p.coordinates,Ke);else if(it==="MultiPolygon")for(ze=0;ze<p.coordinates.length;ze++)ht(p.coordinates[ze],Ke);return p}}(),ee=s.bR(Y);const V=s.bM.VectorTileFeature.prototype.toGeoJSON;class W{constructor(Ee){this._feature=Ee,this.extent=s.X,this.type=Ee.type,this.properties=Ee.tags,"id"in Ee&&!isNaN(Ee.id)&&(this.id=parseInt(Ee.id,10))}loadGeometry(){if(this._feature.type===1){const Ee=[];for(const ve of this._feature.geometry)Ee.push([new s.P(ve[0],ve[1])]);return Ee}{const Ee=[];for(const ve of this._feature.geometry){const p=[];for(const Ke of ve)p.push(new s.P(Ke[0],Ke[1]));Ee.push(p)}return Ee}}toGeoJSON(Ee,ve,p){return V.call(this,Ee,ve,p)}}class ne{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.X,this.length=Ee.length,this._features=Ee}feature(Ee){return new W(this._features[Ee])}}var ce,ge,fe,H={exports:{}},X=function(){if(fe)return H.exports;fe=1;var ht=s.bU(),Ee=function(){if(ge)return ce;ge=1;var rt=s.bS(),mt=s.bT().VectorTileFeature;function Bt(mn,fn){this.options=fn||{},this.features=mn,this.length=mn.length}function cn(mn,fn){this.id=typeof mn.id=="number"?mn.id:void 0,this.type=mn.type,this.rawGeometry=mn.type===1?[mn.geometry]:mn.geometry,this.properties=mn.tags,this.extent=fn||4096}return ce=Bt,Bt.prototype.feature=function(mn){return new cn(this.features[mn],this.options.extent)},cn.prototype.loadGeometry=function(){var mn=this.rawGeometry;this.geometry=[];for(var fn=0;fn<mn.length;fn++){for(var Cr=mn[fn],rr=[],Mr=0;Mr<Cr.length;Mr++)rr.push(new rt(Cr[Mr][0],Cr[Mr][1]));this.geometry.push(rr)}return this.geometry},cn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mn=this.geometry,fn=1/0,Cr=-1/0,rr=1/0,Mr=-1/0,oi=0;oi<mn.length;oi++)for(var $r=mn[oi],Un=0;Un<$r.length;Un++){var On=$r[Un];fn=Math.min(fn,On.x),Cr=Math.max(Cr,On.x),rr=Math.min(rr,On.y),Mr=Math.max(Mr,On.y)}return[fn,rr,Cr,Mr]},cn.prototype.toGeoJSON=mt.prototype.toGeoJSON,ce}();function ve(rt){var mt=new ht;return function(Bt,cn){for(var mn in Bt.layers)cn.writeMessage(3,p,Bt.layers[mn])}(rt,mt),mt.finish()}function p(rt,mt){var Bt;mt.writeVarintField(15,rt.version||1),mt.writeStringField(1,rt.name||""),mt.writeVarintField(5,rt.extent||4096);var cn={keys:[],values:[],keycache:{},valuecache:{}};for(Bt=0;Bt<rt.length;Bt++)cn.feature=rt.feature(Bt),mt.writeMessage(2,Ke,cn);var mn=cn.keys;for(Bt=0;Bt<mn.length;Bt++)mt.writeStringField(3,mn[Bt]);var fn=cn.values;for(Bt=0;Bt<fn.length;Bt++)mt.writeMessage(4,Ft,fn[Bt])}function Ke(rt,mt){var Bt=rt.feature;Bt.id!==void 0&&mt.writeVarintField(1,Bt.id),mt.writeMessage(2,ze,rt),mt.writeVarintField(3,Bt.type),mt.writeMessage(4,ot,Bt)}function ze(rt,mt){var Bt=rt.feature,cn=rt.keys,mn=rt.values,fn=rt.keycache,Cr=rt.valuecache;for(var rr in Bt.properties){var Mr=Bt.properties[rr],oi=fn[rr];if(Mr!==null){oi===void 0&&(cn.push(rr),fn[rr]=oi=cn.length-1),mt.writeVarint(oi);var $r=typeof Mr;$r!=="string"&&$r!=="boolean"&&$r!=="number"&&(Mr=JSON.stringify(Mr));var Un=$r+":"+Mr,On=Cr[Un];On===void 0&&(mn.push(Mr),Cr[Un]=On=mn.length-1),mt.writeVarint(On)}}}function it(rt,mt){return(mt<<3)+(7&rt)}function dt(rt){return rt<<1^rt>>31}function ot(rt,mt){for(var Bt=rt.loadGeometry(),cn=rt.type,mn=0,fn=0,Cr=Bt.length,rr=0;rr<Cr;rr++){var Mr=Bt[rr],oi=1;cn===1&&(oi=Mr.length),mt.writeVarint(it(1,oi));for(var $r=cn===3?Mr.length-1:Mr.length,Un=0;Un<$r;Un++){Un===1&&cn!==1&&mt.writeVarint(it(2,$r-1));var On=Mr[Un].x-mn,Er=Mr[Un].y-fn;mt.writeVarint(dt(On)),mt.writeVarint(dt(Er)),mn+=On,fn+=Er}cn===3&&mt.writeVarint(it(7,1))}}function Ft(rt,mt){var Bt=typeof rt;Bt==="string"?mt.writeStringField(1,rt):Bt==="boolean"?mt.writeBooleanField(7,rt):Bt==="number"&&(rt%1!=0?mt.writeDoubleField(3,rt):rt<0?mt.writeSVarintField(6,rt):mt.writeVarintField(5,rt))}return H.exports=ve,H.exports.fromVectorTileJs=ve,H.exports.fromGeojsonVt=function(rt,mt){mt=mt||{};var Bt={};for(var cn in rt)Bt[cn]=new Ee(rt[cn].features,mt),Bt[cn].name=cn,Bt[cn].version=mt.version,Bt[cn].extent=mt.extent;return ve({layers:Bt})},H.exports.GeoJSONWrapper=Ee,H.exports}(),Me=s.bR(X);const be={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ht=>ht},Fe=Math.fround||(Ue=new Float32Array(1),ht=>(Ue[0]=+ht,Ue[0]));var Ue;const me=3,Ve=5,_e=6;class Ot{constructor(Ee){this.options=Object.assign(Object.create(be),Ee),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Ee){const{log:ve,minZoom:p,maxZoom:Ke}=this.options;ve&&console.time("total time");const ze=`prepare ${Ee.length} points`;ve&&console.time(ze),this.points=Ee;const it=[];for(let ot=0;ot<Ee.length;ot++){const Ft=Ee[ot];if(!Ft.geometry)continue;const[rt,mt]=Ft.geometry.coordinates,Bt=Fe(ft(rt)),cn=Fe($e(mt));it.push(Bt,cn,1/0,ot,-1,1),this.options.reduce&&it.push(0)}let dt=this.trees[Ke+1]=this._createTree(it);ve&&console.timeEnd(ze);for(let ot=Ke;ot>=p;ot--){const Ft=+Date.now();dt=this.trees[ot]=this._createTree(this._cluster(dt,ot)),ve&&console.log("z%d: %d clusters in %dms",ot,dt.numItems,+Date.now()-Ft)}return ve&&console.timeEnd("total time"),this}getClusters(Ee,ve){let p=((Ee[0]+180)%360+360)%360-180;const Ke=Math.max(-90,Math.min(90,Ee[1]));let ze=Ee[2]===180?180:((Ee[2]+180)%360+360)%360-180;const it=Math.max(-90,Math.min(90,Ee[3]));if(Ee[2]-Ee[0]>=360)p=-180,ze=180;else if(p>ze){const mt=this.getClusters([p,Ke,180,it],ve),Bt=this.getClusters([-180,Ke,ze,it],ve);return mt.concat(Bt)}const dt=this.trees[this._limitZoom(ve)],ot=dt.range(ft(p),$e(it),ft(ze),$e(Ke)),Ft=dt.data,rt=[];for(const mt of ot){const Bt=this.stride*mt;rt.push(Ft[Bt+Ve]>1?St(Ft,Bt,this.clusterProps):this.points[Ft[Bt+me]])}return rt}getChildren(Ee){const ve=this._getOriginId(Ee),p=this._getOriginZoom(Ee),Ke="No cluster with the specified id.",ze=this.trees[p];if(!ze)throw new Error(Ke);const it=ze.data;if(ve*this.stride>=it.length)throw new Error(Ke);const dt=this.options.radius/(this.options.extent*Math.pow(2,p-1)),ot=ze.within(it[ve*this.stride],it[ve*this.stride+1],dt),Ft=[];for(const rt of ot){const mt=rt*this.stride;it[mt+4]===Ee&&Ft.push(it[mt+Ve]>1?St(it,mt,this.clusterProps):this.points[it[mt+me]])}if(Ft.length===0)throw new Error(Ke);return Ft}getLeaves(Ee,ve,p){const Ke=[];return this._appendLeaves(Ke,Ee,ve=ve||10,p=p||0,0),Ke}getTile(Ee,ve,p){const Ke=this.trees[this._limitZoom(Ee)],ze=Math.pow(2,Ee),{extent:it,radius:dt}=this.options,ot=dt/it,Ft=(p-ot)/ze,rt=(p+1+ot)/ze,mt={features:[]};return this._addTileFeatures(Ke.range((ve-ot)/ze,Ft,(ve+1+ot)/ze,rt),Ke.data,ve,p,ze,mt),ve===0&&this._addTileFeatures(Ke.range(1-ot/ze,Ft,1,rt),Ke.data,ze,p,ze,mt),ve===ze-1&&this._addTileFeatures(Ke.range(0,Ft,ot/ze,rt),Ke.data,-1,p,ze,mt),mt.features.length?mt:null}getClusterExpansionZoom(Ee){let ve=this._getOriginZoom(Ee)-1;for(;ve<=this.options.maxZoom;){const p=this.getChildren(Ee);if(ve++,p.length!==1)break;Ee=p[0].properties.cluster_id}return ve}_appendLeaves(Ee,ve,p,Ke,ze){const it=this.getChildren(ve);for(const dt of it){const ot=dt.properties;if(ot&&ot.cluster?ze+ot.point_count<=Ke?ze+=ot.point_count:ze=this._appendLeaves(Ee,ot.cluster_id,p,Ke,ze):ze<Ke?ze++:Ee.push(dt),Ee.length===p)break}return ze}_createTree(Ee){const ve=new s.au(Ee.length/this.stride|0,this.options.nodeSize,Float32Array);for(let p=0;p<Ee.length;p+=this.stride)ve.add(Ee[p],Ee[p+1]);return ve.finish(),ve.data=Ee,ve}_addTileFeatures(Ee,ve,p,Ke,ze,it){for(const dt of Ee){const ot=dt*this.stride,Ft=ve[ot+Ve]>1;let rt,mt,Bt;if(Ft)rt=_t(ve,ot,this.clusterProps),mt=ve[ot],Bt=ve[ot+1];else{const fn=this.points[ve[ot+me]];rt=fn.properties;const[Cr,rr]=fn.geometry.coordinates;mt=ft(Cr),Bt=$e(rr)}const cn={type:1,geometry:[[Math.round(this.options.extent*(mt*ze-p)),Math.round(this.options.extent*(Bt*ze-Ke))]],tags:rt};let mn;mn=Ft||this.options.generateId?ve[ot+me]:this.points[ve[ot+me]].id,mn!==void 0&&(cn.id=mn),it.features.push(cn)}}_limitZoom(Ee){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ee),this.options.maxZoom+1))}_cluster(Ee,ve){const{radius:p,extent:Ke,reduce:ze,minPoints:it}=this.options,dt=p/(Ke*Math.pow(2,ve)),ot=Ee.data,Ft=[],rt=this.stride;for(let mt=0;mt<ot.length;mt+=rt){if(ot[mt+2]<=ve)continue;ot[mt+2]=ve;const Bt=ot[mt],cn=ot[mt+1],mn=Ee.within(ot[mt],ot[mt+1],dt),fn=ot[mt+Ve];let Cr=fn;for(const rr of mn){const Mr=rr*rt;ot[Mr+2]>ve&&(Cr+=ot[Mr+Ve])}if(Cr>fn&&Cr>=it){let rr,Mr=Bt*fn,oi=cn*fn,$r=-1;const Un=((mt/rt|0)<<5)+(ve+1)+this.points.length;for(const On of mn){const Er=On*rt;if(ot[Er+2]<=ve)continue;ot[Er+2]=ve;const ti=ot[Er+Ve];Mr+=ot[Er]*ti,oi+=ot[Er+1]*ti,ot[Er+4]=Un,ze&&(rr||(rr=this._map(ot,mt,!0),$r=this.clusterProps.length,this.clusterProps.push(rr)),ze(rr,this._map(ot,Er)))}ot[mt+4]=Un,Ft.push(Mr/Cr,oi/Cr,1/0,Un,-1,Cr),ze&&Ft.push($r)}else{for(let rr=0;rr<rt;rr++)Ft.push(ot[mt+rr]);if(Cr>1)for(const rr of mn){const Mr=rr*rt;if(!(ot[Mr+2]<=ve)){ot[Mr+2]=ve;for(let oi=0;oi<rt;oi++)Ft.push(ot[Mr+oi])}}}}return Ft}_getOriginId(Ee){return Ee-this.points.length>>5}_getOriginZoom(Ee){return(Ee-this.points.length)%32}_map(Ee,ve,p){if(Ee[ve+Ve]>1){const it=this.clusterProps[Ee[ve+_e]];return p?Object.assign({},it):it}const Ke=this.points[Ee[ve+me]].properties,ze=this.options.map(Ke);return p&&ze===Ke?Object.assign({},ze):ze}}function St(ht,Ee,ve){return{type:"Feature",id:ht[Ee+me],properties:_t(ht,Ee,ve),geometry:{type:"Point",coordinates:[(p=ht[Ee],360*(p-.5)),et(ht[Ee+1])]}};var p}function _t(ht,Ee,ve){const p=ht[Ee+Ve],Ke=p>=1e4?`${Math.round(p/1e3)}k`:p>=1e3?Math.round(p/100)/10+"k":p,ze=ht[Ee+_e],it=ze===-1?{}:Object.assign({},ve[ze]);return Object.assign(it,{cluster:!0,cluster_id:ht[Ee+me],point_count:p,point_count_abbreviated:Ke})}function ft(ht){return ht/360+.5}function $e(ht){const Ee=Math.sin(ht*Math.PI/180),ve=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return ve<0?0:ve>1?1:ve}function et(ht){const Ee=(180-360*ht)*Math.PI/180;return 360*Math.atan(Math.exp(Ee))/Math.PI-90}function nt(ht,Ee,ve,p){let Ke=p;const ze=Ee+(ve-Ee>>1);let it,dt=ve-Ee;const ot=ht[Ee],Ft=ht[Ee+1],rt=ht[ve],mt=ht[ve+1];for(let Bt=Ee+3;Bt<ve;Bt+=3){const cn=en(ht[Bt],ht[Bt+1],ot,Ft,rt,mt);if(cn>Ke)it=Bt,Ke=cn;else if(cn===Ke){const mn=Math.abs(Bt-ze);mn<dt&&(it=Bt,dt=mn)}}Ke>p&&(it-Ee>3&&nt(ht,Ee,it,p),ht[it+2]=Ke,ve-it>3&&nt(ht,it,ve,p))}function en(ht,Ee,ve,p,Ke,ze){let it=Ke-ve,dt=ze-p;if(it!==0||dt!==0){const ot=((ht-ve)*it+(Ee-p)*dt)/(it*it+dt*dt);ot>1?(ve=Ke,p=ze):ot>0&&(ve+=it*ot,p+=dt*ot)}return it=ht-ve,dt=Ee-p,it*it+dt*dt}function nn(ht,Ee,ve,p){const Ke={id:ht??null,type:Ee,geometry:ve,tags:p,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")Et(Ke,ve);else if(Ee==="Polygon")Et(Ke,ve[0]);else if(Ee==="MultiLineString")for(const ze of ve)Et(Ke,ze);else if(Ee==="MultiPolygon")for(const ze of ve)Et(Ke,ze[0]);return Ke}function Et(ht,Ee){for(let ve=0;ve<Ee.length;ve+=3)ht.minX=Math.min(ht.minX,Ee[ve]),ht.minY=Math.min(ht.minY,Ee[ve+1]),ht.maxX=Math.max(ht.maxX,Ee[ve]),ht.maxY=Math.max(ht.maxY,Ee[ve+1])}function Vt(ht,Ee,ve,p){if(!Ee.geometry)return;const Ke=Ee.geometry.coordinates;if(Ke&&Ke.length===0)return;const ze=Ee.geometry.type,it=Math.pow(ve.tolerance/((1<<ve.maxZoom)*ve.extent),2);let dt=[],ot=Ee.id;if(ve.promoteId?ot=Ee.properties[ve.promoteId]:ve.generateId&&(ot=p||0),ze==="Point")Jt(Ke,dt);else if(ze==="MultiPoint")for(const Ft of Ke)Jt(Ft,dt);else if(ze==="LineString")Le(Ke,dt,it,!1);else if(ze==="MultiLineString"){if(ve.lineMetrics){for(const Ft of Ke)dt=[],Le(Ft,dt,it,!1),ht.push(nn(ot,"LineString",dt,Ee.properties));return}ye(Ke,dt,it,!1)}else if(ze==="Polygon")ye(Ke,dt,it,!0);else{if(ze!=="MultiPolygon"){if(ze==="GeometryCollection"){for(const Ft of Ee.geometry.geometries)Vt(ht,{id:ot,geometry:Ft,properties:Ee.properties},ve,p);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Ft of Ke){const rt=[];ye(Ft,rt,it,!0),dt.push(rt)}}ht.push(nn(ot,ze,dt,Ee.properties))}function Jt(ht,Ee){Ee.push(Te(ht[0]),Qe(ht[1]),0)}function Le(ht,Ee,ve,p){let Ke,ze,it=0;for(let ot=0;ot<ht.length;ot++){const Ft=Te(ht[ot][0]),rt=Qe(ht[ot][1]);Ee.push(Ft,rt,0),ot>0&&(it+=p?(Ke*rt-Ft*ze)/2:Math.sqrt(Math.pow(Ft-Ke,2)+Math.pow(rt-ze,2))),Ke=Ft,ze=rt}const dt=Ee.length-3;Ee[2]=1,nt(Ee,0,dt,ve),Ee[dt+2]=1,Ee.size=Math.abs(it),Ee.start=0,Ee.end=Ee.size}function ye(ht,Ee,ve,p){for(let Ke=0;Ke<ht.length;Ke++){const ze=[];Le(ht[Ke],ze,ve,p),Ee.push(ze)}}function Te(ht){return ht/360+.5}function Qe(ht){const Ee=Math.sin(ht*Math.PI/180),ve=.5-.25*Math.log((1+Ee)/(1-Ee))/Math.PI;return ve<0?0:ve>1?1:ve}function st(ht,Ee,ve,p,Ke,ze,it,dt){if(p/=Ee,ze>=(ve/=Ee)&&it<p)return ht;if(it<ve||ze>=p)return null;const ot=[];for(const Ft of ht){const rt=Ft.geometry;let mt=Ft.type;const Bt=Ke===0?Ft.minX:Ft.minY,cn=Ke===0?Ft.maxX:Ft.maxY;if(Bt>=ve&&cn<p){ot.push(Ft);continue}if(cn<ve||Bt>=p)continue;let mn=[];if(mt==="Point"||mt==="MultiPoint")lt(rt,mn,ve,p,Ke);else if(mt==="LineString")Kt(rt,mn,ve,p,Ke,!1,dt.lineMetrics);else if(mt==="MultiLineString")Wt(rt,mn,ve,p,Ke,!1);else if(mt==="Polygon")Wt(rt,mn,ve,p,Ke,!0);else if(mt==="MultiPolygon")for(const fn of rt){const Cr=[];Wt(fn,Cr,ve,p,Ke,!0),Cr.length&&mn.push(Cr)}if(mn.length){if(dt.lineMetrics&&mt==="LineString"){for(const fn of mn)ot.push(nn(Ft.id,mt,fn,Ft.tags));continue}mt!=="LineString"&&mt!=="MultiLineString"||(mn.length===1?(mt="LineString",mn=mn[0]):mt="MultiLineString"),mt!=="Point"&&mt!=="MultiPoint"||(mt=mn.length===3?"Point":"MultiPoint"),ot.push(nn(Ft.id,mt,mn,Ft.tags))}}return ot.length?ot:null}function lt(ht,Ee,ve,p,Ke){for(let ze=0;ze<ht.length;ze+=3){const it=ht[ze+Ke];it>=ve&&it<=p&&Rn(Ee,ht[ze],ht[ze+1],ht[ze+2])}}function Kt(ht,Ee,ve,p,Ke,ze,it){let dt=Ht(ht);const ot=Ke===0?nr:_n;let Ft,rt,mt=ht.start;for(let Cr=0;Cr<ht.length-3;Cr+=3){const rr=ht[Cr],Mr=ht[Cr+1],oi=ht[Cr+2],$r=ht[Cr+3],Un=ht[Cr+4],On=Ke===0?rr:Mr,Er=Ke===0?$r:Un;let ti=!1;it&&(Ft=Math.sqrt(Math.pow(rr-$r,2)+Math.pow(Mr-Un,2))),On<ve?Er>ve&&(rt=ot(dt,rr,Mr,$r,Un,ve),it&&(dt.start=mt+Ft*rt)):On>p?Er<p&&(rt=ot(dt,rr,Mr,$r,Un,p),it&&(dt.start=mt+Ft*rt)):Rn(dt,rr,Mr,oi),Er<ve&&On>=ve&&(rt=ot(dt,rr,Mr,$r,Un,ve),ti=!0),Er>p&&On<=p&&(rt=ot(dt,rr,Mr,$r,Un,p),ti=!0),!ze&&ti&&(it&&(dt.end=mt+Ft*rt),Ee.push(dt),dt=Ht(ht)),it&&(mt+=Ft)}let Bt=ht.length-3;const cn=ht[Bt],mn=ht[Bt+1],fn=Ke===0?cn:mn;fn>=ve&&fn<=p&&Rn(dt,cn,mn,ht[Bt+2]),Bt=dt.length-3,ze&&Bt>=3&&(dt[Bt]!==dt[0]||dt[Bt+1]!==dt[1])&&Rn(dt,dt[0],dt[1],dt[2]),dt.length&&Ee.push(dt)}function Ht(ht){const Ee=[];return Ee.size=ht.size,Ee.start=ht.start,Ee.end=ht.end,Ee}function Wt(ht,Ee,ve,p,Ke,ze){for(const it of ht)Kt(it,Ee,ve,p,Ke,ze,!1)}function Rn(ht,Ee,ve,p){ht.push(Ee,ve,p)}function nr(ht,Ee,ve,p,Ke,ze){const it=(ze-Ee)/(p-Ee);return Rn(ht,ze,ve+(Ke-ve)*it,1),it}function _n(ht,Ee,ve,p,Ke,ze){const it=(ze-ve)/(Ke-ve);return Rn(ht,Ee+(p-Ee)*it,ze,1),it}function tr(ht,Ee){const ve=[];for(let p=0;p<ht.length;p++){const Ke=ht[p],ze=Ke.type;let it;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")it=ur(Ke.geometry,Ee);else if(ze==="MultiLineString"||ze==="Polygon"){it=[];for(const dt of Ke.geometry)it.push(ur(dt,Ee))}else if(ze==="MultiPolygon"){it=[];for(const dt of Ke.geometry){const ot=[];for(const Ft of dt)ot.push(ur(Ft,Ee));it.push(ot)}}ve.push(nn(Ke.id,ze,it,Ke.tags))}return ve}function ur(ht,Ee){const ve=[];ve.size=ht.size,ht.start!==void 0&&(ve.start=ht.start,ve.end=ht.end);for(let p=0;p<ht.length;p+=3)ve.push(ht[p]+Ee,ht[p+1],ht[p+2]);return ve}function _r(ht,Ee){if(ht.transformed)return ht;const ve=1<<ht.z,p=ht.x,Ke=ht.y;for(const ze of ht.features){const it=ze.geometry,dt=ze.type;if(ze.geometry=[],dt===1)for(let ot=0;ot<it.length;ot+=2)ze.geometry.push(Sr(it[ot],it[ot+1],Ee,ve,p,Ke));else for(let ot=0;ot<it.length;ot++){const Ft=[];for(let rt=0;rt<it[ot].length;rt+=2)Ft.push(Sr(it[ot][rt],it[ot][rt+1],Ee,ve,p,Ke));ze.geometry.push(Ft)}}return ht.transformed=!0,ht}function Sr(ht,Ee,ve,p,Ke,ze){return[Math.round(ve*(ht*p-Ke)),Math.round(ve*(Ee*p-ze))]}function fr(ht,Ee,ve,p,Ke){const ze=Ee===Ke.maxZoom?0:Ke.tolerance/((1<<Ee)*Ke.extent),it={features:[],numPoints:0,numSimplified:0,numFeatures:ht.length,source:null,x:ve,y:p,z:Ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const dt of ht)pr(it,dt,ze,Ke);return it}function pr(ht,Ee,ve,p){const Ke=Ee.geometry,ze=Ee.type,it=[];if(ht.minX=Math.min(ht.minX,Ee.minX),ht.minY=Math.min(ht.minY,Ee.minY),ht.maxX=Math.max(ht.maxX,Ee.maxX),ht.maxY=Math.max(ht.maxY,Ee.maxY),ze==="Point"||ze==="MultiPoint")for(let dt=0;dt<Ke.length;dt+=3)it.push(Ke[dt],Ke[dt+1]),ht.numPoints++,ht.numSimplified++;else if(ze==="LineString")fi(it,Ke,ht,ve,!1,!1);else if(ze==="MultiLineString"||ze==="Polygon")for(let dt=0;dt<Ke.length;dt++)fi(it,Ke[dt],ht,ve,ze==="Polygon",dt===0);else if(ze==="MultiPolygon")for(let dt=0;dt<Ke.length;dt++){const ot=Ke[dt];for(let Ft=0;Ft<ot.length;Ft++)fi(it,ot[Ft],ht,ve,!0,Ft===0)}if(it.length){let dt=Ee.tags||null;if(ze==="LineString"&&p.lineMetrics){dt={};for(const Ft in Ee.tags)dt[Ft]=Ee.tags[Ft];dt.mapbox_clip_start=Ke.start/Ke.size,dt.mapbox_clip_end=Ke.end/Ke.size}const ot={geometry:it,type:ze==="Polygon"||ze==="MultiPolygon"?3:ze==="LineString"||ze==="MultiLineString"?2:1,tags:dt};Ee.id!==null&&(ot.id=Ee.id),ht.features.push(ot)}}function fi(ht,Ee,ve,p,Ke,ze){const it=p*p;if(p>0&&Ee.size<(Ke?it:p))return void(ve.numPoints+=Ee.length/3);const dt=[];for(let ot=0;ot<Ee.length;ot+=3)(p===0||Ee[ot+2]>it)&&(ve.numSimplified++,dt.push(Ee[ot],Ee[ot+1])),ve.numPoints++;Ke&&function(ot,Ft){let rt=0;for(let mt=0,Bt=ot.length,cn=Bt-2;mt<Bt;cn=mt,mt+=2)rt+=(ot[mt]-ot[cn])*(ot[mt+1]+ot[cn+1]);if(rt>0===Ft)for(let mt=0,Bt=ot.length;mt<Bt/2;mt+=2){const cn=ot[mt],mn=ot[mt+1];ot[mt]=ot[Bt-2-mt],ot[mt+1]=ot[Bt-1-mt],ot[Bt-2-mt]=cn,ot[Bt-1-mt]=mn}}(dt,ze),ht.push(dt)}const Pe={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Q{constructor(Ee,ve){const p=(ve=this.options=function(ze,it){for(const dt in it)ze[dt]=it[dt];return ze}(Object.create(Pe),ve)).debug;if(p&&console.time("preprocess data"),ve.maxZoom<0||ve.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ve.promoteId&&ve.generateId)throw new Error("promoteId and generateId cannot be used together.");let Ke=function(ze,it){const dt=[];if(ze.type==="FeatureCollection")for(let ot=0;ot<ze.features.length;ot++)Vt(dt,ze.features[ot],it,ot);else Vt(dt,ze.type==="Feature"?ze:{geometry:ze},it);return dt}(Ee,ve);this.tiles={},this.tileCoords=[],p&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ve.indexMaxZoom,ve.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ke=function(ze,it){const dt=it.buffer/it.extent;let ot=ze;const Ft=st(ze,1,-1-dt,dt,0,-1,2,it),rt=st(ze,1,1-dt,2+dt,0,-1,2,it);return(Ft||rt)&&(ot=st(ze,1,-dt,1+dt,0,-1,2,it)||[],Ft&&(ot=tr(Ft,1).concat(ot)),rt&&(ot=ot.concat(tr(rt,-1)))),ot}(Ke,ve),Ke.length&&this.splitTile(Ke,0,0,0),p&&(Ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Ee,ve,p,Ke,ze,it,dt){const ot=[Ee,ve,p,Ke],Ft=this.options,rt=Ft.debug;for(;ot.length;){Ke=ot.pop(),p=ot.pop(),ve=ot.pop(),Ee=ot.pop();const mt=1<<ve,Bt=oe(ve,p,Ke);let cn=this.tiles[Bt];if(!cn&&(rt>1&&console.time("creation"),cn=this.tiles[Bt]=fr(Ee,ve,p,Ke,Ft),this.tileCoords.push({z:ve,x:p,y:Ke}),rt)){rt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ve,p,Ke,cn.numFeatures,cn.numPoints,cn.numSimplified),console.timeEnd("creation"));const ti=`z${ve}`;this.stats[ti]=(this.stats[ti]||0)+1,this.total++}if(cn.source=Ee,ze==null){if(ve===Ft.indexMaxZoom||cn.numPoints<=Ft.indexMaxPoints)continue}else{if(ve===Ft.maxZoom||ve===ze)continue;if(ze!=null){const ti=ze-ve;if(p!==it>>ti||Ke!==dt>>ti)continue}}if(cn.source=null,Ee.length===0)continue;rt>1&&console.time("clipping");const mn=.5*Ft.buffer/Ft.extent,fn=.5-mn,Cr=.5+mn,rr=1+mn;let Mr=null,oi=null,$r=null,Un=null,On=st(Ee,mt,p-mn,p+Cr,0,cn.minX,cn.maxX,Ft),Er=st(Ee,mt,p+fn,p+rr,0,cn.minX,cn.maxX,Ft);Ee=null,On&&(Mr=st(On,mt,Ke-mn,Ke+Cr,1,cn.minY,cn.maxY,Ft),oi=st(On,mt,Ke+fn,Ke+rr,1,cn.minY,cn.maxY,Ft),On=null),Er&&($r=st(Er,mt,Ke-mn,Ke+Cr,1,cn.minY,cn.maxY,Ft),Un=st(Er,mt,Ke+fn,Ke+rr,1,cn.minY,cn.maxY,Ft),Er=null),rt>1&&console.timeEnd("clipping"),ot.push(Mr||[],ve+1,2*p,2*Ke),ot.push(oi||[],ve+1,2*p,2*Ke+1),ot.push($r||[],ve+1,2*p+1,2*Ke),ot.push(Un||[],ve+1,2*p+1,2*Ke+1)}}getTile(Ee,ve,p){Ee=+Ee,ve=+ve,p=+p;const Ke=this.options,{extent:ze,debug:it}=Ke;if(Ee<0||Ee>24)return null;const dt=1<<Ee,ot=oe(Ee,ve=ve+dt&dt-1,p);if(this.tiles[ot])return _r(this.tiles[ot],ze);it>1&&console.log("drilling down to z%d-%d-%d",Ee,ve,p);let Ft,rt=Ee,mt=ve,Bt=p;for(;!Ft&&rt>0;)rt--,mt>>=1,Bt>>=1,Ft=this.tiles[oe(rt,mt,Bt)];return Ft&&Ft.source?(it>1&&(console.log("found parent tile z%d-%d-%d",rt,mt,Bt),console.time("drilling down")),this.splitTile(Ft.source,rt,mt,Bt,Ee,ve,p),it>1&&console.timeEnd("drilling down"),this.tiles[ot]?_r(this.tiles[ot],ze):null):null}}function oe(ht,Ee,ve){return 32*((1<<ht)*ve+Ee)+ht}function Re(ht,Ee){return Ee?ht.properties[Ee]:ht.id}function ut(ht,Ee){if(ht==null)return!0;if(ht.type==="Feature")return Re(ht,Ee)!=null;if(ht.type==="FeatureCollection"){const ve=new Set;for(const p of ht.features){const Ke=Re(p,Ee);if(Ke==null||ve.has(Ke))return!1;ve.add(Ke)}return!0}return!1}function Tt(ht,Ee){const ve=new Map;if(ht!=null)if(ht.type==="Feature")ve.set(Re(ht,Ee),ht);else for(const p of ht.features)ve.set(Re(p,Ee),p);return ve}class jt extends B{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(Ee,ve){return s._(this,void 0,void 0,function*(){const p=Ee.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Ke=this._geoJSONIndex.getTile(p.z,p.x,p.y);if(!Ke)return null;const ze=new ne(Ke.features);let it=Me(ze);return it.byteOffset===0&&it.byteLength===it.buffer.byteLength||(it=new Uint8Array(it)),{vectorTile:ze,rawData:it.buffer}})}loadData(Ee){return s._(this,void 0,void 0,function*(){var ve;(ve=this._pendingRequest)===null||ve===void 0||ve.abort();const p=!!(Ee&&Ee.request&&Ee.request.collectResourceTiming)&&new s.bO(Ee.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(Ee,this._pendingRequest),this._geoJSONIndex=Ee.cluster?new Ot(function({superclusterOptions:it,clusterProperties:dt}){if(!dt||!it)return it;const ot={},Ft={},rt={accumulated:null,zoom:0},mt={properties:null},Bt=Object.keys(dt);for(const cn of Bt){const[mn,fn]=dt[cn],Cr=s.bW(fn),rr=s.bW(typeof mn=="string"?[mn,["accumulated"],["get",cn]]:mn);ot[cn]=Cr.value,Ft[cn]=rr.value}return it.map=cn=>{mt.properties=cn;const mn={};for(const fn of Bt)mn[fn]=ot[fn].evaluate(rt,mt);return mn},it.reduce=(cn,mn)=>{mt.properties=mn;for(const fn of Bt)rt.accumulated=cn[fn],cn[fn]=Ft[fn].evaluate(rt,mt)},it}(Ee)).load((yield this._pendingData).features):(Ke=yield this._pendingData,new Q(Ke,Ee.geojsonVtOptions)),this.loaded={};const ze={};if(p){const it=p.finish();it&&(ze.resourceTiming={},ze.resourceTiming[Ee.source]=JSON.parse(JSON.stringify(it)))}return ze}catch(ze){if(delete this._pendingRequest,s.bV(ze))return{abandoned:!0};throw ze}var Ke})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(Ee){const ve=this.loaded;return ve&&ve[Ee.uid]?super.reloadTile(Ee):this.loadTile(Ee)}loadAndProcessGeoJSON(Ee,ve){return s._(this,void 0,void 0,function*(){let p=yield this.loadGeoJSON(Ee,ve);if(delete this._pendingRequest,typeof p!="object")throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`);if(ee(p,!0),Ee.filter){const Ke=s.bW(Ee.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ke.result==="error")throw new Error(Ke.value.map(it=>`${it.key}: ${it.message}`).join(", "));p={type:"FeatureCollection",features:p.features.filter(it=>Ke.value.evaluate({zoom:0},it))}}return p})}loadGeoJSON(Ee,ve){return s._(this,void 0,void 0,function*(){const{promoteId:p}=Ee;if(Ee.request){const Ke=yield s.h(Ee.request,ve);return this._dataUpdateable=ut(Ke.data,p)?Tt(Ke.data,p):void 0,Ke.data}if(typeof Ee.data=="string")try{const Ke=JSON.parse(Ee.data);return this._dataUpdateable=ut(Ke,p)?Tt(Ke,p):void 0,Ke}catch{throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`)}if(!Ee.dataDiff)throw new Error(`Input data given to '${Ee.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Ee.source}`);return function(Ke,ze,it){var dt,ot,Ft,rt;if(ze.removeAll&&Ke.clear(),ze.remove)for(const mt of ze.remove)Ke.delete(mt);if(ze.add)for(const mt of ze.add){const Bt=Re(mt,it);Bt!=null&&Ke.set(Bt,mt)}if(ze.update)for(const mt of ze.update){let Bt=Ke.get(mt.id);if(Bt==null)continue;const cn=!mt.removeAllProperties&&(((dt=mt.removeProperties)===null||dt===void 0?void 0:dt.length)>0||((ot=mt.addOrUpdateProperties)===null||ot===void 0?void 0:ot.length)>0);if((mt.newGeometry||mt.removeAllProperties||cn)&&(Bt=Object.assign({},Bt),Ke.set(mt.id,Bt),cn&&(Bt.properties=Object.assign({},Bt.properties))),mt.newGeometry&&(Bt.geometry=mt.newGeometry),mt.removeAllProperties)Bt.properties={};else if(((Ft=mt.removeProperties)===null||Ft===void 0?void 0:Ft.length)>0)for(const mn of mt.removeProperties)Object.prototype.hasOwnProperty.call(Bt.properties,mn)&&delete Bt.properties[mn];if(((rt=mt.addOrUpdateProperties)===null||rt===void 0?void 0:rt.length)>0)for(const{key:mn,value:fn}of mt.addOrUpdateProperties)Bt.properties[mn]=fn}}(this._dataUpdateable,Ee.dataDiff,p),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(Ee){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(Ee){return this._geoJSONIndex.getClusterExpansionZoom(Ee.clusterId)}getClusterChildren(Ee){return this._geoJSONIndex.getChildren(Ee.clusterId)}getClusterLeaves(Ee){return this._geoJSONIndex.getLeaves(Ee.clusterId,Ee.limit,Ee.offset)}}class ar{constructor(Ee){this.self=Ee,this.actor=new s.F(Ee),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ve,p)=>{if(this.externalWorkerSourceTypes[ve])throw new Error(`Worker source with name "${ve}" already registered.`);this.externalWorkerSourceTypes[ve]=p},this.self.addProtocol=s.bB,this.self.removeProtocol=s.bC,this.self.registerRTLTextPlugin=ve=>{if(s.bX.isParsed())throw new Error("RTL text plugin already registered.");s.bX.setMethods(ve)},this.actor.registerMessageHandler("LDT",(ve,p)=>this._getDEMWorkerSource(ve,p.source).loadTile(p)),this.actor.registerMessageHandler("RDT",(ve,p)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ve,p.source).removeTile(p)})),this.actor.registerMessageHandler("GCEZ",(ve,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,p.type,p.source).getClusterExpansionZoom(p)})),this.actor.registerMessageHandler("GCC",(ve,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,p.type,p.source).getClusterChildren(p)})),this.actor.registerMessageHandler("GCL",(ve,p)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(ve,p.type,p.source).getClusterLeaves(p)})),this.actor.registerMessageHandler("LD",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).loadData(p)),this.actor.registerMessageHandler("GD",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).getData()),this.actor.registerMessageHandler("LT",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).loadTile(p)),this.actor.registerMessageHandler("RT",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).reloadTile(p)),this.actor.registerMessageHandler("AT",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).abortTile(p)),this.actor.registerMessageHandler("RMT",(ve,p)=>this._getWorkerSource(ve,p.type,p.source).removeTile(p)),this.actor.registerMessageHandler("RS",(ve,p)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[ve]||!this.workerSources[ve][p.type]||!this.workerSources[ve][p.type][p.source])return;const Ke=this.workerSources[ve][p.type][p.source];delete this.workerSources[ve][p.type][p.source],Ke.removeSource!==void 0&&Ke.removeSource(p)})),this.actor.registerMessageHandler("RM",ve=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[ve],delete this.availableImages[ve],delete this.workerSources[ve],delete this.demWorkerSources[ve]})),this.actor.registerMessageHandler("SR",(ve,p)=>s._(this,void 0,void 0,function*(){this.referrer=p})),this.actor.registerMessageHandler("SRPS",(ve,p)=>this._syncRTLPluginState(ve,p)),this.actor.registerMessageHandler("IS",(ve,p)=>s._(this,void 0,void 0,function*(){this.self.importScripts(p)})),this.actor.registerMessageHandler("SI",(ve,p)=>this._setImages(ve,p)),this.actor.registerMessageHandler("UL",(ve,p)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).update(p.layers,p.removedIds)})),this.actor.registerMessageHandler("SL",(ve,p)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(ve).replace(p)}))}_setImages(Ee,ve){return s._(this,void 0,void 0,function*(){this.availableImages[Ee]=ve;for(const p in this.workerSources[Ee]){const Ke=this.workerSources[Ee][p];for(const ze in Ke)Ke[ze].availableImages=ve}})}_syncRTLPluginState(Ee,ve){return s._(this,void 0,void 0,function*(){if(s.bX.isParsed())return s.bX.getState();if(ve.pluginStatus!=="loading")return s.bX.setState(ve),ve;const p=ve.pluginURL;if(this.self.importScripts(p),s.bX.isParsed()){const Ke={pluginStatus:"loaded",pluginURL:p};return s.bX.setState(Ke),Ke}throw s.bX.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${p}`)})}_getAvailableImages(Ee){let ve=this.availableImages[Ee];return ve||(ve=[]),ve}_getLayerIndex(Ee){let ve=this.layerIndexes[Ee];return ve||(ve=this.layerIndexes[Ee]=new a),ve}_getWorkerSource(Ee,ve,p){if(this.workerSources[Ee]||(this.workerSources[Ee]={}),this.workerSources[Ee][ve]||(this.workerSources[Ee][ve]={}),!this.workerSources[Ee][ve][p]){const Ke={sendAsync:(ze,it)=>(ze.targetMapId=Ee,this.actor.sendAsync(ze,it))};switch(ve){case"vector":this.workerSources[Ee][ve][p]=new B(Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee));break;case"geojson":this.workerSources[Ee][ve][p]=new jt(Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee));break;default:this.workerSources[Ee][ve][p]=new this.externalWorkerSourceTypes[ve](Ke,this._getLayerIndex(Ee),this._getAvailableImages(Ee))}}return this.workerSources[Ee][ve][p]}_getDEMWorkerSource(Ee,ve){return this.demWorkerSources[Ee]||(this.demWorkerSources[Ee]={}),this.demWorkerSources[Ee][ve]||(this.demWorkerSources[Ee][ve]=new I),this.demWorkerSources[Ee][ve]}}return s.i(self)&&(self.worker=new ar(self)),ar}),i("index",["exports","./shared"],function(s,a){var f="5.0.0-pre.1";function m(O){var l=new a.A(3);return l[0]=O[0],l[1]=O[1],l[2]=O[2],l}function C(O,l,c){return O[0]=l[0]+c[0],O[1]=l[1]+c[1],O[2]=l[2]+c[2],O}function B(O,l,c){return O[0]=l[0]*c,O[1]=l[1]*c,O[2]=l[2]*c,O}function I(O,l){var c=l[0],v=l[1],b=l[2],S=c*c+v*v+b*b;return S>0&&(S=1/Math.sqrt(S)),O[0]=l[0]*S,O[1]=l[1]*S,O[2]=l[2]*S,O}function K(O,l){return O[0]*l[0]+O[1]*l[1]+O[2]*l[2]}function L(O,l,c){var v=l[0],b=l[1],S=l[2],F=c[0],R=c[1],G=c[2];return O[0]=b*G-S*R,O[1]=S*F-v*G,O[2]=v*R-b*F,O}function Y(O,l,c,v){var b=[],S=[];return b[0]=l[0]-c[0],b[1]=l[1]-c[1],b[2]=l[2]-c[2],S[0]=b[0],S[1]=b[1]*Math.cos(v)-b[2]*Math.sin(v),S[2]=b[1]*Math.sin(v)+b[2]*Math.cos(v),O[0]=S[0]+c[0],O[1]=S[1]+c[1],O[2]=S[2]+c[2],O}function ee(O,l,c,v){var b=[],S=[];return b[0]=l[0]-c[0],b[1]=l[1]-c[1],b[2]=l[2]-c[2],S[0]=b[2]*Math.sin(v)+b[0]*Math.cos(v),S[1]=b[1],S[2]=b[2]*Math.cos(v)-b[0]*Math.sin(v),O[0]=S[0]+c[0],O[1]=S[1]+c[1],O[2]=S[2]+c[2],O}function V(O,l,c,v){var b=[],S=[];return b[0]=l[0]-c[0],b[1]=l[1]-c[1],b[2]=l[2]-c[2],S[0]=b[0]*Math.cos(v)-b[1]*Math.sin(v),S[1]=b[0]*Math.sin(v)+b[1]*Math.cos(v),S[2]=b[2],O[0]=S[0]+c[0],O[1]=S[1]+c[1],O[2]=S[2]+c[2],O}var W,ne=function(O,l,c){return O[0]=l[0]-c[0],O[1]=l[1]-c[1],O[2]=l[2]-c[2],O};W=new a.A(3),a.A!=Float32Array&&(W[0]=0,W[1]=0,W[2]=0);var ce=function(O){var l=O[0],c=O[1];return l*l+c*c};let ge,fe;(function(){var O=new a.A(2);a.A!=Float32Array&&(O[0]=0,O[1]=0)})();const H={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:O=>new Promise((l,c)=>{const v=requestAnimationFrame(l);O.signal.addEventListener("abort",()=>{cancelAnimationFrame(v),c(a.c())})}),getImageData(O,l=0){return this.getImageCanvasContext(O).getImageData(-l,-l,O.width+2*l,O.height+2*l)},getImageCanvasContext(O){const l=window.document.createElement("canvas"),c=l.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return l.width=O.width,l.height=O.height,c.drawImage(O,0,0,O.width,O.height),c},resolveURL:O=>(ge||(ge=document.createElement("a")),ge.href=O,ge.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(fe==null&&(fe=matchMedia("(prefers-reduced-motion: reduce)")),fe.matches)}};class X{static testProp(l){if(!X.docStyle)return l[0];for(let c=0;c<l.length;c++)if(l[c]in X.docStyle)return l[c];return l[0]}static create(l,c,v){const b=window.document.createElement(l);return c!==void 0&&(b.className=c),v&&v.appendChild(b),b}static createNS(l,c){return window.document.createElementNS(l,c)}static disableDrag(){X.docStyle&&X.selectProp&&(X.userSelect=X.docStyle[X.selectProp],X.docStyle[X.selectProp]="none")}static enableDrag(){X.docStyle&&X.selectProp&&(X.docStyle[X.selectProp]=X.userSelect)}static setTransform(l,c){l.style[X.transformProp]=c}static addEventListener(l,c,v,b={}){l.addEventListener(c,v,"passive"in b?b:b.capture)}static removeEventListener(l,c,v,b={}){l.removeEventListener(c,v,"passive"in b?b:b.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",X.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",X.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",X.suppressClickInternal,!0)},0)}static getScale(l){const c=l.getBoundingClientRect();return{x:c.width/l.offsetWidth||1,y:c.height/l.offsetHeight||1,boundingClientRect:c}}static getPoint(l,c,v){const b=c.boundingClientRect;return new a.P((v.clientX-b.left)/c.x-l.clientLeft,(v.clientY-b.top)/c.y-l.clientTop)}static mousePos(l,c){const v=X.getScale(l);return X.getPoint(l,v,c)}static touchPos(l,c){const v=[],b=X.getScale(l);for(let S=0;S<c.length;S++)v.push(X.getPoint(l,b,c[S]));return v}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}}X.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,X.selectProp=X.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),X.transformProp=X.testProp(["transform","WebkitTransform"]);const Me={supported:!1,testSupport:function(O){!Ue&&Fe&&(me?Ve(O):be=O)}};let be,Fe,Ue=!1,me=!1;function Ve(O){const l=O.createTexture();O.bindTexture(O.TEXTURE_2D,l);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,Fe),O.isContextLost())return;Me.supported=!0}catch{}O.deleteTexture(l),Ue=!0}var _e;typeof document<"u"&&(Fe=document.createElement("img"),Fe.onload=()=>{be&&Ve(be),be=null,me=!0},Fe.onerror=()=>{Ue=!0,be=null},Fe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(O){let l,c,v,b;O.resetRequestQueue=()=>{l=[],c=0,v=0,b={}},O.addThrottleControl=G=>{const J=v++;return b[J]=G,J},O.removeThrottleControl=G=>{delete b[G],F()},O.getImage=(G,J,ue=!0)=>new Promise((re,xe)=>{Me.supported&&(G.headers||(G.headers={}),G.headers.accept="image/webp,*/*"),a.e(G,{type:"image"}),l.push({abortController:J,requestParameters:G,supportImageRefresh:ue,state:"queued",onError:Be=>{xe(Be)},onSuccess:Be=>{re(Be)}}),F()});const S=G=>a._(this,void 0,void 0,function*(){G.state="running";const{requestParameters:J,supportImageRefresh:ue,onError:re,onSuccess:xe,abortController:Be}=G,De=ue===!1&&!a.i(self)&&!a.g(J.url)&&(!J.headers||Object.keys(J.headers).reduce((Ge,gt)=>Ge&&gt==="accept",!0));c++;const tt=De?R(J,Be):a.m(J,Be);try{const Ge=yield tt;delete G.abortController,G.state="completed",Ge.data instanceof HTMLImageElement||a.b(Ge.data)?xe(Ge):Ge.data&&xe({data:yield(Xe=Ge.data,typeof createImageBitmap=="function"?a.d(Xe):a.f(Xe)),cacheControl:Ge.cacheControl,expires:Ge.expires})}catch(Ge){delete G.abortController,re(Ge)}finally{c--,F()}var Xe}),F=()=>{const G=(()=>{for(const J of Object.keys(b))if(b[J]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let J=c;J<G&&l.length>0;J++){const ue=l.shift();ue.abortController.signal.aborted?J--:S(ue)}},R=(G,J)=>new Promise((ue,re)=>{const xe=new Image,Be=G.url,De=G.credentials;De&&De==="include"?xe.crossOrigin="use-credentials":(De&&De==="same-origin"||!a.s(Be))&&(xe.crossOrigin="anonymous"),J.signal.addEventListener("abort",()=>{xe.src="",re(a.c())}),xe.fetchPriority="high",xe.onload=()=>{xe.onerror=xe.onload=null,ue({data:xe})},xe.onerror=()=>{xe.onerror=xe.onload=null,J.signal.aborted||re(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},xe.src=Be})}(_e||(_e={})),_e.resetRequestQueue();class Ot{constructor(l){this._transformRequestFn=l}transformRequest(l,c){return this._transformRequestFn&&this._transformRequestFn(l,c)||{url:l}}setTransformRequest(l){this._transformRequestFn=l}}function St(O){const l=[];if(typeof O=="string")l.push({id:"default",url:O});else if(O&&O.length>0){const c=[];for(const{id:v,url:b}of O){const S=`${v}${b}`;c.indexOf(S)===-1&&(c.push(S),l.push({id:v,url:b}))}}return l}function _t(O,l,c){const v=O.split("?");return v[0]+=`${l}${c}`,v.join("?")}class ft{constructor(l,c,v,b){this.context=l,this.format=v,this.texture=l.gl.createTexture(),this.update(c,b)}update(l,c,v){const{width:b,height:S}=l,F=!(this.size&&this.size[0]===b&&this.size[1]===S||v),{context:R}=this,{gl:G}=R;if(this.useMipmap=!!(c&&c.useMipmap),G.bindTexture(G.TEXTURE_2D,this.texture),R.pixelStoreUnpackFlipY.set(!1),R.pixelStoreUnpack.set(1),R.pixelStoreUnpackPremultiplyAlpha.set(this.format===G.RGBA&&(!c||c.premultiply!==!1)),F)this.size=[b,S],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?G.texImage2D(G.TEXTURE_2D,0,this.format,this.format,G.UNSIGNED_BYTE,l):G.texImage2D(G.TEXTURE_2D,0,this.format,b,S,0,this.format,G.UNSIGNED_BYTE,l.data);else{const{x:J,y:ue}=v||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.b(l)?G.texSubImage2D(G.TEXTURE_2D,0,J,ue,G.RGBA,G.UNSIGNED_BYTE,l):G.texSubImage2D(G.TEXTURE_2D,0,J,ue,b,S,G.RGBA,G.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&G.generateMipmap(G.TEXTURE_2D)}bind(l,c,v){const{context:b}=this,{gl:S}=b;S.bindTexture(S.TEXTURE_2D,this.texture),v!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=S.LINEAR),l!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,l),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,v||l),this.filter=l),c!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,c),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}function $e(O){const{userImage:l}=O;return!!(l&&l.render&&l.render())&&(O.data.replace(new Uint8Array(l.data.buffer)),!0)}class et extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:c,promiseResolve:v}of this.requestors)v(this._getImagesForIds(c));this.requestors=[]}}getImage(l){const c=this.images[l];if(c&&!c.data&&c.spriteData){const v=c.spriteData;c.data=new a.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),c.spriteData=null}return c}addImage(l,c){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,c)&&(this.images[l]=c)}_validate(l,c){let v=!0;const b=c.data||c.spriteData;return this._validateStretch(c.stretchX,b&&b.width)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchX" value`))),v=!1),this._validateStretch(c.stretchY,b&&b.height)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "stretchY" value`))),v=!1),this._validateContent(c.content,c)||(this.fire(new a.j(new Error(`Image "${l}" has invalid "content" value`))),v=!1),v}_validateStretch(l,c){if(!l)return!0;let v=0;for(const b of l){if(b[0]<v||b[1]<b[0]||c<b[1])return!1;v=b[1]}return!0}_validateContent(l,c){if(!l)return!0;if(l.length!==4)return!1;const v=c.spriteData,b=v&&v.width||c.data.width,S=v&&v.height||c.data.height;return!(l[0]<0||b<l[0]||l[1]<0||S<l[1]||l[2]<0||b<l[2]||l[3]<0||S<l[3]||l[2]<l[0]||l[3]<l[1])}updateImage(l,c,v=!0){const b=this.getImage(l);if(v&&(b.data.width!==c.data.width||b.data.height!==c.data.height))throw new Error(`size mismatch between old image (${b.data.width}x${b.data.height}) and new image (${c.data.width}x${c.data.height}).`);c.version=b.version+1,this.images[l]=c,this.updatedImages[l]=!0}removeImage(l){const c=this.images[l];delete this.images[l],delete this.patterns[l],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l){return new Promise((c,v)=>{let b=!0;if(!this.isLoaded())for(const S of l)this.images[S]||(b=!1);this.isLoaded()||b?c(this._getImagesForIds(l)):this.requestors.push({ids:l,promiseResolve:c})})}_getImagesForIds(l){const c={};for(const v of l){let b=this.getImage(v);b||(this.fire(new a.k("styleimagemissing",{id:v})),b=this.getImage(v)),b?c[v]={data:b.data.clone(),pixelRatio:b.pixelRatio,sdf:b.sdf,version:b.version,stretchX:b.stretchX,stretchY:b.stretchY,content:b.content,textFitWidth:b.textFitWidth,textFitHeight:b.textFitHeight,hasRenderCallback:!!(b.userImage&&b.userImage.render)}:a.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return c}getPixelSize(){const{width:l,height:c}=this.atlasImage;return{width:l,height:c}}getPattern(l){const c=this.patterns[l],v=this.getImage(l);if(!v)return null;if(c&&c.position.version===v.version)return c.position;if(c)c.position.version=v.version;else{const b={w:v.data.width+2,h:v.data.height+2,x:0,y:0},S=new a.I(b,v);this.patterns[l]={bin:b,position:S}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const c=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ft(l,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const S in this.patterns)l.push(this.patterns[S].bin);const{w:c,h:v}=a.p(l),b=this.atlasImage;b.resize({width:c||1,height:v||1});for(const S in this.patterns){const{bin:F}=this.patterns[S],R=F.x+1,G=F.y+1,J=this.getImage(S).data,ue=J.width,re=J.height;a.R.copy(J,b,{x:0,y:0},{x:R,y:G},{width:ue,height:re}),a.R.copy(J,b,{x:0,y:re-1},{x:R,y:G-1},{width:ue,height:1}),a.R.copy(J,b,{x:0,y:0},{x:R,y:G+re},{width:ue,height:1}),a.R.copy(J,b,{x:ue-1,y:0},{x:R-1,y:G},{width:1,height:re}),a.R.copy(J,b,{x:0,y:0},{x:R+ue,y:G},{width:1,height:re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const c of l){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const v=this.getImage(c);v||a.w(`Image with ID: "${c}" was not found`),$e(v)&&this.updateImage(c,v)}}}const nt=1e20;function en(O,l,c,v,b,S,F,R,G){for(let J=l;J<l+v;J++)nn(O,c*S+J,S,b,F,R,G);for(let J=c;J<c+b;J++)nn(O,J*S+l,1,v,F,R,G)}function nn(O,l,c,v,b,S,F){S[0]=0,F[0]=-nt,F[1]=nt,b[0]=O[l];for(let R=1,G=0,J=0;R<v;R++){b[R]=O[l+R*c];const ue=R*R;do{const re=S[G];J=(b[R]-b[re]+ue-re*re)/(R-re)/2}while(J<=F[G]&&--G>-1);G++,S[G]=R,F[G]=J,F[G+1]=nt}for(let R=0,G=0;R<v;R++){for(;F[G+1]<R;)G++;const J=S[G],ue=R-J;O[l+R*c]=b[J]+ue*ue}}class Et{constructor(l,c){this.requestManager=l,this.localIdeographFontFamily=c,this.entries={}}setURL(l){this.url=l}getGlyphs(l){return a._(this,void 0,void 0,function*(){const c=[];for(const S in l)for(const F of l[S])c.push(this._getAndCacheGlyphsPromise(S,F));const v=yield Promise.all(c),b={};for(const{stack:S,id:F,glyph:R}of v)b[S]||(b[S]={}),b[S][F]=R&&{id:R.id,bitmap:R.bitmap.clone(),metrics:R.metrics};return b})}_getAndCacheGlyphsPromise(l,c){return a._(this,void 0,void 0,function*(){let v=this.entries[l];v||(v=this.entries[l]={glyphs:{},requests:{},ranges:{}});let b=v.glyphs[c];if(b!==void 0)return{stack:l,id:c,glyph:b};if(b=this._tinySDF(v,l,c),b)return v.glyphs[c]=b,{stack:l,id:c,glyph:b};const S=Math.floor(c/256);if(256*S>65535)throw new Error("glyphs > 65535 not supported");if(v.ranges[S])return{stack:l,id:c,glyph:b};if(!this.url)throw new Error("glyphsUrl is not set");if(!v.requests[S]){const R=Et.loadGlyphRange(l,S,this.url,this.requestManager);v.requests[S]=R}const F=yield v.requests[S];for(const R in F)this._doesCharSupportLocalGlyph(+R)||(v.glyphs[+R]=F[+R]);return v.ranges[S]=!0,{stack:l,id:c,glyph:F[c]||null}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(l))}_tinySDF(l,c,v){const b=this.localIdeographFontFamily;if(!b||!this._doesCharSupportLocalGlyph(v))return;let S=l.tinySDF;if(!S){let R="400";/bold/i.test(c)?R="900":/medium/i.test(c)?R="500":/light/i.test(c)&&(R="200"),S=l.tinySDF=new Et.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:b,fontWeight:R})}const F=S.draw(String.fromCharCode(v));return{id:v,bitmap:new a.o({width:F.width||60,height:F.height||60},F.data),metrics:{width:F.glyphWidth/2||24,height:F.glyphHeight/2||24,left:F.glyphLeft/2+.5||0,top:F.glyphTop/2-27.5||-8,advance:F.glyphAdvance/2||24,isDoubleResolution:!0}}}}Et.loadGlyphRange=function(O,l,c,v){return a._(this,void 0,void 0,function*(){const b=256*l,S=b+255,F=v.transformRequest(c.replace("{fontstack}",O).replace("{range}",`${b}-${S}`),"Glyphs"),R=yield a.l(F,new AbortController);if(!R||!R.data)throw new Error(`Could not load glyph range. range: ${l}, ${b}-${S}`);const G={};for(const J of a.n(R.data))G[J.id]=J;return G})},Et.TinySDF=class{constructor({fontSize:O=24,buffer:l=3,radius:c=8,cutoff:v=.25,fontFamily:b="sans-serif",fontWeight:S="normal",fontStyle:F="normal"}={}){this.buffer=l,this.cutoff=v,this.radius=c;const R=this.size=O+4*l,G=this._createCanvas(R),J=this.ctx=G.getContext("2d",{willReadFrequently:!0});J.font=`${F} ${S} ${O}px ${b}`,J.textBaseline="alphabetic",J.textAlign="left",J.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(O){const l=document.createElement("canvas");return l.width=l.height=O,l}draw(O){const{width:l,actualBoundingBoxAscent:c,actualBoundingBoxDescent:v,actualBoundingBoxLeft:b,actualBoundingBoxRight:S}=this.ctx.measureText(O),F=Math.ceil(c),R=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(S-b))),G=Math.min(this.size-this.buffer,F+Math.ceil(v)),J=R+2*this.buffer,ue=G+2*this.buffer,re=Math.max(J*ue,0),xe=new Uint8ClampedArray(re),Be={data:xe,width:J,height:ue,glyphWidth:R,glyphHeight:G,glyphTop:F,glyphLeft:0,glyphAdvance:l};if(R===0||G===0)return Be;const{ctx:De,buffer:tt,gridInner:Xe,gridOuter:Ge}=this;De.clearRect(tt,tt,R,G),De.fillText(O,tt,tt+F);const gt=De.getImageData(tt,tt,R,G);Ge.fill(nt,0,re),Xe.fill(0,0,re);for(let ct=0;ct<G;ct++)for(let pt=0;pt<R;pt++){const vt=gt.data[4*(ct*R+pt)+3]/255;if(vt===0)continue;const bt=(ct+tt)*J+pt+tt;if(vt===1)Ge[bt]=0,Xe[bt]=nt;else{const Nt=.5-vt;Ge[bt]=Nt>0?Nt*Nt:0,Xe[bt]=Nt<0?Nt*Nt:0}}en(Ge,0,0,J,ue,J,this.f,this.v,this.z),en(Xe,tt,tt,R,G,J,this.f,this.v,this.z);for(let ct=0;ct<re;ct++){const pt=Math.sqrt(Ge[ct])-Math.sqrt(Xe[ct]);xe[ct]=Math.round(255-255*(pt/this.radius+this.cutoff))}return Be}};class Vt{constructor(){this.specification=a.v.light.position}possiblyEvaluate(l,c){return a.x(l.expression.evaluate(c))}interpolate(l,c,v){return{x:a.y.number(l.x,c.x,v),y:a.y.number(l.y,c.y,v),z:a.y.number(l.z,c.z,v)}}}let Jt;class Le extends a.E{constructor(l){super(),Jt=Jt||new a.q({anchor:new a.D(a.v.light.anchor),position:new Vt,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(Jt),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,c={}){if(!this._validate(a.r,l,c))for(const v in l){const b=l[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),b):this._transitionable.setValue(v,b)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,c,v){return(!v||v.validate!==!1)&&a.t(this,l.call(a.u,{value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const ye=new a.q({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class Te extends a.E{constructor(l){super(),this._transitionable=new a.T(ye),this.setSky(l),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.z(0))}setSky(l,c={}){if(!this._validate(a.B,l,c)){l||(l={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const v in l){const b=l[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),b):this._transitionable.setValue(v,b)}}}getSky(){return this._transitionable.serialize()}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,c,v={}){return(v==null?void 0:v.validate)!==!1&&a.t(this,l.call(a.u,a.e({value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(l){return l<60?0:l<70?(l-60)/10:1}}class Qe{constructor(l,c){this.width=l,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,c){const v=l.join(",")+String(c);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(l,c)),this.dashEntry[v]}getDashRanges(l,c,v){const b=[];let S=l.length%2==1?-l[l.length-1]*v:0,F=l[0]*v,R=!0;b.push({left:S,right:F,isDash:R,zeroLength:l[0]===0});let G=l[0];for(let J=1;J<l.length;J++){R=!R;const ue=l[J];S=G*v,G+=ue,F=G*v,b.push({left:S,right:F,isDash:R,zeroLength:ue===0})}return b}addRoundDash(l,c,v){const b=c/2;for(let S=-v;S<=v;S++){const F=this.width*(this.nextRow+v+S);let R=0,G=l[R];for(let J=0;J<this.width;J++){J/G.right>1&&(G=l[++R]);const ue=Math.abs(J-G.left),re=Math.abs(J-G.right),xe=Math.min(ue,re);let Be;const De=S/v*(b+1);if(G.isDash){const tt=b-Math.abs(De);Be=Math.sqrt(xe*xe+tt*tt)}else Be=b-Math.sqrt(xe*xe+De*De);this.data[F+J]=Math.max(0,Math.min(255,Be+128))}}}addRegularDash(l){for(let R=l.length-1;R>=0;--R){const G=l[R],J=l[R+1];G.zeroLength?l.splice(R,1):J&&J.isDash===G.isDash&&(J.left=G.left,l.splice(R,1))}const c=l[0],v=l[l.length-1];c.isDash===v.isDash&&(c.left=v.left-this.width,v.right=c.right+this.width);const b=this.width*this.nextRow;let S=0,F=l[S];for(let R=0;R<this.width;R++){R/F.right>1&&(F=l[++S]);const G=Math.abs(R-F.left),J=Math.abs(R-F.right),ue=Math.min(G,J);this.data[b+R]=Math.max(0,Math.min(255,(F.isDash?ue:-ue)+128))}}addDash(l,c){const v=c?7:0,b=2*v+1;if(this.nextRow+b>this.height)return a.w("LineAtlas out of space"),null;let S=0;for(let R=0;R<l.length;R++)S+=l[R];if(S!==0){const R=this.width/S,G=this.getDashRanges(l,this.width,R);c?this.addRoundDash(G,R,v):this.addRegularDash(G)}const F={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:S};return this.nextRow+=b,this.dirty=!0,F}bind(l){const c=l.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}const st="maplibre_preloaded_worker_pool";class lt{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<lt.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[st]}numActive(){return Object.keys(this.active).length}}const Kt=Math.floor(H.hardwareConcurrency/2);let Ht,Wt;function Rn(){return Ht||(Ht=new lt),Ht}lt.workerCount=a.C(globalThis)?Math.max(Math.min(Kt,3),1):1;class nr{constructor(l,c){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=c;const v=this.workerPool.acquire(c);for(let b=0;b<v.length;b++){const S=new a.F(v[b],c);S.name=`Worker ${b}`,this.actors.push(S)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,c){const v=[];for(const b of this.actors)v.push(b.sendAsync({type:l,data:c}));return Promise.all(v)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(l=!0){this.actors.forEach(c=>{c.remove()}),this.actors=[],l&&this.workerPool.release(this.id)}registerMessageHandler(l,c){for(const v of this.actors)v.registerMessageHandler(l,c)}}function _n(){return Wt||(Wt=new nr(Rn(),a.G),Wt.registerMessageHandler("GR",(O,l,c)=>a.m(l,c))),Wt}function tr(O,l){const c=a.H();return a.J(c,c,[1,1,0]),a.K(c,c,[.5*O.width,.5*O.height,1]),O.calculatePosMatrix?a.L(c,c,O.calculatePosMatrix(l.toUnwrapped())):c}function ur(O,l,c,v,b,S){const F=function(re,xe,Be){if(re)for(const De of re){const tt=xe[De];if(tt&&tt.source===Be&&tt.type==="fill-extrusion")return!0}else for(const De in xe){const tt=xe[De];if(tt.source===Be&&tt.type==="fill-extrusion")return!0}return!1}(b&&b.layers,l,O.id),R=S.maxPitchScaleFactor(),G=O.tilesIn(v,R,F);G.sort(_r);const J=[];for(const re of G)J.push({wrappedTileID:re.tileID.wrapped().key,queryResults:re.tile.queryRenderedFeatures(l,c,O._state,re.queryGeometry,re.cameraQueryGeometry,re.scale,b,S,R,tr(O.transform,re.tileID))});const ue=function(re){const xe={},Be={};for(const De of re){const tt=De.queryResults,Xe=De.wrappedTileID,Ge=Be[Xe]=Be[Xe]||{};for(const gt in tt){const ct=tt[gt],pt=Ge[gt]=Ge[gt]||{},vt=xe[gt]=xe[gt]||[];for(const bt of ct)pt[bt.featureIndex]||(pt[bt.featureIndex]=!0,vt.push(bt))}}return xe}(J);for(const re in ue)ue[re].forEach(xe=>{const Be=xe.feature,De=O.getFeatureState(Be.layer["source-layer"],Be.id);Be.source=Be.layer.source,Be.layer["source-layer"]&&(Be.sourceLayer=Be.layer["source-layer"]),Be.state=De});return ue}function _r(O,l){const c=O.tileID,v=l.tileID;return c.overscaledZ-v.overscaledZ||c.canonical.y-v.canonical.y||c.wrap-v.wrap||c.canonical.x-v.canonical.x}function Sr(O,l,c){return a._(this,void 0,void 0,function*(){let v=O;if(O.url?v=(yield a.h(l.transformRequest(O.url,"Source"),c)).data:yield H.frameAsync(c),!v)return null;const b=a.M(a.e(v,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in v&&v.vector_layers&&(b.vectorLayerIds=v.vector_layers.map(S=>S.id)),b})}class fr{constructor(l,c){l&&(c?this.setSouthWest(l).setNorthEast(c):Array.isArray(l)&&(l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1])))}setNorthEast(l){return this._ne=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}setSouthWest(l){return this._sw=l instanceof a.N?new a.N(l.lng,l.lat):a.N.convert(l),this}extend(l){const c=this._sw,v=this._ne;let b,S;if(l instanceof a.N)b=l,S=l;else{if(!(l instanceof fr))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(fr.convert(l)):this.extend(a.N.convert(l)):l&&("lng"in l||"lon"in l)&&"lat"in l?this.extend(a.N.convert(l)):this;if(b=l._sw,S=l._ne,!b||!S)return this}return c||v?(c.lng=Math.min(b.lng,c.lng),c.lat=Math.min(b.lat,c.lat),v.lng=Math.max(S.lng,v.lng),v.lat=Math.max(S.lat,v.lat)):(this._sw=new a.N(b.lng,b.lat),this._ne=new a.N(S.lng,S.lat)),this}getCenter(){return new a.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.N(this.getWest(),this.getNorth())}getSouthEast(){return new a.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:c,lat:v}=a.N.convert(l);let b=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&b}static convert(l){return l instanceof fr?l:l&&new fr(l)}static fromLngLat(l,c=0){const v=360*c/40075017,b=v/Math.cos(Math.PI/180*l.lat);return new fr(new a.N(l.lng-b,l.lat-v),new a.N(l.lng+b,l.lat+v))}adjustAntiMeridian(){const l=new a.N(this._sw.lng,this._sw.lat),c=new a.N(this._ne.lng,this._ne.lat);return new fr(l,l.lng>c.lng?new a.N(c.lng+360,c.lat):c)}}class pr{constructor(l,c,v){this.bounds=fr.convert(this.validateBounds(l)),this.minzoom=c||0,this.maxzoom=v||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const c=Math.pow(2,l.z),v=Math.floor(a.O(this.bounds.getWest())*c),b=Math.floor(a.Q(this.bounds.getNorth())*c),S=Math.ceil(a.O(this.bounds.getEast())*c),F=Math.ceil(a.Q(this.bounds.getSouth())*c);return l.x>=v&&l.x<S&&l.y>=b&&l.y<F}}class fi extends a.E{constructor(l,c,v,b){if(super(),this.id=l,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.M(c,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b)}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const l=yield Sr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l&&(a.e(this,l),l.bounds&&(this.tileBounds=new pr(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(l){this._tileJSONRequest=null,this.fire(new a.j(l))}})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.abort(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(c,"Tile"),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};v.request.collectResourceTiming=this._collectResourceTiming;let b="RT";if(l.actor&&l.state!=="expired"){if(l.state==="loading")return new Promise((S,F)=>{l.reloadPromise={resolve:S,reject:F}})}else l.actor=this.dispatcher.getActor(),b="LT";l.abortController=new AbortController;try{const S=yield l.actor.sendAsync({type:b,data:v},l.abortController);if(delete l.abortController,l.aborted)return;this._afterTileLoadWorkerResponse(l,S)}catch(S){if(delete l.abortController,l.aborted)return;if(S&&S.status!==404)throw S;this._afterTileLoadWorkerResponse(l,null)}})}_afterTileLoadWorkerResponse(l,c){if(c&&c.resourceTiming&&(l.resourceTiming=c.resourceTiming),c&&this.map._refreshExpiredTiles&&l.setExpiryData(c),l.loadVectorData(c,this.map.painter),l.reloadPromise){const v=l.reloadPromise;l.reloadPromise=null,this.loadTile(l).then(v.resolve).catch(v.reject)}}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.actor&&(yield l.actor.sendAsync({type:"AT",data:{uid:l.uid,type:this.type,source:this.id}}))})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),l.actor&&(yield l.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Pe extends a.E{constructor(l,c,v,b){super(),this.id=l,this.dispatcher=v,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},c),a.e(this,a.M(c,["url","scheme","tileSize"]))}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const l=yield Sr(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,l&&(a.e(this,l),l.bounds&&(this.tileBounds=new pr(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))}catch(l){this._tileJSONRequest=null,this.fire(new a.j(l))}})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(l){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}serialize(){return a.e({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.abortController=new AbortController;try{const v=yield _e.getImage(this.map._requestManager.transformRequest(c,"Tile"),l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(v&&v.data){this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&l.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const b=this.map.painter.context,S=b.gl,F=v.data;l.texture=this.map.painter.getTileTexture(F.width),l.texture?l.texture.update(F,{useMipmap:!0}):(l.texture=new ft(b,F,S.RGBA,{useMipmap:!0}),l.texture.bind(S.LINEAR,S.CLAMP_TO_EDGE,S.LINEAR_MIPMAP_NEAREST)),l.state="loaded"}}catch(v){if(delete l.abortController,l.aborted)l.state="unloaded";else if(v)throw l.state="errored",v}})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController)})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.texture&&this.map.painter.saveTileTexture(l.texture)})}hasTransition(){return!1}}class Q extends Pe{constructor(l,c,v,b){super(l,c,v,b),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox",this.redFactor=c.redFactor,this.greenFactor=c.greenFactor,this.blueFactor=c.blueFactor,this.baseShift=c.baseShift}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(c,"Tile");l.neighboringTiles=this._getNeighboringTiles(l.tileID),l.abortController=new AbortController;try{const b=yield _e.getImage(v,l.abortController,this.map._refreshExpiredTiles);if(delete l.abortController,l.aborted)return void(l.state="unloaded");if(b&&b.data){const S=b.data;this.map._refreshExpiredTiles&&b.cacheControl&&b.expires&&l.setExpiryData({cacheControl:b.cacheControl,expires:b.expires});const F=a.b(S)&&a.U()?S:yield this.readImageNow(S),R={type:this.type,uid:l.uid,source:this.id,rawImageData:F,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!l.actor||l.state==="expired"){l.actor=this.dispatcher.getActor();const G=yield l.actor.sendAsync({type:"LDT",data:R});l.dem=G,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded"}}}catch(b){if(delete l.abortController,l.aborted)l.state="unloaded";else if(b)throw l.state="errored",b}})}readImageNow(l){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.V()){const c=l.width+2,v=l.height+2;try{return new a.R({width:c,height:v},yield a.W(l,-1,-1,c,v))}catch{}}return H.getImageData(l,1)})}_getNeighboringTiles(l){const c=l.canonical,v=Math.pow(2,c.z),b=(c.x-1+v)%v,S=c.x===0?l.wrap-1:l.wrap,F=(c.x+1+v)%v,R=c.x+1===v?l.wrap+1:l.wrap,G={};return G[new a.S(l.overscaledZ,S,c.z,b,c.y).key]={backfilled:!1},G[new a.S(l.overscaledZ,R,c.z,F,c.y).key]={backfilled:!1},c.y>0&&(G[new a.S(l.overscaledZ,S,c.z,b,c.y-1).key]={backfilled:!1},G[new a.S(l.overscaledZ,l.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},G[new a.S(l.overscaledZ,R,c.z,F,c.y-1).key]={backfilled:!1}),c.y+1<v&&(G[new a.S(l.overscaledZ,S,c.z,b,c.y+1).key]={backfilled:!1},G[new a.S(l.overscaledZ,l.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},G[new a.S(l.overscaledZ,R,c.z,F,c.y+1).key]={backfilled:!1}),G}unloadTile(l){return a._(this,void 0,void 0,function*(){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&(yield l.actor.sendAsync({type:"RDT",data:{type:this.type,uid:l.uid,source:this.id}}))})}}class oe extends a.E{constructor(l,c,v,b){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(b),this._data=c.data,this._options=a.e({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const S=a.X/this.tileSize;c.clusterMaxZoom!==void 0&&this.maxzoom<=c.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${c.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*S,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*S,extent:a.X,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:a.X,radius:(c.clusterRadius||50)*S,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return a._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData(),this}updateData(l){return this._updateWorkerData(l),this}getData(){return a._(this,void 0,void 0,function*(){const l=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:l})})}setClusterOptions(l){return this.workerOptions.cluster=l.cluster,l&&(l.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=l.clusterRadius),l.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=l.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(l){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:l,source:this.id}})}getClusterChildren(l){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:l,source:this.id}})}getClusterLeaves(l,c,v){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:l,limit:c,offset:v}})}_updateWorkerData(l){return a._(this,void 0,void 0,function*(){const c=a.e({type:this.type},this.workerOptions);l?c.dataDiff=l:typeof this._data=="string"?(c.request=this.map._requestManager.transformRequest(H.resolveURL(this._data),"Source"),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"}));try{const v=yield this.actor.sendAsync({type:"LD",data:c});if(this._pendingLoads--,this._removed||v.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let b=null;v.resourceTiming&&v.resourceTiming[this.id]&&(b=v.resourceTiming[this.id].slice(0));const S={dataType:"source"};this._collectResourceTiming&&b&&b.length>0&&a.e(S,{resourceTiming:b}),this.fire(new a.k("data",Object.assign(Object.assign({},S),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},S),{sourceDataType:"content"})))}catch(v){if(this._pendingLoads--,this._removed)return void this.fire(new a.k("dataabort",{dataType:"source"}));this.fire(new a.j(v))}})}loaded(){return this._pendingLoads===0}loadTile(l){return a._(this,void 0,void 0,function*(){const c=l.actor?"RT":"LT";l.actor=this.actor;const v={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};l.abortController=new AbortController;const b=yield this.actor.sendAsync({type:c,data:v},l.abortController);delete l.abortController,l.unloadVectorData(),l.aborted||l.loadVectorData(b,this.map.painter,c==="RT")})}abortTile(l){return a._(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.aborted=!0})}unloadTile(l){return a._(this,void 0,void 0,function*(){l.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Re extends a.E{constructor(l,c,v,b){super(),this.flippedWindingOrder=!1,this.id=l,this.dispatcher=v,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(b),this.options=c}load(l){return a._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const c=yield _e.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,c&&c.data&&(this.image=c.data,l&&(this.coordinates=l),this._finishLoading())}catch(c){this._request=null,this._loaded=!0,this.fire(new a.j(c))}})}loaded(){return this._loaded}updateImage(l){return l.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=l.url,this.load(l.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(l){this.coordinates=l;const c=l.map(a.Y.fromLngLat);var v;return this.tileID=function(b){let S=1/0,F=1/0,R=-1/0,G=-1/0;for(const xe of b)S=Math.min(S,xe.x),F=Math.min(F,xe.y),R=Math.max(R,xe.x),G=Math.max(G,xe.y);const J=Math.max(R-S,G-F),ue=Math.max(0,Math.floor(-Math.log(J)/Math.LN2)),re=Math.pow(2,ue);return new a.Z(ue,Math.floor((S+R)/2*re),Math.floor((F+G)/2*re))}(c),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=c.map(b=>this.tileID.getTilePoint(b)._round()),this.flippedWindingOrder=((v=this.tileCoords)[1].x-v[0].x)*(v[2].y-v[0].y)-(v[1].y-v[0].y)*(v[2].x-v[0].x)<0,this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,c=l.gl;this.texture||(this.texture=new ft(l,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let v=!1;for(const b in this.tiles){const S=this.tiles[b];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture,v=!0)}v&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(l){return a._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={}):l.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ut extends Re{constructor(l,c,v,b){super(l,c,v,b),this.roundZoom=!0,this.type="video",this.options=c}load(){return a._(this,void 0,void 0,function*(){this._loaded=!1;const l=this.options;this.urls=[];for(const c of l.urls)this.urls.push(this.map._requestManager.transformRequest(c,"Source").url);try{const c=yield a.a0(this.urls);if(this._loaded=!0,!c)return;this.video=c,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(c){this.fire(new a.j(c))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const c=this.video.seekable;l<c.start(0)||l>c.end(0)?this.fire(new a.j(new a.$(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,c=l.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new ft(l,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE));let v=!1;for(const b in this.tiles){const S=this.tiles[b];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture,v=!0)}v&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Tt extends Re{constructor(l,c,v,b){super(l,c,v,b),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(S=>!Array.isArray(S)||S.length!==2||S.some(F=>typeof F!="number"))||this.fire(new a.j(new a.$(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new a.j(new a.$(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.$(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.$(`sources.${l}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){return a._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context,v=c.gl;this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ft(c,this.canvas,v.RGBA,{premultiply:!0});let b=!1;for(const S in this.tiles){const F=this.tiles[S];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,b=!0)}b&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const jt={},ar=O=>{switch(O){case"geojson":return oe;case"image":return Re;case"raster":return Pe;case"raster-dem":return Q;case"vector":return fi;case"video":return ut;case"canvas":return Tt}return jt[O]},ht="RTLPluginLoaded";class Ee extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=_n()}_syncState(l){return this.status=l,this.dispatcher.broadcast("SRPS",{pluginStatus:l,pluginURL:this.url}).catch(c=>{throw this.status="error",c})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(l){return a._(this,arguments,void 0,function*(c,v=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=H.resolveURL(c),!this.url)throw new Error(`requested url ${c} is invalid`);if(this.status==="unavailable"){if(!v)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.k(ht))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ve=null;function p(){return ve||(ve=new Ee),ve}class Ke{constructor(l,c){this.timeAdded=0,this.fadeEndTime=0,this.tileID=l,this.uid=a.a1(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const c=l+this.timeAdded;c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(l,c,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function(b,S){const F={};if(!S)return F;for(const R of b){const G=R.layerIds.map(J=>S.getLayer(J)).filter(Boolean);if(G.length!==0){R.layers=G,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(J=>G.filter(ue=>ue.id===J)[0]));for(const J of G)F[J.id]=R}}return F}(l.buckets,c.style),this.hasSymbolBuckets=!1;for(const b in this.buckets){const S=this.buckets[b];if(S instanceof a.a3){if(this.hasSymbolBuckets=!0,!v)break;S.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const b in this.buckets){const S=this.buckets[b];if(S instanceof a.a3&&S.hasRTLText){this.hasRTLText=!0,p().lazyLoad();break}}this.queryPadding=0;for(const b in this.buckets){const S=this.buckets[b];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(b).queryRadius(S))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new a.a2}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const v in this.buckets){const b=this.buckets[v];b.uploadPending()&&b.upload(l)}const c=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ft(l,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ft(l,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,c,v,b,S,F,R,G,J,ue){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:b,cameraQueryGeometry:S,scale:F,tileSize:this.tileSize,pixelPosMatrix:ue,transform:G,params:R,queryPadding:this.queryPadding*J},l,c,v):{}}querySourceFeatures(l,c){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const b=v.loadVTLayers(),S=c&&c.sourceLayer?c.sourceLayer:"",F=b._geojsonTileLayer||b[S];if(!F)return;const R=a.a4(c&&c.filter),{z:G,x:J,y:ue}=this.tileID.canonical,re={z:G,x:J,y:ue};for(let xe=0;xe<F.length;xe++){const Be=F.feature(xe);if(R.needGeometry){const Xe=a.a5(Be,!0);if(!R.filter(new a.z(this.tileID.overscaledZ),Xe,this.tileID.canonical))continue}else if(!R.filter(new a.z(this.tileID.overscaledZ),Be))continue;const De=v.getId(Be,S),tt=new a.a6(Be,G,J,ue,De);tt.tile=re,l.push(tt)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const c=this.expirationTime;if(l.cacheControl){const v=a.a7(l.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const v=Date.now();let b=!1;if(this.expirationTime>v)b=!1;else if(c)if(this.expirationTime<c)b=!0;else{const S=this.expirationTime-c;S?this.expirationTime=v+Math.max(S,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const b in this.buckets){if(!c.style.hasLayer(b))continue;const S=this.buckets[b],F=S.layers[0].sourceLayer||"_geojsonTileLayer",R=v[F],G=l[F];if(!R||!G||Object.keys(G).length===0)continue;S.update(G,R,this.imageAtlas&&this.imageAtlas.patternPositions||{});const J=c&&c.style&&c.style.getLayer(b);J&&(this.queryPadding=Math.max(this.queryPadding,J.queryRadius(S)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<H.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=H.now()+l}setDependencies(l,c){const v={};for(const b of c)v[b]=!0;this.dependencies[l]=v}hasDependency(l,c){for(const v of l){const b=this.dependencies[v];if(b){for(const S of c)if(b[S])return!0}}return!1}}class ze{constructor(l,c){this.max=l,this.onRemove=c,this.reset()}reset(){for(const l in this.data)for(const c of this.data[l])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(l,c,v){const b=l.wrapped().key;this.data[b]===void 0&&(this.data[b]=[]);const S={value:c,timeout:void 0};if(v!==void 0&&(S.timeout=setTimeout(()=>{this.remove(l,S)},v)),this.data[b].push(S),this.order.push(b),this.order.length>this.max){const F=this._getAndRemoveByKey(this.order[0]);F&&this.onRemove(F)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const c=this.data[l].shift();return c.timeout&&clearTimeout(c.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),c.value}getByKey(l){const c=this.data[l];return c?c[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,c){if(!this.has(l))return this;const v=l.wrapped().key,b=c===void 0?0:this.data[v].indexOf(c),S=this.data[v][b];return this.data[v].splice(b,1),S.timeout&&clearTimeout(S.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(S.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(l){const c=[];for(const v in this.data)for(const b of this.data[v])l(b.value)||c.push(b);for(const v of c)this.remove(v.value.tileID,v)}}class it{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,c,v){const b=String(c);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][b]=this.stateChanges[l][b]||{},a.e(this.stateChanges[l][b],v),this.deletedStates[l]===null){this.deletedStates[l]={};for(const S in this.state[l])S!==b&&(this.deletedStates[l][S]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][b]===null){this.deletedStates[l][b]={};for(const S in this.state[l][b])v[S]||(this.deletedStates[l][b][S]=null)}else for(const S in v)this.deletedStates[l]&&this.deletedStates[l][b]&&this.deletedStates[l][b][S]===null&&delete this.deletedStates[l][b][S]}removeFeatureState(l,c,v){if(this.deletedStates[l]===null)return;const b=String(c);if(this.deletedStates[l]=this.deletedStates[l]||{},v&&c!==void 0)this.deletedStates[l][b]!==null&&(this.deletedStates[l][b]=this.deletedStates[l][b]||{},this.deletedStates[l][b][v]=null);else if(c!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][b])for(v in this.deletedStates[l][b]={},this.stateChanges[l][b])this.deletedStates[l][b][v]=null;else this.deletedStates[l][b]=null;else this.deletedStates[l]=null}getState(l,c){const v=String(c),b=a.e({},(this.state[l]||{})[v],(this.stateChanges[l]||{})[v]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const S=this.deletedStates[l][c];if(S===null)return{};for(const F in S)delete b[F]}return b}initializeTileState(l,c){l.setFeatureState(this.state,c)}coalesceChanges(l,c){const v={};for(const b in this.stateChanges){this.state[b]=this.state[b]||{};const S={};for(const F in this.stateChanges[b])this.state[b][F]||(this.state[b][F]={}),a.e(this.state[b][F],this.stateChanges[b][F]),S[F]=this.state[b][F];v[b]=S}for(const b in this.deletedStates){this.state[b]=this.state[b]||{};const S={};if(this.deletedStates[b]===null)for(const F in this.state[b])S[F]={},this.state[b][F]={};else for(const F in this.deletedStates[b]){if(this.deletedStates[b][F]===null)this.state[b][F]={};else for(const R of Object.keys(this.deletedStates[b][F]))delete this.state[b][F][R];S[F]=this.state[b][F]}v[b]=v[b]||{},a.e(v[b],S)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const b in l)l[b].setFeatureState(v,c)}}class dt extends a.E{constructor(l,c,v){super(),this.id=l,this.dispatcher=v,this.on("data",b=>this._dataHandler(b)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((b,S,F,R)=>{const G=new(ar(S.type))(b,S,F,R);if(G.id!==b)throw new Error(`Expected Source id to be ${b} instead of ${G.id}`);return G})(l,c,v,this),this._tiles={},this._cache=new ze(0,b=>this._unloadTile(b)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new it,this._didEmitContent=!1,this._updated=!1}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._maxTileCacheZoomLevels=l?l._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const l in this._tiles){const c=this._tiles[l];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,c,v){return a._(this,void 0,void 0,function*(){try{yield this._source.loadTile(l),this._tileLoaded(l,c,v)}catch(b){l.state="errored",b.status!==404?this._source.fire(new a.j(b,{tile:l})):this.update(this.transform,this.terrain)}})}_unloadTile(l){this._source.unloadTile&&this._source.unloadTile(l)}_abortTile(l){this._source.abortTile&&this._source.abortTile(l),this._source.fire(new a.k("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const v=this._tiles[c];v.upload(l),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(ot).map(l=>l.key)}getRenderableIds(l){const c=[];for(const v in this._tiles)this._isIdRenderable(v,l)&&c.push(this._tiles[v]);return l?c.sort((v,b)=>{const S=v.tileID,F=b.tileID,R=new a.P(S.canonical.x,S.canonical.y)._rotate(this.transform.angle),G=new a.P(F.canonical.x,F.canonical.y)._rotate(this.transform.angle);return S.overscaledZ-F.overscaledZ||G.y-R.y||G.x-R.x}).map(v=>v.tileID.key):c.map(v=>v.tileID).sort(ot).map(v=>v.key)}hasRenderableParent(l){const c=this.findLoadedParent(l,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(l,c){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(c||!this._tiles[l].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const l in this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")}}_reloadTile(l,c){return a._(this,void 0,void 0,function*(){const v=this._tiles[l];v&&(v.state!=="loading"&&(v.state=c),yield this._loadTile(v,l,c))})}_tileLoaded(l,c,v){l.timeAdded=H.now(),v==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(c,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const c=this.getRenderableIds();for(let b=0;b<c.length;b++){const S=c[b];if(l.neighboringTiles&&l.neighboringTiles[S]){const F=this.getTileByID(S);v(l,F),v(F,l)}}function v(b,S){b.needsHillshadePrepare=!0,b.needsTerrainPrepare=!0;let F=S.tileID.canonical.x-b.tileID.canonical.x;const R=S.tileID.canonical.y-b.tileID.canonical.y,G=Math.pow(2,b.tileID.canonical.z),J=S.tileID.key;F===0&&R===0||Math.abs(R)>1||(Math.abs(F)>1&&(Math.abs(F+G)===1?F+=G:Math.abs(F-G)===1&&(F-=G)),S.dem&&b.dem&&(b.dem.backfillBorder(S.dem,F,R),b.neighboringTiles&&b.neighboringTiles[J]&&(b.neighboringTiles[J].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,c,v,b){for(const S in this._tiles){let F=this._tiles[S];if(b[S]||!F.hasData()||F.tileID.overscaledZ<=c||F.tileID.overscaledZ>v)continue;let R=F.tileID;for(;F&&F.tileID.overscaledZ>c+1;){const J=F.tileID.scaledTo(F.tileID.overscaledZ-1);F=this._tiles[J.key],F&&F.hasData()&&(R=J)}let G=R;for(;G.overscaledZ>c;)if(G=G.scaledTo(G.overscaledZ-1),l[G.key]){b[R.key]=R;break}}}findLoadedParent(l,c){if(l.key in this._loadedParentTiles){const v=this._loadedParentTiles[l.key];return v&&v.tileID.overscaledZ>=c?v:null}for(let v=l.overscaledZ-1;v>=c;v--){const b=l.scaledTo(v),S=this._getLoadedTile(b);if(S)return S}}findLoadedSibling(l){return this._getLoadedTile(l)}_getLoadedTile(l){const c=this._tiles[l.key];return c&&c.hasData()?c:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const c=Math.ceil(l.width/this._source.tileSize)+1,v=Math.ceil(l.height/this._source.tileSize)+1,b=Math.floor(c*v*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),S=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,b):b;this._cache.setMaxSize(S)}handleWrapJump(l){const c=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,c){const v={};for(const b in this._tiles){const S=this._tiles[b];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+c),v[S.tileID.key]=S}this._tiles=v;for(const b in this._timers)clearTimeout(this._timers[b]),delete this._timers[b];for(const b in this._tiles)this._setTileReloadTimer(b,this._tiles[b])}}_updateCoveredAndRetainedTiles(l,c,v,b,S,F){const R={},G={},J=Object.keys(l),ue=H.now();for(const re of J){const xe=l[re],Be=this._tiles[re];if(!Be||Be.fadeEndTime!==0&&Be.fadeEndTime<=ue)continue;const De=this.findLoadedParent(xe,c),tt=this.findLoadedSibling(xe),Xe=De||tt||null;Xe&&(this._addTile(Xe.tileID),R[Xe.tileID.key]=Xe.tileID),G[re]=xe}this._retainLoadedChildren(G,b,v,l);for(const re in R)l[re]||(this._coveredTiles[re]=!0,l[re]=R[re]);if(F){const re={},xe={};for(const Be of S)this._tiles[Be.key].hasData()?re[Be.key]=Be:xe[Be.key]=Be;for(const Be in xe){const De=xe[Be].children(this._source.maxzoom);this._tiles[De[0].key]&&this._tiles[De[1].key]&&this._tiles[De[2].key]&&this._tiles[De[3].key]&&(re[De[0].key]=l[De[0].key]=De[0],re[De[1].key]=l[De[1].key]=De[1],re[De[2].key]=l[De[2].key]=De[2],re[De[3].key]=l[De[3].key]=De[3],delete xe[Be])}for(const Be in xe){const De=xe[Be],tt=this.findLoadedParent(De,this._source.minzoom),Xe=this.findLoadedSibling(De),Ge=tt||Xe||null;if(Ge){re[Ge.tileID.key]=l[Ge.tileID.key]=Ge.tileID;for(const gt in re)re[gt].isChildOf(Ge.tileID)&&delete re[gt]}}for(const Be in this._tiles)re[Be]||(this._coveredTiles[Be]=!0)}}update(l,c){if(!this._sourceLoaded||this._paused)return;let v;this.transform=l,this.terrain=c,this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(ue=>new a.S(ue.canonical.z,ue.wrap,ue.canonical.z,ue.canonical.x,ue.canonical.y)):(v=l.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:c}),this._source.hasTile&&(v=v.filter(ue=>this._source.hasTile(ue)))):v=[];const b=l.coveringZoomLevel(this._source),S=Math.max(b-dt.maxOverzooming,this._source.minzoom),F=Math.max(b+dt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const ue={};for(const re of v)if(re.canonical.z>this._source.minzoom){const xe=re.scaledTo(re.canonical.z-1);ue[xe.key]=xe;const Be=re.scaledTo(Math.max(this._source.minzoom,Math.min(re.canonical.z,5)));ue[Be.key]=Be}v=v.concat(Object.values(ue))}const R=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,R&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const G=this._updateRetainedTiles(v,b);Ft(this._source.type)&&this._updateCoveredAndRetainedTiles(G,S,F,b,v,c);for(const ue in G)this._tiles[ue].clearFadeHold();const J=a.a8(this._tiles,G);for(const ue of J){const re=this._tiles[ue];re.hasSymbolBuckets&&!re.holdingForFade()?re.setHoldDuration(this.map._fadeDuration):re.hasSymbolBuckets&&!re.symbolFadeFinished()||this._removeTile(ue)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,c){var v;const b={},S={},F=Math.max(c-dt.maxOverzooming,this._source.minzoom),R=Math.max(c+dt.maxUnderzooming,this._source.minzoom),G={};for(const J of l){const ue=this._addTile(J);b[J.key]=J,ue.hasData()||c<this._source.maxzoom&&(G[J.key]=J)}this._retainLoadedChildren(G,c,R,b);for(const J of l){let ue=this._tiles[J.key];if(ue.hasData())continue;if(c+1>this._source.maxzoom){const xe=J.children(this._source.maxzoom)[0],Be=this.getTile(xe);if(Be&&Be.hasData()){b[xe.key]=xe;continue}}else{const xe=J.children(this._source.maxzoom);if(b[xe[0].key]&&b[xe[1].key]&&b[xe[2].key]&&b[xe[3].key])continue}let re=ue.wasRequested();for(let xe=J.overscaledZ-1;xe>=F;--xe){const Be=J.scaledTo(xe);if(S[Be.key])break;if(S[Be.key]=!0,ue=this.getTile(Be),!ue&&re&&(ue=this._addTile(Be)),ue){const De=ue.hasData();if((De||!(!((v=this.map)===null||v===void 0)&&v.cancelPendingTileRequestsWhileZooming)||re)&&(b[Be.key]=Be),re=ue.wasRequested(),De)break}}}return b}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const c=[];let v,b=this._tiles[l].tileID;for(;b.overscaledZ>0;){if(b.key in this._loadedParentTiles){v=this._loadedParentTiles[b.key];break}c.push(b.key);const S=b.scaledTo(b.overscaledZ-1);if(v=this._getLoadedTile(S),v)break;b=S}for(const S of c)this._loadedParentTiles[S]=v}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const l in this._tiles){const c=this._tiles[l].tileID,v=this._getLoadedTile(c);this._loadedSiblingTiles[c.key]=v}}_addTile(l){let c=this._tiles[l.key];if(c)return c;c=this._cache.getAndRemove(l),c&&(this._setTileReloadTimer(l.key,c),c.tileID=l,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,c)));const v=c;return c||(c=new Ke(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(c,l.key,c.state)),c.uses++,this._tiles[l.key]=c,v||this._source.fire(new a.k("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(l,c){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const v=c.getExpiryTimeout();v&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},v))}_removeTile(l){const c=this._tiles[l];c&&(c.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}_dataHandler(l){const c=l.sourceDataType;l.dataType==="source"&&c==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&l.dataType==="source"&&c==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,c,v){const b=[],S=this.transform;if(!S)return b;const F=v?S.getCameraQueryGeometry(l):l,R=l.map(De=>S.screenPointToMercatorCoordinate(De,this.terrain)),G=F.map(De=>S.screenPointToMercatorCoordinate(De,this.terrain)),J=this.getIds();let ue=1/0,re=1/0,xe=-1/0,Be=-1/0;for(const De of G)ue=Math.min(ue,De.x),re=Math.min(re,De.y),xe=Math.max(xe,De.x),Be=Math.max(Be,De.y);for(let De=0;De<J.length;De++){const tt=this._tiles[J[De]];if(tt.holdingForFade())continue;const Xe=tt.tileID,Ge=Math.pow(2,S.zoom-tt.tileID.overscaledZ),gt=c*tt.queryPadding*a.X/tt.tileSize/Ge,ct=[Xe.getTilePoint(new a.Y(ue,re)),Xe.getTilePoint(new a.Y(xe,Be))];if(ct[0].x-gt<a.X&&ct[0].y-gt<a.X&&ct[1].x+gt>=0&&ct[1].y+gt>=0){const pt=R.map(bt=>Xe.getTilePoint(bt)),vt=G.map(bt=>Xe.getTilePoint(bt));b.push({tile:tt,tileID:Xe,queryGeometry:pt,cameraQueryGeometry:vt,scale:Ge})}}return b}getVisibleCoordinates(l){const c=this.getRenderableIds(l).map(v=>this._tiles[v].tileID);return this.transform&&this.transform.precacheTiles(c),c}hasTransition(){if(this._source.hasTransition())return!0;if(Ft(this._source.type)){const l=H.now();for(const c in this._tiles)if(this._tiles[c].fadeEndTime>=l)return!0}return!1}setFeatureState(l,c,v){this._state.updateState(l=l||"_geojsonTileLayer",c,v)}removeFeatureState(l,c,v){this._state.removeFeatureState(l=l||"_geojsonTileLayer",c,v)}getFeatureState(l,c){return this._state.getState(l=l||"_geojsonTileLayer",c)}setDependencies(l,c,v){const b=this._tiles[l];b&&b.setDependencies(c,v)}reloadTilesForDependencies(l,c){for(const v in this._tiles)this._tiles[v].hasDependency(l,c)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(l,c))}}function ot(O,l){const c=Math.abs(2*O.wrap)-+(O.wrap<0),v=Math.abs(2*l.wrap)-+(l.wrap<0);return O.overscaledZ-l.overscaledZ||v-c||l.canonical.y-O.canonical.y||l.canonical.x-O.canonical.x}function Ft(O){return O==="raster"||O==="image"||O==="video"}dt.maxOverzooming=10,dt.maxUnderzooming=3;class rt{constructor(l,c){this.reset(l,c)}reset(l,c){this.points=l||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=a.a9(l,0,1);let c=1,v=this._distances[c];const b=l*this.paddedLength+this.padding;for(;v<b&&c<this._distances.length;)v=this._distances[++c];const S=c-1,F=this._distances[S],R=v-F,G=R>0?(b-F)/R:0;return this.points[S].mult(1-G).add(this.points[c].mult(G))}}function mt(O,l){let c=!0;return O==="always"||O!=="never"&&l!=="never"||(c=!1),c}class Bt{constructor(l,c,v){const b=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(l/v),this.yCellCount=Math.ceil(c/v);for(let F=0;F<this.xCellCount*this.yCellCount;F++)b.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=c,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,c,v,b,S){this._forEachCell(c,v,b,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(c),this.bboxes.push(v),this.bboxes.push(b),this.bboxes.push(S)}insertCircle(l,c,v,b){this._forEachCell(c-b,v-b,c+b,v+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(c),this.circles.push(v),this.circles.push(b)}_insertBoxCell(l,c,v,b,S,F){this.boxCells[S].push(F)}_insertCircleCell(l,c,v,b,S,F){this.circleCells[S].push(F)}_query(l,c,v,b,S,F,R){if(v<0||l>this.width||b<0||c>this.height)return[];const G=[];if(l<=0&&c<=0&&this.width<=v&&this.height<=b){if(S)return[{key:null,x1:l,y1:c,x2:v,y2:b}];for(let J=0;J<this.boxKeys.length;J++)G.push({key:this.boxKeys[J],x1:this.bboxes[4*J],y1:this.bboxes[4*J+1],x2:this.bboxes[4*J+2],y2:this.bboxes[4*J+3]});for(let J=0;J<this.circleKeys.length;J++){const ue=this.circles[3*J],re=this.circles[3*J+1],xe=this.circles[3*J+2];G.push({key:this.circleKeys[J],x1:ue-xe,y1:re-xe,x2:ue+xe,y2:re+xe})}}else this._forEachCell(l,c,v,b,this._queryCell,G,{hitTest:S,overlapMode:F,seenUids:{box:{},circle:{}}},R);return G}query(l,c,v,b){return this._query(l,c,v,b,!1,null)}hitTest(l,c,v,b,S,F){return this._query(l,c,v,b,!0,S,F).length>0}hitTestCircle(l,c,v,b,S){const F=l-v,R=l+v,G=c-v,J=c+v;if(R<0||F>this.width||J<0||G>this.height)return!1;const ue=[];return this._forEachCell(F,G,R,J,this._queryCellCircle,ue,{hitTest:!0,overlapMode:b,circle:{x:l,y:c,radius:v},seenUids:{box:{},circle:{}}},S),ue.length>0}_queryCell(l,c,v,b,S,F,R,G){const{seenUids:J,hitTest:ue,overlapMode:re}=R,xe=this.boxCells[S];if(xe!==null){const De=this.bboxes;for(const tt of xe)if(!J.box[tt]){J.box[tt]=!0;const Xe=4*tt,Ge=this.boxKeys[tt];if(l<=De[Xe+2]&&c<=De[Xe+3]&&v>=De[Xe+0]&&b>=De[Xe+1]&&(!G||G(Ge))&&(!ue||!mt(re,Ge.overlapMode))&&(F.push({key:Ge,x1:De[Xe],y1:De[Xe+1],x2:De[Xe+2],y2:De[Xe+3]}),ue))return!0}}const Be=this.circleCells[S];if(Be!==null){const De=this.circles;for(const tt of Be)if(!J.circle[tt]){J.circle[tt]=!0;const Xe=3*tt,Ge=this.circleKeys[tt];if(this._circleAndRectCollide(De[Xe],De[Xe+1],De[Xe+2],l,c,v,b)&&(!G||G(Ge))&&(!ue||!mt(re,Ge.overlapMode))){const gt=De[Xe],ct=De[Xe+1],pt=De[Xe+2];if(F.push({key:Ge,x1:gt-pt,y1:ct-pt,x2:gt+pt,y2:ct+pt}),ue)return!0}}}return!1}_queryCellCircle(l,c,v,b,S,F,R,G){const{circle:J,seenUids:ue,overlapMode:re}=R,xe=this.boxCells[S];if(xe!==null){const De=this.bboxes;for(const tt of xe)if(!ue.box[tt]){ue.box[tt]=!0;const Xe=4*tt,Ge=this.boxKeys[tt];if(this._circleAndRectCollide(J.x,J.y,J.radius,De[Xe+0],De[Xe+1],De[Xe+2],De[Xe+3])&&(!G||G(Ge))&&!mt(re,Ge.overlapMode))return F.push(!0),!0}}const Be=this.circleCells[S];if(Be!==null){const De=this.circles;for(const tt of Be)if(!ue.circle[tt]){ue.circle[tt]=!0;const Xe=3*tt,Ge=this.circleKeys[tt];if(this._circlesCollide(De[Xe],De[Xe+1],De[Xe+2],J.x,J.y,J.radius)&&(!G||G(Ge))&&!mt(re,Ge.overlapMode))return F.push(!0),!0}}}_forEachCell(l,c,v,b,S,F,R,G){const J=this._convertToXCellCoord(l),ue=this._convertToYCellCoord(c),re=this._convertToXCellCoord(v),xe=this._convertToYCellCoord(b);for(let Be=J;Be<=re;Be++)for(let De=ue;De<=xe;De++)if(S.call(this,l,c,v,b,this.xCellCount*De+Be,F,R,G))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,c,v,b,S,F){const R=b-l,G=S-c,J=v+F;return J*J>R*R+G*G}_circleAndRectCollide(l,c,v,b,S,F,R){const G=(F-b)/2,J=Math.abs(l-(b+G));if(J>G+v)return!1;const ue=(R-S)/2,re=Math.abs(c-(S+ue));if(re>ue+v)return!1;if(J<=G||re<=ue)return!0;const xe=J-G,Be=re-ue;return xe*xe+Be*Be<=v*v}}function cn(O,l,c){const v=a.H();return a.K(v,v,[1/c,1/c,1]),O||a.aa(v,v,l.angle),v}function mn(O,l,c,v){if(O){const b=a.H();return a.K(b,b,[v,v,1]),l||a.aa(b,b,-c.angle),b}return c.pixelsToClipSpaceMatrix}function fn(O,l,c,v){let b;v?(b=[O,l,v(O,l),1],a.af(b,b,c)):(b=[O,l,0,1],qa(b,b,c));const S=b[3];return{point:new a.P(b[0]/S,b[1]/S),signedDistanceFromCamera:S,isOccluded:!1}}function Cr(O,l){return .5+O/l*.5}function rr(O,l){return O.x>=-l[0]&&O.x<=l[0]&&O.y>=-l[1]&&O.y<=l[1]}function Mr(O,l,c,v,b,S,F,R,G,J,ue,re,xe){const Be=c?O.textSizeData:O.iconSizeData,De=a.ab(Be,l.transform.zoom),tt=[256/l.width*2+1,256/l.height*2+1],Xe=c?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;Xe.clear();const Ge=O.lineVertexArray,gt=c?O.text.placedSymbolArray:O.icon.placedSymbolArray,ct=l.transform.width/l.transform.height;let pt=!1;for(let vt=0;vt<gt.length;vt++){const bt=gt.get(vt);if(bt.hidden||bt.writingMode===a.ac.vertical&&!pt){yo(bt.numGlyphs,Xe);continue}pt=!1;const Nt=new a.P(bt.anchorX,bt.anchorY),Rt={getElevation:xe,pitchedLabelPlaneMatrix:v,lineVertexArray:Ge,pitchWithMap:S,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:l.transform,tileAnchorPoint:Nt,unwrappedTileID:G,width:J,height:ue,translation:re},Gt=ei(bt.anchorX,bt.anchorY,Rt);if(!rr(Gt.point,tt)){yo(bt.numGlyphs,Xe);continue}const tn=Cr(l.transform.cameraToCenterDistance,Gt.signedDistanceFromCamera),In=a.ad(Be,De,bt),Pn=S?In/tn:In*tn,Fn=Un({projectionContext:Rt,pitchedLabelPlaneMatrixInverse:b,symbol:bt,fontSize:Pn,flip:!1,keepUpright:F,glyphOffsetArray:O.glyphOffsetArray,dynamicLayoutVertexArray:Xe,aspectRatio:ct,rotateToLine:R});pt=Fn.useVertical,(Fn.notEnoughRoom||pt||Fn.needsFlipping&&Un({projectionContext:Rt,pitchedLabelPlaneMatrixInverse:b,symbol:bt,fontSize:Pn,flip:!0,keepUpright:F,glyphOffsetArray:O.glyphOffsetArray,dynamicLayoutVertexArray:Xe,aspectRatio:ct,rotateToLine:R}).notEnoughRoom)&&yo(bt.numGlyphs,Xe)}c?O.text.dynamicLayoutVertexBuffer.updateData(Xe):O.icon.dynamicLayoutVertexBuffer.updateData(Xe)}function oi(O,l,c,v,b,S,F,R){const G=S.glyphStartIndex+S.numGlyphs,J=S.lineStartIndex,ue=S.lineStartIndex+S.lineLength,re=l.getoffsetX(S.glyphStartIndex),xe=l.getoffsetX(G-1),Be=Ko(O*re,c,v,b,S.segment,J,ue,R,F);if(!Be)return null;const De=Ko(O*xe,c,v,b,S.segment,J,ue,R,F);return De?R.projectionCache.anyProjectionOccluded?null:{first:Be,last:De}:null}function $r(O,l,c,v){return O===a.ac.horizontal&&Math.abs(c.y-l.y)>Math.abs(c.x-l.x)*v?{useVertical:!0}:(O===a.ac.vertical?l.y<c.y:l.x>c.x)?{needsFlipping:!0}:null}function Un(O){const{projectionContext:l,pitchedLabelPlaneMatrixInverse:c,symbol:v,fontSize:b,flip:S,keepUpright:F,glyphOffsetArray:R,dynamicLayoutVertexArray:G,aspectRatio:J,rotateToLine:ue}=O,re=b/24,xe=v.lineOffsetX*re,Be=v.lineOffsetY*re;let De;if(v.numGlyphs>1){const tt=v.glyphStartIndex+v.numGlyphs,Xe=v.lineStartIndex,Ge=v.lineStartIndex+v.lineLength,gt=oi(re,R,xe,Be,S,v,ue,l);if(!gt)return{notEnoughRoom:!0};const ct=ji(gt.first.point.x,gt.first.point.y,l,c),pt=ji(gt.last.point.x,gt.last.point.y,l,c);if(F&&!S){const vt=$r(v.writingMode,ct,pt,J);if(vt)return vt}De=[gt.first];for(let vt=v.glyphStartIndex+1;vt<tt-1;vt++)De.push(Ko(re*R.getoffsetX(vt),xe,Be,S,v.segment,Xe,Ge,l,ue));De.push(gt.last)}else{if(F&&!S){const Xe=ti(l.tileAnchorPoint.x,l.tileAnchorPoint.y,l).point,Ge=v.lineStartIndex+v.segment+1,gt=new a.P(l.lineVertexArray.getx(Ge),l.lineVertexArray.gety(Ge)),ct=ti(gt.x,gt.y,l),pt=ct.signedDistanceFromCamera>0?ct.point:On(l.tileAnchorPoint,gt,Xe,1,l),vt=ji(Xe.x,Xe.y,l,c),bt=ji(pt.x,pt.y,l,c),Nt=$r(v.writingMode,vt,bt,J);if(Nt)return Nt}const tt=Ko(re*R.getoffsetX(v.glyphStartIndex),xe,Be,S,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,l,ue);if(!tt||l.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};De=[tt]}for(const tt of De)a.ae(G,tt.point,tt.angle);return{}}function On(O,l,c,v,b){const S=O.add(O.sub(l)._unit()),F=ti(S.x,S.y,b).point,R=c.sub(F);return c.add(R._mult(v/R.mag()))}function Er(O,l,c){const v=l.projectionCache;if(v.projections[O])return v.projections[O];const b=new a.P(l.lineVertexArray.getx(O),l.lineVertexArray.gety(O)),S=ti(b.x,b.y,l);if(S.signedDistanceFromCamera>0)return v.projections[O]=S.point,v.anyProjectionOccluded=v.anyProjectionOccluded||S.isOccluded,S.point;const F=O-c.direction;return On(c.distanceFromAnchor===0?l.tileAnchorPoint:new a.P(l.lineVertexArray.getx(F),l.lineVertexArray.gety(F)),b,c.previousVertex,c.absOffsetX-c.distanceFromAnchor+1,l)}function ti(O,l,c){const v=O+c.translation[0],b=l+c.translation[1];let S;return c.pitchWithMap?(S=fn(v,b,c.pitchedLabelPlaneMatrix,c.getElevation),S.isOccluded=!1):(S=c.transform.projectTileCoordinates(v,b,c.unwrappedTileID,c.getElevation),S.point.x=(.5*S.point.x+.5)*c.width,S.point.y=(.5*-S.point.y+.5)*c.height),S}function ji(O,l,c,v){if(c.pitchWithMap){const b=[O,l,0,1];return a.af(b,b,v),c.transform.projectTileCoordinates(b[0]/b[3],b[1]/b[3],c.unwrappedTileID,c.getElevation).point}return{x:O/c.width*2-1,y:l/c.height*2-1}}function ei(O,l,c){return c.transform.projectTileCoordinates(O,l,c.unwrappedTileID,c.getElevation)}function Wr(O,l,c){return O._unit()._perp()._mult(l*c)}function Ni(O,l,c,v,b,S,F,R,G){if(R.projectionCache.offsets[O])return R.projectionCache.offsets[O];const J=c.add(l);if(O+G.direction<v||O+G.direction>=b)return R.projectionCache.offsets[O]=J,J;const ue=Er(O+G.direction,R,G),re=Wr(ue.sub(c),F,G.direction),xe=c.add(re),Be=ue.add(re);return R.projectionCache.offsets[O]=a.ag(S,J,xe,Be)||J,R.projectionCache.offsets[O]}function Ko(O,l,c,v,b,S,F,R,G){const J=v?O-l:O+l;let ue=J>0?1:-1,re=0;v&&(ue*=-1,re=Math.PI),ue<0&&(re+=Math.PI);let xe,Be=ue>0?S+b:S+b+1;R.projectionCache.cachedAnchorPoint?xe=R.projectionCache.cachedAnchorPoint:(xe=ti(R.tileAnchorPoint.x,R.tileAnchorPoint.y,R).point,R.projectionCache.cachedAnchorPoint=xe);let De,tt,Xe=xe,Ge=xe,gt=0,ct=0;const pt=Math.abs(J),vt=[];let bt;for(;gt+ct<=pt;){if(Be+=ue,Be<S||Be>=F)return null;gt+=ct,Ge=Xe,tt=De;const Gt={absOffsetX:pt,direction:ue,distanceFromAnchor:gt,previousVertex:Ge};if(Xe=Er(Be,R,Gt),c===0)vt.push(Ge),bt=Xe.sub(Ge);else{let tn;const In=Xe.sub(Ge);tn=In.mag()===0?Wr(Er(Be+ue,R,Gt).sub(Xe),c,ue):Wr(In,c,ue),tt||(tt=Ge.add(tn)),De=Ni(Be,tn,Xe,S,F,tt,c,R,Gt),vt.push(tt),bt=De.sub(tt)}ct=bt.mag()}const Nt=bt._mult((pt-gt)/ct)._add(tt||Ge),Rt=re+Math.atan2(Xe.y-Ge.y,Xe.x-Ge.x);return vt.push(Nt),{point:Nt,angle:G?Rt:0,path:vt}}const aa=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function yo(O,l){for(let c=0;c<O;c++){const v=l.length;l.resize(v+4),l.float32.set(aa,3*v)}}function qa(O,l,c){const v=l[0],b=l[1];return O[0]=c[0]*v+c[4]*b+c[12],O[1]=c[1]*v+c[5]*b+c[13],O[3]=c[3]*v+c[7]*b+c[15],O}class Wi{constructor(l=0,c=0,v=0,b=0){if(isNaN(l)||l<0||isNaN(c)||c<0||isNaN(v)||v<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=c,this.left=v,this.right=b}interpolate(l,c,v){return c.top!=null&&l.top!=null&&(this.top=a.y.number(l.top,c.top,v)),c.bottom!=null&&l.bottom!=null&&(this.bottom=a.y.number(l.bottom,c.bottom,v)),c.left!=null&&l.left!=null&&(this.left=a.y.number(l.left,c.left,v)),c.right!=null&&l.right!=null&&(this.right=a.y.number(l.right,c.right,v)),this}getCenter(l,c){const v=a.a9((this.left+l-this.right)/2,0,l),b=a.a9((this.top+c-this.bottom)/2,0,c);return new a.P(v,b)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Wi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Ho=85.051129;function Ma(O,l){if(!O.renderWorldCopies||O.lngRange)return;const c=l.lng-O.center.lng;l.lng+=c>180?-360:c<-180?360:0}function Gi(O){return Math.pow(2,O)}function sa(O){return Math.log(O)/Math.LN2}function Va(O){return Math.max(0,Math.floor(O))}class ci{constructor(l,c,v,b,S,F){this._callbacks=l,this._tileSize=512,this._renderWorldCopies=F===void 0||!!F,this._minZoom=c||0,this._maxZoom=v||22,this._minPitch=b??0,this._maxPitch=S??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.N(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Va(this._zoom),this._scale=Gi(this._zoom),this._angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Wi,this._minElevationForCurrentTile=0}apply(l,c){this._latRange=l.latRange,this._lngRange=l.lngRange,this._width=l.width,this._height=l.height,this._center=l.center,this._elevation=l.elevation,this._minElevationForCurrentTile=l.minElevationForCurrentTile,this._zoom=l.zoom,this._tileZoom=Va(this._zoom),this._scale=Gi(this._zoom),this._angle=-l.bearing*Math.PI/180,this._fov=l.fov*Math.PI/180,this._pitch=l.pitch*Math.PI/180,this._unmodified=l.unmodified,this._edgeInsets=new Wi(l.padding.top,l.padding.bottom,l.padding.left,l.padding.right),this._minZoom=l.minZoom,this._maxZoom=l.maxZoom,this._minPitch=l.minPitch,this._maxPitch=l.maxPitch,this._renderWorldCopies=l.renderWorldCopies,c&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(l){this._minElevationForCurrentTile=l}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get angle(){return this._angle}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(l){this._minZoom!==l&&(this._minZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(l){this._minPitch!==l&&(this._minPitch=l,this.setPitch(Math.max(this.pitch,l)))}get maxPitch(){return this._maxPitch}setMaxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.setPitch(Math.min(this.pitch,l)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return-this._angle/Math.PI*180}setBearing(l){const c=-a.ai(l,-180,180)*Math.PI/180;this._angle!==c&&(this._unmodified=!1,this._angle=c,this._calcMatrices(),this._rotationMatrix=function(){var v=new a.A(4);return a.A!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,b,S){var F=b[0],R=b[1],G=b[2],J=b[3],ue=Math.sin(S),re=Math.cos(S);v[0]=F*re+G*ue,v[1]=R*re+J*ue,v[2]=F*-ue+G*re,v[3]=R*-ue+J*re}(this._rotationMatrix,this._rotationMatrix,this._angle))}get rotationMatrix(){return this._rotationMatrix}get pitch(){return this._pitch/Math.PI*180}setPitch(l){const c=a.a9(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}setFov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}setZoom(l){const c=this.getConstrained(this._center,l).zoom;this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this._tileZoom=Math.max(0,Math.floor(c)),this._scale=Gi(c),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,c,v){this._unmodified=!1,this._edgeInsets.interpolate(l,c,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const c=(l.roundZoom?Math.round:Math.floor)(this.zoom+sa(this._tileSize/l.tileSize));return Math.max(0,c)}resize(l,c){this._width=l,this._height=c,this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new fr([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(l){l?(this._lngRange=[l.getWest(),l.getEast()],this._latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,Ho])}getConstrained(l,c){return this._callbacks.getConstrained(l,c)}getCameraQueryGeometry(l,c){if(c.length===1)return[c[0],l];{let v=l.x,b=l.y,S=l.x,F=l.y;for(const R of c)v=Math.min(v,R.x),b=Math.min(b,R.y),S=Math.max(S,R.x),F=Math.max(F,R.y);return[new a.P(v,b),new a.P(S,b),new a.P(S,F),new a.P(v,F),new a.P(v,b)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const l=this._unmodified,{center:c,zoom:v}=this.getConstrained(this.center,this.zoom);this.setCenter(c),this.setZoom(v),this._unmodified=l,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let l=a.aj(new Float64Array(16));a.K(l,l,[this._width/2,-this._height/2,1]),a.J(l,l,[1,-1,0]),this._clipSpaceToPixelsMatrix=l,l=a.aj(new Float64Array(16)),a.K(l,l,[1,-1,1]),a.J(l,l,[-1,-1,0]),a.K(l,l,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=l}this._callbacks.calcMatrices()}}function er(O,l,c){const v=1/(1<<c.z);return new a.Y(O/a.X*v+c.x*v,l/a.X*v+c.y*v)}function jo(O){return a.Y.fromLngLat(O)}function co(O){return O&&O.toLngLat()}function Qi(O,l){const c=a.a9(l.lat,-85.051129,Ho);return new a.P(a.O(l.lng)*O,a.Q(c)*O)}function Oe(O,l){return new a.Y(l.x/O,l.y/O).toLngLat()}function Je(O){return Math.tan(Math.PI/2-O.pitch*Math.PI/180)*O.cameraToCenterDistance*.85}function rn(O,l){const c=O.canonical,v=l/Gi(c.z),b=c.x+Math.pow(2,c.z)*O.wrap,S=a.aj(new Float64Array(16));return a.J(S,S,[b*v,c.y*v,0]),a.K(S,S,[v/a.X,v/a.X,1]),S}const pn=100;class Pt{constructor(l,c=new Bt(l.width+200,l.height+200,25),v=new Bt(l.width+200,l.height+200,25)){this.transform=l,this.grid=c,this.ignoredGrid=v,this.pitchFactor=Math.cos(l.pitch*Math.PI/180)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+pn,this.screenBottomBoundary=l.height+pn,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,c,v,b,S,F,R,G,J,ue){const re=l.anchorPointX+R[0],xe=l.anchorPointY+R[1],Be=this.projectAndGetPerspectiveRatio(re,xe,b,J),De=v*Be.perspectiveRatio;let tt;if(S||F)tt=this._projectCollisionBox(l,De,b,S,F,R,Be,J,ue);else{const pt=Be.point.x+(ue?ue.x*De:0),vt=Be.point.y+(ue?ue.y*De:0);tt={allPointsOccluded:!1,box:[pt+l.x1*De,vt+l.y1*De,pt+l.x2*De,vt+l.y2*De]}}const[Xe,Ge,gt,ct]=tt.box;return(S?tt.allPointsOccluded:this.transform.isLocationOccluded(er(re,xe,b.canonical).toLngLat()))||Be.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(Xe,Ge,gt,ct)||c!=="always"&&this.grid.hitTest(Xe,Ge,gt,ct,c,G)?{box:[Xe,Ge,gt,ct],placeable:!1,offscreen:!1}:{box:[Xe,Ge,gt,ct],placeable:!0,offscreen:this.isOffscreen(Xe,Ge,gt,ct)}}placeCollisionCircles(l,c,v,b,S,F,R,G,J,ue,re,xe,Be,De){const tt=[],Xe=new a.P(c.anchorX,c.anchorY),Ge=this.getPerspectiveRatio(Xe.x,Xe.y,F,De),gt=(J?S/Ge:S*Ge)/a.an,ct={getElevation:De,pitchedLabelPlaneMatrix:R,lineVertexArray:v,pitchWithMap:J,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Xe,unwrappedTileID:F,width:this.transform.width,height:this.transform.height,translation:Be},pt=oi(gt,b,c.lineOffsetX*gt,c.lineOffsetY*gt,!1,c,!1,ct);let vt=!1,bt=!1,Nt=!0;if(pt){const Rt=.5*re*Ge+xe,Gt=new a.P(-100,-100),tn=new a.P(this.screenRightBoundary,this.screenBottomBoundary),In=new rt,Pn=pt.first,Fn=pt.last;let $n=[];for(let zr=Pn.path.length-1;zr>=1;zr--)$n.push(Pn.path[zr]);for(let zr=1;zr<Fn.path.length;zr++)$n.push(Fn.path[zr]);const jn=2.5*Rt;if(J){const zr=this.projectPathToScreenSpace($n,ct);$n=zr.some(Rr=>Rr.signedDistanceFromCamera<=0)?[]:zr.map(Rr=>Rr.point)}let Ei=[];if($n.length>0){const zr=$n[0].clone(),Rr=$n[0].clone();for(let Kr=1;Kr<$n.length;Kr++)zr.x=Math.min(zr.x,$n[Kr].x),zr.y=Math.min(zr.y,$n[Kr].y),Rr.x=Math.max(Rr.x,$n[Kr].x),Rr.y=Math.max(Rr.y,$n[Kr].y);Ei=zr.x>=Gt.x&&Rr.x<=tn.x&&zr.y>=Gt.y&&Rr.y<=tn.y?[$n]:Rr.x<Gt.x||zr.x>tn.x||Rr.y<Gt.y||zr.y>tn.y?[]:a.ak([$n],Gt.x,Gt.y,tn.x,tn.y)}for(const zr of Ei){In.reset(zr,.25*Rt);let Rr=0;Rr=In.length<=.5*Rt?1:Math.ceil(In.paddedLength/jn)+1;for(let Kr=0;Kr<Rr;Kr++){const ta=Kr/Math.max(Rr-1,1),_o=In.lerp(ta),mi=_o.x+pn,ga=_o.y+pn;tt.push(mi,ga,Rt,0);const Aa=mi-Rt,ko=ga-Rt,na=mi+Rt,ps=ga+Rt;if(Nt=Nt&&this.isOffscreen(Aa,ko,na,ps),bt=bt||this.isInsideGrid(Aa,ko,na,ps),l!=="always"&&this.grid.hitTestCircle(mi,ga,Rt,l,ue)&&(vt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:vt}}}}return{circles:!G&&vt||!bt||Ge<this.perspectiveRatioCutoff?[]:tt,offscreen:Nt,collisionDetected:vt}}projectPathToScreenSpace(l,c){const v=function(b,S){const F=a.H();return a.ah(F,S.pitchedLabelPlaneMatrix),b.map(R=>{const G=fn(R.x,R.y,F,S.getElevation),J=S.transform.projectTileCoordinates(G.point.x,G.point.y,S.unwrappedTileID,S.getElevation);return J.point.x=(.5*J.point.x+.5)*S.width,J.point.y=(.5*-J.point.y+.5)*S.height,J})}(l,c);return function(b){let S=0,F=0,R=0,G=0;for(let J=0;J<b.length;J++)b[J].isOccluded?(R=J+1,G=0):(G++,G>F&&(F=G,S=R));return b.slice(S,S+F)}(v)}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let v=1/0,b=1/0,S=-1/0,F=-1/0;for(const ue of l){const re=new a.P(ue.x+pn,ue.y+pn);v=Math.min(v,re.x),b=Math.min(b,re.y),S=Math.max(S,re.x),F=Math.max(F,re.y),c.push(re)}const R=this.grid.query(v,b,S,F).concat(this.ignoredGrid.query(v,b,S,F)),G={},J={};for(const ue of R){const re=ue.key;if(G[re.bucketInstanceId]===void 0&&(G[re.bucketInstanceId]={}),G[re.bucketInstanceId][re.featureIndex])continue;const xe=[new a.P(ue.x1,ue.y1),new a.P(ue.x2,ue.y1),new a.P(ue.x2,ue.y2),new a.P(ue.x1,ue.y2)];a.al(c,xe)&&(G[re.bucketInstanceId][re.featureIndex]=!0,J[re.bucketInstanceId]===void 0&&(J[re.bucketInstanceId]=[]),J[re.bucketInstanceId].push(re.featureIndex))}return J}insertCollisionBox(l,c,v,b,S,F){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:b,featureIndex:S,collisionGroupID:F,overlapMode:c},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,c,v,b,S,F){const R=v?this.ignoredGrid:this.grid,G={bucketInstanceId:b,featureIndex:S,collisionGroupID:F,overlapMode:c};for(let J=0;J<l.length;J+=4)R.insertCircle(G,l[J],l[J+1],l[J+2])}projectAndGetPerspectiveRatio(l,c,v,b){const S=this.transform.projectTileCoordinates(l,c,v,b);return{point:new a.P((S.point.x+1)/2*this.transform.width+pn,(1-S.point.y)/2*this.transform.height+pn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/S.signedDistanceFromCamera*.5,isOccluded:S.isOccluded,signedDistanceFromCamera:S.signedDistanceFromCamera}}getPerspectiveRatio(l,c,v,b){const S=this.transform.projectTileCoordinates(l,c,v,b);return .5+this.transform.cameraToCenterDistance/S.signedDistanceFromCamera*.5}isOffscreen(l,c,v,b){return v<pn||l>=this.screenRightBoundary||b<pn||c>this.screenBottomBoundary}isInsideGrid(l,c,v,b){return v>=0&&l<this.gridRightBoundary&&b>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const l=a.aj([]);return a.J(l,l,[-100,-100,0]),l}_projectCollisionBox(l,c,v,b,S,F,R,G,J){let ue=new a.P(1,0),re=new a.P(0,1);const xe=new a.P(l.anchorPointX+F[0],l.anchorPointY+F[1]);if(S&&!b){const Rt=this.projectAndGetPerspectiveRatio(xe.x+1,xe.y,v,G).point.sub(R.point).unit(),Gt=Math.atan(Rt.y/Rt.x)+(Rt.x<0?Math.PI:0),tn=Math.sin(Gt),In=Math.cos(Gt);ue=new a.P(In,tn),re=new a.P(-tn,In)}else if(!S&&b){const Rt=-this.transform.angle,Gt=Math.sin(Rt),tn=Math.cos(Rt);ue=new a.P(tn,Gt),re=new a.P(-Gt,tn)}let Be=R.point,De=c;if(b){Be=xe;const Rt=this.transform.zoom-Math.floor(this.transform.zoom);De=Math.pow(2,-Rt),De*=this.transform.getPitchedTextCorrection(xe,v),J||(De*=a.a9(.5+R.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}J&&(Be=Be.add(ue.mult(J.x*De)).add(re.mult(J.y*De)));const tt=l.x1*De,Xe=l.x2*De,Ge=(tt+Xe)/2,gt=l.y1*De,ct=l.y2*De,pt=(gt+ct)/2,vt=[{offsetX:tt,offsetY:gt},{offsetX:Ge,offsetY:gt},{offsetX:Xe,offsetY:gt},{offsetX:Xe,offsetY:pt},{offsetX:Xe,offsetY:ct},{offsetX:Ge,offsetY:ct},{offsetX:tt,offsetY:ct},{offsetX:tt,offsetY:pt}];let bt=[];for(const{offsetX:Rt,offsetY:Gt}of vt)bt.push(new a.P(Be.x+ue.x*Rt+re.x*Gt,Be.y+ue.y*Rt+re.y*Gt));let Nt=!1;if(b){const Rt=bt.map(Gt=>this.projectAndGetPerspectiveRatio(Gt.x,Gt.y,v,G));Nt=Rt.some(Gt=>!Gt.isOccluded),bt=Rt.map(Gt=>Gt.point)}else Nt=!0;return{box:a.am(bt),allPointsOccluded:!Nt}}}class En{constructor(l,c,v,b){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?c:-c))):b&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Hr{constructor(l,c,v,b,S){this.text=new En(l?l.text:null,c,v,S),this.icon=new En(l?l.icon:null,c,b,S)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Yr{constructor(l,c,v){this.text=l,this.icon=c,this.skipFade=v}}class ni{constructor(l,c,v,b,S){this.bucketInstanceId=l,this.featureIndex=c,this.sourceLayerIndex=v,this.bucketIndex=b,this.tileID=S}}class Sa{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const c=++this.maxGroupID;this.collisionGroups[l]={ID:c,predicate:v=>v.collisionGroupID===c}}return this.collisionGroups[l]}}function la(O,l,c,v,b){const{horizontalAlign:S,verticalAlign:F}=a.at(O);return new a.P(-(S-.5)*l+v[0]*b,-(F-.5)*c+v[1]*b)}class mr{constructor(l,c,v,b,S){this.transform=l.clone(),this.terrain=c,this.collisionIndex=new Pt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Sa(b),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(l){const c=this.terrain;return c?(v,b)=>c.getElevation(l,v,b):null}getBucketParts(l,c,v,b){const S=v.getBucket(c),F=v.latestFeatureIndex;if(!S||!F||c.id!==S.layerIds[0])return;const R=v.collisionBoxArray,G=S.layers[0].layout,J=S.layers[0].paint,ue=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),re=v.tileSize/a.X,xe=v.tileID.toUnwrapped(),Be=G.get("text-rotation-alignment")==="map",De=a.ao(v,1,this.transform.zoom),tt=a.ap(this.collisionIndex.transform,v,J.get("text-translate"),J.get("text-translate-anchor")),Xe=a.ap(this.collisionIndex.transform,v,J.get("icon-translate"),J.get("icon-translate-anchor")),Ge=cn(Be,this.transform,De);this.retainedQueryData[S.bucketInstanceId]=new ni(S.bucketInstanceId,F,S.sourceLayerIndex,S.index,v.tileID);const gt={bucket:S,layout:G,translationText:tt,translationIcon:Xe,unwrappedTileID:xe,pitchedLabelPlaneMatrix:Ge,scale:ue,textPixelRatio:re,holdingForFade:v.holdingForFade(),collisionBoxArray:R,partiallyEvaluatedTextSize:a.ab(S.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(b)for(const ct of S.sortKeyRanges){const{sortKey:pt,symbolInstanceStart:vt,symbolInstanceEnd:bt}=ct;l.push({sortKey:pt,symbolInstanceStart:vt,symbolInstanceEnd:bt,parameters:gt})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:gt})}attemptAnchorPlacement(l,c,v,b,S,F,R,G,J,ue,re,xe,Be,De,tt,Xe,Ge,gt){const ct=a.aq[l.textAnchor],pt=[l.textOffset0,l.textOffset1],vt=la(ct,v,b,pt,S),bt=this.collisionIndex.placeCollisionBox(c,re,G,J,R,F,tt,ue.predicate,gt,vt);if((!Ge||this.collisionIndex.placeCollisionBox(Ge,re,G,J,R,F,Xe,ue.predicate,gt,vt).placeable)&&bt.placeable){let Nt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[xe.crossTileID]&&this.prevPlacement.placements[xe.crossTileID]&&this.prevPlacement.placements[xe.crossTileID].text&&(Nt=this.prevPlacement.variableOffsets[xe.crossTileID].anchor),xe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[xe.crossTileID]={textOffset:pt,width:v,height:b,anchor:ct,textBoxScale:S,prevAnchor:Nt},this.markUsedJustification(Be,ct,xe,De),Be.allowVerticalPlacement&&(this.markUsedOrientation(Be,De,xe),this.placedOrientations[xe.crossTileID]=De),{shift:vt,placedGlyphBoxes:bt}}}placeLayerBucketPart(l,c,v){const{bucket:b,layout:S,translationText:F,translationIcon:R,unwrappedTileID:G,pitchedLabelPlaneMatrix:J,textPixelRatio:ue,holdingForFade:re,collisionBoxArray:xe,partiallyEvaluatedTextSize:Be,collisionGroup:De}=l.parameters,tt=S.get("text-optional"),Xe=S.get("icon-optional"),Ge=a.ar(S,"text-overlap","text-allow-overlap"),gt=Ge==="always",ct=a.ar(S,"icon-overlap","icon-allow-overlap"),pt=ct==="always",vt=S.get("text-rotation-alignment")==="map",bt=S.get("text-pitch-alignment")==="map",Nt=S.get("icon-text-fit")!=="none",Rt=S.get("symbol-z-order")==="viewport-y",Gt=gt&&(pt||!b.hasIconData()||Xe),tn=pt&&(gt||!b.hasTextData()||tt);!b.collisionArrays&&xe&&b.deserializeCollisionBoxes(xe);const In=this._getTerrainElevationFunc(this.retainedQueryData[b.bucketInstanceId].tileID),Pn=(Fn,$n,jn)=>{var Ei,zr;if(c[Fn.crossTileID])return;if(re)return void(this.placements[Fn.crossTileID]=new Yr(!1,!1,!1));let Rr=!1,Kr=!1,ta=!0,_o=null,mi={box:null,placeable:!1,offscreen:null},ga={box:null,placeable:!1,offscreen:null},Aa=null,ko=null,na=null,ps=0,yl=0,MA=0;$n.textFeatureIndex?ps=$n.textFeatureIndex:Fn.useRuntimeCollisionCircles&&(ps=Fn.featureIndex),$n.verticalTextFeatureIndex&&(yl=$n.verticalTextFeatureIndex);const Fl=$n.textBox;if(Fl){const es=Ws=>{let ya=a.ac.horizontal;if(b.allowVerticalPlacement&&!Ws&&this.prevPlacement){const Bs=this.prevPlacement.placedOrientations[Fn.crossTileID];Bs&&(this.placedOrientations[Fn.crossTileID]=Bs,ya=Bs,this.markUsedOrientation(b,ya,Fn))}return ya},iu=(Ws,ya)=>{if(b.allowVerticalPlacement&&Fn.numVerticalGlyphVertices>0&&$n.verticalTextBox){for(const Bs of b.writingModes)if(Bs===a.ac.vertical?(mi=ya(),ga=mi):mi=Ws(),mi&&mi.placeable)break}else mi=Ws()},eA=Fn.textAnchorOffsetStartIndex,oh=Fn.textAnchorOffsetEndIndex;if(oh===eA){const Ws=(ya,Bs)=>{const ts=this.collisionIndex.placeCollisionBox(ya,Ge,ue,G,bt,vt,F,De.predicate,In);return ts&&ts.placeable&&(this.markUsedOrientation(b,Bs,Fn),this.placedOrientations[Fn.crossTileID]=Bs),ts};iu(()=>Ws(Fl,a.ac.horizontal),()=>{const ya=$n.verticalTextBox;return b.allowVerticalPlacement&&Fn.numVerticalGlyphVertices>0&&ya?Ws(ya,a.ac.vertical):{box:null,offscreen:null}}),es(mi&&mi.placeable)}else{let Ws=a.aq[(zr=(Ei=this.prevPlacement)===null||Ei===void 0?void 0:Ei.variableOffsets[Fn.crossTileID])===null||zr===void 0?void 0:zr.anchor];const ya=(ts,Gd,Df)=>{const Qd=ts.x2-ts.x1,vl=ts.y2-ts.y1,Bu=Fn.textBoxScale,ah=Nt&&ct==="never"?Gd:null;let sh=null,tA=Ge==="never"?1:2,Rl="never";Ws&&tA++;for(let SA=0;SA<tA;SA++){for(let $d=eA;$d<oh;$d++){const Ff=b.textAnchorOffsets.get($d);if(Ws&&Ff.textAnchor!==Ws)continue;const Rf=this.attemptAnchorPlacement(Ff,ts,Qd,vl,Bu,vt,bt,ue,G,De,Rl,Fn,b,Df,F,R,ah,In);if(Rf&&(sh=Rf.placedGlyphBoxes,sh&&sh.placeable))return Rr=!0,_o=Rf.shift,sh}Ws?Ws=null:Rl=Ge}return v&&!sh&&(sh={box:this.collisionIndex.placeCollisionBox(Fl,"always",ue,G,bt,vt,F,De.predicate,In,new a.P(0,0)).box,offscreen:!1,placeable:!1}),sh};iu(()=>ya(Fl,$n.iconBox,a.ac.horizontal),()=>{const ts=$n.verticalTextBox;return b.allowVerticalPlacement&&(!mi||!mi.placeable)&&Fn.numVerticalGlyphVertices>0&&ts?ya(ts,$n.verticalIconBox,a.ac.vertical):{box:null,occluded:!0,offscreen:null}}),mi&&(Rr=mi.placeable,ta=mi.offscreen);const Bs=es(mi&&mi.placeable);if(!Rr&&this.prevPlacement){const ts=this.prevPlacement.variableOffsets[Fn.crossTileID];ts&&(this.variableOffsets[Fn.crossTileID]=ts,this.markUsedJustification(b,ts.anchor,Fn,Bs))}}}if(Aa=mi,Rr=Aa&&Aa.placeable,ta=Aa&&Aa.offscreen,Fn.useRuntimeCollisionCircles){const es=b.text.placedSymbolArray.get(Fn.centerJustifiedTextSymbolIndex),iu=a.ad(b.textSizeData,Be,es),eA=S.get("text-padding");ko=this.collisionIndex.placeCollisionCircles(Ge,es,b.lineVertexArray,b.glyphOffsetArray,iu,G,J,v,bt,De.predicate,Fn.collisionCircleDiameter,eA,F,In),ko.circles.length&&ko.collisionDetected&&!v&&a.w("Collisions detected, but collision boxes are not shown"),Rr=gt||ko.circles.length>0&&!ko.collisionDetected,ta=ta&&ko.offscreen}if($n.iconFeatureIndex&&(MA=$n.iconFeatureIndex),$n.iconBox){const es=iu=>this.collisionIndex.placeCollisionBox(iu,ct,ue,G,bt,vt,R,De.predicate,In,Nt&&_o?_o:void 0);ga&&ga.placeable&&$n.verticalIconBox?(na=es($n.verticalIconBox),Kr=na.placeable):(na=es($n.iconBox),Kr=na.placeable),ta=ta&&na.offscreen}const ru=tt||Fn.numHorizontalGlyphVertices===0&&Fn.numVerticalGlyphVertices===0,YA=Xe||Fn.numIconVertices===0;ru||YA?YA?ru||(Kr=Kr&&Rr):Rr=Kr&&Rr:Kr=Rr=Kr&&Rr;const Ns=Kr&&na.placeable;if(Rr&&Aa.placeable&&this.collisionIndex.insertCollisionBox(Aa.box,Ge,S.get("text-ignore-placement"),b.bucketInstanceId,ga&&ga.placeable&&yl?yl:ps,De.ID),Ns&&this.collisionIndex.insertCollisionBox(na.box,ct,S.get("icon-ignore-placement"),b.bucketInstanceId,MA,De.ID),ko&&Rr&&this.collisionIndex.insertCollisionCircles(ko.circles,Ge,S.get("text-ignore-placement"),b.bucketInstanceId,ps,De.ID),v&&this.storeCollisionData(b.bucketInstanceId,jn,$n,Aa,na,ko),Fn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(b.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Fn.crossTileID]=new Yr(Rr||Gt,Kr||tn,ta||b.justReloaded),c[Fn.crossTileID]=!0};if(Rt){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Fn=b.getSortedSymbolIndexes(this.transform.angle);for(let $n=Fn.length-1;$n>=0;--$n){const jn=Fn[$n];Pn(b.symbolInstances.get(jn),b.collisionArrays[jn],jn)}}else for(let Fn=l.symbolInstanceStart;Fn<l.symbolInstanceEnd;Fn++)Pn(b.symbolInstances.get(Fn),b.collisionArrays[Fn],Fn);b.justReloaded=!1}storeCollisionData(l,c,v,b,S,F){if(v.textBox||v.iconBox){let R,G;this.collisionBoxArrays.has(l)?R=this.collisionBoxArrays.get(l):(R=new Map,this.collisionBoxArrays.set(l,R)),R.has(c)?G=R.get(c):(G={text:null,icon:null},R.set(c,G)),v.textBox&&(G.text=b.box),v.iconBox&&(G.icon=S.box)}if(F){let R=this.collisionCircleArrays[l];R===void 0&&(R=this.collisionCircleArrays[l]=[]);for(let G=0;G<F.circles.length;G+=4)R.push(F.circles[G+0]-pn),R.push(F.circles[G+1]-pn),R.push(F.circles[G+2]),R.push(F.collisionDetected?1:0)}}markUsedJustification(l,c,v,b){let S;S=b===a.ac.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.as(c)];const F=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const R of F)R>=0&&(l.text.placedSymbolArray.get(R).crossTileID=S>=0&&R!==S?0:v.crossTileID)}markUsedOrientation(l,c,v){const b=c===a.ac.horizontal||c===a.ac.horizontalOnly?c:0,S=c===a.ac.vertical?c:0,F=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const R of F)l.text.placedSymbolArray.get(R).placedOrientation=b;v.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=S)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let v=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const b=c?c.symbolFadeChange(l):1,S=c?c.opacities:{},F=c?c.variableOffsets:{},R=c?c.placedOrientations:{};for(const G in this.placements){const J=this.placements[G],ue=S[G];ue?(this.opacities[G]=new Hr(ue,b,J.text,J.icon),v=v||J.text!==ue.text.placed||J.icon!==ue.icon.placed):(this.opacities[G]=new Hr(null,b,J.text,J.icon,J.skipFade),v=v||J.text||J.icon)}for(const G in S){const J=S[G];if(!this.opacities[G]){const ue=new Hr(J,b,!1,!1);ue.isHidden()||(this.opacities[G]=ue,v=v||J.text.placed||J.icon.placed)}}for(const G in F)this.variableOffsets[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.variableOffsets[G]=F[G]);for(const G in R)this.placedOrientations[G]||!this.opacities[G]||this.opacities[G].isHidden()||(this.placedOrientations[G]=R[G]);if(c&&c.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:l)}updateLayerOpacities(l,c){const v={};for(const b of c){const S=b.getBucket(l);S&&b.latestFeatureIndex&&l.id===S.layerIds[0]&&this.updateBucketOpacities(S,b.tileID,v,b.collisionBoxArray)}}updateBucketOpacities(l,c,v,b){l.hasTextData()&&(l.text.opacityVertexArray.clear(),l.text.hasVisibleVertices=!1),l.hasIconData()&&(l.icon.opacityVertexArray.clear(),l.icon.hasVisibleVertices=!1),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const S=l.layers[0],F=S.layout,R=new Hr(null,0,!1,!1,!0),G=F.get("text-allow-overlap"),J=F.get("icon-allow-overlap"),ue=S._unevaluatedLayout.hasValue("text-variable-anchor")||S._unevaluatedLayout.hasValue("text-variable-anchor-offset"),re=F.get("text-rotation-alignment")==="map",xe=F.get("text-pitch-alignment")==="map",Be=F.get("icon-text-fit")!=="none",De=new Hr(null,0,G&&(J||!l.hasIconData()||F.get("icon-optional")),J&&(G||!l.hasTextData()||F.get("text-optional")),!0);!l.collisionArrays&&b&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(b);const tt=(Ge,gt,ct)=>{for(let pt=0;pt<gt/4;pt++)Ge.opacityVertexArray.emplaceBack(ct);Ge.hasVisibleVertices=Ge.hasVisibleVertices||ct!==Ka},Xe=this.collisionBoxArrays.get(l.bucketInstanceId);for(let Ge=0;Ge<l.symbolInstances.length;Ge++){const gt=l.symbolInstances.get(Ge),{numHorizontalGlyphVertices:ct,numVerticalGlyphVertices:pt,crossTileID:vt}=gt;let bt=this.opacities[vt];v[vt]?bt=R:bt||(bt=De,this.opacities[vt]=bt),v[vt]=!0;const Nt=gt.numIconVertices>0,Rt=this.placedOrientations[gt.crossTileID],Gt=Rt===a.ac.vertical,tn=Rt===a.ac.horizontal||Rt===a.ac.horizontalOnly;if(ct>0||pt>0){const Pn=Rs(bt.text);tt(l.text,ct,Gt?Ka:Pn),tt(l.text,pt,tn?Ka:Pn);const Fn=bt.text.isHidden();[gt.rightJustifiedTextSymbolIndex,gt.centerJustifiedTextSymbolIndex,gt.leftJustifiedTextSymbolIndex].forEach(Ei=>{Ei>=0&&(l.text.placedSymbolArray.get(Ei).hidden=Fn||Gt?1:0)}),gt.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(gt.verticalPlacedTextSymbolIndex).hidden=Fn||tn?1:0);const $n=this.variableOffsets[gt.crossTileID];$n&&this.markUsedJustification(l,$n.anchor,gt,Rt);const jn=this.placedOrientations[gt.crossTileID];jn&&(this.markUsedJustification(l,"left",gt,jn),this.markUsedOrientation(l,jn,gt))}if(Nt){const Pn=Rs(bt.icon),Fn=!(Be&&gt.verticalPlacedIconSymbolIndex&&Gt);gt.placedIconSymbolIndex>=0&&(tt(l.icon,gt.numIconVertices,Fn?Pn:Ka),l.icon.placedSymbolArray.get(gt.placedIconSymbolIndex).hidden=bt.icon.isHidden()),gt.verticalPlacedIconSymbolIndex>=0&&(tt(l.icon,gt.numVerticalIconVertices,Fn?Ka:Pn),l.icon.placedSymbolArray.get(gt.verticalPlacedIconSymbolIndex).hidden=bt.icon.isHidden())}const In=Xe&&Xe.has(Ge)?Xe.get(Ge):{text:null,icon:null};if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const Pn=l.collisionArrays[Ge];if(Pn){let Fn=new a.P(0,0);if(Pn.textBox||Pn.verticalTextBox){let $n=!0;if(ue){const jn=this.variableOffsets[vt];jn?(Fn=la(jn.anchor,jn.width,jn.height,jn.textOffset,jn.textBoxScale),re&&Fn._rotate(xe?this.transform.angle:-this.transform.angle)):$n=!1}if(Pn.textBox||Pn.verticalTextBox){let jn;Pn.textBox&&(jn=Gt),Pn.verticalTextBox&&(jn=tn),Fs(l.textCollisionBox.collisionVertexArray,bt.text.placed,!$n||jn,In.text,Fn.x,Fn.y)}}if(Pn.iconBox||Pn.verticalIconBox){const $n=!!(!tn&&Pn.verticalIconBox);let jn;Pn.iconBox&&(jn=$n),Pn.verticalIconBox&&(jn=!$n),Fs(l.iconCollisionBox.collisionVertexArray,bt.icon.placed,jn,In.icon,Be?Fn.x:0,Be?Fn.y:0)}}}}if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);l.bucketInstanceId in this.collisionCircleArrays&&(l.collisionCircleArray=this.collisionCircleArrays[l.bucketInstanceId],delete this.collisionCircleArrays[l.bucketInstanceId])}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,c){const v=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*v>l}setStale(){this.stale=!0}}function Fs(O,l,c,v,b,S){v&&v.length!==0||(v=[0,0,0,0]);const F=v[0]-pn,R=v[1]-pn,G=v[2]-pn,J=v[3]-pn;O.emplaceBack(l?1:0,c?1:0,b||0,S||0,F,R),O.emplaceBack(l?1:0,c?1:0,b||0,S||0,G,R),O.emplaceBack(l?1:0,c?1:0,b||0,S||0,G,J),O.emplaceBack(l?1:0,c?1:0,b||0,S||0,F,J)}const Ms=Math.pow(2,25),Hi=Math.pow(2,24),Ha=Math.pow(2,17),dl=Math.pow(2,16),to=Math.pow(2,9),No=Math.pow(2,8),no=Math.pow(2,1);function Rs(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const l=O.placed?1:0,c=Math.floor(127*O.opacity);return c*Ms+l*Hi+c*Ha+l*dl+c*to+l*No+c*no+l}const Ka=0;class Ea{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,c,v,b,S){const F=this._bucketParts;for(;this._currentTileIndex<l.length;)if(c.getBucketParts(F,b,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,F.sort((R,G)=>R.sortKey-G.sortKey));this._currentPartIndex<F.length;)if(c.placeLayerBucketPart(F[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,S())return!0;return!1}}class cA{constructor(l,c,v,b,S,F,R,G){this.placement=new mr(l,c,F,R,G),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=b,this._showCollisionBoxes=S,this._done=!1}isDone(){return this._done}continuePlacement(l,c,v){const b=H.now(),S=()=>!this._forceFullPlacement&&H.now()-b>2;for(;this._currentPlacementIndex>=0;){const F=c[l[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if(F.type==="symbol"&&(!F.minzoom||F.minzoom<=R)&&(!F.maxzoom||F.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new Ea(F)),this._inProgressLayer.continuePlacement(v[F.source],this.placement,this._showCollisionBoxes,F,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Xs=512/a.X/2;class gu{constructor(l,c,v){this.tileID=l,this.bucketInstanceId=v,this._symbolsByKey={};const b=new Map;for(let S=0;S<c.length;S++){const F=c.get(S),R=F.key,G=b.get(R);G?G.push(F):b.set(R,[F])}for(const[S,F]of b){const R={positions:F.map(G=>({x:Math.floor(G.anchorX*Xs),y:Math.floor(G.anchorY*Xs)})),crossTileIDs:F.map(G=>G.crossTileID)};if(R.positions.length>128){const G=new a.au(R.positions.length,16,Uint16Array);for(const{x:J,y:ue}of R.positions)G.add(J,ue);G.finish(),delete R.positions,R.index=G}this._symbolsByKey[S]=R}}getScaledCoordinates(l,c){const{x:v,y:b,z:S}=this.tileID.canonical,{x:F,y:R,z:G}=c.canonical,J=Xs/Math.pow(2,G-S),ue=(R*a.X+l.anchorY)*J,re=b*a.X*Xs;return{x:Math.floor((F*a.X+l.anchorX)*J-v*a.X*Xs),y:Math.floor(ue-re)}}findMatches(l,c,v){const b=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let S=0;S<l.length;S++){const F=l.get(S);if(F.crossTileID)continue;const R=this._symbolsByKey[F.key];if(!R)continue;const G=this.getScaledCoordinates(F,c);if(R.index){const J=R.index.range(G.x-b,G.y-b,G.x+b,G.y+b).sort();for(const ue of J){const re=R.crossTileIDs[ue];if(!v[re]){v[re]=!0,F.crossTileID=re;break}}}else if(R.positions)for(let J=0;J<R.positions.length;J++){const ue=R.positions[J],re=R.crossTileIDs[J];if(Math.abs(ue.x-G.x)<=b&&Math.abs(ue.y-G.y)<=b&&!v[re]){v[re]=!0,F.crossTileID=re;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:l})=>l)}}class zu{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class hA{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const c=Math.round((l-this.lng)/360);if(c!==0)for(const v in this.indexes){const b=this.indexes[v],S={};for(const F in b){const R=b[F];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+c),S[R.tileID.key]=R}this.indexes[v]=S}this.lng=l}addBucket(l,c,v){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let S=0;S<c.symbolInstances.length;S++)c.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const b=this.usedCrossTileIDs[l.overscaledZ];for(const S in this.indexes){const F=this.indexes[S];if(Number(S)>l.overscaledZ)for(const R in F){const G=F[R];G.tileID.isChildOf(l)&&G.findMatches(c.symbolInstances,l,b)}else{const R=F[l.scaledTo(Number(S)).key];R&&R.findMatches(c.symbolInstances,l,b)}}for(let S=0;S<c.symbolInstances.length;S++){const F=c.symbolInstances.get(S);F.crossTileID||(F.crossTileID=v.generate(),b[F.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new gu(l,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(l,c){for(const v of c.getCrossTileIDsLists())for(const b of v)delete this.usedCrossTileIDs[l][b]}removeStaleBuckets(l){let c=!1;for(const v in this.indexes){const b=this.indexes[v];for(const S in b)l[b[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,b[S]),delete b[S],c=!0)}return c}}class Bo{constructor(){this.layerIndexes={},this.crossTileIDs=new zu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,c,v){let b=this.layerIndexes[l.id];b===void 0&&(b=this.layerIndexes[l.id]=new hA);let S=!1;const F={};b.handleWrapJump(v);for(const R of c){const G=R.getBucket(l);G&&l.id===G.layerIds[0]&&(G.bucketInstanceId||(G.bucketInstanceId=++this.maxBucketInstanceId),b.addBucket(R.tileID,G,this.crossTileIDs)&&(S=!0),F[G.bucketInstanceId]=!0)}return b.removeStaleBuckets(F)&&(S=!0),S}pruneUnusedLayers(l){const c={};l.forEach(v=>{c[v]=!0});for(const v in this.layerIndexes)c[v]||delete this.layerIndexes[v]}}const Io={prelude:yi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:yi("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (p.y <-32767.5 || p.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:yi("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 posInTile) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*posInTile;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (posInTile.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (posInTile.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition < 0.999) {vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}return globePosition;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:yi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:yi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:yi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (gl_FragColor.r < epsilon && gl_FragColor.g < epsilon && gl_FragColor.b < epsilon && gl_FragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:yi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:yi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:yi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:yi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:yi("varying float v_radius;varying vec2 v_extrude;varying float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform vec2 u_viewport_size;varying float v_radius;varying vec2 v_extrude;varying float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:yi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),fill:yi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;attribute vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate);}`),fillOutline:yi(`varying vec2 v_pos;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;attribute vec2 a_pos;varying vec2 v_pos;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:yi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:yi(`varying vec4 v_color;
#ifdef GLOBE
varying vec3 v_sphere_pos;uniform vec3 u_camera_pos_globe;uniform highp float u_projection_transition;
#endif
void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
#ifdef GLOBE
vec3 toPlanetCenter=-v_sphere_pos;vec3 toCameraNormalized=normalize(u_camera_pos_globe-v_sphere_pos);float t=dot(toPlanetCenter,toCameraNormalized);vec3 nearest=v_sphere_pos+toCameraNormalized*max(t,0.0);float distance_to_planet_center_squared=dot(nearest,nearest);if (distance_to_planet_center_squared < u_projection_transition) {discard;}
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#ifdef GLOBE
varying vec3 v_sphere_pos;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:yi(`uniform vec2 u_texsize;uniform float u_fade;
#ifdef GLOBE
varying vec3 v_sphere_pos;uniform vec3 u_camera_pos_globe;
#endif
uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
#ifdef GLOBE
vec3 toPlanetCenter=-v_sphere_pos;vec3 toCameraNormalized=normalize(u_camera_pos_globe-v_sphere_pos);float t=dot(toPlanetCenter,toCameraNormalized);vec3 nearest=v_sphere_pos+toCameraNormalized*max(t,0.0);float distance_to_planet_center_squared=dot(nearest,nearest);if (distance_to_planet_center_squared < u_projection_transition) {discard;}
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
#ifdef GLOBE
varying vec3 v_sphere_pos;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:yi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=projectTile(a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:yi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#ifdef GLOBE
varying float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:yi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;attribute vec2 a_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position);v_pos0=((fractionalPos-0.5)/u_buffer_scale )+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:yi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:yi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:yi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:yi("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:yi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:yi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:yi("varying vec4 v_output_error_encoded;void main() {gl_FragColor=v_output_error_encoded;}","attribute vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;varying vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:yi(`varying vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) return vec4(0,0,0,0);if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=min(0.75,exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie))));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.xyz=1.0-exp(-1.0*color.xyz);vec4 no_effect_color=vec4(0,0,0,0);gl_FragColor=mix(color,no_effect_color,1.0-u_atmosphere_blend);}`,"attribute vec2 a_pos;uniform mat4 u_inv_proj_matrix;varying vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:yi("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function yi(O,l){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=l.match(/attribute ([\w]+) ([\w]+)/g),b=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),S=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=S?S.concat(b):b,R={};return{fragmentSource:O=O.replace(c,(G,J,ue,re,xe)=>(R[xe]=!0,J==="define"?`
#ifndef HAS_UNIFORM_u_${xe}
varying ${ue} ${re} ${xe};
#else
uniform ${ue} ${re} u_${xe};
#endif
`:`
#ifdef HAS_UNIFORM_u_${xe}
    ${ue} ${re} ${xe} = u_${xe};
#endif
`)),vertexSource:l=l.replace(c,(G,J,ue,re,xe)=>{const Be=re==="float"?"vec2":"vec4",De=xe.match(/color/)?"color":Be;return R[xe]?J==="define"?`
#ifndef HAS_UNIFORM_u_${xe}
uniform lowp float u_${xe}_t;
attribute ${ue} ${Be} a_${xe};
varying ${ue} ${re} ${xe};
#else
uniform ${ue} ${re} u_${xe};
#endif
`:De==="vec4"?`
#ifndef HAS_UNIFORM_u_${xe}
    ${xe} = a_${xe};
#else
    ${ue} ${re} ${xe} = u_${xe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${xe}
    ${xe} = unpack_mix_${De}(a_${xe}, u_${xe}_t);
#else
    ${ue} ${re} ${xe} = u_${xe};
#endif
`:J==="define"?`
#ifndef HAS_UNIFORM_u_${xe}
uniform lowp float u_${xe}_t;
attribute ${ue} ${Be} a_${xe};
#else
uniform ${ue} ${re} u_${xe};
#endif
`:De==="vec4"?`
#ifndef HAS_UNIFORM_u_${xe}
    ${ue} ${re} ${xe} = a_${xe};
#else
    ${ue} ${re} ${xe} = u_${xe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${xe}
    ${ue} ${re} ${xe} = unpack_mix_${De}(a_${xe}, u_${xe}_t);
#else
    ${ue} ${re} ${xe} = u_${xe};
#endif
`}),staticAttributes:v,staticUniforms:F}}class Za{constructor(l,c,v){this.vertexBuffer=l,this.indexBuffer=c,this.segments=v}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Oa=a.av([{name:"a_pos",type:"Int16",components:2}]);const Xa="#define PROJECTION_MERCATOR",yu="mercator";class ql{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return yu}get shaderDefine(){return Xa}get shaderPreludeCode(){return Io.projectionMercator}get vertexShaderPreludeCode(){return Io.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aw.noSubdivision}get useGlobeControls(){return!1}destroy(){}isRenderingDirty(){return!1}updateGPUdependent(l){}getMeshFromTileID(l,c,v,b,S){if(this._cachedMesh)return this._cachedMesh;const F=new a.ax;F.emplaceBack(0,0),F.emplaceBack(a.X,0),F.emplaceBack(0,a.X),F.emplaceBack(a.X,a.X);const R=l.createVertexBuffer(F,Oa.members),G=a.ay.simpleSegment(0,0,4,2),J=new a.az;J.emplaceBack(1,0,2),J.emplaceBack(1,2,3);const ue=l.createIndexBuffer(J);return this._cachedMesh=new Za(R,ue,G),this._cachedMesh}}class Vl{constructor(l,c){this.points=l,this.planes=c}static fromInvProjectionMatrix(l,c=1,v=0){const b=Math.pow(2,v),S=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(R=>{const G=1/(R=a.af([],R,l))[3]/c*b;return a.aA(R,R,[G,G,1/R[3],G])}),F=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(R=>{const G=I([],L([],ne([],S[R[0]],S[R[1]]),ne([],S[R[2]],S[R[1]]))),J=-K(G,S[R[1]]);return G.concat(J)});return new Vl(S,F)}}class Js{constructor(l,c){this.min=l,this.max=c,this.center=B([],C([],this.min,this.max),.5)}quadrant(l){const c=[l%2==0,l<2],v=m(this.min),b=m(this.max);for(let S=0;S<c.length;S++)v[S]=c[S]?this.min[S]:this.center[S],b[S]=c[S]?this.center[S]:this.max[S];return b[2]=this.max[2],new Js(v,b)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersectsFrustum(l){const c=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let b=0;b<l.planes.length;b++){const S=l.planes[b];let F=0;for(let R=0;R<c.length;R++)a.aB(S,c[R])>=0&&F++;if(F===0)return 0;F!==c.length&&(v=!1)}if(v)return 2;for(let b=0;b<3;b++){let S=Number.MAX_VALUE,F=-Number.MAX_VALUE;for(let R=0;R<l.points.length;R++){const G=l.points[R][b]-this.min[b];S=Math.min(S,G),F=Math.max(F,G)}if(F<0||S>this.max[b]-this.min[b])return 0}return 1}intersectsPlane(l){const c=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=0;for(let b=0;b<c.length;b++)a.aB(l,c[b])>=0&&v++;return v===0?0:v<c.length?1:2}}class Zo{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,c,v){return this._helper.interpolatePadding(l,c,v)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}coveringZoomLevel(l){return this._helper.coveringZoomLevel(l)}resize(l,c){this._helper.resize(l,c)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get angle(){return this._helper.angle}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get bearing(){return this._helper.bearing}get fov(){return this._helper.fov}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}constructor(l,c,v,b,S){this._helper=new ci({calcMatrices:()=>{this._calcMatrices()},getConstrained:(F,R)=>this.getConstrained(F,R)},l,c,v,b,S),this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const l=new Zo;return l.apply(this),l}apply(l,c){this._helper.apply(l,c)}get cameraToCenterDistance(){return this._cameraToCenterDistance}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get useGlobeControls(){return!1}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(l){const c=[new a.aC(0,l)];if(this._helper._renderWorldCopies){const v=this.screenPointToMercatorCoordinate(new a.P(0,0)),b=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),S=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),F=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),R=Math.floor(Math.min(v.x,b.x,S.x,F.x)),G=Math.floor(Math.max(v.x,b.x,S.x,F.x)),J=1;for(let ue=R-J;ue<=G+J;ue++)ue!==0&&c.push(new a.aC(ue,l))}return c}coveringTiles(l){return function(c,v,b){var S,F;let R=c.coveringZoomLevel(v);const G=R;if(v.minzoom!==void 0&&R<v.minzoom)return[];v.maxzoom!==void 0&&R>v.maxzoom&&(R=v.maxzoom);const J=c.screenPointToMercatorCoordinate(c.getCameraPoint()),ue=a.Y.fromLngLat(c.center),re=Math.pow(2,R),xe=[re*J.x,re*J.y,0],Be=[re*ue.x,re*ue.y,0],De=Vl.fromInvProjectionMatrix(b,c.worldSize,R);let tt=v.minzoom||0;!v.terrain&&c.pitch<=60&&c.padding.top<.1&&(tt=R);const Xe=v.terrain?2/Math.min(c.tileSize,v.tileSize)*c.tileSize:3,Ge=bt=>({aabb:new Js([bt*re,0,0],[(bt+1)*re,re,0]),zoom:0,x:0,y:0,wrap:bt,fullyVisible:!1}),gt=[],ct=[],pt=R,vt=v.reparseOverscaled?G:R;if(c.renderWorldCopies)for(let bt=1;bt<=3;bt++)gt.push(Ge(-bt)),gt.push(Ge(bt));for(gt.push(Ge(0));gt.length>0;){const bt=gt.pop(),Nt=bt.x,Rt=bt.y;let Gt=bt.fullyVisible;if(!Gt){const $n=bt.aabb.intersectsFrustum(De);if($n===0)continue;Gt=$n===2}const tn=v.terrain?xe:Be,In=bt.aabb.distanceX(tn),Pn=bt.aabb.distanceY(tn),Fn=Math.max(Math.abs(In),Math.abs(Pn));if(bt.zoom===pt||Fn>Xe+(1<<pt-bt.zoom)-2&&bt.zoom>=tt){const $n=pt-bt.zoom,jn=xe[0]-.5-(Nt<<$n),Ei=xe[1]-.5-(Rt<<$n);ct.push({tileID:new a.S(bt.zoom===pt?vt:bt.zoom,bt.wrap,bt.zoom,Nt,Rt),distanceSq:ce([Be[0]-.5-Nt,Be[1]-.5-Rt]),tileDistanceToCamera:Math.sqrt(jn*jn+Ei*Ei)})}else for(let $n=0;$n<4;$n++){const jn=(Nt<<1)+$n%2,Ei=(Rt<<1)+($n>>1),zr=bt.zoom+1;let Rr=bt.aabb.quadrant($n);if(v.terrain){const Kr=new a.S(zr,bt.wrap,zr,jn,Ei),ta=v.terrain.getMinMaxElevation(Kr),_o=(S=ta.minElevation)!==null&&S!==void 0?S:c.elevation,mi=(F=ta.maxElevation)!==null&&F!==void 0?F:c.elevation;Rr=new Js([Rr.min[0],Rr.min[1],_o],[Rr.max[0],Rr.max[1],mi])}gt.push({aabb:Rr,zoom:zr,x:jn,y:Ei,wrap:bt.wrap,fullyVisible:Gt})}}return ct.sort((bt,Nt)=>bt.distanceSq-Nt.distanceSq).map(bt=>bt.tileID)}(this,l,this._invViewProjMatrix)}recalculateZoom(l){const c=this.elevation,v=Math.cos(this._helper._pitch)*this._cameraToCenterDistance/this._helper._pixelPerMeter,b=this.screenPointToLocation(this.centerPoint,l),S=l.getElevationForLngLatZoom(b,this._helper._tileZoom);if(!(this.elevation-S))return;const F=v+c-S,R=sa(Math.cos(this._helper._pitch)*this._cameraToCenterDistance/F/a.aD(1,b.lat)/this.tileSize);this._helper._elevation=S,this._helper._center=b,this.setZoom(R)}setLocationAtPoint(l,c){const v=this.screenPointToMercatorCoordinate(c),b=this.screenPointToMercatorCoordinate(this.centerPoint),S=jo(l),F=new a.Y(S.x-(v.x-b.x),S.y-(v.y-b.y));this.setCenter(co(F)),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(l,c){return c?this.coordinatePoint(jo(l),c.getElevationForLngLatZoom(l,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(jo(l))}screenPointToLocation(l,c){return co(this.screenPointToMercatorCoordinate(l,c))}screenPointToMercatorCoordinate(l,c){if(c){const xe=c.pointCoordinate(l);if(xe!=null)return xe}const v=[l.x,l.y,0,1],b=[l.x,l.y,1,1];a.af(v,v,this._pixelMatrixInverse),a.af(b,b,this._pixelMatrixInverse);const S=v[3],F=b[3],R=v[1]/S,G=b[1]/F,J=v[2]/S,ue=b[2]/F,re=J===ue?0:(0-J)/(ue-J);return new a.Y(a.y.number(v[0]/S,b[0]/F,re)/this.worldSize,a.y.number(R,G,re)/this.worldSize)}coordinatePoint(l,c=0,v=this._pixelMatrix){const b=[l.x*this.worldSize,l.y*this.worldSize,c,1];return a.af(b,b,v),new a.P(b[0]/b[3],b[1]/b[3])}getBounds(){const l=Math.max(0,this._helper._height/2-Je(this));return new fr().extend(this.screenPointToLocation(new a.P(0,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,l))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(l,c){return c?c.pointCoordinate(l)!=null:l.y>this.height/2-Je(this)}calculatePosMatrix(l,c=!1){const v=a.aE(l.wrap,l.canonical.z,l.canonical.z,l.canonical.x,l.canonical.y),b=c?this._alignedPosMatrixCache:this._posMatrixCache;if(b[v])return b[v];const S=rn(l,this.worldSize);return a.L(S,c?this._alignedProjMatrix:this._viewProjMatrix,S),b[v]=S,b[v]}calculateFogMatrix(l){const c=l.key,v=this._fogMatrixCache;if(v[c])return v[c];const b=rn(l,this.worldSize);return a.L(b,this._fogMatrix,b),v[c]=b,v[c]}getConstrained(l,c){c=a.a9(+c,this.minZoom,this.maxZoom);const v={center:new a.N(l.lng,l.lat),zoom:c};let b=this._helper._lngRange;if(!this._helper._renderWorldCopies&&b===null){const ct=179.9999999999;b=[-ct,ct]}const S=this.tileSize*Gi(v.zoom);let F=0,R=S,G=0,J=S,ue=0,re=0;const{x:xe,y:Be}=this.size;if(this._helper._latRange){const ct=this._helper._latRange;F=a.Q(ct[1])*S,R=a.Q(ct[0])*S,R-F<Be&&(ue=Be/(R-F))}b&&(G=a.ai(a.O(b[0])*S,0,S),J=a.ai(a.O(b[1])*S,0,S),J<G&&(J+=S),J-G<xe&&(re=xe/(J-G)));const{x:De,y:tt}=Qi(S,l);let Xe,Ge;const gt=Math.max(re||0,ue||0);if(gt){const ct=new a.P(re?(J+G)/2:De,ue?(R+F)/2:tt);return v.center=Oe(S,ct).wrap(),v.zoom+=sa(gt),v}if(this._helper._latRange){const ct=Be/2;tt-ct<F&&(Ge=F+ct),tt+ct>R&&(Ge=R-ct)}if(b){const ct=(G+J)/2;let pt=De;this._helper._renderWorldCopies&&(pt=a.ai(De,ct-S/2,ct+S/2));const vt=xe/2;pt-vt<G&&(Xe=G+vt),pt+vt>J&&(Xe=J-vt)}if(Xe!==void 0||Ge!==void 0){const ct=new a.P(Xe??De,Ge??tt);v.center=Oe(S,ct).wrap()}return v}_calcMatrices(){if(!this._helper._height)return;const l=this._helper._fov/2,c=this.centerOffset,v=Qi(this.worldSize,this.center),b=v.x,S=v.y;this._cameraToCenterDistance=.5/Math.tan(l)*this._helper._height,this._helper._pixelPerMeter=a.aD(1,this.center.lat)*this.worldSize;const F=this._cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(this._helper._pitch),R=Math.min(this.elevation,this.minElevationForCurrentTile),G=F-R*this._helper._pixelPerMeter/Math.cos(this._helper._pitch),J=R<0?G:F,ue=Math.PI/2+this._helper._pitch,re=this._helper._fov*(.5+c.y/this._helper._height),xe=Math.sin(re)*J/Math.sin(a.a9(Math.PI-ue-re,.01,Math.PI-.01)),Be=Je(this),De=2*Math.atan(Be/this._cameraToCenterDistance)*(.5+c.y/(2*Be)),tt=Math.sin(De)*J/Math.sin(a.a9(Math.PI-ue-De,.01,Math.PI-.01)),Xe=Math.min(xe,tt);let Ge;this._farZ=1.01*(Math.cos(Math.PI/2-this._helper._pitch)*Xe+J),this._nearZ=this._helper._height/50,Ge=new Float64Array(16),a.aF(Ge,this._helper._fov,this._helper._width/this._helper._height,this._nearZ,this._farZ),this._invProjMatrix=new Float64Array(16),a.ah(this._invProjMatrix,Ge),Ge[8]=2*-c.x/this._helper._width,Ge[9]=2*c.y/this._helper._height,this._projectionMatrix=a.aG(Ge),a.K(Ge,Ge,[1,-1,1]),a.J(Ge,Ge,[0,0,-this._cameraToCenterDistance]),a.aH(Ge,Ge,this._helper._pitch),a.aa(Ge,Ge,this._helper._angle),a.J(Ge,Ge,[-b,-S,0]),this._mercatorMatrix=a.K([],Ge,[this.worldSize,this.worldSize,this.worldSize]),a.K(Ge,Ge,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,Ge),a.J(Ge,Ge,[0,0,-this.elevation]),this._viewProjMatrix=Ge,this._invViewProjMatrix=a.ah([],Ge);const gt=[0,0,-1,1];a.af(gt,gt,this._invViewProjMatrix),this._cameraPosition=[gt[0]/gt[3],gt[1]/gt[3],gt[2]/gt[3]],this._fogMatrix=new Float64Array(16),a.aF(this._fogMatrix,this._helper._fov,this.width/this.height,F,this._farZ),this._fogMatrix[8]=2*-c.x/this.width,this._fogMatrix[9]=2*c.y/this.height,a.K(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.aH(this._fogMatrix,this._fogMatrix,this._helper._pitch),a.aa(this._fogMatrix,this._fogMatrix,this.angle),a.J(this._fogMatrix,this._fogMatrix,[-b,-S,0]),a.K(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.J(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.L(new Float64Array(16),this.clipSpaceToPixelsMatrix,Ge);const ct=this._helper._width%2/2,pt=this._helper._height%2/2,vt=Math.cos(this._helper._angle),bt=Math.sin(this._helper._angle),Nt=b-Math.round(b)+vt*ct+bt*pt,Rt=S-Math.round(S)+vt*pt+bt*ct,Gt=new Float64Array(Ge);if(a.J(Gt,Gt,[Nt>.5?Nt-1:Nt,Rt>.5?Rt-1:Rt,0]),this._alignedProjMatrix=Gt,Ge=a.ah(new Float64Array(16),this._pixelMatrix),!Ge)throw new Error("failed to invert matrix");this._pixelMatrixInverse=Ge,this._posMatrixCache={},this._fogMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const l=this.screenPointToMercatorCoordinate(new a.P(0,0)),c=[l.x*this.worldSize,l.y*this.worldSize,0,1];return a.af(c,c,this._pixelMatrix)[3]/this._cameraToCenterDistance}getCameraPoint(){const l=Math.tan(this._helper._pitch)*(this._cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,l))}getCameraAltitude(){return Math.cos(this._helper._pitch)*this._cameraToCenterDistance/this._helper._pixelPerMeter+this.elevation}lngLatToCameraDepth(l,c){const v=jo(l),b=[v.x*this.worldSize,v.y*this.worldSize,c,1];return a.af(b,b,this._viewProjMatrix),b[2]/b[3]}isRenderingDirty(){return!1}getProjectionData(l,c,v){return function(b,S,F){let R,G;if(b){const J=b.canonical.z>=0?1<<b.canonical.z:Math.pow(2,b.canonical.z);R=[b.canonical.x/J,b.canonical.y/J,1/J/a.X,1/J/a.X]}else R=[0,0,1,1];return G=b&&b.terrainRttPosMatrix&&!F?b.terrainRttPosMatrix:S||a.H(),{mainMatrix:G,tileMercatorCoords:R,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:G}}(l,l?this.calculatePosMatrix(l,c):null,v)}isLocationOccluded(l){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(l,c){return 1}newFrameUpdate(){return{}}transformLightDirection(l){return m(l)}getRayDirectionFromPixel(l){throw new Error("Not implemented.")}projectTileCoordinates(l,c,v,b){const S=this.calculatePosMatrix(v);let F;b?(F=[l,c,b(l,c),1],a.af(F,F,S)):(F=[l,c,0,1],qa(F,F,S));const R=F[3];return{point:new a.P(F[0]/R,F[1]/R),signedDistanceFromCamera:R,isOccluded:!1}}precacheTiles(l){for(const c of l)this.calculatePosMatrix(c)}getMatrixForModel(l,c){const v=a.Y.fromLngLat(l,c),b=v.meterInMercatorCoordinateUnits(),S=a.aI();return a.J(S,S,[v.x,v.y,v.z]),a.aa(S,S,Math.PI),a.aH(S,S,Math.PI/2),a.K(S,S,[-b,b,b]),S}getProjectionDataForCustomLayer(){const l=this.getProjectionData(new a.S(0,0,0,0,0));l.tileMercatorCoords=[0,0,1,1];const c=[a.X,a.X,this.worldSize/this._helper.pixelsPerMeter],v=[0,0,this.elevation],b=a.aJ();a.J(b,l.fallbackMatrix,v),a.K(b,b,c);const S=a.aJ();return a.J(S,l.mainMatrix,v),a.K(S,S,c),l.fallbackMatrix=b,l.mainMatrix=S,l}}function Us(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}class fl{get useGlobeControls(){return!1}handlePanInertia(l,c){return{easingOffset:l,easingCenter:c.center}}handleMapControlsPitchBearingZoom(l,c){l.bearingDelta&&c.setBearing(c.bearing+l.bearingDelta),l.pitchDelta&&c.setPitch(c.pitch+l.pitchDelta),l.zoomDelta&&c.setZoom(c.zoom+l.zoomDelta)}handleMapControlsPan(l,c,v){c.setLocationAtPoint(v,l.around)}cameraForBoxAndBearing(l,c,v,b,S){const F=S.padding,R=Qi(S.worldSize,v.getNorthWest()),G=Qi(S.worldSize,v.getNorthEast()),J=Qi(S.worldSize,v.getSouthEast()),ue=Qi(S.worldSize,v.getSouthWest()),re=a.aK(-b),xe=R.rotate(re),Be=G.rotate(re),De=J.rotate(re),tt=ue.rotate(re),Xe=new a.P(Math.max(xe.x,Be.x,tt.x,De.x),Math.max(xe.y,Be.y,tt.y,De.y)),Ge=new a.P(Math.min(xe.x,Be.x,tt.x,De.x),Math.min(xe.y,Be.y,tt.y,De.y)),gt=Xe.sub(Ge),ct=(S.width-(F.left+F.right+c.left+c.right))/gt.x,pt=(S.height-(F.top+F.bottom+c.top+c.bottom))/gt.y;if(pt<0||ct<0)return void Us();const vt=Math.min(sa(S.scale*Math.min(ct,pt)),l.maxZoom),bt=a.P.convert(l.offset),Nt=new a.P((c.left-c.right)/2,(c.top-c.bottom)/2).rotate(a.aK(b)),Rt=bt.add(Nt).mult(S.scale/Gi(vt));return{center:Oe(S.worldSize,R.add(J).div(2).sub(Rt)),zoom:vt,bearing:b}}handleJumpToCenterZoom(l,c){l.zoom!==(c.zoom!==void 0?+c.zoom:l.zoom)&&l.setZoom(+c.zoom),c.center!==void 0&&l.setCenter(a.N.convert(c.center))}handleEaseTo(l,c){const v=l.zoom,b=l.bearing,S=l.pitch,F=l.padding,R=c.zoom!==void 0,G=!l.isPaddingEqual(c.padding);let J=!1;const ue=R?+c.zoom:l.zoom;let re=l.centerPoint.add(c.offsetAsPoint);const xe=l.screenPointToLocation(re),{center:Be,zoom:De}=l.getConstrained(a.N.convert(c.center||xe),ue??v);Ma(l,Be);const tt=Qi(l.worldSize,xe),Xe=Qi(l.worldSize,Be).sub(tt),Ge=Gi(De-v);return J=De!==v,{easeFunc:gt=>{if(J&&l.setZoom(a.y.number(v,De,gt)),b!==c.bearing&&l.setBearing(a.y.number(b,c.bearing,gt)),S!==c.pitch&&l.setPitch(a.y.number(S,c.pitch,gt)),G&&(l.interpolatePadding(F,c.padding,gt),re=l.centerPoint.add(c.offsetAsPoint)),c.around)l.setLocationAtPoint(c.around,c.aroundPoint);else{const ct=Gi(l.zoom-v),pt=De>v?Math.min(2,Ge):Math.max(.5,Ge),vt=Math.pow(pt,1-gt),bt=Oe(l.worldSize,tt.add(Xe.mult(gt*vt)).mult(ct));l.setLocationAtPoint(l.renderWorldCopies?bt.wrap():bt,re)}},isZooming:J,elevationCenter:Be}}handleFlyTo(l,c){const v=c.zoom!==void 0,b=l.zoom,S=l.getConstrained(a.N.convert(c.center||c.locationAtOffset),v?+c.zoom:b),F=S.center,R=S.zoom;Ma(l,F);const G=Qi(l.worldSize,c.locationAtOffset),J=Qi(l.worldSize,F).sub(G),ue=J.mag(),re=Gi(R-b);let xe;if(c.minZoom!==void 0){const Be=Math.min(+c.minZoom,b,R);xe=Gi(l.getConstrained(F,Be).zoom-b)}return{easeFunc:(Be,De,tt,Xe)=>{l.setZoom(Be===1?R:b+sa(De));const Ge=Be===1?F:Oe(l.worldSize,G.add(J.mult(tt)).mult(De));l.setLocationAtPoint(l.renderWorldCopies?Ge.wrap():Ge,Xe)},scaleOfZoom:re,targetCenter:F,scaleOfMinZoom:xe,pixelPathLength:ue}}}class gr{constructor(l,c,v){this.blendFunction=l,this.blendColor=c,this.mask=v}}gr.Replace=[1,0],gr.disabled=new gr(gr.Replace,a.aL.transparent,[!1,!1,!1,!1]),gr.unblended=new gr(gr.Replace,a.aL.transparent,[!0,!0,!0,!0]),gr.alphaBlended=new gr([1,771],a.aL.transparent,[!0,!0,!0,!0]);const li=2305;class j{constructor(l,c,v){this.enable=l,this.mode=c,this.frontFace=v}}j.disabled=new j(!1,1029,li),j.backCCW=new j(!0,1029,li),j.frontCCW=new j(!0,1028,li);class le{constructor(l,c,v){this.func=l,this.mask=c,this.range=v}}le.ReadOnly=!1,le.ReadWrite=!0,le.disabled=new le(519,le.ReadOnly,[0,1]);const We=7680;class xt{constructor(l,c,v,b,S,F){this.test=l,this.ref=c,this.mask=v,this.fail=b,this.depthFail=S,this.pass=F}}xt.disabled=new xt({func:519,mask:0},0,0,We,We,We);const Hn=new WeakMap;function bn(O){var l;if(Hn.has(O))return Hn.get(O);{const c=(l=O.getParameter(O.VERSION))===null||l===void 0?void 0:l.startsWith("WebGL 2.0");return Hn.set(O,c),c}}class kr{get awaitingQuery(){return!!this._readbackQueue}constructor(l){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=l;const c=l.context,v=c.gl;this._texFormat=v.RGBA,this._texType=v.UNSIGNED_BYTE;const b=new a.ax;b.emplaceBack(-1,-1),b.emplaceBack(2,-1),b.emplaceBack(-1,2);const S=new a.az;S.emplaceBack(0,1,2),this._fullscreenTriangle=new Za(c.createVertexBuffer(b,Oa.members),c.createIndexBuffer(S),a.ay.simpleSegment(0,0,b.length,S.length)),this._resultBuffer=new Uint8Array(4),c.activeTexture.set(v.TEXTURE1);const F=v.createTexture();v.bindTexture(v.TEXTURE_2D,F),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.texImage2D(v.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=c.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(F),bn(v)&&(this._pbo=v.createBuffer(),v.bindBuffer(v.PIXEL_PACK_BUFFER,this._pbo),v.bufferData(v.PIXEL_PACK_BUFFER,4,v.STREAM_READ),v.bindBuffer(v.PIXEL_PACK_BUFFER,null))}destroy(){const l=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),l.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(l,c){const v=this._updateCount;return this._readbackQueue?v>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():v>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(l,c),this._updateCount++,this._measuredError}_bindFramebuffer(){const l=this._cachedRenderContext.context,c=l.gl;l.activeTexture.set(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this._fbo.colorAttachment.get()),l.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(l,c){const v=this._cachedRenderContext.context,b=v.gl;if(this._bindFramebuffer(),v.viewport.set([0,0,this._texWidth,this._texHeight]),v.clear({color:a.aL.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(v,b.TRIANGLES,le.disabled,xt.disabled,gr.unblended,j.disabled,((S,F)=>({u_input:S,u_output_expected:F}))(l,c),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&bn(b)){b.bindBuffer(b.PIXEL_PACK_BUFFER,this._pbo),b.readBuffer(b.COLOR_ATTACHMENT0),b.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),b.bindBuffer(b.PIXEL_PACK_BUFFER,null);const S=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);b.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:S}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const l=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&bn(l)){const c=l.clientWaitSync(this._readbackQueue.sync,0,0);if(c===l.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(c===l.TIMEOUT_EXPIRED)return;l.bindBuffer(l.PIXEL_PACK_BUFFER,this._pbo),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),l.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=kr._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(l){let c=0;return c+=l[0]/256,c+=l[1]/65536,c+=l[2]/16777216,l[3]<127&&(c=-c),c/128}}const Ur=a.X/128;function yr(O,l){const c=O.granularity!==void 0?Math.max(O.granularity,1):1,v=c+(O.generateBorders?2:0),b=c+(O.extendToNorthPole||O.generateBorders?1:0)+(O.extendToSouthPole||O.generateBorders?1:0),S=v+1,F=b+1,R=O.generateBorders?-1:0,G=O.generateBorders||O.extendToNorthPole?-1:0,J=c+(O.generateBorders?1:0),ue=c+(O.generateBorders||O.extendToSouthPole?1:0),re=S*F,xe=v*b*6,Be=S*F>65536;if(Be&&l==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const De=Be||l==="32bit",tt=new Int16Array(2*re);let Xe;Xe=De?{vertices:tt,indices:new Uint32Array(xe),uses32bitIndices:!0}:{vertices:tt,indices:new Uint16Array(xe),uses32bitIndices:!1};const Ge=Xe.indices;let gt=0;for(let pt=G;pt<=ue;pt++)for(let vt=R;vt<=J;vt++){let bt=vt/c*a.X;vt===-1&&(bt=-Ur),vt===c+1&&(bt=a.X+Ur);let Nt=pt/c*a.X;pt===-1&&(Nt=O.extendToNorthPole?a.aN:-Ur),pt===c+1&&(Nt=O.extendToSouthPole?a.aO:a.X+Ur),tt[gt++]=bt,tt[gt++]=Nt}let ct=0;for(let pt=0;pt<b;pt++)for(let vt=0;vt<v;vt++){const bt=vt+1+pt*S,Nt=vt+(pt+1)*S,Rt=vt+1+(pt+1)*S;Ge[ct++]=vt+pt*S,Ge[ct++]=Nt,Ge[ct++]=bt,Ge[ct++]=bt,Ge[ct++]=Nt,Ge[ct++]=Rt}return Xe}const Tr=new a.aw({fill:new a.aP(128,1),line:new a.aP(512,1),tile:new a.aP(128,32),stencil:new a.aP(128,4),circle:3});class Di{get name(){return"globe"}get useGlobeRendering(){return this._useGlobeRendering}set useGlobeRendering(l){this._useGlobeRendering=l}get useSubdivision(){return this.useGlobeRendering}get shaderVariantName(){return this.useGlobeRendering?"globe":this._mercator.shaderVariantName}get shaderDefine(){return this.useGlobeRendering?"#define GLOBE":this._mercator.shaderDefine}get shaderPreludeCode(){return this.useGlobeRendering?Io.projectionGlobe:this._mercator.shaderPreludeCode}get vertexShaderPreludeCode(){return Io.projectionMercator.vertexSource}get subdivisionGranularity(){return Tr}get useGlobeControls(){return this._useGlobeRendering}get errorQueryLatitudeDegrees(){return this._errorQueryLatitudeDegrees}set errorQueryLatitudeDegrees(l){this._errorQueryLatitudeDegrees=l}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}constructor(){this._tileMeshCache={},this._useGlobeRendering=!0,this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3,this._mercator=new ql}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}isRenderingDirty(){const l=H.now();let c=!1;return c=c||(l-this._errorMeasurementLastChangeTime)/1e3<.7,c=c||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,c}updateGPUdependent(l){this._mercator.updateGPUdependent(l),this._errorMeasurement||(this._errorMeasurement=new kr(l));const c=a.Q(this._errorQueryLatitudeDegrees),v=2*Math.atan(Math.exp(Math.PI-c*Math.PI*2))-.5*Math.PI,b=this._errorMeasurement.updateErrorLoop(c,v),S=H.now();b!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=b,this._errorMeasurementLastChangeTime=S);const F=Math.min(Math.max((S-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.aQ(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.aR(F))}_getMeshKey(l){return`${l.granularity.toString(36)}_${l.generateBorders?"b":""}${l.extendToNorthPole?"n":""}${l.extendToSouthPole?"s":""}`}getMeshFromTileID(l,c,v,b,S){const F=(S==="stencil"?Tr.stencil:Tr.tile).getGranularityForZoomLevel(c.z);return this._getMesh(l,{granularity:F,generateBorders:v,extendToNorthPole:c.y===0&&b,extendToSouthPole:c.y===(1<<c.z)-1&&b})}_getMesh(l,c){const v=this._getMeshKey(c);if(v in this._tileMeshCache)return this._tileMeshCache[v];const b=function(S,F){const R=yr(F,"16bit"),G=a.ax.deserialize({arrayBuffer:R.vertices,length:R.vertices.length/2}),J=a.az.deserialize({arrayBuffer:R.indices,length:R.indices.length/3});return new Za(S.createVertexBuffer(G,Oa.members),S.createIndexBuffer(J),a.ay.simpleSegment(0,0,G.length,J.length))}(l,c);return this._tileMeshCache[v]=b,b}}function ro(O){const l=$i(O.worldSize,O.center.lat);return 2*Math.PI*l}function vi(O,l){return[a.aT(O*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-l*Math.PI*2))-.5*Math.PI]}function Xr(O,l){const c=Math.cos(l),v=new Float64Array(3);return v[0]=Math.sin(O)*c,v[1]=Math.sin(l),v[2]=Math.cos(O)*c,v}function ki(O,l,c){const v=er(O,l,c),b=vi(v.x,v.y);return Xr(b[0],b[1])}function pi(O){return Xr(O.lng*Math.PI/180,O.lat*Math.PI/180)}function $i(O,l){return O/(2*Math.PI)/Math.cos(l*Math.PI/180)}function La(O){const l=Math.asin(O[1])/Math.PI*180,c=Math.sqrt(O[0]*O[0]+O[2]*O[2]);if(c>1e-6){const v=O[0]/c,b=Math.acos(O[2]/c),S=(v>0?b:-b)/Math.PI*180;return new a.N(a.ai(S,-180,180),l)}return new a.N(0,l)}function Ss(O){return Math.cos(O*Math.PI/180)}function ho(O,l){const c=Ss(O);return sa(Ss(l)/c)}function Lo(O,l){const c=O.rotate(-l.angle),v=l.zoom+ho(l.center.lat,0),b=a.aQ(1/Ss(l.center.lat),1/Ss(Math.min(Math.abs(l.center.lat),60)),a.aS(v,7,3,0,1)),S=360/ro({worldSize:l.worldSize,center:{lat:l.center.lat}});return new a.N(l.center.lng-c.x*S*b,a.a9(l.center.lat+c.y*S,-85.051129,Ho))}function Pp(O){const l=.5*O,c=Math.sin(l),v=Math.cos(l);return Math.log(c+v)-Math.log(v-c)}function el(O,l,c,v){const b=O.lat+c*v;if(Math.abs(c)>1){const S=(Math.sign(O.lat+c)!==Math.sign(O.lat)?-Math.abs(O.lat):Math.abs(O.lat))*Math.PI/180,F=Math.abs(O.lat+c)*Math.PI/180,R=Pp(S+v*(F-S)),G=Pp(S),J=Pp(F);return new a.N(O.lng+l*((R-G)/(J-G)),b)}return new a.N(O.lng+l*v,b)}function Sd(O,l,c){const v=O-l;return v<0?-v:Math.max(0,v-c)}function dA(O,l,c,v,b){const S=O-c;let F;return F=S<0?Math.min(-S,1+S-b):S>1?Math.min(Math.max(S-b,0),1-S):0,Math.max(F,Sd(l,v,b))}function zA(O,l,c,v,b){let S=2;return S=Math.min(S,dA(O,l,c,v,b)),S=Math.min(S,dA(O,l,c+.5,-v-b,b)),S=Math.min(S,dA(O,l,c+.5,2-v-b,b)),S}function Ed(O,l,c,v,b,S){const F=zA(O.x,O.y,c,v,b),R=zA(l.x,l.y,c,v,b);return 2*Math.min(F,R)<=S}function Kp(O,l,c){const v=Sd(O.x,l,c),b=Sd(O.x,l-1,c),S=Sd(O.x,l+1,c),F=Math.min(v,b,S);return F===S?1:F===b?-1:0}function Xo(O,l,c,v,b){const S=function(G){if(G.z<=0)return new Js([-1,-1,-1],[1,1,1]);if(G.z===1)return new Js([G.x===0?-1:0,G.y===0?0:-1,-1],[G.x===0?0:1,G.y===0?1:0,1]);{const J=[ki(0,0,G),ki(a.X,0,G),ki(a.X,a.X,G),ki(0,a.X,G)],ue=[1,1,1],re=[-1,-1,-1];for(const xe of J)for(let Be=0;Be<3;Be++)ue[Be]=Math.min(ue[Be],xe[Be]),re[Be]=Math.max(re[Be],xe[Be]);if(G.y===0||G.y===(1<<G.z)-1){const xe=[0,G.y===0?1:-1,0];for(let Be=0;Be<3;Be++)ue[Be]=Math.min(ue[Be],xe[Be]),re[Be]=Math.max(re[Be],xe[Be])}return new Js(ue,re)}}({x:c,y:v,z:b}),F=S.intersectsFrustum(O),R=S.intersectsPlane(l);return F===0||R===0?0:F===2&&R===2?2:1}class Hl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(l){this._helper.setMinZoom(l)}setMaxZoom(l){this._helper.setMaxZoom(l)}setMinPitch(l){this._helper.setMinPitch(l)}setMaxPitch(l){this._helper.setMaxPitch(l)}setRenderWorldCopies(l){this._helper.setRenderWorldCopies(l)}setBearing(l){this._helper.setBearing(l)}setPitch(l){this._helper.setPitch(l)}setFov(l){this._helper.setFov(l)}setZoom(l){this._helper.setZoom(l)}setCenter(l){this._helper.setCenter(l)}setElevation(l){this._helper.setElevation(l)}setMinElevationForCurrentTile(l){this._helper.setMinElevationForCurrentTile(l)}setPadding(l){this._helper.setPadding(l)}interpolatePadding(l,c,v){return this._helper.interpolatePadding(l,c,v)}isPaddingEqual(l){return this._helper.isPaddingEqual(l)}coveringZoomLevel(l){return this._helper.coveringZoomLevel(l)}resize(l,c){this._helper.resize(l,c)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(l){this._helper.setMaxBounds(l)}getCameraQueryGeometry(l){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),l)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get angle(){return this._helper.angle}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get bearing(){return this._helper.bearing}get fov(){return this._helper.fov}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get _globeRendering(){return this._globeness>0}constructor(l,c=!0){this._cachedClippingPlane=a.aU(),this._lastGlobeStateEnabled=!0,this._lastLargeZoomStateChange=-1e3,this._lastLargeZoomState=!1,this._lastUpdateTime=H.now(),this._lastGlobeChangeTime=H.now()-1e4,this._skipNextAnimation=!0,this._projectionMatrix=a.aI(),this._globeViewProjMatrix=a.aI(),this._globeViewProjMatrixNoCorrection=a.aI(),this._globeViewProjMatrixNoCorrectionInverted=a.aI(),this._globeProjMatrixInverted=a.aI(),this._cameraPosition=a.aV(),this._globeProjectionAllowed=!0,this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ci({calcMatrices:()=>{this._calcMatrices()},getConstrained:(v,b)=>this.getConstrained(v,b)}),this._globeProjectionAllowed=c,this._globeness=c?1:0,this._projectionInstance=l,this._mercatorTransform=new Zo}clone(){const l=new Hl(null,this._globeProjectionAllowed);return l._applyGlobeTransform(this),l.apply(this),l}apply(l){this._helper.apply(l),this._mercatorTransform.apply(this)}_applyGlobeTransform(l){this._globeness=l._globeness,this._globeLatitudeErrorCorrectionRadians=l._globeLatitudeErrorCorrectionRadians}get projectionMatrix(){return this._globeRendering?this._projectionMatrix:this._mercatorTransform.projectionMatrix}get modelViewProjectionMatrix(){return this._globeRendering?this._globeViewProjMatrixNoCorrection:this._mercatorTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this._globeRendering?this._globeProjMatrixInverted:this._mercatorTransform.inverseProjectionMatrix}get useGlobeControls(){return this._globeRendering}get cameraPosition(){const l=a.aV();return l[0]=this._cameraPosition[0],l[1]=this._cameraPosition[1],l[2]=this._cameraPosition[2],l}get cameraToCenterDistance(){return this._mercatorTransform.cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}getGlobeViewAllowed(){return this._globeProjectionAllowed}setGlobeViewAllowed(l,c=!0){l!==this._globeProjectionAllowed&&(c||(this._skipNextAnimation=!0),this._globeProjectionAllowed=l,this._lastGlobeChangeTime=this._lastUpdateTime)}newFrameUpdate(){this._updateErrorCorrectionValue(),this._lastUpdateTime=H.now();const l=this._globeRendering;return this._globeness=this._computeGlobenessAnimation(),this._calcMatrices(),l===this._globeRendering?{forcePlacementUpdate:!1}:{forcePlacementUpdate:!0,fireProjectionEvent:{type:"projectiontransition",newProjection:this._globeRendering?"globe":"globe-mercator"},forceSourceUpdate:!0}}_updateErrorCorrectionValue(){this._projectionInstance&&(this._projectionInstance.useGlobeRendering=this._globeRendering,this._projectionInstance.errorQueryLatitudeDegrees=this.center.lat,this._globeLatitudeErrorCorrectionRadians=this._projectionInstance.latitudeErrorCorrectionRadians)}_computeGlobenessAnimation(){const l=this._globeProjectionAllowed,c=this._lastUpdateTime;l!==this._lastGlobeStateEnabled&&(this._lastGlobeChangeTime=c,this._lastGlobeStateEnabled=l);const v=this._globeness,b=Math.min(Math.max((c-this._lastGlobeChangeTime)/1e3/.5,0),1);let S=l?b:1-b;this._skipNextAnimation&&(S=l?1:0,this._lastGlobeChangeTime=c-1e3,this._skipNextAnimation=!1);const F=this.zoom>=12;F!==this._lastLargeZoomState&&(this._lastLargeZoomState=F,this._lastLargeZoomStateChange=c);const R=Math.min(Math.max((c-this._lastLargeZoomStateChange)/1e3/.5,0),1);return S=Math.min(S,F?1-R:R),S=a.aR(S),v!==S&&(this.setCenter(new a.N(this._mercatorTransform.center.lng+a.aW(this._mercatorTransform.center.lng,this.center.lng)*S,a.aQ(this._mercatorTransform.center.lat,this.center.lat,S))),this.setZoom(a.aQ(this._mercatorTransform.zoom,this.zoom,S))),S}isRenderingDirty(){return(this._lastUpdateTime-this._lastGlobeChangeTime)/1e3<Math.max(.5,.5)}getProjectionData(l,c,v){const b=this._mercatorTransform.getProjectionData(l,c,v);return this._globeRendering&&(b.mainMatrix=this._globeViewProjMatrix),b.clippingPlane=this._cachedClippingPlane,b.projectionTransition=this._globeness,b}_computeClippingPlane(l){const c=this.pitch*Math.PI/180,v=this.cameraToCenterDistance/l,b=Math.sin(c)*v,S=Math.cos(c)*v+1,F=1/Math.sqrt(b*b+S*S)*1;let R=-b,G=S;const J=Math.sqrt(R*R+G*G);R/=J,G/=J;const ue=[0,R,G];return V(ue,ue,[0,0,0],this.angle),Y(ue,ue,[0,0,0],-1*this.center.lat*Math.PI/180),ee(ue,ue,[0,0,0],this.center.lng*Math.PI/180),B(ue,ue,.25),[...ue,.25*-F]}isLocationOccluded(l){return!this.isSurfacePointVisible(pi(l))}transformLightDirection(l){const c=this._helper._center.lng*Math.PI/180,v=this._helper._center.lat*Math.PI/180,b=Math.cos(v),S=[Math.sin(c)*b,Math.sin(v),Math.cos(c)*b],F=[S[2],0,-S[0]],R=[0,0,0];L(R,F,S),I(F,F),I(R,R);const G=[0,0,0];return I(G,[F[0]*l[0]+R[0]*l[1]+S[0]*l[2],F[1]*l[0]+R[1]*l[1]+S[1]*l[2],F[2]*l[0]+R[2]*l[1]+S[2]*l[2]]),G}getAnimatedLatitude(){return a.aQ(this._mercatorTransform.center.lat,this._helper._center.lat,this._globeness)}getPixelScale(){return 1/Math.cos(this.getAnimatedLatitude()*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this.getAnimatedLatitude()*Math.PI/180)}getPitchedTextCorrection(l,c){if(!this._globeRendering)return 1;const v=er(l.x,l.y,c.canonical),b=vi(v.x,v.y);return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(l,c,v,b){if(!this._globeRendering)return this._mercatorTransform.projectTileCoordinates(l,c,v,b);const S=ki(l,c,v.canonical),F=1+(b?b(l,c):0)/a.a_,R=[S[0]*F,S[1]*F,S[2]*F,1];a.af(R,R,this._globeViewProjMatrixNoCorrection);const G=this._cachedClippingPlane,J=G[0]*S[0]+G[1]*S[1]+G[2]*S[2]+G[3]<0;return{point:new a.P(R[0]/R[3],R[1]/R[3]),signedDistanceFromCamera:R[3],isOccluded:J}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;this._mercatorTransform&&this._mercatorTransform.apply(this,!0);const l=$i(this.worldSize,this.center.lat),c=a.aJ(),v=a.aJ();this._nearZ=.5,this._farZ=this.cameraToCenterDistance+2*l,a.aF(c,this.fov*Math.PI/180,this.width/this.height,this._nearZ,this._farZ);const b=this.centerOffset;c[8]=2*-b.x/this._helper._width,c[9]=2*b.y/this._helper._height,this._projectionMatrix=a.aG(c),this._globeProjMatrixInverted=a.aJ(),a.ah(this._globeProjMatrixInverted,c),a.J(c,c,[0,0,-this.cameraToCenterDistance]),a.aH(c,c,-this.pitch*Math.PI/180),a.aa(c,c,-this.angle),a.J(c,c,[0,0,-l]);const S=a.aV();S[0]=l,S[1]=l,S[2]=l,a.aH(v,c,this.center.lat*Math.PI/180),a.aX(v,v,-this.center.lng*Math.PI/180),a.K(v,v,S),this._globeViewProjMatrixNoCorrection=v,a.aH(c,c,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.aX(c,c,-this.center.lng*Math.PI/180),a.K(c,c,S),this._globeViewProjMatrix=c,this._globeViewProjMatrixNoCorrectionInverted=a.aJ(),a.ah(this._globeViewProjMatrixNoCorrectionInverted,v);const F=a.aV();this._cameraPosition=a.aV(),this._cameraPosition[2]=this.cameraToCenterDistance/l,Y(this._cameraPosition,this._cameraPosition,F,this.pitch*Math.PI/180),V(this._cameraPosition,this._cameraPosition,F,this.angle),C(this._cameraPosition,this._cameraPosition,[0,0,1]),Y(this._cameraPosition,this._cameraPosition,F,-this.center.lat*Math.PI/180),ee(this._cameraPosition,this._cameraPosition,F,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(l);const R=a.aG(this._globeViewProjMatrixNoCorrectionInverted);a.K(R,R,[1,1,-1]),this._cachedFrustum=Vl.fromInvProjectionMatrix(R)}calculateFogMatrix(l){a.w("calculateFogMatrix is not supported on globe projection.");const c=a.aJ();return a.aj(c),c}getVisibleUnwrappedCoordinates(l){return[new a.aC(0,l)]}coveringTiles(l){if(!this._globeRendering)return this._mercatorTransform.coveringTiles(l);const c=this.coveringZoomLevel(l),v=this.screenPointToMercatorCoordinate(this.getCameraPoint()),b=a.Y.fromLngLat(this.center);return function(S,F,R,G,J,ue){let re=J;const xe=re;if(ue.minzoom!==void 0&&re<ue.minzoom)return[];ue.maxzoom!==void 0&&re>ue.maxzoom&&(re=ue.maxzoom);const Be=Math.pow(2,re),De=[Be*R.x,Be*R.y,0],tt=[Be*G.x,Be*G.y,0],Xe=[],Ge=[],gt=re,ct=ue.reparseOverscaled?xe:re;for(Xe.push({zoom:0,x:0,y:0,fullyVisible:!1});Xe.length>0;){const pt=Xe.pop(),vt=pt.x,bt=pt.y;let Nt=pt.fullyVisible;if(!Nt){const Pn=Xo(S,F,pt.x,pt.y,pt.zoom);if(Pn===0)continue;Nt=Pn===2}const Rt=1<<Math.max(pt.zoom,0),Gt=1/Rt,tn=vt/Rt,In=Ed(G,R,tn,bt/Rt,Gt,3);if(pt.zoom!==gt&&In)for(let Pn=0;Pn<4;Pn++)Xe.push({zoom:pt.zoom+1,x:(vt<<1)+Pn%2,y:(bt<<1)+(Pn>>1),fullyVisible:Nt});else{const Pn=gt-pt.zoom,Fn=De[0]-.5-(vt<<Pn),$n=De[1]-.5-(bt<<Pn),jn=Kp(G,tn,Gt);Ge.push({tileID:new a.S(pt.zoom===gt?ct:pt.zoom,jn,pt.zoom,vt,bt),distanceSq:ce([tt[0]-.5-Fn,tt[1]-.5-$n]),tileDistanceToCamera:Math.sqrt(Fn*Fn+$n*$n)})}}return Ge.sort((pt,vt)=>pt.distanceSq-vt.distanceSq).map(pt=>pt.tileID)}(this._cachedFrustum,this._cachedClippingPlane,v,b,c,l)}recalculateZoom(l){this._mercatorTransform.recalculateZoom(l),this.apply(this._mercatorTransform)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._mercatorTransform.getCameraPoint()}getCameraAltitude(){return this._mercatorTransform.getCameraAltitude()}lngLatToCameraDepth(l,c){if(!this._globeRendering)return this._mercatorTransform.lngLatToCameraDepth(l,c);if(!this._globeViewProjMatrixNoCorrection)return 1;const v=pi(l);B(v,v,1+c/a.a_);const b=a.aU();return a.af(b,[v[0],v[1],v[2],1],this._globeViewProjMatrixNoCorrection),b[2]/b[3]}precacheTiles(l){this._mercatorTransform.precacheTiles(l)}getBounds(){if(!this._globeRendering)return this._mercatorTransform.getBounds();const l=.5*this.width,c=.5*this.height,v=[new a.P(0,0),new a.P(l,0),new a.P(this.width,0),new a.P(this.width,c),new a.P(this.width,this.height),new a.P(l,this.height),new a.P(0,this.height),new a.P(0,c)],b=[];for(const re of v)b.push(this.unprojectScreenPoint(re));let S=0,F=0,R=0,G=0;const J=this.center;for(const re of b){const xe=a.aW(J.lng,re.lng),Be=a.aW(J.lat,re.lat);xe<F&&(F=xe),xe>S&&(S=xe),Be<G&&(G=Be),Be>R&&(R=Be)}const ue=[J.lng+F,J.lat+G,J.lng+S,J.lat+R];return this.isSurfacePointOnScreen([0,1,0])&&(ue[3]=90,ue[0]=-180,ue[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(ue[1]=-90,ue[0]=-180,ue[2]=180),new fr(ue)}getConstrained(l,c){const v=a.a9(l.lat,-85.051129,Ho),b=a.a9(+c,this.minZoom+ho(0,v),this.maxZoom);return{center:new a.N(l.lng,v),zoom:b}}setLocationAtPoint(l,c){if(!this._globeRendering)return this._mercatorTransform.setLocationAtPoint(l,c),void this.apply(this._mercatorTransform);const v=pi(this.unprojectScreenPoint(c)),b=pi(l),S=a.aV();(function(Gt){Gt[0]=0,Gt[1]=0,Gt[2]=0})(S);const F=a.aV();ee(F,v,S,-this.center.lng*Math.PI/180),Y(F,F,S,this.center.lat*Math.PI/180);const R=b[0]*b[0]+b[2]*b[2],G=F[0]*F[0];if(R<G)return;const J=Math.sqrt(R-G),ue=-J,re=a.aY(b[0],b[2],F[0],J),xe=a.aY(b[0],b[2],F[0],ue),Be=a.aV();ee(Be,b,S,-re);const De=a.aY(Be[1],Be[2],F[1],F[2]),tt=a.aV();ee(tt,b,S,-xe);const Xe=a.aY(tt[1],tt[2],F[1],F[2]),Ge=.5*Math.PI,gt=De>=-Ge&&De<=Ge,ct=Xe>=-Ge&&Xe<=Ge;let pt,vt;if(gt&&ct){const Gt=this.center.lng*Math.PI/180,tn=this.center.lat*Math.PI/180;a.a$(re,Gt)+a.a$(De,tn)<a.a$(xe,Gt)+a.a$(Xe,tn)?(pt=re,vt=De):(pt=xe,vt=Xe)}else if(gt)pt=re,vt=De;else{if(!ct)return;pt=xe,vt=Xe}const bt=pt/Math.PI*180,Nt=vt/Math.PI*180,Rt=this.center.lat;this.setCenter(new a.N(bt,a.a9(Nt,-90,90))),this.setZoom(this.zoom+ho(Rt,this.center.lat))}locationToScreenPoint(l,c){if(!this._globeRendering)return this._mercatorTransform.locationToScreenPoint(l,c);const v=pi(l);return c&&B(v,v,1+c.getElevationForLngLatZoom(l,this._helper._tileZoom)/a.a_),this._projectSurfacePointToScreen(v)}_projectSurfacePointToScreen(l){const c=a.aU();return a.af(c,[...l,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],new a.P((.5*c[0]+.5)*this.width,(.5*-c[1]+.5)*this.height)}screenPointToMercatorCoordinate(l,c){return!this._globeRendering||c?this._mercatorTransform.screenPointToMercatorCoordinate(l,c):a.Y.fromLngLat(this.unprojectScreenPoint(l))}screenPointToLocation(l,c){return!this._globeRendering||c?this._mercatorTransform.screenPointToLocation(l,c):this.unprojectScreenPoint(l)}isPointOnMapSurface(l,c){if(!this._globeRendering)return this._mercatorTransform.isPointOnMapSurface(l,c);const v=this._cameraPosition,b=this.getRayDirectionFromPixel(l);return!!this.rayPlanetIntersection(v,b)}getRayDirectionFromPixel(l){const c=a.aU();c[0]=l.x/this.width*2-1,c[1]=-1*(l.y/this.height*2-1),c[2]=1,c[3]=1,a.af(c,c,this._globeViewProjMatrixNoCorrectionInverted),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3];const v=a.aV();v[0]=c[0]-this._cameraPosition[0],v[1]=c[1]-this._cameraPosition[1],v[2]=c[2]-this._cameraPosition[2];const b=a.aV();return I(b,v),b}isSurfacePointVisible(l){if(!this._globeRendering)return!0;const c=this._cachedClippingPlane;return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]>=0}isSurfacePointOnScreen(l){if(!this.isSurfacePointVisible(l))return!1;const c=a.aU();return a.af(c,[...l,1],this._globeViewProjMatrixNoCorrection),c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],c[0]>-1&&c[0]<1&&c[1]>-1&&c[1]<1&&c[2]>-1&&c[2]<1}rayPlanetIntersection(l,c){const v=K(l,c),b=a.aV(),S=a.aV();B(S,c,v),ne(b,l,S);const F=1-K(b,b);if(F<0)return null;const R=K(l,l)-1,G=-v+(v<0?1:-1)*Math.sqrt(F),J=R/G,ue=G;return{tMin:Math.min(J,ue),tMax:Math.max(J,ue)}}unprojectScreenPoint(l){const c=this._cameraPosition,v=this.getRayDirectionFromPixel(l),b=this.rayPlanetIntersection(c,v);if(b){const J=a.aV();C(J,c,[v[0]*b.tMin,v[1]*b.tMin,v[2]*b.tMin]);const ue=a.aV();return I(ue,J),La(ue)}const S=this._cachedClippingPlane[0]*v[0]+this._cachedClippingPlane[1]*v[1]+this._cachedClippingPlane[2]*v[2],F=-a.aZ(this._cachedClippingPlane,c)/S,R=a.aV();if(F>0)C(R,c,[v[0]*F,v[1]*F,v[2]*F]);else{const J=a.aV();C(J,c,[2*v[0],2*v[1],2*v[2]]);const ue=a.aZ(this._cachedClippingPlane,J);ne(R,J,[this._cachedClippingPlane[0]*ue,this._cachedClippingPlane[1]*ue,this._cachedClippingPlane[2]*ue])}const G=a.aV();return I(G,R),La(G)}getMatrixForModel(l,c){if(!this._globeRendering)return this._mercatorTransform.getMatrixForModel(l,c);const v=a.N.convert(l),b=1/a.a_,S=a.aI();return a.aX(S,S,v.lng/180*Math.PI),a.aH(S,S,-v.lat/180*Math.PI),a.J(S,S,[0,0,1+c/a.a_]),a.aH(S,S,.5*Math.PI),a.K(S,S,[b,b,b]),S}getProjectionDataForCustomLayer(){const l=this.getProjectionData(new a.S(0,0,0,0,0));l.tileMercatorCoords=[0,0,1,1];const c=a.aJ();return a.K(c,l.fallbackMatrix,[a.X,a.X,1]),l.fallbackMatrix=c,l}}class Zl{constructor(l){this._globe=l,this._mercatorCameraHelper=new fl}get useGlobeControls(){return this._globe.useGlobeRendering}handlePanInertia(l,c){if(!this.useGlobeControls)return this._mercatorCameraHelper.handlePanInertia(l,c);const v=Lo(l,c);return Math.abs(v.lng-c.center.lng)>180&&(v.lng=c.center.lng+179.5*Math.sign(v.lng-c.center.lng)),{easingCenter:v,easingOffset:new a.P(0,0)}}handleMapControlsPitchBearingZoom(l,c){if(!this.useGlobeControls)return void this._mercatorCameraHelper.handleMapControlsPitchBearingZoom(l,c);const v=l.around,b=c.screenPointToLocation(v);l.bearingDelta&&c.setBearing(c.bearing+l.bearingDelta),l.pitchDelta&&c.setPitch(c.pitch+l.pitchDelta);const S=c.zoom;l.zoomDelta&&c.setZoom(c.zoom+l.zoomDelta);const F=c.zoom-S;if(F===0)return;const R=a.aW(c.center.lng,b.lng),G=R/(Math.abs(R/180)+1),J=a.aW(c.center.lat,b.lat),ue=c.getRayDirectionFromPixel(v),re=c.cameraPosition,xe=-1*K(re,ue),Be=a.aV();C(Be,re,[ue[0]*xe,ue[1]*xe,ue[2]*xe]);const De=(tt=Be,Math.hypot(tt[0],tt[1],tt[2])-1);var tt;const Xe=Math.exp(.5*-Math.max(De-.3,0)),Ge=$i(c.worldSize,c.center.lat)/Math.min(c.width,c.height),gt=a.aS(Ge,.9,.5,1,.25),ct=(1-Gi(-F))*Math.min(Xe,gt),pt=c.center.lat,vt=c.zoom,bt=new a.N(c.center.lng+G*ct,a.a9(c.center.lat+J*ct,-85.051129,Ho));c.setLocationAtPoint(b,v);const Nt=c.center,Rt=a.aS(Math.abs(R),45,85,0,1),Gt=a.aS(Ge,.75,.35,0,1),tn=Math.pow(Math.max(Rt,Gt),.25),In=a.aW(Nt.lng,bt.lng),Pn=a.aW(Nt.lat,bt.lat);c.setCenter(new a.N(Nt.lng+In*tn,Nt.lat+Pn*tn).wrap()),c.setZoom(vt+ho(pt,c.center.lat))}handleMapControlsPan(l,c,v){if(!this.useGlobeControls)return void this._mercatorCameraHelper.handleMapControlsPan(l,c,v);if(!l.panDelta)return;const b=c.center.lat,S=c.zoom;c.setCenter(Lo(l.panDelta,c).wrap()),c.setZoom(S+ho(b,c.center.lat))}cameraForBoxAndBearing(l,c,v,b,S){const F=this._mercatorCameraHelper.cameraForBoxAndBearing(l,c,v,b,S);if(!this.useGlobeControls)return F;const R=c.left/S.width*2-1,G=(S.width-c.right)/S.width*2-1,J=c.top/S.height*-2+1,ue=(S.height-c.bottom)/S.height*-2+1,re=a.aW(v.getWest(),v.getEast())<0,xe=re?v.getEast():v.getWest(),Be=re?v.getWest():v.getEast(),De=Math.max(v.getNorth(),v.getSouth()),tt=Math.min(v.getNorth(),v.getSouth()),Xe=xe+.5*a.aW(xe,Be),Ge=De+.5*a.aW(De,tt),gt=S.clone();gt.setCenter(F.center),gt.setBearing(F.bearing),gt.setPitch(0),gt.setZoom(F.zoom);const ct=gt.modelViewProjectionMatrix,pt=[pi(v.getNorthWest()),pi(v.getNorthEast()),pi(v.getSouthWest()),pi(v.getSouthEast()),pi(new a.N(Be,Ge)),pi(new a.N(xe,Ge)),pi(new a.N(Xe,De)),pi(new a.N(Xe,tt))],vt=pi(F.center);let bt=Number.POSITIVE_INFINITY;for(const Nt of pt)R<0&&(bt=Zl.getLesserNonNegativeNonNull(bt,Zl.solveVectorScale(Nt,vt,ct,"x",R))),G>0&&(bt=Zl.getLesserNonNegativeNonNull(bt,Zl.solveVectorScale(Nt,vt,ct,"x",G))),J>0&&(bt=Zl.getLesserNonNegativeNonNull(bt,Zl.solveVectorScale(Nt,vt,ct,"y",J))),ue<0&&(bt=Zl.getLesserNonNegativeNonNull(bt,Zl.solveVectorScale(Nt,vt,ct,"y",ue)));if(Number.isFinite(bt)&&bt!==0)return F.zoom=gt.zoom+sa(bt),F;Us()}handleJumpToCenterZoom(l,c){if(!this.useGlobeControls)return void this._mercatorCameraHelper.handleJumpToCenterZoom(l,c);const v=l.center.lat,b=l.getConstrained(c.center?a.N.convert(c.center):l.center,l.zoom).center;l.setCenter(b.wrap());const S=c.zoom!==void 0?+c.zoom:l.zoom+ho(v,b.lat);l.zoom!==S&&l.setZoom(S)}handleEaseTo(l,c){if(!this.useGlobeControls)return this._mercatorCameraHelper.handleEaseTo(l,c);const v=l.zoom,b=l.bearing,S=l.pitch,F=l.center,R=c.zoom!==void 0,G=!l.isPaddingEqual(c.padding);let J=!1;const ue=c.center?a.N.convert(c.center):F,re=l.getConstrained(ue,v).center;Ma(l,re);const xe=l.clone();xe.setCenter(re),G&&xe.setPadding(c.padding),xe.setZoom(R?+c.zoom:v+ho(F.lat,ue.lat)),xe.setBearing(c.bearing);const Be=new a.P(a.a9(l.centerPoint.x+c.offsetAsPoint.x,0,l.width),a.a9(l.centerPoint.y+c.offsetAsPoint.y,0,l.height));xe.setLocationAtPoint(re,Be);const De=(c.offset&&c.offsetAsPoint.mag())>0?xe.center:re,tt=R?+c.zoom:v+ho(F.lat,De.lat),Xe=v+ho(F.lat,0),Ge=tt+ho(De.lat,0),gt=a.aW(F.lng,De.lng),ct=a.aW(F.lat,De.lat),pt=Gi(Ge-Xe);return J=tt!==v,{easeFunc:vt=>{if(b!==c.bearing&&l.setBearing(a.y.number(b,c.bearing,vt)),S!==c.pitch&&l.setPitch(a.y.number(S,c.pitch,vt)),c.around)a.w("Easing around a point is not supported under globe projection."),l.setLocationAtPoint(c.around,c.aroundPoint);else{const bt=Ge>Xe?Math.min(2,pt):Math.max(.5,pt),Nt=Math.pow(bt,1-vt),Rt=el(F,gt,ct,vt*Nt);l.setCenter(Rt.wrap())}if(J){const bt=a.y.number(Xe,Ge,vt)+ho(0,l.center.lat);l.setZoom(bt)}},isZooming:J,elevationCenter:De}}handleFlyTo(l,c){if(!this.useGlobeControls)return this._mercatorCameraHelper.handleFlyTo(l,c);const v=c.zoom!==void 0,b=l.center,S=l.zoom,F=!l.isPaddingEqual(c.padding),R=l.getConstrained(a.N.convert(c.center||c.locationAtOffset),S).center,G=v?+c.zoom:l.zoom+ho(l.center.lat,R.lat),J=l.clone();J.setCenter(R),F&&J.setPadding(c.padding),J.setZoom(G),J.setBearing(c.bearing);const ue=new a.P(a.a9(l.centerPoint.x+c.offsetAsPoint.x,0,l.width),a.a9(l.centerPoint.y+c.offsetAsPoint.y,0,l.height));J.setLocationAtPoint(R,ue);const re=J.center;Ma(l,re);const xe=function(ct,pt,vt){const bt=K(pi(pt),pi(vt)),Nt=Math.acos(bt),Rt=ro(ct);return Nt/(2*Math.PI)*Rt}(l,b,re),Be=S+ho(b.lat,0),De=G+ho(re.lat,0),tt=Gi(De-Be);let Xe;if(typeof c.minZoom=="number"){const ct=+c.minZoom+ho(re.lat,0),pt=Math.min(ct,Be,De)+ho(0,re.lat);Xe=Gi(l.getConstrained(re,pt).zoom+ho(re.lat,0)-Be)}const Ge=a.aW(b.lng,re.lng),gt=a.aW(b.lat,re.lat);return{easeFunc:(ct,pt,vt,bt)=>{const Nt=el(b,Ge,gt,vt),Rt=ct===1?re:Nt;l.setCenter(Rt.wrap());const Gt=Be+sa(pt);l.setZoom(ct===1?G:Gt+ho(0,Rt.lat))},scaleOfZoom:tt,targetCenter:re,scaleOfMinZoom:Xe,pixelPathLength:xe}}static solveVectorScale(l,c,v,b,S){const F=b==="x"?[v[0],v[4],v[8],v[12]]:[v[1],v[5],v[9],v[13]],R=[v[3],v[7],v[11],v[15]],G=l[0]*F[0]+l[1]*F[1]+l[2]*F[2],J=l[0]*R[0]+l[1]*R[1]+l[2]*R[2],ue=c[0]*F[0]+c[1]*F[1]+c[2]*F[2],re=c[0]*R[0]+c[1]*R[1]+c[2]*R[2];return ue+S*J===G+S*re||R[3]*(G-ue)+F[3]*(re-J)+G*re==ue*J?null:(ue+F[3]-S*re-S*R[3])/(ue-G-S*re+S*J)}static getLesserNonNegativeNonNull(l,c){return c!==null&&c>=0&&c<l?c:l}}const kh=(O,l)=>a.t(O,l&&l.filter(c=>c.identifier!=="source.canvas")),Rc=a.b0();class jA extends a.E{constructor(l,c={}){super(),this._rtlPluginLoaded=()=>{for(const v in this.sourceCaches){const b=this.sourceCaches[v].getSource().type;b!=="vector"&&b!=="geojson"||this.sourceCaches[v].reload()}},this.map=l,this.dispatcher=new nr(Rn(),l._getMapId()),this.dispatcher.registerMessageHandler("GG",(v,b)=>this.getGlyphs(v,b)),this.dispatcher.registerMessageHandler("GI",(v,b)=>this.getImages(v,b)),this.imageManager=new et,this.imageManager.setEventedParent(this),this.glyphManager=new Et(l._requestManager,c.localIdeographFontFamily),this.lineAtlas=new Qe(256,512),this.crossTileSymbolIndex=new Bo,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.b1,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",a.b2()),p().on(ht,this._rtlPluginLoaded),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const b=this.sourceCaches[v.sourceId];if(!b)return;const S=b.getSource();if(S&&S.vectorLayerIds)for(const F in this._layers){const R=this._layers[F];R.source===S.id&&this._validateLayer(R)}})}loadURL(l,c={},v){this.fire(new a.k("dataloading",{dataType:"style"})),c.validate=typeof c.validate!="boolean"||c.validate;const b=this.map._requestManager.transformRequest(l,"Style");this._loadStyleRequest=new AbortController;const S=this._loadStyleRequest;a.h(b,this._loadStyleRequest).then(F=>{this._loadStyleRequest=null,this._load(F.data,c,v)}).catch(F=>{this._loadStyleRequest=null,F&&!S.signal.aborted&&this.fire(new a.j(F))})}loadJSON(l,c={},v){this.fire(new a.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,H.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,c.validate=c.validate!==!1,this._load(l,c,v)}).catch(()=>{})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(Rc,{validate:!1})}_load(l,c,v){var b,S;const F=c.transformStyle?c.transformStyle(v,l):l;if(!c.validate||!kh(this,a.u(F))){this._loaded=!0,this.stylesheet=F;for(const R in F.sources)this.addSource(R,F.sources[R],{validate:!1});F.sprite?this._loadSprite(F.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(F.glyphs),this._createLayers(),this.light=new Le(this.stylesheet.light),this._setProjectionInternal(((b=this.stylesheet.projection)===null||b===void 0?void 0:b.type)||"mercator"),this.sky=new Te(this.stylesheet.sky),this.map.setTerrain((S=this.stylesheet.terrain)!==null&&S!==void 0?S:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const l=a.b3(this.stylesheet.layers);this.dispatcher.broadcast("SL",l),this._order=l.map(c=>c.id),this._layers={},this._serializedLayers=null;for(const c of l){const v=a.b4(c);v.setEventedParent(this,{layer:{id:c.id}}),this._layers[c.id]=v}}_loadSprite(l,c=!1,v=void 0){let b;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(S,F,R,G){return a._(this,void 0,void 0,function*(){const J=St(S),ue=R>1?"@2x":"",re={},xe={};for(const{id:Be,url:De}of J){const tt=F.transformRequest(_t(De,ue,".json"),"SpriteJSON");re[Be]=a.h(tt,G);const Xe=F.transformRequest(_t(De,ue,".png"),"SpriteImage");xe[Be]=_e.getImage(Xe,G)}return yield Promise.all([...Object.values(re),...Object.values(xe)]),function(Be,De){return a._(this,void 0,void 0,function*(){const tt={};for(const Xe in Be){tt[Xe]={};const Ge=H.getImageCanvasContext((yield De[Xe]).data),gt=(yield Be[Xe]).data;for(const ct in gt){const{width:pt,height:vt,x:bt,y:Nt,sdf:Rt,pixelRatio:Gt,stretchX:tn,stretchY:In,content:Pn,textFitWidth:Fn,textFitHeight:$n}=gt[ct];tt[Xe][ct]={data:null,pixelRatio:Gt,sdf:Rt,stretchX:tn,stretchY:In,content:Pn,textFitWidth:Fn,textFitHeight:$n,spriteData:{width:pt,height:vt,x:bt,y:Nt,context:Ge}}}}return tt})}(re,xe)})}(l,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(S=>{if(this._spriteRequest=null,S)for(const F in S){this._spritesImagesIds[F]=[];const R=this._spritesImagesIds[F]?this._spritesImagesIds[F].filter(G=>!(G in S)):[];for(const G of R)this.imageManager.removeImage(G),this._changedImages[G]=!0;for(const G in S[F]){const J=F==="default"?G:`${F}:${G}`;this._spritesImagesIds[F].push(J),J in this.imageManager.images?this.imageManager.updateImage(J,S[F][G],!1):this.imageManager.addImage(J,S[F][G]),c&&(this._changedImages[J]=!0)}}}).catch(S=>{this._spriteRequest=null,b=S,this.fire(new a.j(b))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),c&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),v&&v(b)})}_unloadSprite(){for(const l of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(l),this._changedImages[l]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(l){const c=this.sourceCaches[l.source];if(!c)return;const v=l.sourceLayer;if(!v)return;const b=c.getSource();(b.type==="geojson"||b.vectorLayerIds&&b.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.j(new Error(`Source layer "${v}" does not exist on source "${b.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(l,c=!1){const v=this._serializedAllLayers();if(!l||l.length===0)return Object.values(c?a.b5(v):v);const b=[];for(const S of l)if(v[S]){const F=c?a.b5(v[S]):v[S];b.push(F)}return b}_serializedAllLayers(){let l=this._serializedLayers;if(l)return l;l=this._serializedLayers={};const c=Object.keys(this._layers);for(const v of c){const b=this._layers[v];b.type!=="custom"&&(l[v]=b.serialize())}return l}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const c=this._changed;if(c){const b=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(b.length||S.length)&&this._updateWorkerLayers(b,S);for(const F in this._updatedSources){const R=this._updatedSources[F];if(R==="reload")this._reloadSource(F);else{if(R!=="clear")throw new Error(`Invalid action ${R}`);this._clearSource(F)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const F in this._updatedPaintProps)this._layers[F].updateTransitions(l);this.light.updateTransitions(l),this.sky.updateTransitions(l),this._resetUpdates()}const v={};for(const b in this.sourceCaches){const S=this.sourceCaches[b];v[b]=S.used,S.used=!1}for(const b of this._order){const S=this._layers[b];S.recalculate(l,this._availableImages),!S.isHidden(l.zoom)&&S.source&&(this.sourceCaches[S.source].used=!0)}for(const b in v){const S=this.sourceCaches[b];!!v[b]!=!!S.used&&S.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:b}))}this.light.recalculate(l),this.sky.recalculate(l),this.z=l.zoom,c&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(l,c){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(l,!1),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(l,c={}){var v;this._checkLoaded();const b=this.serialize();if(l=c.transformStyle?c.transformStyle(b,l):l,((v=c.validate)===null||v===void 0||v)&&kh(this,a.u(l)))return!1;(l=a.b5(l)).layers=a.b3(l.layers);const S=a.b6(b,l),F=this._getOperationsToPerform(S);if(F.unimplemented.length>0)throw new Error(`Unimplemented: ${F.unimplemented.join(", ")}.`);if(F.operations.length===0)return!1;for(const R of F.operations)R();return this.stylesheet=l,this._serializedLayers=null,!0}_getOperationsToPerform(l){const c=[],v=[];for(const b of l)switch(b.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":c.push(()=>this.addLayer.apply(this,b.args));break;case"removeLayer":c.push(()=>this.removeLayer.apply(this,b.args));break;case"setPaintProperty":c.push(()=>this.setPaintProperty.apply(this,b.args));break;case"setLayoutProperty":c.push(()=>this.setLayoutProperty.apply(this,b.args));break;case"setFilter":c.push(()=>this.setFilter.apply(this,b.args));break;case"addSource":c.push(()=>this.addSource.apply(this,b.args));break;case"removeSource":c.push(()=>this.removeSource.apply(this,b.args));break;case"setLayerZoomRange":c.push(()=>this.setLayerZoomRange.apply(this,b.args));break;case"setLight":c.push(()=>this.setLight.apply(this,b.args));break;case"setGeoJSONSourceData":c.push(()=>this.setGeoJSONSourceData.apply(this,b.args));break;case"setGlyphs":c.push(()=>this.setGlyphs.apply(this,b.args));break;case"setSprite":c.push(()=>this.setSprite.apply(this,b.args));break;case"setTerrain":c.push(()=>this.map.setTerrain.apply(this,b.args));break;case"setSky":c.push(()=>this.setSky.apply(this,b.args));break;case"setProjection":this.setProjection.apply(this,b.args);break;case"setTransition":c.push(()=>{});break;default:v.push(b.command)}return{operations:c,unimplemented:v}}addImage(l,c){if(this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,c),this._afterImageUpdated(l)}updateImage(l,c){this.imageManager.updateImage(l,c)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new a.j(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,c,v={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(a.u.source,`sources.${l}`,c,null,v))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const b=this.sourceCaches[l]=new dt(l,c,this.dispatcher);b.style=this,b.setEventedParent(this,()=>({isSourceLoaded:b.loaded(),source:b.serialize(),sourceId:l})),b.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===l)return this.fire(new a.j(new Error(`Source "${l}" cannot be removed while layer "${v}" is using it.`)));const c=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],c.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,c){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const v=this.sourceCaches[l].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(c),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,c,v={}){this._checkLoaded();const b=l.id;if(this.getLayer(b))return void this.fire(new a.j(new Error(`Layer "${b}" already exists on this map.`)));let S;if(l.type==="custom"){if(kh(this,a.b7(l)))return;S=a.b4(l)}else{if("source"in l&&typeof l.source=="object"&&(this.addSource(b,l.source),l=a.b5(l),l=a.e(l,{source:b})),this._validate(a.u.layer,`layers.${b}`,l,{arrayIndex:-1},v))return;S=a.b4(l),this._validateLayer(S),S.setEventedParent(this,{layer:{id:b}})}const F=c?this._order.indexOf(c):this._order.length;if(c&&F===-1)this.fire(new a.j(new Error(`Cannot add layer "${b}" before non-existing layer "${c}".`)));else{if(this._order.splice(F,0,b),this._layerOrderChanged=!0,this._layers[b]=S,this._removedLayers[b]&&S.source&&S.type!=="custom"){const R=this._removedLayers[b];delete this._removedLayers[b],R.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",this.sourceCaches[S.source].pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map)}}moveLayer(l,c){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new a.j(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===c)return;const v=this._order.indexOf(l);this._order.splice(v,1);const b=c?this._order.indexOf(c):this._order.length;c&&b===-1?this.fire(new a.j(new Error(`Cannot move layer "${l}" before non-existing layer "${c}".`))):(this._order.splice(b,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const c=this._layers[l];if(!c)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${l}".`)));c.setEventedParent(null);const v=this._order.indexOf(l);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=c,delete this._layers[l],this._serializedLayers&&delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],c.onRemove&&c.onRemove(this.map)}getLayer(l){return this._layers[l]}getLayersOrder(){return[...this._order]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,c,v){this._checkLoaded();const b=this.getLayer(l);b?b.minzoom===c&&b.maxzoom===v||(c!=null&&(b.minzoom=c),v!=null&&(b.maxzoom=v),this._updateLayer(b)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,c,v={}){this._checkLoaded();const b=this.getLayer(l);if(b){if(!a.b8(b.filter,c))return c==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(a.u.filter,`layers.${b.id}.filter`,c,null,v)||(b.filter=a.b5(c),this._updateLayer(b)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return a.b5(this.getLayer(l).filter)}setLayoutProperty(l,c,v,b={}){this._checkLoaded();const S=this.getLayer(l);S?a.b8(S.getLayoutProperty(c),v)||(S.setLayoutProperty(c,v,b),this._updateLayer(S)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,c){const v=this.getLayer(l);if(v)return v.getLayoutProperty(c);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,c,v,b={}){this._checkLoaded();const S=this.getLayer(l);S?a.b8(S.getPaintProperty(c),v)||(S.setPaintProperty(c,v,b)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[l]=!0,this._serializedLayers=null):this.fire(new a.j(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,c){return this.getLayer(l).getPaintProperty(c)}setFeatureState(l,c){this._checkLoaded();const v=l.source,b=l.sourceLayer,S=this.sourceCaches[v];if(S===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const F=S.getSource().type;F==="geojson"&&b?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):F!=="vector"||b?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),S.setFeatureState(b,l.id,c)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,c){this._checkLoaded();const v=l.source,b=this.sourceCaches[v];if(b===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const S=b.getSource().type,F=S==="vector"?l.sourceLayer:void 0;S!=="vector"||F?c&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):b.removeFeatureState(F,l.id,c):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const c=l.source,v=l.sourceLayer,b=this.sourceCaches[c];if(b!==void 0)return b.getSource().type!=="vector"||v?(l.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),b.getFeatureState(v,l.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const l=a.b9(this.sourceCaches,S=>S.serialize()),c=this._serializeByIds(this._order,!0),v=this.map.getTerrain()||void 0,b=this.stylesheet;return a.ba({version:b.version,name:b.name,metadata:b.metadata,light:b.light,sky:b.sky,center:b.center,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch,sprite:b.sprite,glyphs:b.glyphs,transition:b.transition,projection:b.projection,sources:l,layers:c,terrain:v},S=>S!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(l){const c=F=>this._layers[F].type==="fill-extrusion",v={},b=[];for(let F=this._order.length-1;F>=0;F--){const R=this._order[F];if(c(R)){v[R]=F;for(const G of l){const J=G[R];if(J)for(const ue of J)b.push(ue)}}}b.sort((F,R)=>R.intersectionZ-F.intersectionZ);const S=[];for(let F=this._order.length-1;F>=0;F--){const R=this._order[F];if(c(R))for(let G=b.length-1;G>=0;G--){const J=b[G].feature;if(v[J.layer.id]<F)break;S.push(J),b.pop()}else for(const G of l){const J=G[R];if(J)for(const ue of J)S.push(ue.feature)}}return S}queryRenderedFeatures(l,c,v){c&&c.filter&&this._validate(a.u.filter,"queryRenderedFeatures.filter",c.filter,null,c);const b={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const R of c.layers){const G=this._layers[R];if(!G)return this.fire(new a.j(new Error(`The layer '${R}' does not exist in the map's style and cannot be queried for features.`))),[];b[G.source]=!0}}const S=[];c.availableImages=this._availableImages;const F=this._serializedAllLayers();for(const R in this.sourceCaches)c.layers&&!b[R]||S.push(ur(this.sourceCaches[R],this._layers,F,l,c,v));return this.placement&&S.push(function(R,G,J,ue,re,xe,Be){const De={},tt=xe.queryRenderedSymbols(ue),Xe=[];for(const Ge of Object.keys(tt).map(Number))Xe.push(Be[Ge]);Xe.sort(_r);for(const Ge of Xe){const gt=Ge.featureIndex.lookupSymbolFeatures(tt[Ge.bucketInstanceId],G,Ge.bucketIndex,Ge.sourceLayerIndex,re.filter,re.layers,re.availableImages,R);for(const ct in gt){const pt=De[ct]=De[ct]||[],vt=gt[ct];vt.sort((bt,Nt)=>{const Rt=Ge.featureSortOrder;if(Rt){const Gt=Rt.indexOf(bt.featureIndex);return Rt.indexOf(Nt.featureIndex)-Gt}return Nt.featureIndex-bt.featureIndex});for(const bt of vt)pt.push(bt)}}for(const Ge in De)De[Ge].forEach(gt=>{const ct=gt.feature,pt=J[R[Ge].source].getFeatureState(ct.layer["source-layer"],ct.id);ct.source=ct.layer.source,ct.layer["source-layer"]&&(ct.sourceLayer=ct.layer["source-layer"]),ct.state=pt});return De}(this._layers,F,this.sourceCaches,l,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(l,c){c&&c.filter&&this._validate(a.u.filter,"querySourceFeatures.filter",c.filter,null,c);const v=this.sourceCaches[l];return v?function(b,S){const F=b.getRenderableIds().map(J=>b.getTileByID(J)),R=[],G={};for(let J=0;J<F.length;J++){const ue=F[J],re=ue.tileID.canonical.key;G[re]||(G[re]=!0,ue.querySourceFeatures(R,S))}return R}(v,c):[]}getLight(){return this.light.getLight()}setLight(l,c={}){this._checkLoaded();const v=this.light.getLight();let b=!1;for(const F in l)if(!a.b8(l[F],v[F])){b=!0;break}if(!b)return;const S={now:H.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,c),this.light.updateTransitions(S)}getProjection(){return this.stylesheet.projection}setProjection(l){if(this._checkLoaded(),this.projection){if(this.projection.name===l.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=l,this._setProjectionInternal(l.type)}getSky(){var l;return(l=this.stylesheet)===null||l===void 0?void 0:l.sky}setSky(l,c={}){this._checkLoaded();const v=this.getSky();let b=!1;if(!l&&!v)return;if(l&&!v)b=!0;else if(!l&&v)b=!0;else for(const F in l)if(!a.b8(l[F],v[F])){b=!0;break}if(!b)return;const S={now:H.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=l,this.sky.setSky(l,c),this.sky.updateTransitions(S)}_setProjectionInternal(l){const c=function(v){switch(v){case"mercator":return{projection:new ql,transform:new Zo,cameraHelper:new fl};case"globe":{const b=new Di;return{projection:b,transform:new Hl(b),cameraHelper:new Zl(b)}}default:return a.w(`Unknown projection name: ${v}. Falling back to mercator projection.`),{projection:new ql,transform:new Zo,cameraHelper:new fl}}}(l);this.projection=c.projection,this.map.migrateProjection(c.transform,c.cameraHelper);for(const v in this.sourceCaches)this.sourceCaches[v].reload()}_validate(l,c,v,b,S={}){return(!S||S.validate!==!1)&&kh(this,l.call(a.u,a.e({key:c,style:this.serialize(),value:v,styleSpec:a.v},b)))}_remove(l=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),p().off(ht,this._rtlPluginLoaded);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const v=this.sourceCaches[c];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),l&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(l)}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const c in this.sourceCaches)this.sourceCaches[c].update(l,this.map.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,c,v,b,S=!1){let F=!1,R=!1;const G={};for(const J of this._order){const ue=this._layers[J];if(ue.type!=="symbol")continue;if(!G[ue.source]){const xe=this.sourceCaches[ue.source];G[ue.source]=xe.getRenderableIds(!0).map(Be=>xe.getTileByID(Be)).sort((Be,De)=>De.tileID.overscaledZ-Be.tileID.overscaledZ||(Be.tileID.isLessThan(De.tileID)?-1:1))}const re=this.crossTileSymbolIndex.addLayer(ue,G[ue.source],l.center.lng);F=F||re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((S=S||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(H.now(),l.zoom))&&(this.pauseablePlacement=new cA(l,this.map.terrain,this._order,S,c,v,b,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(H.now()),R=!0),F&&this.pauseablePlacement.placement.setStale()),R||F)for(const J of this._order){const ue=this._layers[J];ue.type==="symbol"&&this.placement.updateLayerOpacities(ue,G[ue.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(H.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,c){return a._(this,void 0,void 0,function*(){const v=yield this.imageManager.getImages(c.icons);this._updateTilesForChangedImages();const b=this.sourceCaches[c.source];return b&&b.setDependencies(c.tileID.key,c.type,c.icons),v})}getGlyphs(l,c){return a._(this,void 0,void 0,function*(){const v=yield this.glyphManager.getGlyphs(c.stacks),b=this.sourceCaches[c.source];return b&&b.setDependencies(c.tileID.key,c.type,[""]),v})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(l,c={}){this._checkLoaded(),l&&this._validate(a.u.glyphs,"glyphs",l,null,c)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=l,this.glyphManager.entries={},this.glyphManager.setURL(l))}addSprite(l,c,v={},b){this._checkLoaded();const S=[{id:l,url:c}],F=[...St(this.stylesheet.sprite),...S];this._validate(a.u.sprite,"sprite",F,null,v)||(this.stylesheet.sprite=F,this._loadSprite(S,!0,b))}removeSprite(l){this._checkLoaded();const c=St(this.stylesheet.sprite);if(c.find(v=>v.id===l)){if(this._spritesImagesIds[l])for(const v of this._spritesImagesIds[l])this.imageManager.removeImage(v),this._changedImages[v]=!0;c.splice(c.findIndex(v=>v.id===l),1),this.stylesheet.sprite=c.length>0?c:void 0,delete this._spritesImagesIds[l],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${l}" doesn't exists on this map.`)))}getSprite(){return St(this.stylesheet.sprite)}setSprite(l,c={},v){this._checkLoaded(),l&&this._validate(a.u.sprite,"sprite",l,null,c)||(this.stylesheet.sprite=l,l?this._loadSprite(l,!0,v):(this._unloadSprite(),v&&v(null)))}}var Uc=a.av([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Im{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,c,v,b,S,F,R,G,J){this.context=l;let ue=this.boundPaintVertexBuffers.length!==b.length;for(let re=0;!ue&&re<b.length;re++)this.boundPaintVertexBuffers[re]!==b[re]&&(ue=!0);!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==v||ue||this.boundIndexBuffer!==S||this.boundVertexOffset!==F||this.boundDynamicVertexBuffer!==R||this.boundDynamicVertexBuffer2!==G||this.boundDynamicVertexBuffer3!==J?this.freshBind(c,v,b,S,F,R,G,J):(l.bindVertexArray.set(this.vao),R&&R.bind(),S&&S.dynamicDraw&&S.bind(),G&&G.bind(),J&&J.bind())}freshBind(l,c,v,b,S,F,R,G){const J=l.numAttributes,ue=this.context,re=ue.gl;this.vao&&this.destroy(),this.vao=ue.createVertexArray(),ue.bindVertexArray.set(this.vao),this.boundProgram=l,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=b,this.boundVertexOffset=S,this.boundDynamicVertexBuffer=F,this.boundDynamicVertexBuffer2=R,this.boundDynamicVertexBuffer3=G,c.enableAttributes(re,l);for(const xe of v)xe.enableAttributes(re,l);F&&F.enableAttributes(re,l),R&&R.enableAttributes(re,l),G&&G.enableAttributes(re,l),c.bind(),c.setVertexAttribPointers(re,l,S);for(const xe of v)xe.bind(),xe.setVertexAttribPointers(re,l,S);F&&(F.bind(),F.setVertexAttribPointers(re,l,S)),b&&b.bind(),R&&(R.bind(),R.setVertexAttribPointers(re,l,S)),G&&(G.bind(),G.setVertexAttribPointers(re,l,S)),ue.currentNumAttributes=J}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const km=(O,l,c,v)=>({u_texture:0,u_ele_delta:O,u_fog_matrix:l,u_fog_color:c?c.properties.get("fog-color"):a.aL.white,u_fog_ground_blend:c?c.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:c?c.calculateFogBlendOpacity(v):0,u_horizon_color:c?c.properties.get("horizon-color"):a.aL.white,u_horizon_fog_blend:c?c.properties.get("horizon-fog-blend"):1}),NA={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function bo(O){const l=[];for(let c=0;c<O.length;c++){if(O[c]===null)continue;const v=O[c].split(" ");l.push(v.pop())}return l}class Q0{constructor(l,c,v,b,S,F,R,G){const J=l.gl;this.program=J.createProgram();const ue=bo(c.staticAttributes),re=v?v.getBinderAttributes():[],xe=ue.concat(re),Be=Io.prelude.staticUniforms?bo(Io.prelude.staticUniforms):[],De=R.staticUniforms?bo(R.staticUniforms):[],tt=c.staticUniforms?bo(c.staticUniforms):[],Xe=v?v.getBinderUniforms():[],Ge=Be.concat(De).concat(tt).concat(Xe),gt=[];for(const Gt of Ge)gt.indexOf(Gt)<0&&gt.push(Gt);const ct=v?v.defines():[];S&&ct.push("#define OVERDRAW_INSPECTOR;"),F&&ct.push("#define TERRAIN3D;"),G&&ct.push(G);const pt=ct.concat(Io.prelude.fragmentSource,R.fragmentSource,c.fragmentSource).join(`
`),vt=ct.concat(Io.prelude.vertexSource,R.vertexSource,c.vertexSource).join(`
`),bt=J.createShader(J.FRAGMENT_SHADER);if(J.isContextLost())return void(this.failedToCreate=!0);if(J.shaderSource(bt,pt),J.compileShader(bt),!J.getShaderParameter(bt,J.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${J.getShaderInfoLog(bt)}`);J.attachShader(this.program,bt);const Nt=J.createShader(J.VERTEX_SHADER);if(J.isContextLost())return void(this.failedToCreate=!0);if(J.shaderSource(Nt,vt),J.compileShader(Nt),!J.getShaderParameter(Nt,J.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${J.getShaderInfoLog(Nt)}`);J.attachShader(this.program,Nt),this.attributes={};const Rt={};this.numAttributes=xe.length;for(let Gt=0;Gt<this.numAttributes;Gt++)xe[Gt]&&(J.bindAttribLocation(this.program,Gt,xe[Gt]),this.attributes[xe[Gt]]=Gt);if(J.linkProgram(this.program),!J.getProgramParameter(this.program,J.LINK_STATUS))throw new Error(`Program failed to link: ${J.getProgramInfoLog(this.program)}`);J.deleteShader(Nt),J.deleteShader(bt);for(let Gt=0;Gt<gt.length;Gt++){const tn=gt[Gt];if(tn&&!Rt[tn]){const In=J.getUniformLocation(this.program,tn);In&&(Rt[tn]=In)}}this.fixedUniforms=b(l,Rt),this.terrainUniforms=((Gt,tn)=>({u_depth:new a.bb(Gt,tn.u_depth),u_terrain:new a.bb(Gt,tn.u_terrain),u_terrain_dim:new a.aM(Gt,tn.u_terrain_dim),u_terrain_matrix:new a.bc(Gt,tn.u_terrain_matrix),u_terrain_unpack:new a.bd(Gt,tn.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Gt,tn.u_terrain_exaggeration)}))(l,Rt),this.projectionUniforms=((Gt,tn)=>({u_projection_matrix:new a.bc(Gt,tn.u_projection_matrix),u_projection_tile_mercator_coords:new a.bd(Gt,tn.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bd(Gt,tn.u_projection_clipping_plane),u_projection_transition:new a.aM(Gt,tn.u_projection_transition),u_projection_fallback_matrix:new a.bc(Gt,tn.u_projection_fallback_matrix)}))(l,Rt),this.binderUniforms=v?v.getUniforms(l,Rt):[]}draw(l,c,v,b,S,F,R,G,J,ue,re,xe,Be,De,tt,Xe,Ge,gt,ct){const pt=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(v),l.setStencilMode(b),l.setColorMode(S),l.setCullFace(F),G){l.activeTexture.set(pt.TEXTURE2),pt.bindTexture(pt.TEXTURE_2D,G.depthTexture),l.activeTexture.set(pt.TEXTURE3),pt.bindTexture(pt.TEXTURE_2D,G.texture);for(const bt in this.terrainUniforms)this.terrainUniforms[bt].set(G[bt])}if(J)for(const bt in J)this.projectionUniforms[NA[bt]].set(J[bt]);if(R)for(const bt in this.fixedUniforms)this.fixedUniforms[bt].set(R[bt]);Xe&&Xe.setUniforms(l,this.binderUniforms,De,{zoom:tt});let vt=0;switch(c){case pt.LINES:vt=2;break;case pt.TRIANGLES:vt=3;break;case pt.LINE_STRIP:vt=1}for(const bt of Be.get()){const Nt=bt.vaos||(bt.vaos={});(Nt[ue]||(Nt[ue]=new Im)).bind(l,this,re,Xe?Xe.getPaintVertexBuffers():[],xe,bt.vertexOffset,Ge,gt,ct),pt.drawElements(c,bt.primitiveLength*vt,pt.UNSIGNED_SHORT,bt.primitiveOffset*vt*2)}}}function zc(O,l,c){const v=1/a.ao(c,1,l.transform.tileZoom),b=Math.pow(2,c.tileID.overscaledZ),S=c.tileSize*Math.pow(2,l.transform.tileZoom)/b,F=S*(c.tileID.canonical.x+c.tileID.wrap*b),R=S*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[v,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[F>>16,R>>16],u_pixel_coord_lower:[65535&F,65535&R]}}const jc=(O,l,c,v,b)=>{const S=O.style.light,F=S.properties.get("position"),R=[F.x,F.y,F.z],G=function(){var re=new a.A(9);return a.A!=Float32Array&&(re[1]=0,re[2]=0,re[3]=0,re[5]=0,re[6]=0,re[7]=0),re[0]=1,re[4]=1,re[8]=1,re}();S.properties.get("anchor")==="viewport"&&function(re,xe){var Be=Math.sin(xe),De=Math.cos(xe);re[0]=De,re[1]=Be,re[2]=0,re[3]=-Be,re[4]=De,re[5]=0,re[6]=0,re[7]=0,re[8]=1}(G,-O.transform.angle),function(re,xe,Be){var De=xe[0],tt=xe[1],Xe=xe[2];re[0]=De*Be[0]+tt*Be[3]+Xe*Be[6],re[1]=De*Be[1]+tt*Be[4]+Xe*Be[7],re[2]=De*Be[2]+tt*Be[5]+Xe*Be[8]}(R,R,G);const J=O.transform.transformLightDirection(R),ue=S.properties.get("color");return{u_lightpos:R,u_lightpos_globe:J,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[ue.r,ue.g,ue.b],u_vertical_gradient:+l,u_opacity:c,u_fill_translate:v,u_camera_pos_globe:b}},Lp=(O,l,c,v,b,S,F,R)=>a.e(jc(O,l,c,v,b),zc(F,O,R),{u_height_factor:-Math.pow(2,S.overscaledZ)/R.tileSize/8}),Th=(O,l,c,v)=>a.e(zc(l,O,c),{u_fill_translate:v}),Dp=(O,l)=>({u_world:O,u_fill_translate:l}),gf=(O,l,c,v,b)=>a.e(Th(O,l,c,b),{u_world:v}),Ph=(O,l,c,v,b)=>{const S=O.transform;let F,R,G=0;if(c.paint.get("circle-pitch-alignment")==="map"){const J=a.ao(l,1,S.zoom);F=!0,R=[J,J],G=J/(a.X*Math.pow(2,l.tileID.overscaledZ))*2*Math.PI*b}else F=!1,R=S.pixelsToGLUnits;return{u_camera_to_center_distance:S.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+F,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:R,u_globe_extrude_scale:G,u_translate:v}},yf=O=>({u_pixel_extrude_scale:[1/O.width,1/O.height]}),vf=O=>({u_viewport_size:[O.width,O.height]}),vu=(O,l=1)=>({u_color:O,u_overlay:0,u_overlay_scale:l}),zs=(O,l,c,v)=>{const b=a.ao(O,1,l)/(a.X*Math.pow(2,O.tileID.overscaledZ))*2*Math.PI*v;return{u_extrude_scale:a.ao(O,1,l),u_intensity:c,u_globe_extrude_scale:b}},Kh=(O,l,c,v)=>{const b=a.H();a.bh(b,0,O.width,O.height,0,0,1);const S=O.context.gl;return{u_matrix:b,u_world:[S.drawingBufferWidth,S.drawingBufferHeight],u_image:c,u_color_ramp:v,u_opacity:l.paint.get("heatmap-opacity")}},ju=(O,l,c)=>{const v=c.paint.get("hillshade-shadow-color"),b=c.paint.get("hillshade-highlight-color"),S=c.paint.get("hillshade-accent-color");let F=c.paint.get("hillshade-illumination-direction")*(Math.PI/180);return c.paint.get("hillshade-illumination-anchor")==="viewport"&&(F-=O.transform.angle),{u_image:0,u_latrange:Nc(0,l.tileID),u_light:[c.paint.get("hillshade-exaggeration"),F],u_shadow:v,u_highlight:b,u_accent:S}},Nu=(O,l)=>{const c=l.stride,v=a.H();return a.bh(v,0,a.X,-a.X,0,0,1),a.J(v,v,[0,-a.X,0]),{u_matrix:v,u_image:1,u_dimension:[c,c],u_zoom:O.overscaledZ,u_unpack:l.getUnpackVector()}};function Nc(O,l){const c=Math.pow(2,l.canonical.z),v=l.canonical.y;return[new a.Y(0,v/c).toLngLat().lat,new a.Y(0,(v+1)/c).toLngLat().lat]}const Wu=(O,l,c,v)=>{const b=O.transform;return{u_translation:Gc(O,l,c),u_ratio:v/a.ao(l,1,b.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},_f=(O,l,c,v,b)=>a.e(Wu(O,l,c,v),{u_image:0,u_image_height:b}),fA=(O,l,c,v,b)=>{const S=O.transform,F=Cf(l,S);return{u_translation:Gc(O,l,c),u_texsize:l.imageAtlasTexture.size,u_ratio:v/a.ao(l,1,S.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[F,b.fromScale,b.toScale],u_fade:b.t,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},Wc=(O,l,c,v,b,S)=>{const F=O.lineAtlas,R=Cf(l,O.transform),G=c.layout.get("line-cap")==="round",J=F.getDash(b.from,G),ue=F.getDash(b.to,G),re=J.width*S.fromScale,xe=ue.width*S.toScale;return a.e(Wu(O,l,c,v),{u_patternscale_a:[R/re,-J.height/2],u_patternscale_b:[R/xe,-ue.height/2],u_sdfgamma:F.width/(256*Math.min(re,xe)*O.pixelRatio)/2,u_image:0,u_tex_y_a:J.y,u_tex_y_b:ue.y,u_mix:S.t})};function Cf(O,l){return 1/a.ao(O,1,l.tileZoom)}function Gc(O,l,c){return a.ap(O.transform,l,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}const Fp=(O,l,c,v,b)=>{return{u_tl_parent:O,u_scale_parent:l,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(F=v.paint.get("raster-saturation"),F>0?1-1/(1.001-F):-F),u_contrast_factor:(S=v.paint.get("raster-contrast"),S>0?1/(1-S):1+S),u_spin_weights:$0(v.paint.get("raster-hue-rotate")),u_coords_top:[b[0].x,b[0].y,b[1].x,b[1].y],u_coords_bottom:[b[3].x,b[3].y,b[2].x,b[2].y]};var S,F};function $0(O){O*=Math.PI/180;const l=Math.sin(O),c=Math.cos(O);return[(2*c+1)/3,(-Math.sqrt(3)*l-c+1)/3,(Math.sqrt(3)*l-c+1)/3]}const Lh=(O,l,c,v,b,S,F,R,G,J,ue,re,xe)=>{const Be=F.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:Be.cameraToCenterDistance,u_pitch:Be.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:Be.width/Be.height,u_fade_change:F.options.fadeDuration?F.symbolFadeChange:1,u_label_plane_matrix:R,u_coord_matrix:G,u_is_text:+ue,u_pitch_with_map:+v,u_is_along_line:b,u_is_variable_anchor:S,u_texsize:re,u_texture:0,u_translation:J,u_pitched_scale:xe}},sc=(O,l,c,v,b,S,F,R,G,J,ue,re,xe,Be)=>{const De=F.transform;return a.e(Lh(O,l,c,v,b,S,F,R,G,J,ue,re,Be),{u_gamma_scale:v?Math.cos(De.pitch*Math.PI/180)*De.cameraToCenterDistance:1,u_device_pixel_ratio:F.pixelRatio,u_is_halo:+xe})},tl=(O,l,c,v,b,S,F,R,G,J,ue,re,xe)=>a.e(sc(O,l,c,v,b,S,F,R,G,J,!0,ue,!0,xe),{u_texsize_icon:re,u_texture_icon:1}),nl=(O,l)=>({u_opacity:O,u_color:l}),bf=(O,l,c,v,b)=>a.e(function(S,F,R,G){const J=R.imageManager.getPattern(S.from.toString()),ue=R.imageManager.getPattern(S.to.toString()),{width:re,height:xe}=R.imageManager.getPixelSize(),Be=Math.pow(2,G.tileID.overscaledZ),De=G.tileSize*Math.pow(2,R.transform.tileZoom)/Be,tt=De*(G.tileID.canonical.x+G.tileID.wrap*Be),Xe=De*G.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:J.tl,u_pattern_br_a:J.br,u_pattern_tl_b:ue.tl,u_pattern_br_b:ue.br,u_texsize:[re,xe],u_mix:F.t,u_pattern_size_a:J.displaySize,u_pattern_size_b:ue.displaySize,u_scale_a:F.fromScale,u_scale_b:F.toScale,u_tile_units_to_pixels:1/a.ao(G,1,R.transform.tileZoom),u_pixel_coord_upper:[tt>>16,Xe>>16],u_pixel_coord_lower:[65535&tt,65535&Xe]}}(c,b,l,v),{u_opacity:O}),lc={fillExtrusion:(O,l)=>({u_lightpos:new a.bf(O,l.u_lightpos),u_lightpos_globe:new a.bf(O,l.u_lightpos_globe),u_lightintensity:new a.aM(O,l.u_lightintensity),u_lightcolor:new a.bf(O,l.u_lightcolor),u_vertical_gradient:new a.aM(O,l.u_vertical_gradient),u_opacity:new a.aM(O,l.u_opacity),u_fill_translate:new a.bg(O,l.u_fill_translate),u_camera_pos_globe:new a.bf(O,l.u_camera_pos_globe)}),fillExtrusionPattern:(O,l)=>({u_lightpos:new a.bf(O,l.u_lightpos),u_lightpos_globe:new a.bf(O,l.u_lightpos_globe),u_lightintensity:new a.aM(O,l.u_lightintensity),u_lightcolor:new a.bf(O,l.u_lightcolor),u_vertical_gradient:new a.aM(O,l.u_vertical_gradient),u_height_factor:new a.aM(O,l.u_height_factor),u_opacity:new a.aM(O,l.u_opacity),u_fill_translate:new a.bg(O,l.u_fill_translate),u_camera_pos_globe:new a.bf(O,l.u_camera_pos_globe),u_image:new a.bb(O,l.u_image),u_texsize:new a.bg(O,l.u_texsize),u_pixel_coord_upper:new a.bg(O,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bg(O,l.u_pixel_coord_lower),u_scale:new a.bf(O,l.u_scale),u_fade:new a.aM(O,l.u_fade)}),fill:(O,l)=>({u_fill_translate:new a.bg(O,l.u_fill_translate)}),fillPattern:(O,l)=>({u_image:new a.bb(O,l.u_image),u_texsize:new a.bg(O,l.u_texsize),u_pixel_coord_upper:new a.bg(O,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bg(O,l.u_pixel_coord_lower),u_scale:new a.bf(O,l.u_scale),u_fade:new a.aM(O,l.u_fade),u_fill_translate:new a.bg(O,l.u_fill_translate)}),fillOutline:(O,l)=>({u_world:new a.bg(O,l.u_world),u_fill_translate:new a.bg(O,l.u_fill_translate)}),fillOutlinePattern:(O,l)=>({u_world:new a.bg(O,l.u_world),u_image:new a.bb(O,l.u_image),u_texsize:new a.bg(O,l.u_texsize),u_pixel_coord_upper:new a.bg(O,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bg(O,l.u_pixel_coord_lower),u_scale:new a.bf(O,l.u_scale),u_fade:new a.aM(O,l.u_fade),u_fill_translate:new a.bg(O,l.u_fill_translate)}),circle:(O,l)=>({u_camera_to_center_distance:new a.aM(O,l.u_camera_to_center_distance),u_scale_with_map:new a.bb(O,l.u_scale_with_map),u_pitch_with_map:new a.bb(O,l.u_pitch_with_map),u_extrude_scale:new a.bg(O,l.u_extrude_scale),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_globe_extrude_scale:new a.aM(O,l.u_globe_extrude_scale),u_translate:new a.bg(O,l.u_translate)}),collisionBox:(O,l)=>({u_pixel_extrude_scale:new a.bg(O,l.u_pixel_extrude_scale)}),collisionCircle:(O,l)=>({u_viewport_size:new a.bg(O,l.u_viewport_size)}),debug:(O,l)=>({u_color:new a.be(O,l.u_color),u_overlay:new a.bb(O,l.u_overlay),u_overlay_scale:new a.aM(O,l.u_overlay_scale)}),clippingMask:(O,l)=>{},heatmap:(O,l)=>({u_extrude_scale:new a.aM(O,l.u_extrude_scale),u_intensity:new a.aM(O,l.u_intensity),u_globe_extrude_scale:new a.aM(O,l.u_globe_extrude_scale)}),heatmapTexture:(O,l)=>({u_matrix:new a.bc(O,l.u_matrix),u_world:new a.bg(O,l.u_world),u_image:new a.bb(O,l.u_image),u_color_ramp:new a.bb(O,l.u_color_ramp),u_opacity:new a.aM(O,l.u_opacity)}),hillshade:(O,l)=>({u_image:new a.bb(O,l.u_image),u_latrange:new a.bg(O,l.u_latrange),u_light:new a.bg(O,l.u_light),u_shadow:new a.be(O,l.u_shadow),u_highlight:new a.be(O,l.u_highlight),u_accent:new a.be(O,l.u_accent)}),hillshadePrepare:(O,l)=>({u_matrix:new a.bc(O,l.u_matrix),u_image:new a.bb(O,l.u_image),u_dimension:new a.bg(O,l.u_dimension),u_zoom:new a.aM(O,l.u_zoom),u_unpack:new a.bd(O,l.u_unpack)}),line:(O,l)=>({u_translation:new a.bg(O,l.u_translation),u_ratio:new a.aM(O,l.u_ratio),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_units_to_pixels:new a.bg(O,l.u_units_to_pixels)}),lineGradient:(O,l)=>({u_translation:new a.bg(O,l.u_translation),u_ratio:new a.aM(O,l.u_ratio),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_units_to_pixels:new a.bg(O,l.u_units_to_pixels),u_image:new a.bb(O,l.u_image),u_image_height:new a.aM(O,l.u_image_height)}),linePattern:(O,l)=>({u_translation:new a.bg(O,l.u_translation),u_texsize:new a.bg(O,l.u_texsize),u_ratio:new a.aM(O,l.u_ratio),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_image:new a.bb(O,l.u_image),u_units_to_pixels:new a.bg(O,l.u_units_to_pixels),u_scale:new a.bf(O,l.u_scale),u_fade:new a.aM(O,l.u_fade)}),lineSDF:(O,l)=>({u_translation:new a.bg(O,l.u_translation),u_ratio:new a.aM(O,l.u_ratio),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_units_to_pixels:new a.bg(O,l.u_units_to_pixels),u_patternscale_a:new a.bg(O,l.u_patternscale_a),u_patternscale_b:new a.bg(O,l.u_patternscale_b),u_sdfgamma:new a.aM(O,l.u_sdfgamma),u_image:new a.bb(O,l.u_image),u_tex_y_a:new a.aM(O,l.u_tex_y_a),u_tex_y_b:new a.aM(O,l.u_tex_y_b),u_mix:new a.aM(O,l.u_mix)}),raster:(O,l)=>({u_tl_parent:new a.bg(O,l.u_tl_parent),u_scale_parent:new a.aM(O,l.u_scale_parent),u_buffer_scale:new a.aM(O,l.u_buffer_scale),u_fade_t:new a.aM(O,l.u_fade_t),u_opacity:new a.aM(O,l.u_opacity),u_image0:new a.bb(O,l.u_image0),u_image1:new a.bb(O,l.u_image1),u_brightness_low:new a.aM(O,l.u_brightness_low),u_brightness_high:new a.aM(O,l.u_brightness_high),u_saturation_factor:new a.aM(O,l.u_saturation_factor),u_contrast_factor:new a.aM(O,l.u_contrast_factor),u_spin_weights:new a.bf(O,l.u_spin_weights),u_coords_top:new a.bd(O,l.u_coords_top),u_coords_bottom:new a.bd(O,l.u_coords_bottom)}),symbolIcon:(O,l)=>({u_is_size_zoom_constant:new a.bb(O,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bb(O,l.u_is_size_feature_constant),u_size_t:new a.aM(O,l.u_size_t),u_size:new a.aM(O,l.u_size),u_camera_to_center_distance:new a.aM(O,l.u_camera_to_center_distance),u_pitch:new a.aM(O,l.u_pitch),u_rotate_symbol:new a.bb(O,l.u_rotate_symbol),u_aspect_ratio:new a.aM(O,l.u_aspect_ratio),u_fade_change:new a.aM(O,l.u_fade_change),u_label_plane_matrix:new a.bc(O,l.u_label_plane_matrix),u_coord_matrix:new a.bc(O,l.u_coord_matrix),u_is_text:new a.bb(O,l.u_is_text),u_pitch_with_map:new a.bb(O,l.u_pitch_with_map),u_is_along_line:new a.bb(O,l.u_is_along_line),u_is_variable_anchor:new a.bb(O,l.u_is_variable_anchor),u_texsize:new a.bg(O,l.u_texsize),u_texture:new a.bb(O,l.u_texture),u_translation:new a.bg(O,l.u_translation),u_pitched_scale:new a.aM(O,l.u_pitched_scale)}),symbolSDF:(O,l)=>({u_is_size_zoom_constant:new a.bb(O,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bb(O,l.u_is_size_feature_constant),u_size_t:new a.aM(O,l.u_size_t),u_size:new a.aM(O,l.u_size),u_camera_to_center_distance:new a.aM(O,l.u_camera_to_center_distance),u_pitch:new a.aM(O,l.u_pitch),u_rotate_symbol:new a.bb(O,l.u_rotate_symbol),u_aspect_ratio:new a.aM(O,l.u_aspect_ratio),u_fade_change:new a.aM(O,l.u_fade_change),u_label_plane_matrix:new a.bc(O,l.u_label_plane_matrix),u_coord_matrix:new a.bc(O,l.u_coord_matrix),u_is_text:new a.bb(O,l.u_is_text),u_pitch_with_map:new a.bb(O,l.u_pitch_with_map),u_is_along_line:new a.bb(O,l.u_is_along_line),u_is_variable_anchor:new a.bb(O,l.u_is_variable_anchor),u_texsize:new a.bg(O,l.u_texsize),u_texture:new a.bb(O,l.u_texture),u_gamma_scale:new a.aM(O,l.u_gamma_scale),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_is_halo:new a.bb(O,l.u_is_halo),u_translation:new a.bg(O,l.u_translation),u_pitched_scale:new a.aM(O,l.u_pitched_scale)}),symbolTextAndIcon:(O,l)=>({u_is_size_zoom_constant:new a.bb(O,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bb(O,l.u_is_size_feature_constant),u_size_t:new a.aM(O,l.u_size_t),u_size:new a.aM(O,l.u_size),u_camera_to_center_distance:new a.aM(O,l.u_camera_to_center_distance),u_pitch:new a.aM(O,l.u_pitch),u_rotate_symbol:new a.bb(O,l.u_rotate_symbol),u_aspect_ratio:new a.aM(O,l.u_aspect_ratio),u_fade_change:new a.aM(O,l.u_fade_change),u_label_plane_matrix:new a.bc(O,l.u_label_plane_matrix),u_coord_matrix:new a.bc(O,l.u_coord_matrix),u_is_text:new a.bb(O,l.u_is_text),u_pitch_with_map:new a.bb(O,l.u_pitch_with_map),u_is_along_line:new a.bb(O,l.u_is_along_line),u_is_variable_anchor:new a.bb(O,l.u_is_variable_anchor),u_texsize:new a.bg(O,l.u_texsize),u_texsize_icon:new a.bg(O,l.u_texsize_icon),u_texture:new a.bb(O,l.u_texture),u_texture_icon:new a.bb(O,l.u_texture_icon),u_gamma_scale:new a.aM(O,l.u_gamma_scale),u_device_pixel_ratio:new a.aM(O,l.u_device_pixel_ratio),u_is_halo:new a.bb(O,l.u_is_halo),u_translation:new a.bg(O,l.u_translation),u_pitched_scale:new a.aM(O,l.u_pitched_scale)}),background:(O,l)=>({u_opacity:new a.aM(O,l.u_opacity),u_color:new a.be(O,l.u_color)}),backgroundPattern:(O,l)=>({u_opacity:new a.aM(O,l.u_opacity),u_image:new a.bb(O,l.u_image),u_pattern_tl_a:new a.bg(O,l.u_pattern_tl_a),u_pattern_br_a:new a.bg(O,l.u_pattern_br_a),u_pattern_tl_b:new a.bg(O,l.u_pattern_tl_b),u_pattern_br_b:new a.bg(O,l.u_pattern_br_b),u_texsize:new a.bg(O,l.u_texsize),u_mix:new a.aM(O,l.u_mix),u_pattern_size_a:new a.bg(O,l.u_pattern_size_a),u_pattern_size_b:new a.bg(O,l.u_pattern_size_b),u_scale_a:new a.aM(O,l.u_scale_a),u_scale_b:new a.aM(O,l.u_scale_b),u_pixel_coord_upper:new a.bg(O,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.bg(O,l.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(O,l.u_tile_units_to_pixels)}),terrain:(O,l)=>({u_texture:new a.bb(O,l.u_texture),u_ele_delta:new a.aM(O,l.u_ele_delta),u_fog_matrix:new a.bc(O,l.u_fog_matrix),u_fog_color:new a.be(O,l.u_fog_color),u_fog_ground_blend:new a.aM(O,l.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.aM(O,l.u_fog_ground_blend_opacity),u_horizon_color:new a.be(O,l.u_horizon_color),u_horizon_fog_blend:new a.aM(O,l.u_horizon_fog_blend)}),terrainDepth:(O,l)=>({u_ele_delta:new a.aM(O,l.u_ele_delta)}),terrainCoords:(O,l)=>({u_texture:new a.bb(O,l.u_texture),u_terrain_coords_id:new a.aM(O,l.u_terrain_coords_id),u_ele_delta:new a.aM(O,l.u_ele_delta)}),projectionErrorMeasurement:(O,l)=>({u_input:new a.aM(O,l.u_input),u_output_expected:new a.aM(O,l.u_output_expected)}),atmosphere:(O,l)=>({u_sun_pos:new a.bf(O,l.u_sun_pos),u_atmosphere_blend:new a.aM(O,l.u_atmosphere_blend),u_globe_position:new a.bf(O,l.u_globe_position),u_globe_radius:new a.aM(O,l.u_globe_radius),u_inv_proj_matrix:new a.bc(O,l.u_inv_proj_matrix)}),sky:(O,l)=>({u_sky_color:new a.be(O,l.u_sky_color),u_horizon_color:new a.be(O,l.u_horizon_color),u_horizon:new a.aM(O,l.u_horizon),u_sky_horizon_blend:new a.aM(O,l.u_sky_horizon_blend)})};class Dh{constructor(l,c,v){this.context=l;const b=l.gl;this.buffer=b.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const c=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const js={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class _u{constructor(l,c,v,b){this.length=c.length,this.attributes=v,this.itemSize=c.bytesPerElement,this.dynamicDraw=b,this.context=l;const S=l.gl;this.buffer=S.createBuffer(),l.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,c){for(let v=0;v<this.attributes.length;v++){const b=c.attributes[this.attributes[v].name];b!==void 0&&l.enableVertexAttribArray(b)}}setVertexAttribPointers(l,c,v){for(let b=0;b<this.attributes.length;b++){const S=this.attributes[b],F=c.attributes[S.name];F!==void 0&&l.vertexAttribPointer(F,S.components,l[js[S.type]],!1,this.itemSize,S.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class io{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class xf extends io{getDefault(){return a.aL.transparent}set(l){const c=this.current;(l.r!==c.r||l.g!==c.g||l.b!==c.b||l.a!==c.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Gu extends io{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Od extends io{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class Bd extends io{getDefault(){return[!0,!0,!0,!0]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||l[3]!==c[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Qc extends io{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class Cu extends io{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class Dt extends io{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const c=this.current;(l.func!==c.func||l.ref!==c.ref||l.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class un extends io{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class Qt extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=l,this.dirty=!1}}class Ar extends io{getDefault(){return[0,1]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class ai extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=l,this.dirty=!1}}class br extends io{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class fa extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.BLEND):c.disable(c.BLEND),this.current=l,this.dirty=!1}}class Do extends io{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class Fh extends io{getDefault(){return a.aL.transparent}set(l){const c=this.current;(l.r!==c.r||l.g!==c.g||l.b!==c.b||l.a!==c.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Id extends io{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class bu extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;l?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=l,this.dirty=!1}}class wf extends io{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class uc extends io{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class Qu extends io{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class $u extends io{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class WA extends io{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const c=this.current;(l[0]!==c[0]||l[1]!==c[1]||l[2]!==c[2]||l[3]!==c[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class so extends io{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Mf extends io{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Rh extends io{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class Yu extends io{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class pA extends io{getDefault(){return null}set(l){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Es extends io{getDefault(){return null}set(l){var c;if(l===this.current&&!this.dirty)return;const v=this.gl;bn(v)?v.bindVertexArray(l):(c=v.getExtension("OES_vertex_array_object"))===null||c===void 0||c.bindVertexArrayOES(l),this.current=l,this.dirty=!1}}class mA extends io{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class qu extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class Xl extends io{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Uh extends io{constructor(l,c){super(l),this.context=l,this.parent=c}getDefault(){return null}}class Sf extends Uh{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class Vu extends Uh{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class kd extends Uh{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Td{constructor(l,c,v,b,S){this.context=l,this.width=c,this.height=v;const F=l.gl,R=this.framebuffer=F.createFramebuffer();if(this.colorAttachment=new Sf(l,R),b)this.depthAttachment=S?new kd(l,R):new Vu(l,R);else if(S)throw new Error("Stencil cannot be set without depth");if(F.checkFramebufferStatus(F.FRAMEBUFFER)!==F.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const l=this.context.gl,c=this.colorAttachment.get();if(c&&l.deleteTexture(c),this.depthAttachment){const v=this.depthAttachment.get();v&&l.deleteRenderbuffer(v)}l.deleteFramebuffer(this.framebuffer)}}class Ac{constructor(l){var c,v;if(this.gl=l,this.clearColor=new xf(this),this.clearDepth=new Gu(this),this.clearStencil=new Od(this),this.colorMask=new Bd(this),this.depthMask=new Qc(this),this.stencilMask=new Cu(this),this.stencilFunc=new Dt(this),this.stencilOp=new un(this),this.stencilTest=new Qt(this),this.depthRange=new Ar(this),this.depthTest=new ai(this),this.depthFunc=new br(this),this.blend=new fa(this),this.blendFunc=new Do(this),this.blendColor=new Fh(this),this.blendEquation=new Id(this),this.cullFace=new bu(this),this.cullFaceSide=new wf(this),this.frontFace=new uc(this),this.program=new Qu(this),this.activeTexture=new $u(this),this.viewport=new WA(this),this.bindFramebuffer=new so(this),this.bindRenderbuffer=new Mf(this),this.bindTexture=new Rh(this),this.bindVertexBuffer=new Yu(this),this.bindElementBuffer=new pA(this),this.bindVertexArray=new Es(this),this.pixelStoreUnpack=new mA(this),this.pixelStoreUnpackPremultiplyAlpha=new qu(this),this.pixelStoreUnpackFlipY=new Xl(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),bn(l)){this.HALF_FLOAT=l.HALF_FLOAT;const b=l.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(c=l.RGBA16F)!==null&&c!==void 0?c:b==null?void 0:b.RGBA16F_EXT,this.RGB16F=(v=l.RGB16F)!==null&&v!==void 0?v:b==null?void 0:b.RGB16F_EXT,l.getExtension("EXT_color_buffer_float")}else{l.getExtension("EXT_color_buffer_half_float"),l.getExtension("OES_texture_half_float_linear");const b=l.getExtension("OES_texture_half_float");this.HALF_FLOAT=b==null?void 0:b.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,c){return new Dh(this,l,c)}createVertexBuffer(l,c,v){return new _u(this,l,c,v)}createRenderbuffer(l,c,v){const b=this.gl,S=b.createRenderbuffer();return this.bindRenderbuffer.set(S),b.renderbufferStorage(b.RENDERBUFFER,l,c,v),this.bindRenderbuffer.set(null),S}createFramebuffer(l,c,v,b){return new Td(this,l,c,v,b)}clear({color:l,depth:c,stencil:v}){const b=this.gl;let S=0;l&&(S|=b.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(S|=b.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),v!==void 0&&(S|=b.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),b.clear(S)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){a.b8(l.blendFunction,gr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}createVertexArray(){var l;return bn(this.gl)?this.gl.createVertexArray():(l=this.gl.getExtension("OES_vertex_array_object"))===null||l===void 0?void 0:l.createVertexArrayOES()}deleteVertexArray(l){var c;return bn(this.gl)?this.gl.deleteVertexArray(l):(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.deleteVertexArrayOES(l)}unbindVAO(){this.bindVertexArray.set(null)}}let cc;function gA(O,l,c,v,b){const S=O.context,F=O.transform,R=S.gl,G=O.useProgram("collisionBox"),J=[];let ue=0,re=0;for(let Ge=0;Ge<v.length;Ge++){const gt=v[Ge],ct=l.getTile(gt).getBucket(c);if(!ct)continue;const pt=b?ct.textCollisionBox:ct.iconCollisionBox,vt=ct.collisionCircleArray;vt.length>0&&(J.push({circleArray:vt,circleOffset:re,coord:gt}),ue+=vt.length/4,re=ue),pt&&G.draw(S,R.LINES,le.disabled,xt.disabled,O.colorModeForRenderPass(),j.disabled,yf(O.transform),O.style.map.terrain&&O.style.map.terrain.getTerrainData(gt),F.getProjectionData(gt),c.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,null,O.transform.zoom,null,null,pt.collisionVertexBuffer)}if(!b||!J.length)return;const xe=O.useProgram("collisionCircle"),Be=new a.bi;Be.resize(4*ue),Be._trim();let De=0;for(const Ge of J)for(let gt=0;gt<Ge.circleArray.length/4;gt++){const ct=4*gt,pt=Ge.circleArray[ct+0],vt=Ge.circleArray[ct+1],bt=Ge.circleArray[ct+2],Nt=Ge.circleArray[ct+3];Be.emplace(De++,pt,vt,bt,Nt,0),Be.emplace(De++,pt,vt,bt,Nt,1),Be.emplace(De++,pt,vt,bt,Nt,2),Be.emplace(De++,pt,vt,bt,Nt,3)}(!cc||cc.length<2*ue)&&(cc=function(Ge){const gt=2*Ge,ct=new a.bk;ct.resize(gt),ct._trim();for(let pt=0;pt<gt;pt++){const vt=6*pt;ct.uint16[vt+0]=4*pt+0,ct.uint16[vt+1]=4*pt+1,ct.uint16[vt+2]=4*pt+2,ct.uint16[vt+3]=4*pt+2,ct.uint16[vt+4]=4*pt+3,ct.uint16[vt+5]=4*pt+0}return ct}(ue));const tt=S.createIndexBuffer(cc,!0),Xe=S.createVertexBuffer(Be,a.bj.members,!0);for(const Ge of J){const gt=vf(O.transform);xe.draw(S,R.TRIANGLES,le.disabled,xt.disabled,O.colorModeForRenderPass(),j.disabled,gt,O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge.coord),null,c.id,Xe,tt,a.ay.simpleSegment(0,2*Ge.circleOffset,Ge.circleArray.length,Ge.circleArray.length/2),null,O.transform.zoom,null,null,null)}Xe.destroy(),tt.destroy()}const hc=a.aj(new Float32Array(16));function $c(O,l,c,v,b,S){const{horizontalAlign:F,verticalAlign:R}=a.at(O);return new a.P((-(F-.5)*l/b+v[0])*S,(-(R-.5)*c/b+v[1])*S)}function ua(O,l,c,v,b,S){const F=l.tileAnchorPoint.add(new a.P(l.translation[0],l.translation[1]));if(l.pitchWithMap){let R=v.mult(S);c||(R=R.rotate(-b));const G=F.add(R);return fn(G.x,G.y,l.pitchedLabelPlaneMatrix,l.getElevation).point}if(c){const R=ti(l.tileAnchorPoint.x+1,l.tileAnchorPoint.y,l).point.sub(O),G=Math.atan(R.y/R.x)+(R.x<0?Math.PI:0);return O.add(v.rotate(G))}return O.add(v)}function xu(O,l,c,v,b,S,F,R,G,J,ue,re){const xe=O.text.placedSymbolArray,Be=O.text.dynamicLayoutVertexArray,De=O.icon.dynamicLayoutVertexArray,tt={};Be.clear();for(let Xe=0;Xe<xe.length;Xe++){const Ge=xe.get(Xe),gt=Ge.hidden||!Ge.crossTileID||O.allowVerticalPlacement&&!Ge.placedOrientation?null:v[Ge.crossTileID];if(gt){const ct=new a.P(Ge.anchorX,Ge.anchorY),pt={getElevation:re,width:b.width,height:b.height,pitchedLabelPlaneMatrix:S,lineVertexArray:null,pitchWithMap:c,transform:b,projectionCache:null,tileAnchorPoint:ct,translation:J,unwrappedTileID:ue},vt=c?ei(ct.x,ct.y,pt):ti(ct.x,ct.y,pt),bt=Cr(b.cameraToCenterDistance,vt.signedDistanceFromCamera);let Nt=a.ad(O.textSizeData,R,Ge)*bt/a.an;c&&(Nt*=O.tilePixelRatio/F);const{width:Rt,height:Gt,anchor:tn,textOffset:In,textBoxScale:Pn}=gt,Fn=$c(tn,Rt,Gt,In,Pn,Nt),$n=b.getPitchedTextCorrection(ct.add(new a.P(J[0],J[1])),ue),jn=ua(vt.point,pt,l,Fn,b.angle,$n),Ei=O.allowVerticalPlacement&&Ge.placedOrientation===a.ac.vertical?Math.PI/2:0;for(let zr=0;zr<Ge.numGlyphs;zr++)a.ae(Be,jn,Ei);G&&Ge.associatedIconIndex>=0&&(tt[Ge.associatedIconIndex]={shiftedAnchor:jn,angle:Ei})}else yo(Ge.numGlyphs,Be)}if(G){De.clear();const Xe=O.icon.placedSymbolArray;for(let Ge=0;Ge<Xe.length;Ge++){const gt=Xe.get(Ge);if(gt.hidden)yo(gt.numGlyphs,De);else{const ct=tt[Ge];if(ct)for(let pt=0;pt<gt.numGlyphs;pt++)a.ae(De,ct.shiftedAnchor,ct.angle);else yo(gt.numGlyphs,De)}}O.icon.dynamicLayoutVertexBuffer.updateData(De)}O.text.dynamicLayoutVertexBuffer.updateData(Be)}function pl(O,l,c){return c.iconsInText&&l?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function dc(O,l,c,v,b,S,F,R,G,J,ue,re){const xe=O.context,Be=xe.gl,De=O.transform,tt=R==="map",Xe=G==="map",Ge=R!=="viewport"&&c.layout.get("symbol-placement")!=="point",gt=tt&&!Xe&&!Ge,ct=!c.layout.get("symbol-sort-key").isConstant();let pt=!1;const vt=O.depthModeForSublayer(0,le.ReadOnly),bt=c._unevaluatedLayout.hasValue("text-variable-anchor")||c._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Nt=[],Rt=De.getCircleRadiusCorrection();for(const Gt of v){const tn=l.getTile(Gt),In=tn.getBucket(c);if(!In)continue;const Pn=b?In.text:In.icon;if(!Pn||!Pn.segments.get().length||!Pn.hasVisibleVertices)continue;const Fn=Pn.programConfigurations.get(c.id),$n=b||In.sdfIcons,jn=b?In.textSizeData:In.iconSizeData,Ei=Xe||De.pitch!==0,zr=O.useProgram(pl($n,b,In),Fn),Rr=a.ab(jn,De.zoom),Kr=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Gt);let ta,_o,mi,ga,Aa=[0,0],ko=null;if(b)_o=tn.glyphAtlasTexture,mi=Be.LINEAR,ta=tn.glyphAtlasTexture.size,In.iconsInText&&(Aa=tn.imageAtlasTexture.size,ko=tn.imageAtlasTexture,ga=Ei||O.options.rotating||O.options.zooming||jn.kind==="composite"||jn.kind==="camera"?Be.LINEAR:Be.NEAREST);else{const ya=c.layout.get("icon-size").constantOr(0)!==1||In.iconsNeedLinear;_o=tn.imageAtlasTexture,mi=$n||O.options.rotating||O.options.zooming||ya||Ei?Be.LINEAR:Be.NEAREST,ta=tn.imageAtlasTexture.size}const na=a.ao(tn,1,O.transform.zoom),ps=cn(tt,O.transform,na),yl=a.H();a.ah(yl,ps);const MA=mn(Xe,tt,O.transform,na),Fl=a.ap(De,tn,S,F),ru=De.getProjectionData(Gt),YA=bt&&In.hasTextData(),Ns=c.layout.get("icon-text-fit")!=="none"&&YA&&In.hasIconData();if(Ge){const ya=O.style.map.terrain?(ts,Gd)=>O.style.map.terrain.getElevation(Gt,ts,Gd):null,Bs=c.layout.get("text-rotation-alignment")==="map";Mr(In,O,b,ps,yl,Xe,J,Bs,Gt.toUnwrapped(),De.width,De.height,Fl,ya)}const es=b&&bt||Ns,iu=Ge||es?hc:Xe?ps:O.transform.clipSpaceToPixelsMatrix,eA=$n&&c.paint.get(b?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let oh;oh=$n?In.iconsInText?tl(jn.kind,Rr,gt,Xe,Ge,es,O,iu,MA,Fl,ta,Aa,Rt):sc(jn.kind,Rr,gt,Xe,Ge,es,O,iu,MA,Fl,b,ta,!0,Rt):Lh(jn.kind,Rr,gt,Xe,Ge,es,O,iu,MA,Fl,b,ta,Rt);const Ws={program:zr,buffers:Pn,uniformValues:oh,projectionData:ru,atlasTexture:_o,atlasTextureIcon:ko,atlasInterpolation:mi,atlasInterpolationIcon:ga,isSDF:$n,hasHalo:eA};if(ct&&In.canOverlap){pt=!0;const ya=Pn.segments.get();for(const Bs of ya)Nt.push({segments:new a.ay([Bs]),sortKey:Bs.sortKey,state:Ws,terrainData:Kr})}else Nt.push({segments:Pn.segments,sortKey:0,state:Ws,terrainData:Kr})}pt&&Nt.sort((Gt,tn)=>Gt.sortKey-tn.sortKey);for(const Gt of Nt){const tn=Gt.state;if(xe.activeTexture.set(Be.TEXTURE0),tn.atlasTexture.bind(tn.atlasInterpolation,Be.CLAMP_TO_EDGE),tn.atlasTextureIcon&&(xe.activeTexture.set(Be.TEXTURE1),tn.atlasTextureIcon&&tn.atlasTextureIcon.bind(tn.atlasInterpolationIcon,Be.CLAMP_TO_EDGE)),tn.isSDF){const In=tn.uniformValues;tn.hasHalo&&(In.u_is_halo=1,yA(tn.buffers,Gt.segments,c,O,tn.program,vt,ue,re,In,tn.projectionData,Gt.terrainData)),In.u_is_halo=0}yA(tn.buffers,Gt.segments,c,O,tn.program,vt,ue,re,tn.uniformValues,tn.projectionData,Gt.terrainData)}}function yA(O,l,c,v,b,S,F,R,G,J,ue){const re=v.context;b.draw(re,re.gl.TRIANGLES,S,F,R,j.backCCW,G,ue,J,c.id,O.layoutVertexBuffer,O.indexBuffer,l,c.paint,v.transform.zoom,O.programConfigurations.get(c.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function Ef(O,l,c,v){const b=O.context,S=b.gl,F=xt.disabled,R=new gr([S.ONE,S.ONE],a.aL.transparent,[!0,!0,!0,!0]),G=l.getBucket(c);if(!G)return;const J=v.key;let ue=c.heatmapFbos.get(J);ue||(ue=Yc(b,l.tileSize,l.tileSize),c.heatmapFbos.set(J,ue)),b.bindFramebuffer.set(ue.framebuffer),b.viewport.set([0,0,l.tileSize,l.tileSize]),b.clear({color:a.aL.transparent});const re=G.programConfigurations.get(c.id),xe=O.useProgram("heatmap",re,!0),Be=O.transform.getProjectionData(l.tileID),De=O.style.map.terrain.getTerrainData(v);xe.draw(b,S.TRIANGLES,le.disabled,F,R,j.disabled,zs(l,O.transform.zoom,c.paint.get("heatmap-intensity"),1),De,Be,c.id,G.layoutVertexBuffer,G.indexBuffer,G.segments,c.paint,O.transform.zoom,re)}function zh(O,l,c){const v=O.context,b=v.gl,S=O.transform;v.setColorMode(O.colorModeForRenderPass());const F=jh(v,l),R=c.key,G=l.heatmapFbos.get(R);if(!G)return;v.activeTexture.set(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,G.colorAttachment.get()),v.activeTexture.set(b.TEXTURE1),F.bind(b.LINEAR,b.CLAMP_TO_EDGE);const J=S.getProjectionData(c,!1,!0);O.useProgram("heatmapTexture").draw(v,b.TRIANGLES,le.disabled,xt.disabled,O.colorModeForRenderPass(),j.disabled,Kh(O,l,0,1),null,J,l.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments,l.paint,S.zoom),G.destroy(),l.heatmapFbos.delete(R)}function Yc(O,l,c){var v,b;const S=O.gl,F=S.createTexture();S.bindTexture(S.TEXTURE_2D,F),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR);const R=(v=O.HALF_FLOAT)!==null&&v!==void 0?v:S.UNSIGNED_BYTE,G=(b=O.RGBA16F)!==null&&b!==void 0?b:S.RGBA;S.texImage2D(S.TEXTURE_2D,0,G,l,c,0,S.RGBA,R,null);const J=O.createFramebuffer(l,c,!1,!1);return J.colorAttachment.set(F),J}function jh(O,l){return l.colorRampTexture||(l.colorRampTexture=new ft(O,l.colorRamp,O.gl.RGBA)),l.colorRampTexture}function Pd(O,l,c,v,b){if(!c||!v||!v.imageAtlas)return;const S=v.imageAtlas.patternPositions;let F=S[c.to.toString()],R=S[c.from.toString()];if(!F&&R&&(F=R),!R&&F&&(R=F),!F||!R){const G=b.getPaintProperty(l);F=S[G],R=S[G]}F&&R&&O.setConstantPatternPositions(F,R)}function Yo(O,l,c,v,b,S,F){const R=O.context.gl,G="fill-pattern",J=c.paint.get(G),ue=J&&J.constantOr(1),re=c.getCrossfadeParameters();let xe,Be,De,tt,Xe;const Ge=O.transform,gt=c.paint.get("fill-translate"),ct=c.paint.get("fill-translate-anchor");F?(Be=ue&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",xe=R.LINES):(Be=ue?"fillPattern":"fill",xe=R.TRIANGLES);const pt=J.constantOr(null);for(const vt of v){const bt=l.getTile(vt);if(ue&&!bt.patternsLoaded())continue;const Nt=bt.getBucket(c);if(!Nt)continue;const Rt=Nt.programConfigurations.get(c.id),Gt=O.useProgram(Be,Rt),tn=O.style.map.terrain&&O.style.map.terrain.getTerrainData(vt);ue&&(O.context.activeTexture.set(R.TEXTURE0),bt.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),Rt.updatePaintBuffers(re)),Pd(Rt,G,pt,bt,c);const In=Ge.getProjectionData(vt),Pn=a.ap(Ge,bt,gt,ct);if(F){tt=Nt.indexBuffer2,Xe=Nt.segments2;const $n=[R.drawingBufferWidth,R.drawingBufferHeight];De=Be==="fillOutlinePattern"&&ue?gf(O,re,bt,$n,Pn):Dp($n,Pn)}else tt=Nt.indexBuffer,Xe=Nt.segments,De=ue?Th(O,re,bt,Pn):{u_fill_translate:Pn};const Fn=O.renderPass==="translucent"?O.stencilModeForClipping(vt):xt.disabled;Gt.draw(O.context,xe,b,Fn,S,j.backCCW,De,tn,In,c.id,Nt.layoutVertexBuffer,tt,Xe,c.paint,O.transform.zoom,Rt)}}function pa(O,l,c,v,b,S,F){const R=O.context,G=R.gl,J="fill-extrusion-pattern",ue=c.paint.get(J),re=ue.constantOr(1),xe=c.getCrossfadeParameters(),Be=c.paint.get("fill-extrusion-opacity"),De=ue.constantOr(null),tt=O.transform,Xe=tt.cameraPosition;for(const Ge of v){const gt=l.getTile(Ge),ct=gt.getBucket(c);if(!ct)continue;const pt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge),vt=ct.programConfigurations.get(c.id),bt=O.useProgram(re?"fillExtrusionPattern":"fillExtrusion",vt);re&&(O.context.activeTexture.set(G.TEXTURE0),gt.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),vt.updatePaintBuffers(xe));const Nt=tt.getProjectionData(Ge);Pd(vt,J,De,gt,c);const Rt=a.ap(tt,gt,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Gt=c.paint.get("fill-extrusion-vertical-gradient"),tn=re?Lp(O,Gt,Be,Rt,Xe,Ge,xe,gt):jc(O,Gt,Be,Rt,Xe);bt.draw(R,R.gl.TRIANGLES,b,S,F,j.backCCW,tn,pt,Nt,c.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,c.paint,O.transform.zoom,vt,O.style.map.terrain&&ct.centroidVertexBuffer)}}function Of(O,l,c,v,b,S,F,R){const G=O.style.projection,J=O.context,ue=O.transform,re=J.gl,xe=O.useProgram("hillshade"),Be=!O.options.moving;for(const De of v){const tt=l.getTile(De),Xe=tt.fbo;if(!Xe)continue;const Ge=G.getMeshFromTileID(J,De.canonical,R,!0,"raster"),gt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(De);J.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,Xe.colorAttachment.get());const ct=ue.getProjectionData(De,Be);xe.draw(J,re.TRIANGLES,S,b[De.overscaledZ],F,j.backCCW,ju(O,tt,c),gt,ct,c.id,Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}}const qc=[new a.P(0,0),new a.P(a.X,0),new a.P(a.X,a.X),new a.P(0,a.X)];function wu(O,l,c,v,b,S,F,R,G=!1){const J=v[v.length-1].overscaledZ,ue=O.context,re=ue.gl,xe=O.useProgram("raster"),Be=O.transform,De=O.style.projection,tt=O.colorModeForRenderPass(),Xe=!O.options.moving;for(const Ge of v){const gt=O.depthModeForSublayer(Ge.overscaledZ-J,c.paint.get("raster-opacity")===1?le.ReadWrite:le.ReadOnly,re.LESS),ct=l.getTile(Ge);ct.registerFadeDuration(c.paint.get("raster-fade-duration"));const pt=l.findLoadedParent(Ge,0),vt=l.findLoadedSibling(Ge),bt=Nh(ct,pt||vt||null,l,c,O.transform,O.style.map.terrain);let Nt,Rt;const Gt=c.paint.get("raster-resampling")==="nearest"?re.NEAREST:re.LINEAR;ue.activeTexture.set(re.TEXTURE0),ct.texture.bind(Gt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST),ue.activeTexture.set(re.TEXTURE1),pt?(pt.texture.bind(Gt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST),Nt=Math.pow(2,pt.tileID.overscaledZ-ct.tileID.overscaledZ),Rt=[ct.tileID.canonical.x*Nt%1,ct.tileID.canonical.y*Nt%1]):ct.texture.bind(Gt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST),ct.texture.useMipmap&&ue.extTextureFilterAnisotropic&&O.transform.pitch>20&&re.texParameterf(re.TEXTURE_2D,ue.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ue.extTextureFilterAnisotropicMax);const tn=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge),In=Be.getProjectionData(Ge,Xe),Pn=Fp(Rt||[0,0],Nt||1,bt,c,R),Fn=De.getMeshFromTileID(ue,Ge.canonical,S,F,"raster");xe.draw(ue,re.TRIANGLES,gt,b?b[Ge.overscaledZ]:xt.disabled,tt,G?j.frontCCW:j.backCCW,Pn,tn,In,c.id,Fn.vertexBuffer,Fn.indexBuffer,Fn.segments)}}function Nh(O,l,c,v,b,S){const F=v.paint.get("raster-fade-duration");if(!S&&F>0){const R=H.now(),G=(R-O.timeAdded)/F,J=l?(R-l.timeAdded)/F:-1,ue=c.getSource(),re=b.coveringZoomLevel({tileSize:ue.tileSize,roundZoom:ue.roundZoom}),xe=!l||Math.abs(l.tileID.overscaledZ-re)>Math.abs(O.tileID.overscaledZ-re),Be=xe&&O.refreshedUponExpiration?1:a.a9(xe?G:1-J,0,1);return O.refreshedUponExpiration&&G>=1&&(O.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Be}:{opacity:Be,mix:0}}return{opacity:1,mix:0}}const Kd=new a.aL(1,0,0,1),Mu=new a.aL(0,1,0,1),fc=new a.aL(0,0,1,1),Jl=new a.aL(1,0,1,1),vA=new a.aL(0,1,1,1);function Su(O,l,c,v){Hu(O,0,l+c/2,O.transform.width,c,v)}function _A(O,l,c,v){Hu(O,l-c/2,0,c,O.transform.height,v)}function Hu(O,l,c,v,b,S){const F=O.context,R=F.gl;R.enable(R.SCISSOR_TEST),R.scissor(l*O.pixelRatio,c*O.pixelRatio,v*O.pixelRatio,b*O.pixelRatio),F.clear({color:S}),R.disable(R.SCISSOR_TEST)}function Eu(O,l,c){const v=O.context,b=v.gl,S=O.useProgram("debug"),F=le.disabled,R=xt.disabled,G=O.colorModeForRenderPass(),J="$debug",ue=O.style.map.terrain&&O.style.map.terrain.getTerrainData(c);v.activeTexture.set(b.TEXTURE0);const re=l.getTileByID(c.key).latestRawTileData,xe=Math.floor((re&&re.byteLength||0)/1024),Be=l.getTile(c).tileSize,De=512/Math.min(Be,512)*(c.overscaledZ/O.transform.zoom)*.5;let tt=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(tt+=` => ${c.overscaledZ}`),function(Ge,gt){Ge.initDebugOverlayCanvas();const ct=Ge.debugOverlayCanvas,pt=Ge.context.gl,vt=Ge.debugOverlayCanvas.getContext("2d");vt.clearRect(0,0,ct.width,ct.height),vt.shadowColor="white",vt.shadowBlur=2,vt.lineWidth=1.5,vt.strokeStyle="white",vt.textBaseline="top",vt.font="bold 36px Open Sans, sans-serif",vt.fillText(gt,5,5),vt.strokeText(gt,5,5),Ge.debugOverlayTexture.update(ct),Ge.debugOverlayTexture.bind(pt.LINEAR,pt.CLAMP_TO_EDGE)}(O,`${tt} ${xe}kB`);const Xe=O.transform.getProjectionData(c);S.draw(v,b.TRIANGLES,F,R,gr.alphaBlended,j.disabled,vu(a.aL.transparent,De),null,Xe,J,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),S.draw(v,b.LINE_STRIP,F,R,G,j.disabled,vu(a.aL.red),ue,Xe,J,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function Zu(O,l,c){const v=O.context,b=v.gl,S=O.transform,F=O.colorModeForRenderPass(),R=new le(b.LEQUAL,le.ReadWrite,O.depthRangeFor3D),G=O.useProgram("terrain"),J=l.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,O.width,O.height]);for(const ue of c){const re=O.renderToTexture.getTexture(ue),xe=l.getTerrainData(ue.tileID);v.activeTexture.set(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,re.texture);const Be=l.getMeshFrameDelta(S.zoom),De=S.calculateFogMatrix(ue.tileID.toUnwrapped()),tt=km(Be,De,O.style.sky,S.pitch),Xe=S.getProjectionData(ue.tileID,!1,!0);G.draw(v,b.TRIANGLES,R,xt.disabled,F,j.backCCW,tt,xe,Xe,"terrain",J.vertexBuffer,J.indexBuffer,J.segments)}}function GA(O,l){if(!l.mesh){const c=new a.ax;c.emplaceBack(-1,-1),c.emplaceBack(1,-1),c.emplaceBack(1,1),c.emplaceBack(-1,1);const v=new a.az;v.emplaceBack(0,1,2),v.emplaceBack(0,2,3),l.mesh=new Za(O.createVertexBuffer(c,Oa.members),O.createIndexBuffer(v),a.ay.simpleSegment(0,0,c.length,v.length))}return l.mesh}class rl{constructor(l,c){this.context=new Ac(l),this.transform=c,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.aj(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=dt.maxUnderzooming+dt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Bo}resize(l,c,v){if(this.width=Math.floor(l*v),this.height=Math.floor(c*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const b of this.style._order)this.style._layers[b].resize()}setup(){const l=this.context,c=new a.ax;c.emplaceBack(0,0),c.emplaceBack(a.X,0),c.emplaceBack(0,a.X),c.emplaceBack(a.X,a.X),this.tileExtentBuffer=l.createVertexBuffer(c,Oa.members),this.tileExtentSegments=a.ay.simpleSegment(0,0,4,2);const v=new a.ax;v.emplaceBack(0,0),v.emplaceBack(a.X,0),v.emplaceBack(0,a.X),v.emplaceBack(a.X,a.X),this.debugBuffer=l.createVertexBuffer(v,Oa.members),this.debugSegments=a.ay.simpleSegment(0,0,4,5);const b=new a.bo;b.emplaceBack(0,0,0,0),b.emplaceBack(a.X,0,a.X,0),b.emplaceBack(0,a.X,0,a.X),b.emplaceBack(a.X,a.X,a.X,a.X),this.rasterBoundsBuffer=l.createVertexBuffer(b,Uc.members),this.rasterBoundsSegments=a.ay.simpleSegment(0,0,4,2);const S=new a.ax;S.emplaceBack(0,0),S.emplaceBack(a.X,0),S.emplaceBack(0,a.X),S.emplaceBack(a.X,a.X),this.rasterBoundsBufferPosOnly=l.createVertexBuffer(S,Oa.members),this.rasterBoundsSegmentsPosOnly=a.ay.simpleSegment(0,0,4,5);const F=new a.ax;F.emplaceBack(0,0),F.emplaceBack(1,0),F.emplaceBack(0,1),F.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(F,Oa.members),this.viewportSegments=a.ay.simpleSegment(0,0,4,2);const R=new a.bp;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(R);const G=new a.az;G.emplaceBack(1,0,2),G.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(G);const J=this.context.gl;this.stencilClearMode=new xt({func:J.ALWAYS,mask:0},0,255,J.ZERO,J.ZERO,J.ZERO),this.tileExtentMesh=new Za(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const l=this.context,c=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.H();a.bh(v,0,this.width,this.height,0,0,1),a.K(v,v,[c.drawingBufferWidth,c.drawingBufferHeight,0]);const b={mainMatrix:v,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:v};this.useProgram("clippingMask",null,!0).draw(l,c.TRIANGLES,le.disabled,this.stencilClearMode,gr.disabled,j.disabled,null,null,b,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,c,v){if(this.currentStencilSource===l.source||!l.isTileClipped()||!c||!c.length)return;this.currentStencilSource=l.source,this.nextStencilID+c.length>256&&this.clearStencil();const b=this.context;b.setColorMode(gr.disabled),b.setDepthMode(le.disabled);const S={};for(const F of c)S[F.key]=this.nextStencilID++;this._renderTileMasks(S,c,v,!0),this._renderTileMasks(S,c,v,!1),this._tileClippingMaskIDs=S}_renderTileMasks(l,c,v,b){const S=this.context,F=S.gl,R=this.style.projection,G=this.transform,J=this.useProgram("clippingMask");for(const ue of c){const re=l[ue.key],xe=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ue),Be=R.getMeshFromTileID(this.context,ue.canonical,b,!0,"stencil"),De=G.getProjectionData(ue);J.draw(S,F.TRIANGLES,le.disabled,new xt({func:F.ALWAYS,mask:0},re,255,F.KEEP,F.KEEP,F.REPLACE),gr.disabled,v?j.disabled:j.backCCW,null,xe,De,"$clipping",Be.vertexBuffer,Be.indexBuffer,Be.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,c=this.context.gl;return new xt({func:c.NOTEQUAL,mask:255},l,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(l){const c=this.context.gl;return new xt({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(l){const c=this.context.gl,v=l.sort((F,R)=>R.overscaledZ-F.overscaledZ),b=v[v.length-1].overscaledZ,S=v[0].overscaledZ-b+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const F={};for(let R=0;R<S;R++)F[R+b]=new xt({func:c.GEQUAL,mask:255},R+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=S,[F,v]}return[{[b]:xt.disabled},v]}stencilConfigForOverlapTwoPass(l){const c=this.context.gl,v=l.sort((F,R)=>R.overscaledZ-F.overscaledZ),b=v[v.length-1].overscaledZ,S=v[0].overscaledZ-b+1;if(this.clearStencil(),S>1){const F={},R={};for(let G=0;G<S;G++)F[G+b]=new xt({func:c.GREATER,mask:255},S+1+G,255,c.KEEP,c.KEEP,c.REPLACE),R[G+b]=new xt({func:c.GREATER,mask:255},1+G,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID=2*S+1,[F,R,v]}return this.nextStencilID=3,[{[b]:new xt({func:c.GREATER,mask:255},2,255,c.KEEP,c.KEEP,c.REPLACE)},{[b]:new xt({func:c.GREATER,mask:255},1,255,c.KEEP,c.KEEP,c.REPLACE)},v]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new gr([l.CONSTANT_COLOR,l.ONE],new a.aL(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?gr.unblended:gr.alphaBlended}depthModeForSublayer(l,c,v){if(!this.opaquePassEnabledForLayer())return le.disabled;const b=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new le(v||this.context.gl.LEQUAL,c,[b,b])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,c){this.style=l,this.options=c,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(H.now()),this.imageManager.beginFrame();const v=this.style._order,b=this.style.sourceCaches,S={},F={},R={};for(const G in b){const J=b[G];J.used&&J.prepare(this.context),S[G]=J.getVisibleCoordinates(!1),F[G]=S[G].slice().reverse(),R[G]=J.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<v.length;G++)if(this.style._layers[v[G]].is3D()){this.opaquePassCutoff=G;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const G of v){const J=this.style._layers[G];if(!J.hasOffscreenPass()||J.isHidden(this.transform.zoom))continue;const ue=F[J.source];(J.type==="custom"||ue.length)&&this.renderLayer(this,b[J.source],J,ue)}if(this.style.projection.updateGPUdependent({context:this.context,useProgram:G=>this.useProgram(G)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?a.aL.black:a.aL.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(G,J){const ue=G.context,re=ue.gl,xe=((gt,ct,pt)=>({u_sky_color:gt.properties.get("sky-color"),u_horizon_color:gt.properties.get("horizon-color"),u_horizon:(ct.height/2+Je(ct))*pt,u_sky_horizon_blend:gt.properties.get("sky-horizon-blend")*ct.height/2*pt}))(J,G.style.map.transform,G.pixelRatio),Be=new le(re.LEQUAL,le.ReadWrite,[0,1]),De=xt.disabled,tt=G.colorModeForRenderPass(),Xe=G.useProgram("sky"),Ge=GA(ue,J);Xe.draw(ue,re.TRIANGLES,Be,De,tt,j.disabled,xe,null,void 0,"sky",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}(this,this.style.sky),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const G=this.style._layers[v[this.currentLayer]],J=b[G.source],ue=S[G.source];this._renderTileClippingMasks(G,ue,!1),this.renderLayer(this,J,G,ue)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const G=this.style._layers[v[this.currentLayer]],J=b[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G))continue;const ue=(G.type==="symbol"?R:F)[G.source];this._renderTileClippingMasks(G,S[G.source],!1),this.renderLayer(this,J,G,ue)}if(this.style.projection.name==="globe"&&function(G,J,ue){const re=G.context,xe=re.gl,Be=G.useProgram("atmosphere"),De=new le(xe.LEQUAL,le.ReadOnly,[0,1]),tt=G.transform,Xe=function(Rt,Gt){const tn=Rt.properties.get("position"),In=[-tn.x,-tn.y,-tn.z],Pn=a.aj(new Float64Array(16));return Rt.properties.get("anchor")==="map"&&(a.aH(Pn,Pn,-Gt.pitch*Math.PI/180),a.aa(Pn,Pn,-Gt.angle),a.aH(Pn,Pn,Gt.center.lat*Math.PI/180),a.aX(Pn,Pn,-Gt.center.lng*Math.PI/180)),function(Fn,$n,jn){var Ei=$n[0],zr=$n[1],Rr=$n[2],Kr=jn[3]*Ei+jn[7]*zr+jn[11]*Rr+jn[15];Fn[0]=(jn[0]*Ei+jn[4]*zr+jn[8]*Rr+jn[12])/(Kr=Kr||1),Fn[1]=(jn[1]*Ei+jn[5]*zr+jn[9]*Rr+jn[13])/Kr,Fn[2]=(jn[2]*Ei+jn[6]*zr+jn[10]*Rr+jn[14])/Kr}(In,In,Pn),In}(ue,G.transform),Ge=tt.getProjectionData(null),gt=J.properties.get("atmosphere-blend")*Ge.projectionTransition;if(gt===0)return;const ct=$i(tt.worldSize,tt.center.lat),pt=tt.inverseProjectionMatrix,vt=new Float64Array(4);vt[3]=1,a.af(vt,vt,tt.modelViewProjectionMatrix),vt[0]/=vt[3],vt[1]/=vt[3],vt[2]/=vt[3],vt[3]=1,a.af(vt,vt,pt),vt[0]/=vt[3],vt[1]/=vt[3],vt[2]/=vt[3],vt[3]=1;const bt=((Rt,Gt,tn,In,Pn)=>({u_sun_pos:Rt,u_atmosphere_blend:Gt,u_globe_position:tn,u_globe_radius:In,u_inv_proj_matrix:Pn}))(Xe,gt,[vt[0],vt[1],vt[2]],ct,pt),Nt=GA(re,J);Be.draw(re,xe.TRIANGLES,De,xt.disabled,gr.alphaBlended,j.disabled,bt,null,null,"atmosphere",Nt.vertexBuffer,Nt.indexBuffer,Nt.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const G=function(J,ue){let re=null;const xe=Object.values(J._layers).flatMap(Xe=>Xe.source&&!Xe.isHidden(ue)?[J.sourceCaches[Xe.source]]:[]),Be=xe.filter(Xe=>Xe.getSource().type==="vector"),De=xe.filter(Xe=>Xe.getSource().type!=="vector"),tt=Xe=>{(!re||re.getSource().maxzoom<Xe.getSource().maxzoom)&&(re=Xe)};return Be.forEach(Xe=>tt(Xe)),re||De.forEach(Xe=>tt(Xe)),re}(this.style,this.transform.zoom);G&&function(J,ue,re){for(let xe=0;xe<re.length;xe++)Eu(J,ue,re[xe])}(this,G,G.getVisibleCoordinates())}this.options.showPadding&&function(G){const J=G.transform.padding;Su(G,G.transform.height-(J.top||0),3,Kd),Su(G,J.bottom||0,3,Mu),_A(G,J.left||0,3,fc),_A(G,G.transform.width-(J.right||0),3,Jl);const ue=G.transform.centerPoint;(function(re,xe,Be,De){Hu(re,xe-1,Be-10,2,20,De),Hu(re,xe-10,Be-1,20,2,De)})(G,ue.x,G.transform.height-ue.y,vA)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(l){if(!this.style||!this.style.map||!this.style.map.terrain)return;const c=this.terrainFacilitator.matrix,v=this.transform.modelViewProjectionMatrix;let b=this.terrainFacilitator.dirty;b||(b=l?!a.bq(c,v):!a.br(c,v)),b||(b=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),b&&(a.bs(c,v),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(S,F){const R=S.context,G=R.gl,J=S.transform,ue=gr.unblended,re=new le(G.LEQUAL,le.ReadWrite,[0,1]),xe=F.getTerrainMesh(),Be=F.sourceCache.getRenderableTiles(),De=S.useProgram("terrainDepth");R.bindFramebuffer.set(F.getFramebuffer("depth").framebuffer),R.viewport.set([0,0,S.width/devicePixelRatio,S.height/devicePixelRatio]),R.clear({color:a.aL.transparent,depth:1});for(const tt of Be){const Xe=F.getTerrainData(tt.tileID),Ge=J.getProjectionData(tt.tileID,!1,!0),gt={u_ele_delta:F.getMeshFrameDelta(J.zoom)};De.draw(R,G.TRIANGLES,re,xt.disabled,ue,j.backCCW,gt,Xe,Ge,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments)}R.bindFramebuffer.set(null),R.viewport.set([0,0,S.width,S.height])}(this,this.style.map.terrain),function(S,F){const R=S.context,G=R.gl,J=S.transform,ue=gr.unblended,re=new le(G.LEQUAL,le.ReadWrite,[0,1]),xe=F.getTerrainMesh(),Be=F.getCoordsTexture(),De=F.sourceCache.getRenderableTiles(),tt=S.useProgram("terrainCoords");R.bindFramebuffer.set(F.getFramebuffer("coords").framebuffer),R.viewport.set([0,0,S.width/devicePixelRatio,S.height/devicePixelRatio]),R.clear({color:a.aL.transparent,depth:1}),F.coordsIndex=[];for(const Xe of De){const Ge=F.getTerrainData(Xe.tileID);R.activeTexture.set(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,Be.texture);const gt={u_terrain_coords_id:(255-F.coordsIndex.length)/255,u_texture:0,u_ele_delta:F.getMeshFrameDelta(J.zoom)},ct=J.getProjectionData(Xe.tileID,!1,!0);tt.draw(R,G.TRIANGLES,re,xt.disabled,ue,j.backCCW,gt,Ge,ct,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments),F.coordsIndex.push(Xe.tileID.key)}R.bindFramebuffer.set(null),R.viewport.set([0,0,S.width,S.height])}(this,this.style.map.terrain))}renderLayer(l,c,v,b){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(b||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(S,F,R,G,J){if(S.renderPass!=="translucent")return;const ue=xt.disabled,re=S.colorModeForRenderPass();(R._unevaluatedLayout.hasValue("text-variable-anchor")||R._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(xe,Be,De,tt,Xe,Ge,gt,ct,pt){const vt=Be.transform,bt=Be.style.map.terrain,Nt=Xe==="map",Rt=Ge==="map";for(const Gt of xe){const tn=tt.getTile(Gt),In=tn.getBucket(De);if(!In||!In.text||!In.text.segments.get().length)continue;const Pn=a.ab(In.textSizeData,vt.zoom),Fn=a.ao(tn,1,Be.transform.zoom),$n=cn(Nt,Be.transform,Fn),jn=De.layout.get("icon-text-fit")!=="none"&&In.hasIconData();if(Pn){const Ei=Math.pow(2,vt.zoom-tn.tileID.overscaledZ),zr=bt?(Rr,Kr)=>bt.getElevation(Gt,Rr,Kr):null;xu(In,Nt,Rt,pt,vt,$n,Ei,Pn,jn,a.ap(vt,tn,gt,ct),Gt.toUnwrapped(),zr)}}}(G,S,R,F,R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),J),R.paint.get("icon-opacity").constantOr(1)!==0&&dc(S,F,R,G,!1,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),R.layout.get("icon-rotation-alignment"),R.layout.get("icon-pitch-alignment"),R.layout.get("icon-keep-upright"),ue,re),R.paint.get("text-opacity").constantOr(1)!==0&&dc(S,F,R,G,!0,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.layout.get("text-keep-upright"),ue,re),F.map.showCollisionBoxes&&(gA(S,F,R,G,!0),gA(S,F,R,G,!1))})(l,c,v,b,this.style.placement.variableOffsets);break;case"circle":(function(S,F,R,G){if(S.renderPass!=="translucent")return;const J=R.paint.get("circle-opacity"),ue=R.paint.get("circle-stroke-width"),re=R.paint.get("circle-stroke-opacity"),xe=!R.layout.get("circle-sort-key").isConstant();if(J.constantOr(1)===0&&(ue.constantOr(1)===0||re.constantOr(1)===0))return;const Be=S.context,De=Be.gl,tt=S.transform,Xe=S.depthModeForSublayer(0,le.ReadOnly),Ge=xt.disabled,gt=S.colorModeForRenderPass(),ct=[],pt=tt.getCircleRadiusCorrection();for(let vt=0;vt<G.length;vt++){const bt=G[vt],Nt=F.getTile(bt),Rt=Nt.getBucket(R);if(!Rt)continue;const Gt=R.paint.get("circle-translate"),tn=R.paint.get("circle-translate-anchor"),In=a.ap(tt,Nt,Gt,tn),Pn=Rt.programConfigurations.get(R.id),Fn=S.useProgram("circle",Pn),$n=Rt.layoutVertexBuffer,jn=Rt.indexBuffer,Ei=S.style.map.terrain&&S.style.map.terrain.getTerrainData(bt),zr={programConfiguration:Pn,program:Fn,layoutVertexBuffer:$n,indexBuffer:jn,uniformValues:Ph(S,Nt,R,In,pt),terrainData:Ei,projectionData:tt.getProjectionData(bt)};if(xe){const Rr=Rt.segments.get();for(const Kr of Rr)ct.push({segments:new a.ay([Kr]),sortKey:Kr.sortKey,state:zr})}else ct.push({segments:Rt.segments,sortKey:0,state:zr})}xe&&ct.sort((vt,bt)=>vt.sortKey-bt.sortKey);for(const vt of ct){const{programConfiguration:bt,program:Nt,layoutVertexBuffer:Rt,indexBuffer:Gt,uniformValues:tn,terrainData:In,projectionData:Pn}=vt.state;Nt.draw(Be,De.TRIANGLES,Xe,Ge,gt,j.backCCW,tn,In,Pn,R.id,Rt,Gt,vt.segments,R.paint,S.transform.zoom,bt)}})(l,c,v,b);break;case"heatmap":(function(S,F,R,G){if(R.paint.get("heatmap-opacity")===0)return;const J=S.context;if(S.style.map.terrain){for(const ue of G){const re=F.getTile(ue);F.hasRenderableParent(ue)||(S.renderPass==="offscreen"?Ef(S,re,R,ue):S.renderPass==="translucent"&&zh(S,R,ue))}J.viewport.set([0,0,S.width,S.height])}else S.renderPass==="offscreen"?function(ue,re,xe,Be){const De=ue.context,tt=De.gl,Xe=ue.transform,Ge=xt.disabled,gt=new gr([tt.ONE,tt.ONE],a.aL.transparent,[!0,!0,!0,!0]);(function(ct,pt,vt){const bt=ct.gl;ct.activeTexture.set(bt.TEXTURE1),ct.viewport.set([0,0,pt.width/4,pt.height/4]);let Nt=vt.heatmapFbos.get(a.bl);Nt?(bt.bindTexture(bt.TEXTURE_2D,Nt.colorAttachment.get()),ct.bindFramebuffer.set(Nt.framebuffer)):(Nt=Yc(ct,pt.width/4,pt.height/4),vt.heatmapFbos.set(a.bl,Nt))})(De,ue,xe),De.clear({color:a.aL.transparent});for(let ct=0;ct<Be.length;ct++){const pt=Be[ct];if(re.hasRenderableParent(pt))continue;const vt=re.getTile(pt),bt=vt.getBucket(xe);if(!bt)continue;const Nt=bt.programConfigurations.get(xe.id),Rt=ue.useProgram("heatmap",Nt),Gt=Xe.getProjectionData(pt),tn=Xe.getCircleRadiusCorrection();Rt.draw(De,tt.TRIANGLES,le.disabled,Ge,gt,j.backCCW,zs(vt,Xe.zoom,xe.paint.get("heatmap-intensity"),tn),null,Gt,xe.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,xe.paint,Xe.zoom,Nt)}De.viewport.set([0,0,ue.width,ue.height])}(S,F,R,G):S.renderPass==="translucent"&&function(ue,re){const xe=ue.context,Be=xe.gl;xe.setColorMode(ue.colorModeForRenderPass());const De=re.heatmapFbos.get(a.bl);De&&(xe.activeTexture.set(Be.TEXTURE0),Be.bindTexture(Be.TEXTURE_2D,De.colorAttachment.get()),xe.activeTexture.set(Be.TEXTURE1),jh(xe,re).bind(Be.LINEAR,Be.CLAMP_TO_EDGE),ue.useProgram("heatmapTexture").draw(xe,Be.TRIANGLES,le.disabled,xt.disabled,ue.colorModeForRenderPass(),j.disabled,Kh(ue,re,0,1),null,null,re.id,ue.viewportBuffer,ue.quadTriangleIndexBuffer,ue.viewportSegments,re.paint,ue.transform.zoom))}(S,R)})(l,c,v,b);break;case"line":(function(S,F,R,G){if(S.renderPass!=="translucent")return;const J=R.paint.get("line-opacity"),ue=R.paint.get("line-width");if(J.constantOr(1)===0||ue.constantOr(1)===0)return;const re=S.depthModeForSublayer(0,le.ReadOnly),xe=S.colorModeForRenderPass(),Be=R.paint.get("line-dasharray"),De=R.paint.get("line-pattern"),tt=De.constantOr(1),Xe=R.paint.get("line-gradient"),Ge=R.getCrossfadeParameters(),gt=tt?"linePattern":Be?"lineSDF":Xe?"lineGradient":"line",ct=S.context,pt=ct.gl,vt=S.transform;let bt=!0;for(const Nt of G){const Rt=F.getTile(Nt);if(tt&&!Rt.patternsLoaded())continue;const Gt=Rt.getBucket(R);if(!Gt)continue;const tn=Gt.programConfigurations.get(R.id),In=S.context.program.get(),Pn=S.useProgram(gt,tn),Fn=bt||Pn.program!==In,$n=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Nt),jn=De.constantOr(null);if(jn&&Rt.imageAtlas){const Kr=Rt.imageAtlas,ta=Kr.patternPositions[jn.to.toString()],_o=Kr.patternPositions[jn.from.toString()];ta&&_o&&tn.setConstantPatternPositions(ta,_o)}const Ei=vt.getProjectionData(Nt),zr=vt.getPixelScale(),Rr=tt?fA(S,Rt,R,zr,Ge):Be?Wc(S,Rt,R,zr,Be,Ge):Xe?_f(S,Rt,R,zr,Gt.lineClipsArray.length):Wu(S,Rt,R,zr);if(tt)ct.activeTexture.set(pt.TEXTURE0),Rt.imageAtlasTexture.bind(pt.LINEAR,pt.CLAMP_TO_EDGE),tn.updatePaintBuffers(Ge);else if(Be&&(Fn||S.lineAtlas.dirty))ct.activeTexture.set(pt.TEXTURE0),S.lineAtlas.bind(ct);else if(Xe){const Kr=Gt.gradients[R.id];let ta=Kr.texture;if(R.gradientVersion!==Kr.version){let _o=256;if(R.stepInterpolant){const mi=F.getSource().maxzoom,ga=Nt.canonical.z===mi?Math.ceil(1<<S.transform.maxZoom-Nt.canonical.z):1;_o=a.a9(a.bm(Gt.maxLineLength/a.X*1024*ga),256,ct.maxTextureSize)}Kr.gradient=a.bn({expression:R.gradientExpression(),evaluationKey:"lineProgress",resolution:_o,image:Kr.gradient||void 0,clips:Gt.lineClipsArray}),Kr.texture?Kr.texture.update(Kr.gradient):Kr.texture=new ft(ct,Kr.gradient,pt.RGBA),Kr.version=R.gradientVersion,ta=Kr.texture}ct.activeTexture.set(pt.TEXTURE0),ta.bind(R.stepInterpolant?pt.NEAREST:pt.LINEAR,pt.CLAMP_TO_EDGE)}Pn.draw(ct,pt.TRIANGLES,re,S.stencilModeForClipping(Nt),xe,j.disabled,Rr,$n,Ei,R.id,Gt.layoutVertexBuffer,Gt.indexBuffer,Gt.segments,R.paint,S.transform.zoom,tn,Gt.layoutVertexBuffer2),bt=!1}})(l,c,v,b);break;case"fill":(function(S,F,R,G){const J=R.paint.get("fill-color"),ue=R.paint.get("fill-opacity");if(ue.constantOr(1)===0)return;const re=S.colorModeForRenderPass(),xe=R.paint.get("fill-pattern"),Be=S.opaquePassEnabledForLayer()&&!xe.constantOr(1)&&J.constantOr(a.aL.transparent).a===1&&ue.constantOr(0)===1?"opaque":"translucent";if(S.renderPass===Be){const De=S.depthModeForSublayer(1,S.renderPass==="opaque"?le.ReadWrite:le.ReadOnly);Yo(S,F,R,G,De,re,!1)}if(S.renderPass==="translucent"&&R.paint.get("fill-antialias")){const De=S.depthModeForSublayer(R.getPaintProperty("fill-outline-color")?2:0,le.ReadOnly);Yo(S,F,R,G,De,re,!0)}})(l,c,v,b);break;case"fill-extrusion":(function(S,F,R,G){const J=R.paint.get("fill-extrusion-opacity");if(J!==0&&S.renderPass==="translucent"){const ue=new le(S.context.gl.LEQUAL,le.ReadWrite,S.depthRangeFor3D);if(J!==1||R.paint.get("fill-extrusion-pattern").constantOr(1))pa(S,F,R,G,ue,xt.disabled,gr.disabled),pa(S,F,R,G,ue,S.stencilModeFor3D(),S.colorModeForRenderPass());else{const re=S.colorModeForRenderPass();pa(S,F,R,G,ue,xt.disabled,re)}}})(l,c,v,b);break;case"hillshade":(function(S,F,R,G){if(S.renderPass!=="offscreen"&&S.renderPass!=="translucent")return;const J=S.context,ue=S.style.projection.useSubdivision,re=S.depthModeForSublayer(0,le.ReadOnly),xe=S.colorModeForRenderPass();if(S.renderPass==="offscreen")(function(Be,De,tt,Xe,Ge,gt,ct){const pt=Be.context,vt=pt.gl;for(const bt of tt){const Nt=De.getTile(bt),Rt=Nt.dem;if(!Rt||!Rt.data||!Nt.needsHillshadePrepare)continue;const Gt=Rt.dim,tn=Rt.stride,In=Rt.getPixels();if(pt.activeTexture.set(vt.TEXTURE1),pt.pixelStoreUnpackPremultiplyAlpha.set(!1),Nt.demTexture=Nt.demTexture||Be.getTileTexture(tn),Nt.demTexture){const Fn=Nt.demTexture;Fn.update(In,{premultiply:!1}),Fn.bind(vt.NEAREST,vt.CLAMP_TO_EDGE)}else Nt.demTexture=new ft(pt,In,vt.RGBA,{premultiply:!1}),Nt.demTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE);pt.activeTexture.set(vt.TEXTURE0);let Pn=Nt.fbo;if(!Pn){const Fn=new ft(pt,{width:Gt,height:Gt,data:null},vt.RGBA);Fn.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Pn=Nt.fbo=pt.createFramebuffer(Gt,Gt,!0,!1),Pn.colorAttachment.set(Fn.texture)}pt.bindFramebuffer.set(Pn.framebuffer),pt.viewport.set([0,0,Gt,Gt]),Be.useProgram("hillshadePrepare").draw(pt,vt.TRIANGLES,Ge,gt,ct,j.disabled,Nu(Nt.tileID,Rt),null,null,Xe.id,Be.rasterBoundsBuffer,Be.quadTriangleIndexBuffer,Be.rasterBoundsSegments),Nt.needsHillshadePrepare=!1}})(S,F,G,R,re,xt.disabled,xe),J.viewport.set([0,0,S.width,S.height]);else if(S.renderPass==="translucent")if(ue){const[Be,De,tt]=S.stencilConfigForOverlapTwoPass(G);Of(S,F,R,tt,Be,re,xe,!1),Of(S,F,R,tt,De,re,xe,!0)}else{const[Be,De]=S.stencilConfigForOverlap(G);Of(S,F,R,De,Be,re,xe,!1)}})(l,c,v,b);break;case"raster":(function(S,F,R,G){if(S.renderPass!=="translucent"||R.paint.get("raster-opacity")===0||!G.length)return;const J=F.getSource(),ue=S.style.projection.useSubdivision;if(J instanceof Re)wu(S,F,R,G,null,!1,!1,J.tileCoords,J.flippedWindingOrder);else if(ue){const[re,xe,Be]=S.stencilConfigForOverlapTwoPass(G);wu(S,F,R,Be,re,!1,!0,qc),wu(S,F,R,Be,xe,!0,!0,qc)}else{const[re,xe]=S.stencilConfigForOverlap(G);wu(S,F,R,xe,re,!1,!0,qc)}})(l,c,v,b);break;case"background":(function(S,F,R,G){const J=R.paint.get("background-color"),ue=R.paint.get("background-opacity");if(ue===0)return;const re=S.context,xe=re.gl,Be=S.style.projection,De=S.transform,tt=De.tileSize,Xe=R.paint.get("background-pattern");if(S.isPatternMissing(Xe))return;const Ge=!Xe&&J.a===1&&ue===1&&S.opaquePassEnabledForLayer()?"opaque":"translucent";if(S.renderPass!==Ge)return;const gt=xt.disabled,ct=S.depthModeForSublayer(0,Ge==="opaque"?le.ReadWrite:le.ReadOnly),pt=S.colorModeForRenderPass(),vt=S.useProgram(Xe?"backgroundPattern":"background"),bt=G||De.coveringTiles({tileSize:tt,terrain:S.style.map.terrain});Xe&&(re.activeTexture.set(xe.TEXTURE0),S.imageManager.bind(S.context));const Nt=R.getCrossfadeParameters();for(const Rt of bt){const Gt=De.getProjectionData(Rt),tn=Xe?bf(ue,S,Xe,{tileID:Rt,tileSize:tt},Nt):nl(ue,J),In=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Rt),Pn=Be.getMeshFromTileID(re,Rt.canonical,!1,!0,"raster");vt.draw(re,xe.TRIANGLES,ct,gt,pt,j.backCCW,tn,In,Gt,R.id,Pn.vertexBuffer,Pn.indexBuffer,Pn.segments)}})(l,0,v,b);break;case"custom":(function(S,F,R){const G=S.context,J=R.implementation,ue=S.style.projection,re=S.transform,xe=re.getProjectionDataForCustomLayer(),Be={farZ:re.farZ,nearZ:re.nearZ,fov:re.fov*Math.PI/180,modelViewProjectionMatrix:re.modelViewProjectionMatrix,projectionMatrix:re.projectionMatrix,shaderData:{variantName:ue.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ue.shaderPreludeCode.vertexSource}`,define:ue.shaderDefine},defaultProjectionData:xe};if(S.renderPass==="offscreen"){const De=J.prerender;De&&(S.setCustomLayerDefaults(),G.setColorMode(S.colorModeForRenderPass()),De.call(J,G.gl,Be),G.setDirty(),S.setBaseState())}else if(S.renderPass==="translucent"){S.setCustomLayerDefaults(),G.setColorMode(S.colorModeForRenderPass()),G.setStencilMode(xt.disabled);const De=J.renderingMode==="3d"?new le(S.context.gl.LEQUAL,le.ReadWrite,S.depthRangeFor3D):S.depthModeForSublayer(0,le.ReadOnly);G.setDepthMode(De),J.render(G.gl,Be),G.setDirty(),S.setBaseState(),G.bindFramebuffer.set(null)}})(l,0,v)}}saveTileTexture(l){const c=this._tileTextures[l.size[0]];c?c.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const c=this._tileTextures[l];return c&&c.length>0?c.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const c=this.imageManager.getPattern(l.from.toString()),v=this.imageManager.getPattern(l.to.toString());return!c||!v}useProgram(l,c,v=!1){this.cache=this.cache||{};const b=!!this.style.map.terrain,S=this.style.projection,F=l+(c?c.cacheKey:"")+`/${v?yu:S.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(b?"/terrain":"");return this.cache[F]||(this.cache[F]=new Q0(this.context,Io[l],c,lc[l],this._showOverdrawInspector,b,v?Io.projectionMercator:S.shaderPreludeCode,v?Xa:S.shaderDefine)),this.cache[F]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ft(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:l,drawingBufferHeight:c}=this.context.gl;return this.width!==l||this.height!==c}}function Vc(O,l){let c,v=!1,b=null,S=null;const F=()=>{b=null,v&&(O.apply(S,c),b=setTimeout(F,l),v=!1)};return(...R)=>(v=!0,S=this,c=R,b||F(),b)}class Ld{constructor(l){this._getCurrentHash=()=>{const c=window.location.hash.replace("#","");if(this._hashName){let v;return c.split("&").map(b=>b.split("=")).forEach(b=>{b[0]===this._hashName&&(v=b)}),(v&&v[1]||"").split("/")}return c.split("/")},this._onHashChange=()=>{const c=this._getCurrentHash();if(c.length>=3&&!c.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:v,pitch:+(c[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const c=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,c)},this._removeHash=()=>{const c=this._getCurrentHash();if(c.length===0)return;const v=c.join("/");let b=v;b.split("&").length>0&&(b=b.split("&")[0]),this._hashName&&(b=`${this._hashName}=${v}`);let S=window.location.hash.replace(b,"");S.startsWith("#&")?S=S.slice(0,1)+S.slice(2):S==="#"&&(S="");let F=window.location.href.replace(/(#.+)?$/,S);F=F.replace("&&","&"),window.history.replaceState(window.history.state,null,F)},this._updateHash=Vc(this._updateHashUnthrottled,300),this._hashName=l&&encodeURIComponent(l)}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(l){const c=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,b=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,b),F=Math.round(c.lng*S)/S,R=Math.round(c.lat*S)/S,G=this._map.getBearing(),J=this._map.getPitch();let ue="";if(ue+=l?`/${F}/${R}/${v}`:`${v}/${R}/${F}`,(G||J)&&(ue+="/"+Math.round(10*G)/10),J&&(ue+=`/${Math.round(J)}`),this._hashName){const re=this._hashName;let xe=!1;const Be=window.location.hash.slice(1).split("&").map(De=>{const tt=De.split("=")[0];return tt===re?(xe=!0,`${tt}=${ue}`):De}).filter(De=>De);return xe||Be.push(`${re}=${ue}`),`#${Be.join("&")}`}return`#${ue}`}}const pc={linearity:.3,easing:a.bt(0,0,.3,1)},Tm=a.e({deceleration:2500,maxSpeed:1400},pc),je=a.e({deceleration:20,maxSpeed:1400},pc),Hc=a.e({deceleration:1e3,maxSpeed:360},pc),Da=a.e({deceleration:1e3,maxSpeed:90},pc);class Fi{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:H.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,c=H.now();for(;l.length>0&&c-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)c.zoom+=S.zoomDelta||0,c.bearing+=S.bearingDelta||0,c.pitch+=S.pitchDelta||0,S.panDelta&&c.pan._add(S.panDelta),S.around&&(c.around=S.around),S.pinchAround&&(c.pinchAround=S.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(c.pan.mag()){const S=ma(c.pan.mag(),v,a.e({},Tm,l||{})),F=c.pan.mult(S.amount/c.pan.mag()),R=this._map.cameraHelper.handlePanInertia(F,this._map.transform);b.center=R.easingCenter,b.offset=R.easingOffset,hn(b,S)}if(c.zoom){const S=ma(c.zoom,v,je);b.zoom=this._map.transform.zoom+S.amount,hn(b,S)}if(c.bearing){const S=ma(c.bearing,v,Hc);b.bearing=this._map.transform.bearing+a.a9(S.amount,-179,179),hn(b,S)}if(c.pitch){const S=ma(c.pitch,v,Da);b.pitch=this._map.transform.pitch+S.amount,hn(b,S)}if(b.zoom||b.bearing){const S=c.pinchAround===void 0?c.around:c.pinchAround;b.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),a.e(b,{noMoveStart:!0})}}function hn(O,l){(!O.duration||O.duration<l.duration)&&(O.duration=l.duration,O.easing=l.easing)}function ma(O,l,c){const{maxSpeed:v,linearity:b,deceleration:S}=c,F=a.a9(O*b/(l/1e3),-v,v),R=Math.abs(F)/(S*b);return{easing:c.easing,duration:1e3*R,amount:F*(R/2)}}class fs extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v,b={}){const S=X.mousePos(c.getCanvas(),v),F=c.unproject(S);super(l,a.e({point:S,lngLat:F,originalEvent:v},b)),this._defaultPrevented=!1,this.target=c}}class Wh extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v){const b=l==="touchend"?v.changedTouches:v.touches,S=X.touchPos(c.getCanvasContainer(),b),F=S.map(G=>c.unproject(G)),R=S.reduce((G,J,ue,re)=>G.add(J.div(re.length)),new a.P(0,0));super(l,{points:S,point:R,lngLats:F,lngLat:c.unproject(R),originalEvent:v}),this._defaultPrevented=!1}}class ml extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,c,v){super(l,{originalEvent:v}),this._defaultPrevented=!1}}class Dd{constructor(l,c){this._map=l,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new ml(l.type,this._map,l))}mousedown(l,c){return this._mousedownPos=c,this._firePreventable(new fs(l.type,this._map,l))}mouseup(l){this._map.fire(new fs(l.type,this._map,l))}click(l,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new fs(l.type,this._map,l))}dblclick(l){return this._firePreventable(new fs(l.type,this._map,l))}mouseover(l){this._map.fire(new fs(l.type,this._map,l))}mouseout(l){this._map.fire(new fs(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Wh(l.type,this._map,l))}touchmove(l){this._map.fire(new Wh(l.type,this._map,l))}touchend(l){this._map.fire(new Wh(l.type,this._map,l))}touchcancel(l){this._map.fire(new Wh(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Pm{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new fs(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new fs(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Si{constructor(l){this._map=l}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(l){return this.transform.screenPointToLocation(a.P.convert(l),this._map.terrain)}}class Gh{constructor(l,c){this._map=l,this._tr=new Si(l),this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,c){this.isEnabled()&&l.shiftKey&&l.button===0&&(X.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(l,c){if(!this._active)return;const v=c;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const b=this._startPos;this._lastPos=v,this._box||(this._box=X.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",l));const S=Math.min(b.x,v.x),F=Math.max(b.x,v.x),R=Math.min(b.y,v.y),G=Math.max(b.y,v.y);X.setTransform(this._box,`translate(${S}px,${R}px)`),this._box.style.width=F-S+"px",this._box.style.height=G-R+"px"}mouseupWindow(l,c){if(!this._active||l.button!==0)return;const v=this._startPos,b=c;if(this.reset(),X.suppressClick(),v.x!==b.x||v.y!==b.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:l})),{cameraAnimation:S=>S.fitScreenCoordinates(v,b,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(X.remove(this._box),this._box=null),X.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,c){return this._map.fire(new a.k(l,{originalEvent:c}))}}function Bf(O,l){if(O.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${l.length}`);const c={};for(let v=0;v<O.length;v++)c[O[v].identifier]=l[v];return c}class eu{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,c,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),v.length===this.numTouches&&(this.centroid=function(b){const S=new a.P(0,0);for(const F of b)S._add(F);return S.div(b.length)}(c),this.touches=Bf(v,c)))}touchmove(l,c,v){if(this.aborted||!this.centroid)return;const b=Bf(v,c);for(const S in this.touches){const F=b[S];(!F||F.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(l,c,v){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class Rp{constructor(l){this.singleTap=new eu(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,c,v){this.singleTap.touchstart(l,c,v)}touchmove(l,c,v){this.singleTap.touchmove(l,c,v)}touchend(l,c,v){const b=this.singleTap.touchend(l,c,v);if(b){const S=l.timeStamp-this.lastTime<500,F=!this.lastTap||this.lastTap.dist(b)<30;if(S&&F||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class Up{constructor(l){this._tr=new Si(l),this._zoomIn=new Rp({numTouches:1,numTaps:2}),this._zoomOut=new Rp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,c,v){this._zoomIn.touchstart(l,c,v),this._zoomOut.touchstart(l,c,v)}touchmove(l,c,v){this._zoomIn.touchmove(l,c,v),this._zoomOut.touchmove(l,c,v)}touchend(l,c,v){const b=this._zoomIn.touchend(l,c,v),S=this._zoomOut.touchend(l,c,v),F=this._tr;return b?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:F.zoom+1,around:F.unproject(b)},{originalEvent:l})}):S?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:F.zoom-1,around:F.unproject(S)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mc{constructor(l){this._enabled=!!l.enable,this._moveStateManager=l.moveStateManager,this._clickTolerance=l.clickTolerance||1,this._moveFunction=l.move,this._activateOnStart=!!l.activateOnStart,l.assignEvents(this),this.reset()}reset(l){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(l)}_move(...l){const c=this._moveFunction(...l);if(c.bearingDelta||c.pitchDelta||c.around||c.panDelta)return this._active=!0,c}dragStart(l,c){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(l)&&(this._moveStateManager.startMove(l),this._lastPoint=c.length?c[0]:c,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(l,c){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(l.preventDefault(),!this._moveStateManager.isValidMoveEvent(l))return void this.reset(l);const b=c.length?c[0]:c;return!this._moved&&b.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=b,this._move(v,b))}dragEnd(l){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(l)&&(this._moved&&X.suppressClick(),this.reset(l))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const If={0:1,2:2};class Fd{constructor(l){this._correctEvent=l.checkCorrectEvent}startMove(l){const c=X.mouseButton(l);this._eventButton=c}endMove(l){delete this._eventButton}isValidStartEvent(l){return this._correctEvent(l)}isValidMoveEvent(l){return!function(c,v){const b=If[v];return c.buttons===void 0||(c.buttons&b)!==b}(l,this._eventButton)}isValidEndEvent(l){return X.mouseButton(l)===this._eventButton}}class Ou{constructor(){this._firstTouch=void 0}_isOneFingerTouch(l){return l.targetTouches.length===1}_isSameTouchEvent(l){return l.targetTouches[0].identifier===this._firstTouch}startMove(l){this._firstTouch=l.targetTouches[0].identifier}endMove(l){delete this._firstTouch}isValidStartEvent(l){return this._isOneFingerTouch(l)}isValidMoveEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}isValidEndEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}}const Rd=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=l=>{l.preventDefault()}},Qh=({enable:O,clickTolerance:l,bearingDegreesPerPixelMoved:c=.8})=>{const v=new Fd({checkCorrectEvent:b=>X.mouseButton(b)===0&&b.ctrlKey||X.mouseButton(b)===2});return new mc({clickTolerance:l,move:(b,S)=>({bearingDelta:(S.x-b.x)*c}),moveStateManager:v,enable:O,assignEvents:Rd})},Km=({enable:O,clickTolerance:l,pitchDegreesPerPixelMoved:c=-.5})=>{const v=new Fd({checkCorrectEvent:b=>X.mouseButton(b)===0&&b.ctrlKey||X.mouseButton(b)===2});return new mc({clickTolerance:l,move:(b,S)=>({pitchDelta:(S.y-b.y)*c}),moveStateManager:v,enable:O,assignEvents:Rd})};class CA{constructor(l,c){this._clickTolerance=l.clickTolerance||1,this._map=c,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(l){return l<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(l,c,v){return this._calculateTransform(l,c,v)}touchmove(l,c,v){if(this._active){if(!this._shouldBePrevented(v.length))return l.preventDefault(),this._calculateTransform(l,c,v);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",l)}}touchend(l,c,v){this._calculateTransform(l,c,v),this._active&&this._shouldBePrevented(v.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,c,v){v.length>0&&(this._active=!0);const b=Bf(v,c),S=new a.P(0,0),F=new a.P(0,0);let R=0;for(const J in b){const ue=b[J],re=this._touches[J];re&&(S._add(ue),F._add(ue.sub(re)),R++,b[J]=ue)}if(this._touches=b,this._shouldBePrevented(R)||!F.mag())return;const G=F.div(R);return this._sum._add(G),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(R),panDelta:G}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class oo{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(l,c,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([c[0],c[1]]))}touchmove(l,c,v){if(!this._firstTwoTouches)return;l.preventDefault();const[b,S]=this._firstTwoTouches,F=Kl(v,c,b),R=Kl(v,c,S);if(!F||!R)return;const G=this._aroundCenter?null:F.add(R).div(2);return this._move([F,R],G,l)}touchend(l,c,v){if(!this._firstTwoTouches)return;const[b,S]=this._firstTwoTouches,F=Kl(v,c,b),R=Kl(v,c,S);F&&R||(this._active&&X.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Kl(O,l,c){for(let v=0;v<O.length;v++)if(O[v].identifier===c)return l[v]}function kf(O,l){return Math.log(O/l)/Math.LN2}class Tf extends oo{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,c){const v=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(kf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:kf(this._distance,v),pinchAround:c}}}function Jo(O,l){return 180*O.angleWith(l)/Math.PI}class lo extends oo{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,c,v){const b=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Jo(this._vector,b),pinchAround:c}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const c=25/(Math.PI*this._minDiameter)*360,v=Jo(l,this._startVector);return Math.abs(v)<c}}function tu(O){return Math.abs(O.y)>Math.abs(O.x)}class Os extends oo{constructor(l){super(),this._currentTouchCount=0,this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,c,v){super.touchstart(l,c,v),this._currentTouchCount=v.length}_start(l){this._lastPoints=l,tu(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,c,v){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const b=l[0].sub(this._lastPoints[0]),S=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(b,S,v.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:(b.y+S.y)/2*-.5}):void 0}gestureBeginsVertically(l,c,v){if(this._valid!==void 0)return this._valid;const b=l.mag()>=2,S=c.mag()>=2;if(!b&&!S)return;if(!b||!S)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const F=l.y>0==c.y>0;return tu(l)&&tu(c)&&F}}const Xu={panStep:100,bearingStep:15,pitchStep:10};class vr{constructor(l){this._tr=new Si(l);const c=Xu;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let c=0,v=0,b=0,S=0,F=0;switch(l.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:l.shiftKey?v=-1:(l.preventDefault(),S=-1);break;case 39:l.shiftKey?v=1:(l.preventDefault(),S=1);break;case 38:l.shiftKey?b=1:(l.preventDefault(),F=-1);break;case 40:l.shiftKey?b=-1:(l.preventDefault(),F=1);break;default:return}return this._rotationDisabled&&(v=0,b=0),{cameraAnimation:R=>{const G=this._tr;R.easeTo({duration:300,easeId:"keyboardHandler",easing:Pr,zoom:c?Math.round(G.zoom)+c*(l.shiftKey?2:1):G.zoom,bearing:G.bearing+v*this._bearingStep,pitch:G.pitch+b*this._pitchStep,offset:[-S*this._panStep,-F*this._panStep],center:G.center},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Pr(O){return O*(2-O)}const Zc=4.000244140625;class Pf{constructor(l,c){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=l,this._tr=new Si(l),this._triggerRenderFrame=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(l){return!!this._map.cooperativeGestures.isEnabled()&&!(l.ctrlKey||this._map.cooperativeGestures.isBypassed(l))}wheel(l){if(!this.isEnabled())return;if(this._shouldBePrevented(l))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",l);let c=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const v=H.now(),b=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,c!==0&&c%Zc==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(b*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),l.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=l,this._delta-=c,this._active||this._start(l)),l.preventDefault()}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=X.mousePos(this._map.getCanvas(),l),v=this._tr;this._aroundPoint=this._aroundCenter?v.transform.locationToScreenPoint(a.N.convert(v.center)):c,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const G=l.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=G),typeof this._targetZoom=="number"&&(this._targetZoom+=G)}if(this._delta!==0){const G=this._type==="wheel"&&Math.abs(this._delta)>Zc?this._wheelZoomRate:this._defaultZoomRate;let J=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&J!==0&&(J=1/J);const ue=typeof this._targetZoom!="number"?l.scale:Gi(this._targetZoom);this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,sa(ue*J))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const c=typeof this._targetZoom!="number"?l.zoom:this._targetZoom,v=this._startZoom,b=this._easing;let S,F=!1;const R=H.now()-this._lastWheelEventTime;if(this._type==="wheel"&&v&&b&&R){const G=Math.min(R/200,1),J=b(G);S=a.y.number(v,c,J),G<1?this._frameId||(this._frameId=!0):F=!0}else S=c,F=!0;return this._active=!0,F&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=S,{noInertia:!0,needsRenderFrame:!F,zoomDelta:S-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let c=a.bu;if(this._prevEase){const v=this._prevEase,b=(H.now()-v.start)/v.duration,S=v.easing(b+.01)-v.easing(b),F=.27/Math.sqrt(S*S+1e-4)*.01,R=Math.sqrt(.0729-F*F);c=a.bt(F,R,.25,1)}return this._prevEase={start:H.now(),duration:l,easing:c},c}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class $h{constructor(l,c){this._clickZoom=l,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ja{constructor(l){this._tr=new Si(l),this.reset()}reset(){this._active=!1}dblclick(l,c){return l.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(l.shiftKey?-1:1),around:this._tr.unproject(c)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xc{constructor(){this._tap=new Rp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(l,c,v){if(!this._swipePoint)if(this._tapTime){const b=c[0],S=l.timeStamp-this._tapTime<500,F=this._tapPoint.dist(b)<30;S&&F?v.length>0&&(this._swipePoint=b,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(l,c,v)}touchmove(l,c,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const b=c[0],S=b.y-this._swipePoint.y;return this._swipePoint=b,l.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(l,c,v)}touchend(l,c,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const b=this._tap.touchend(l,c,v);b&&(this._tapTime=l.timeStamp,this._tapPoint=b)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class il{constructor(l,c,v){this._el=l,this._mousePan=c,this._touchPan=v}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class QA{constructor(l,c,v){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=c,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class gc{constructor(l,c,v,b){this._el=l,this._touchZoom=c,this._touchRotate=v,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ea{constructor(l,c){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=l,this._options=c,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const l=this._map.getCanvasContainer();l.classList.add("maplibregl-cooperative-gestures"),this._container=X.create("div","maplibregl-cooperative-gesture-screen",l);let c=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(c=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const v=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),b=document.createElement("div");b.className="maplibregl-desktop-message",b.textContent=c,this._container.appendChild(b);const S=document.createElement("div");S.className="maplibregl-mobile-message",S.textContent=v,this._container.appendChild(S),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(X.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(l){return l[this._bypassKey]}notifyGestureBlocked(l,c){this._enabled&&(this._map.fire(new a.k("cooperativegestureprevented",{gestureType:l,originalEvent:c})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const vo=O=>O.zoom||O.drag||O.pitch||O.rotate;class Jc extends a.k{}function gl(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta}class ol{constructor(l,c){this.handleWindowEvent=b=>{this.handleEvent(b,`${b.type}Window`)},this.handleEvent=(b,S)=>{if(b.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const F=b.type==="renderFrame"?void 0:b,R={needsRenderFrame:!1},G={},J={},ue=b.touches,re=ue?this._getMapTouches(ue):void 0,xe=re?X.touchPos(this._map.getCanvas(),re):X.mousePos(this._map.getCanvas(),b);for(const{handlerName:tt,handler:Xe,allowed:Ge}of this._handlers){if(!Xe.isEnabled())continue;let gt;this._blockedByActive(J,Ge,tt)?Xe.reset():Xe[S||b.type]&&(gt=Xe[S||b.type](b,xe,re),this.mergeHandlerResult(R,G,gt,tt,F),gt&&gt.needsRenderFrame&&this._triggerRenderFrame()),(gt||Xe.isActive())&&(J[tt]=Xe)}const Be={};for(const tt in this._previousActiveHandlers)J[tt]||(Be[tt]=F);this._previousActiveHandlers=J,(Object.keys(Be).length||gl(R))&&(this._changes.push([R,G,Be]),this._triggerRenderFrame()),(Object.keys(J).length||gl(R))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:De}=R;De&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],De(this._map))},this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Fi(l),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[b,S,F]of this._listeners)X.addEventListener(b,S,b===document?this.handleWindowEvent:this.handleEvent,F)}destroy(){for(const[l,c,v]of this._listeners)X.removeEventListener(l,c,l===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(l){const c=this._map,v=c.getCanvasContainer();this._add("mapEvent",new Dd(c,l));const b=c.boxZoom=new Gh(c,l);this._add("boxZoom",b),l.interactive&&l.boxZoom&&b.enable();const S=c.cooperativeGestures=new ea(c,l.cooperativeGestures);this._add("cooperativeGestures",S),l.cooperativeGestures&&S.enable();const F=new Up(c),R=new Ja(c);c.doubleClickZoom=new $h(R,F),this._add("tapZoom",F),this._add("clickZoom",R),l.interactive&&l.doubleClickZoom&&c.doubleClickZoom.enable();const G=new Xc;this._add("tapDragZoom",G);const J=c.touchPitch=new Os(c);this._add("touchPitch",J),l.interactive&&l.touchPitch&&c.touchPitch.enable(l.touchPitch);const ue=Qh(l),re=Km(l);c.dragRotate=new QA(l,ue,re),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",re,["mouseRotate"]),l.interactive&&l.dragRotate&&c.dragRotate.enable();const xe=(({enable:gt,clickTolerance:ct})=>{const pt=new Fd({checkCorrectEvent:vt=>X.mouseButton(vt)===0&&!vt.ctrlKey});return new mc({clickTolerance:ct,move:(vt,bt)=>({around:bt,panDelta:bt.sub(vt)}),activateOnStart:!0,moveStateManager:pt,enable:gt,assignEvents:Rd})})(l),Be=new CA(l,c);c.dragPan=new il(v,xe,Be),this._add("mousePan",xe),this._add("touchPan",Be,["touchZoom","touchRotate"]),l.interactive&&l.dragPan&&c.dragPan.enable(l.dragPan);const De=new lo,tt=new Tf;c.touchZoomRotate=new gc(v,tt,De,G),this._add("touchRotate",De,["touchPan","touchZoom"]),this._add("touchZoom",tt,["touchPan","touchRotate"]),l.interactive&&l.touchZoomRotate&&c.touchZoomRotate.enable(l.touchZoomRotate);const Xe=c.scrollZoom=new Pf(c,()=>this._triggerRenderFrame());this._add("scrollZoom",Xe,["mousePan"]),l.interactive&&l.scrollZoom&&c.scrollZoom.enable(l.scrollZoom);const Ge=c.keyboard=new vr(c);this._add("keyboard",Ge),l.interactive&&l.keyboard&&c.keyboard.enable(),this._add("blockableMapEvent",new Pm(c))}_add(l,c,v){this._handlers.push({handlerName:l,handler:c,allowed:v}),this._handlersById[l]=c}stop(l){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vo(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,c,v){for(const b in l)if(b!==v&&(!c||c.indexOf(b)<0))return!0;return!1}_getMapTouches(l){const c=[];for(const v of l)this._el.contains(v.target)&&c.push(v);return c}mergeHandlerResult(l,c,v,b,S){if(!v)return;a.e(l,v);const F={handlerName:b,originalEvent:v.originalEvent||S};v.zoomDelta!==void 0&&(c.zoom=F),v.panDelta!==void 0&&(c.drag=F),v.pitchDelta!==void 0&&(c.pitch=F),v.bearingDelta!==void 0&&(c.rotate=F)}_applyChanges(){const l={},c={},v={};for(const[b,S,F]of this._changes)b.panDelta&&(l.panDelta=(l.panDelta||new a.P(0,0))._add(b.panDelta)),b.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(l.around=b.around),b.pinchAround!==void 0&&(l.pinchAround=b.pinchAround),b.noInertia&&(l.noInertia=b.noInertia),a.e(c,S),a.e(v,F);this._updateMapTransform(l,c,v),this._changes=[]}_updateMapTransform(l,c,v){const b=this._map,S=b._getTransformForUpdate(),F=b.terrain;if(!(gl(l)||F&&this._terrainMovement))return this._fireEvents(c,v,!0);b._stop(!0);let{panDelta:R,zoomDelta:G,bearingDelta:J,pitchDelta:ue,around:re,pinchAround:xe}=l;xe!==void 0&&(re=xe),re=re||b.transform.centerPoint,F&&!S.isPointOnMapSurface(re)&&(re=S.centerPoint);const Be={panDelta:R,zoomDelta:G,pitchDelta:ue,bearingDelta:J,around:re};this._map.cameraHelper.useGlobeControls&&!S.isPointOnMapSurface(re)&&(re=S.centerPoint);const De=S.screenPointToLocation(R?re.sub(R):re);F?(this._map.cameraHelper.handleMapControlsPitchBearingZoom(Be,S),this._terrainMovement||!c.drag&&!c.zoom?c.drag&&this._terrainMovement?S.setCenter(S.screenPointToLocation(S.centerPoint.sub(R))):this._map.cameraHelper.handleMapControlsPan(Be,S,De):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Be,S,De))):(this._map.cameraHelper.handleMapControlsPitchBearingZoom(Be,S),this._map.cameraHelper.handleMapControlsPan(Be,S,De)),b._applyUpdatedTransform(S),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(c,v,!0)}_fireEvents(l,c,v){const b=vo(this._eventsInProgress),S=vo(l),F={};for(const re in l){const{originalEvent:xe}=l[re];this._eventsInProgress[re]||(F[`${re}start`]=xe),this._eventsInProgress[re]=l[re]}!b&&S&&this._fireEvent("movestart",S.originalEvent);for(const re in F)this._fireEvent(re,F[re]);S&&this._fireEvent("move",S.originalEvent);for(const re in l){const{originalEvent:xe}=l[re];this._fireEvent(re,xe)}const R={};let G;for(const re in this._eventsInProgress){const{handlerName:xe,originalEvent:Be}=this._eventsInProgress[re];this._handlersById[xe].isActive()||(delete this._eventsInProgress[re],G=c[xe]||Be,R[`${re}end`]=G)}for(const re in R)this._fireEvent(re,R[re]);const J=vo(this._eventsInProgress),ue=(b||S)&&!J;if(ue&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const re=this._map._getTransformForUpdate();re.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(re)}if(v&&ue){this._updatingCamera=!0;const re=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),xe=Be=>Be!==0&&-this._bearingSnap<Be&&Be<this._bearingSnap;!re||!re.essential&&H.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:G})),xe(this._map.getBearing())&&this._map.resetNorth()):(xe(re.bearing||this._map.getBearing())&&(re.bearing=0),re.freezeElevation=!0,this._map.easeTo(re,{originalEvent:G})),this._updatingCamera=!1}}_fireEvent(l,c){this._map.fire(new a.k(l,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Jc("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class zp extends a.E{constructor(l,c,v){super(),this._renderFrameCallback=()=>{const b=Math.min((H.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(b)),b<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=v.bearingSnap,this.cameraHelper=c,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(l,c){l.apply(this.transform),this.transform=l,this.cameraHelper=c}getCenter(){return new a.N(this.transform.center.lng,this.transform.center.lat)}setCenter(l,c){return this.jumpTo({center:l},c)}panBy(l,c,v){return l=a.P.convert(l).mult(-1),this.panTo(this.transform.center,a.e({offset:l},c),v)}panTo(l,c,v){return this.easeTo(a.e({center:l},c),v)}getZoom(){return this.transform.zoom}setZoom(l,c){return this.jumpTo({zoom:l},c),this}zoomTo(l,c,v){return this.easeTo(a.e({zoom:l},c),v)}zoomIn(l,c){return this.zoomTo(this.getZoom()+1,l,c),this}zoomOut(l,c){return this.zoomTo(this.getZoom()-1,l,c),this}getBearing(){return this.transform.bearing}setBearing(l,c){return this.jumpTo({bearing:l},c),this}getPadding(){return this.transform.padding}setPadding(l,c){return this.jumpTo({padding:l},c),this}rotateTo(l,c,v){return this.easeTo(a.e({bearing:l},c),v)}resetNorth(l,c){return this.rotateTo(0,a.e({duration:1e3},l),c),this}resetNorthPitch(l,c){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},l),c),this}snapToNorth(l,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,c):this}getPitch(){return this.transform.pitch}setPitch(l,c){return this.jumpTo({pitch:l},c),this}cameraForBounds(l,c){l=fr.convert(l).adjustAntiMeridian();const v=c&&c.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),v,c)}_cameraForBoxAndBearing(l,c,v,b){const S={top:0,bottom:0,right:0,left:0};if(typeof(b=a.e({padding:S,offset:[0,0],maxZoom:this.transform.maxZoom},b)).padding=="number"){const J=b.padding;b.padding={top:J,bottom:J,right:J,left:J}}const F=a.e(S,b.padding);b.padding=F;const R=this.transform,G=new fr(l,c);return this.cameraHelper.cameraForBoxAndBearing(b,F,G,v,R)}fitBounds(l,c,v){return this._fitInternal(this.cameraForBounds(l,c),c,v)}fitScreenCoordinates(l,c,v,b,S){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(l)),this.transform.screenPointToLocation(a.P.convert(c)),v,b),b,S)}_fitInternal(l,c,v){return l?(delete(c=a.e(l,c)).padding,c.linear?this.easeTo(c,v):this.flyTo(c,v)):this}jumpTo(l,c){this.stop();const v=this._getTransformForUpdate();let b=!1,S=!1;const F=v.zoom;this.cameraHelper.handleJumpToCenterZoom(v,l);const R=v.zoom!==F;return"bearing"in l&&v.bearing!==+l.bearing&&(b=!0,v.setBearing(+l.bearing)),"pitch"in l&&v.pitch!==+l.pitch&&(S=!0,v.setPitch(+l.pitch)),l.padding==null||v.isPaddingEqual(l.padding)||v.setPadding(l.padding),this._applyUpdatedTransform(v),this.fire(new a.k("movestart",c)).fire(new a.k("move",c)),R&&this.fire(new a.k("zoomstart",c)).fire(new a.k("zoom",c)).fire(new a.k("zoomend",c)),b&&this.fire(new a.k("rotatestart",c)).fire(new a.k("rotate",c)).fire(new a.k("rotateend",c)),S&&this.fire(new a.k("pitchstart",c)).fire(new a.k("pitch",c)).fire(new a.k("pitchend",c)),this.fire(new a.k("moveend",c))}calculateCameraOptionsFromTo(l,c,v,b=0){const S=a.Y.fromLngLat(l,c),F=a.Y.fromLngLat(v,b),R=F.x-S.x,G=F.y-S.y,J=F.z-S.z,ue=Math.hypot(R,G,J);if(ue===0)throw new Error("Can't calculate camera options with same From and To");const re=Math.hypot(R,G),xe=sa(this.transform.cameraToCenterDistance/ue/this.transform.tileSize),Be=180*Math.atan2(R,-G)/Math.PI;let De=180*Math.acos(re/ue)/Math.PI;return De=J<0?90-De:90+De,{center:F.toLngLat(),zoom:xe,pitch:De,bearing:Be}}easeTo(l,c){this._stop(!1,l.easeId),((l=a.e({offset:[0,0],duration:500,easing:a.bu},l)).animate===!1||!l.essential&&H.prefersReducedMotion)&&(l.duration=0);const v=this._getTransformForUpdate(),b=this.getBearing(),S=v.pitch,F="bearing"in l?this._normalizeBearing(l.bearing,b):b,R="pitch"in l?+l.pitch:S,G="padding"in l?l.padding:v.padding,J=a.P.convert(l.offset);let ue,re;l.around&&(ue=a.N.convert(l.around),re=v.locationToScreenPoint(ue));const xe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching},Be=this.cameraHelper.handleEaseTo(v,{bearing:F,pitch:R,padding:G,around:ue,aroundPoint:re,offsetAsPoint:J,offset:l.offset,zoom:l.zoom,center:l.center});return this._rotating=this._rotating||b!==F,this._pitching=this._pitching||R!==S,this._padding=!v.isPaddingEqual(G),this._zooming=this._zooming||Be.isZooming,this._easeId=l.easeId,this._prepareEase(c,l.noMoveStart,xe),this.terrain&&this._prepareElevation(Be.elevationCenter),this._ease(De=>{Be.easeFunc(De),this.terrain&&!l.freezeElevation&&this._updateElevation(De),this._applyUpdatedTransform(v),this._fireMoveEvents(c)},De=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(c,De)},l),this}_prepareEase(l,c,v={}){this._moving=!0,c||v.moving||this.fire(new a.k("movestart",l)),this._zooming&&!v.zooming&&this.fire(new a.k("zoomstart",l)),this._rotating&&!v.rotating&&this.fire(new a.k("rotatestart",l)),this._pitching&&!v.pitching&&this.fire(new a.k("pitchstart",l))}_prepareElevation(l){this._elevationCenter=l,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(l){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const c=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(l<1&&c!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=l*(v-(c-(v*l+this._elevationStart))/(1-l)),this._elevationTarget=c}this.transform.setElevation(a.y.number(this._elevationStart,this._elevationTarget,l))}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(l){const c=l.screenPointToLocation(l.getCameraPoint()),v=l.getCameraAltitude(),b=this.terrain.getElevationForLngLatZoom(c,l.zoom);if(v<b){const S=this.calculateCameraOptionsFromTo(c,b,l.center,l.elevation);return{pitch:S.pitch,zoom:S.zoom}}return{}}_applyUpdatedTransform(l){const c=[];if(this.terrain&&c.push(b=>this._elevateCameraIfInsideTerrain(b)),this.transformCameraUpdate&&c.push(b=>this.transformCameraUpdate(b)),!c.length)return;const v=l.clone();for(const b of c){const S=v.clone(),{center:F,zoom:R,pitch:G,bearing:J,elevation:ue}=b(S);F&&S.setCenter(F),R!==void 0&&S.setZoom(R),G!==void 0&&S.setPitch(G),J!==void 0&&S.setBearing(J),ue!==void 0&&S.setElevation(ue),v.apply(S)}this.transform.apply(v)}_fireMoveEvents(l){this.fire(new a.k("move",l)),this._zooming&&this.fire(new a.k("zoom",l)),this._rotating&&this.fire(new a.k("rotate",l)),this._pitching&&this.fire(new a.k("pitch",l))}_afterEase(l,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;const v=this._zooming,b=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.k("zoomend",l)),b&&this.fire(new a.k("rotateend",l)),S&&this.fire(new a.k("pitchend",l)),this.fire(new a.k("moveend",l))}flyTo(l,c){if(!l.essential&&H.prefersReducedMotion){const tn=a.M(l,["center","zoom","bearing","pitch"]);return this.jumpTo(tn,c)}this.stop(),l=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bu},l);const v=this._getTransformForUpdate(),b=v.bearing,S=v.pitch,F=v.padding,R="bearing"in l?this._normalizeBearing(l.bearing,b):b,G="pitch"in l?+l.pitch:S,J="padding"in l?l.padding:v.padding,ue=a.P.convert(l.offset);let re=v.centerPoint.add(ue);const xe=v.screenPointToLocation(re),Be=this.cameraHelper.handleFlyTo(v,{bearing:R,pitch:G,padding:J,locationAtOffset:xe,offsetAsPoint:ue,center:l.center,minZoom:l.minZoom,zoom:l.zoom});let De=l.curve;const tt=Math.max(v.width,v.height),Xe=tt/Be.scaleOfZoom,Ge=Be.pixelPathLength;typeof Be.scaleOfMinZoom=="number"&&(De=Math.sqrt(tt/Be.scaleOfMinZoom/Ge*2));const gt=De*De;function ct(tn){const In=(Xe*Xe-tt*tt+(tn?-1:1)*gt*gt*Ge*Ge)/(2*(tn?Xe:tt)*gt*Ge);return Math.log(Math.sqrt(In*In+1)-In)}function pt(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function vt(tn){return(Math.exp(tn)+Math.exp(-tn))/2}const bt=ct(!1);let Nt=function(tn){return vt(bt)/vt(bt+De*tn)},Rt=function(tn){return tt*((vt(bt)*(pt(In=bt+De*tn)/vt(In))-pt(bt))/gt)/Ge;var In},Gt=(ct(!0)-bt)/De;if(Math.abs(Ge)<2e-6||!isFinite(Gt)){if(Math.abs(tt-Xe)<1e-6)return this.easeTo(l,c);const tn=Xe<tt?-1:1;Gt=Math.abs(Math.log(Xe/tt))/De,Rt=()=>0,Nt=In=>Math.exp(tn*De*In)}return l.duration="duration"in l?+l.duration:1e3*Gt/("screenSpeed"in l?+l.screenSpeed/De:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=b!==R,this._pitching=G!==S,this._padding=!v.isPaddingEqual(J),this._prepareEase(c,!1),this.terrain&&this._prepareElevation(Be.targetCenter),this._ease(tn=>{const In=tn*Gt,Pn=1/Nt(In),Fn=Rt(In);this._rotating&&v.setBearing(a.y.number(b,R,tn)),this._pitching&&v.setPitch(a.y.number(S,G,tn)),this._padding&&(v.interpolatePadding(F,J,tn),re=v.centerPoint.add(ue)),Be.easeFunc(tn,Pn,Fn,re),this.terrain&&!l.freezeElevation&&this._updateElevation(tn),this._applyUpdatedTransform(v),this._fireMoveEvents(c)},()=>{this.terrain&&l.freezeElevation&&this._finalizeElevation(),this._afterEase(c)},l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,c){var v;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const b=this._onEaseEnd;delete this._onEaseEnd,b.call(this,c)}return l||(v=this.handlers)===null||v===void 0||v.stop(!1),this}_ease(l,c,v){v.animate===!1||v.duration===0?(l(1),c()):(this._easeStart=H.now(),this._easeOptions=v,this._onEaseFrame=l,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(l,c){l=a.ai(l,-180,180);const v=Math.abs(l-c);return Math.abs(l-360-c)<v&&(l-=360),Math.abs(l+360-c)<v&&(l+=360),l}queryTerrainElevation(l){return this.terrain?this.terrain.getElevationForLngLatZoom(a.N.convert(l),this.transform.tileZoom)-this.transform.elevation:null}}const Yh={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Ud{constructor(l=Yh){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=c=>{!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=l}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options.compact,this._container=X.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=X.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=X.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){X.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(l,c){const v=this._map._getUIString(`AttributionControl.${c}`);l.title=v,l.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map(b=>typeof b!="string"?"":b)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const c=this._map.style.sourceCaches;for(const b in c){const S=c[b];if(S.used||S.usedForTerrain){const F=S.getSource();F.attribution&&l.indexOf(F.attribution)<0&&l.push(F.attribution)}}l=l.filter(b=>String(b).trim()),l.sort((b,S)=>b.length-S.length),l=l.filter((b,S)=>{for(let F=S+1;F<l.length;F++)if(l[F].indexOf(b)>=0)return!1;return!0});const v=l.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,l.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class bA{constructor(l={}){this._updateCompact=()=>{const c=this._container.children;if(c.length){const v=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=l}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=X.create("div","maplibregl-ctrl");const c=X.create("a","maplibregl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){X.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class nu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const c=++this._id;return this._queue.push({callback:l,id:c,cancelled:!1}),c}remove(l){const c=this._currentlyRunning,v=c?this._queue.concat(c):this._queue;for(const b of v)if(b.id===l)return void(b.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const c=this._currentlyRunning=this._queue;this._queue=[];for(const v of c)if(!v.cancelled&&(v.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var zd=a.av([{name:"a_pos3d",type:"Int16",components:3}]);class jp extends a.E{constructor(l){super(),this._lastTilesetChange=H.now(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,l.usedForTerrain=!0,l.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(l,c){this.sourceCache.update(l,c),this._renderableTilesKeys=[];const v={};for(const b of l.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:c}))v[b.key]=!0,this._renderableTilesKeys.push(b.key),this._tiles[b.key]||(b.terrainRttPosMatrix=new Float64Array(16),a.bh(b.terrainRttPosMatrix,0,a.X,a.X,0,0,1),this._tiles[b.key]=new Ke(b,this.tileSize),this._lastTilesetChange=H.now());for(const b in this._tiles)v[b]||delete this._tiles[b]}freeRtt(l){for(const c in this._tiles){const v=this._tiles[c];(!l||v.tileID.equals(l)||v.tileID.isChildOf(l)||l.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){const c={};for(const v of this._renderableTilesKeys){const b=this._tiles[v].tileID;if(b.canonical.equals(l.canonical)){const S=l.clone();S.terrainRttPosMatrix=new Float64Array(16),a.bh(S.terrainRttPosMatrix,0,a.X,a.X,0,0,1),c[v]=S}else if(b.canonical.isChildOf(l.canonical)){const S=l.clone();S.terrainRttPosMatrix=new Float64Array(16);const F=b.canonical.z-l.canonical.z,R=b.canonical.x-(b.canonical.x>>F<<F),G=b.canonical.y-(b.canonical.y>>F<<F),J=a.X>>F;a.bh(S.terrainRttPosMatrix,0,J,J,0,0,1),a.J(S.terrainRttPosMatrix,S.terrainRttPosMatrix,[-R*J,-G*J,0]),c[v]=S}else if(l.canonical.isChildOf(b.canonical)){const S=l.clone();S.terrainRttPosMatrix=new Float64Array(16);const F=l.canonical.z-b.canonical.z,R=l.canonical.x-(l.canonical.x>>F<<F),G=l.canonical.y-(l.canonical.y>>F<<F),J=a.X>>F;a.bh(S.terrainRttPosMatrix,0,a.X,a.X,0,0,1),a.J(S.terrainRttPosMatrix,S.terrainRttPosMatrix,[R*J,G*J,0]),a.K(S.terrainRttPosMatrix,S.terrainRttPosMatrix,[1/2**F,1/2**F,0]),c[v]=S}}return c}getSourceTile(l,c){const v=this.sourceCache._source;let b=l.overscaledZ-this.deltaZoom;if(b>v.maxzoom&&(b=v.maxzoom),b<v.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo(b).key);let S=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!S||!S.dem)&&c)for(;b>=v.minzoom&&(!S||!S.dem);)S=this.sourceCache.getTileByID(l.scaledTo(b--).key);return S}anyTilesAfterTime(l=Date.now()){return this._lastTilesetChange>=l}}class qh{constructor(l,c,v){this.painter=l,this.sourceCache=new jp(c),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(l,c,v,b=a.X){var S;if(!(c>=0&&c<b&&v>=0&&v<b))return 0;const F=this.getTerrainData(l),R=(S=F.tile)===null||S===void 0?void 0:S.dem;if(!R)return 0;const G=function(De,tt,Xe){var Ge=tt[0],gt=tt[1];return De[0]=Xe[0]*Ge+Xe[4]*gt+Xe[12],De[1]=Xe[1]*Ge+Xe[5]*gt+Xe[13],De}([],[c/b*a.X,v/b*a.X],F.u_terrain_matrix),J=[G[0]*R.dim,G[1]*R.dim],ue=Math.floor(J[0]),re=Math.floor(J[1]),xe=J[0]-ue,Be=J[1]-re;return R.get(ue,re)*(1-xe)*(1-Be)+R.get(ue+1,re)*xe*(1-Be)+R.get(ue,re+1)*(1-xe)*Be+R.get(ue+1,re+1)*xe*Be}getElevationForLngLatZoom(l,c){if(!a.bv(c,l.wrap()))return 0;const{tileID:v,mercatorX:b,mercatorY:S}=this._getOverscaledTileIDFromLngLatZoom(l,c);return this.getElevation(v,b%a.X,S%a.X,a.X)}getElevation(l,c,v,b=a.X){return this.getDEMElevation(l,c,v,b)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const b=this.painter.context,S=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ft(b,S,b.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ft(b,new a.R({width:1,height:1}),b.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(b.gl.NEAREST,b.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.aj([])}const c=this.sourceCache.getSourceTile(l,!0);if(c&&c.dem&&(!c.demTexture||c.needsTerrainPrepare)){const b=this.painter.context;c.demTexture=this.painter.getTileTexture(c.dem.stride),c.demTexture?c.demTexture.update(c.dem.getPixels(),{premultiply:!1}):c.demTexture=new ft(b,c.dem.getPixels(),b.gl.RGBA,{premultiply:!1}),c.demTexture.bind(b.gl.NEAREST,b.gl.CLAMP_TO_EDGE),c.needsTerrainPrepare=!1}const v=c&&c+c.tileID.key+l.key;if(v&&!this._demMatrixCache[v]){const b=this.sourceCache.sourceCache._source.maxzoom;let S=l.canonical.z-c.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=b?S=l.canonical.z-b:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const F=l.canonical.x-(l.canonical.x>>S<<S),R=l.canonical.y-(l.canonical.y>>S<<S),G=a.bw(new Float64Array(16),[1/(a.X<<S),1/(a.X<<S),0]);a.J(G,G,[F*a.X,R*a.X,0]),this._demMatrixCache[l.key]={matrix:G,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:c&&c.dem&&c.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:c&&c.dem&&c.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(c&&c.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:c}}getFramebuffer(l){const c=this.painter,v=c.width/devicePixelRatio,b=c.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===b||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ft(c.context,{width:v,height:b,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ft(c.context,{width:v,height:b,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=c.context.createFramebuffer(v,b,!0,!1),this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,v,b))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const c=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let S=0,F=0;S<this._coordsTextureSize;S++)for(let R=0;R<this._coordsTextureSize;R++,F+=4)c[F+0]=255&R,c[F+1]=255&S,c[F+2]=R>>8<<4|S>>8,c[F+3]=0;const v=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(c.buffer)),b=new ft(l,v,l.gl.RGBA,{premultiply:!1});return b.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=b,b}pointCoordinate(l){this.painter.maybeDrawDepthAndCoords(!0);const c=new Uint8Array(4),v=this.painter.context,b=v.gl,S=Math.round(l.x*this.painter.pixelRatio/devicePixelRatio),F=Math.round(l.y*this.painter.pixelRatio/devicePixelRatio),R=Math.round(this.painter.height/devicePixelRatio);v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),b.readPixels(S,R-F-1,1,1,b.RGBA,b.UNSIGNED_BYTE,c),v.bindFramebuffer.set(null);const G=c[0]+(c[2]>>4<<8),J=c[1]+((15&c[2])<<8),ue=this.coordsIndex[255-c[3]],re=ue&&this.sourceCache.getTileByID(ue);if(!re)return null;const xe=this._coordsTextureSize,Be=(1<<re.tileID.canonical.z)*xe;return new a.Y((re.tileID.canonical.x*xe+G)/Be+re.tileID.wrap,(re.tileID.canonical.y*xe+J)/Be,this.getElevation(re.tileID,G,J,xe))}depthAtPoint(l){const c=new Uint8Array(4),v=this.painter.context,b=v.gl;return v.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),b.readPixels(l.x,this.painter.height/devicePixelRatio-l.y-1,1,1,b.RGBA,b.UNSIGNED_BYTE,c),v.bindFramebuffer.set(null),(c[0]/16777216+c[1]/65536+c[2]/256+c[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const l=this.painter.context,c=new a.bx,v=new a.az,b=this.meshSize,S=a.X/b,F=b*b;for(let re=0;re<=b;re++)for(let xe=0;xe<=b;xe++)c.emplaceBack(xe*S,re*S,0);for(let re=0;re<F;re+=b+1)for(let xe=0;xe<b;xe++)v.emplaceBack(xe+re,b+xe+re+1,b+xe+re+2),v.emplaceBack(xe+re,b+xe+re+2,xe+re+1);const R=c.length,G=R+2*(b+1);for(const re of[0,1])for(let xe=0;xe<=b;xe++)for(const Be of[0,1])c.emplaceBack(xe*S,re*a.X,Be);for(let re=0;re<2*b;re+=2)v.emplaceBack(G+re,G+re+1,G+re+3),v.emplaceBack(G+re,G+re+3,G+re+2),v.emplaceBack(R+re,R+re+3,R+re+1),v.emplaceBack(R+re,R+re+2,R+re+3);const J=c.length,ue=J+2*(b+1);for(const re of[0,1])for(let xe=0;xe<=b;xe++)for(const Be of[0,1])c.emplaceBack(re*a.X,xe*S,Be);for(let re=0;re<2*b;re+=2)v.emplaceBack(J+re,J+re+1,J+re+3),v.emplaceBack(J+re,J+re+3,J+re+2),v.emplaceBack(ue+re,ue+re+3,ue+re+1),v.emplaceBack(ue+re,ue+re+2,ue+re+3);return this._mesh=new Za(l.createVertexBuffer(c,zd.members),l.createIndexBuffer(v),a.ay.simpleSegment(0,0,c.length,v.length)),this._mesh}getMeshFrameDelta(l){return 2*Math.PI*a.a_/Math.pow(2,l)/5}getMinTileElevationForLngLatZoom(l,c){var v;const{tileID:b}=this._getOverscaledTileIDFromLngLatZoom(l,c);return(v=this.getMinMaxElevation(b).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(l){const c=this.getTerrainData(l).tile,v={minElevation:null,maxElevation:null};return c&&c.dem&&(v.minElevation=c.dem.min*this.exaggeration,v.maxElevation=c.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(l,c){const v=a.Y.fromLngLat(l.wrap()),b=(1<<c)*a.X,S=v.x*b,F=v.y*b,R=Math.floor(S/a.X),G=Math.floor(F/a.X);return{tileID:new a.S(c,0,c,R,G),mercatorX:S,mercatorY:F}}}class Kf{constructor(l,c,v){this._context=l,this._size=c,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const l of this._objects)l.texture.destroy(),l.fbo.destroy()}_createObject(l){const c=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new ft(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),c.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),c.colorAttachment.set(v.texture),{id:l,fbo:c,texture:v,stamp:-1,inUse:!1}}getObjectForId(l){return this._objects[l]}useObject(l){l.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(c=>l.id!==c),this._recentlyUsed.push(l.id)}stampObject(l){l.stamp=++this._stamp}getOrCreateFreeObject(){for(const c of this._recentlyUsed)if(!this._objects[c].inUse)return this._objects[c];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const l=this._createObject(this._objects.length);return this._objects.push(l),l}freeObject(l){l.inUse=!1}freeAllObjects(){for(const l of this._objects)this.freeObject(l)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(l=>!l.inUse)===!1}}const Ll={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Fa{constructor(l,c){this.painter=l,this.terrain=c,this.pool=new Kf(l.context,30,c.sourceCache.tileSize*c.qualityFactor)}destruct(){this.pool.destruct()}getTexture(l){return this.pool.getObjectForId(l.rtt[this._stacks.length-1].id).texture}prepareForRender(l,c){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=l._order.filter(v=>!l._layers[v].isHidden(c)),this._coordsDescendingInv={};for(const v in l.sourceCaches){this._coordsDescendingInv[v]={};const b=l.sourceCaches[v].getVisibleCoordinates();for(const S of b){const F=this.terrain.sourceCache.getTerrainCoords(S);for(const R in F)this._coordsDescendingInv[v][R]||(this._coordsDescendingInv[v][R]=[]),this._coordsDescendingInv[v][R].push(F[R])}}this._coordsDescendingInvStr={};for(const v of l._order){const b=l._layers[v],S=b.source;if(Ll[b.type]&&!this._coordsDescendingInvStr[S]){this._coordsDescendingInvStr[S]={};for(const F in this._coordsDescendingInv[S])this._coordsDescendingInvStr[S][F]=this._coordsDescendingInv[S][F].map(R=>R.key).sort().join()}}for(const v of this._renderableTiles)for(const b in this._coordsDescendingInvStr){const S=this._coordsDescendingInvStr[b][v.tileID.key];S&&S!==v.rttCoords[b]&&(v.rtt=[])}}renderLayer(l){if(l.isHidden(this.painter.transform.zoom))return!1;const c=l.type,v=this.painter,b=this._renderableLayerIds[this._renderableLayerIds.length-1]===l.id;if(Ll[c]&&(this._prevType&&Ll[this._prevType]||this._stacks.push([]),this._prevType=c,this._stacks[this._stacks.length-1].push(l.id),!b))return!0;if(Ll[this._prevType]||Ll[c]&&b){this._prevType=c;const S=this._stacks.length-1,F=this._stacks[S]||[];for(const R of this._renderableTiles){if(this.pool.isFull()&&(Zu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(R),R.rtt[S]){const J=this.pool.getObjectForId(R.rtt[S].id);if(J.stamp===R.rtt[S].stamp){this.pool.useObject(J);continue}}const G=this.pool.getOrCreateFreeObject();this.pool.useObject(G),this.pool.stampObject(G),R.rtt[S]={id:G.id,stamp:G.stamp},v.context.bindFramebuffer.set(G.fbo.framebuffer),v.context.clear({color:a.aL.transparent,stencil:0}),v.currentStencilSource=void 0;for(let J=0;J<F.length;J++){const ue=v.style._layers[F[J]],re=ue.source?this._coordsDescendingInv[ue.source][R.tileID.key]:[R.tileID];v.context.viewport.set([0,0,G.fbo.width,G.fbo.height]),v._renderTileClippingMasks(ue,re,!0),v.renderLayer(v,v.style.sourceCaches[ue.source],ue,re),ue.source&&(R.rttCoords[ue.source]=this._coordsDescendingInvStr[ue.source][R.tileID.key])}}return Zu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ll[c]}return!1}}const yc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Vh=f,Dl={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Yh,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},eh=O=>{O.touchstart=O.dragStart,O.touchmoveWindow=O.dragMove,O.touchend=O.dragEnd},th={showCompass:!0,showZoom:!0,visualizePitch:!1};class xA{constructor(l,c,v=!1){this.mousedown=F=>{this.startMouse(a.e({},F,{ctrlKey:!0,preventDefault:()=>F.preventDefault()}),X.mousePos(this.element,F)),X.addEventListener(window,"mousemove",this.mousemove),X.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=F=>{this.moveMouse(F,X.mousePos(this.element,F))},this.mouseup=F=>{this.mouseRotate.dragEnd(F),this.mousePitch&&this.mousePitch.dragEnd(F),this.offTemp()},this.touchstart=F=>{F.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=X.touchPos(this.element,F.targetTouches)[0],this.startTouch(F,this._startPos),X.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),X.addEventListener(window,"touchend",this.touchend))},this.touchmove=F=>{F.targetTouches.length!==1?this.reset():(this._lastPos=X.touchPos(this.element,F.targetTouches)[0],this.moveTouch(F,this._lastPos))},this.touchend=F=>{F.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const b=l.dragRotate._mouseRotate.getClickTolerance(),S=l.dragRotate._mousePitch.getClickTolerance();this.element=c,this.mouseRotate=Qh({clickTolerance:b,enable:!0}),this.touchRotate=(({enable:F,clickTolerance:R,bearingDegreesPerPixelMoved:G=.8})=>{const J=new Ou;return new mc({clickTolerance:R,move:(ue,re)=>({bearingDelta:(re.x-ue.x)*G}),moveStateManager:J,enable:F,assignEvents:eh})})({clickTolerance:b,enable:!0}),this.map=l,v&&(this.mousePitch=Km({clickTolerance:S,enable:!0}),this.touchPitch=(({enable:F,clickTolerance:R,pitchDegreesPerPixelMoved:G=-.5})=>{const J=new Ou;return new mc({clickTolerance:R,move:(ue,re)=>({pitchDelta:(re.y-ue.y)*G}),moveStateManager:J,enable:F,assignEvents:eh})})({clickTolerance:S,enable:!0})),X.addEventListener(c,"mousedown",this.mousedown),X.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),X.addEventListener(c,"touchcancel",this.reset)}startMouse(l,c){this.mouseRotate.dragStart(l,c),this.mousePitch&&this.mousePitch.dragStart(l,c),X.disableDrag()}startTouch(l,c){this.touchRotate.dragStart(l,c),this.touchPitch&&this.touchPitch.dragStart(l,c),X.disableDrag()}moveMouse(l,c){const v=this.map,{bearingDelta:b}=this.mouseRotate.dragMove(l,c)||{};if(b&&v.setBearing(v.getBearing()+b),this.mousePitch){const{pitchDelta:S}=this.mousePitch.dragMove(l,c)||{};S&&v.setPitch(v.getPitch()+S)}}moveTouch(l,c){const v=this.map,{bearingDelta:b}=this.touchRotate.dragMove(l,c)||{};if(b&&v.setBearing(v.getBearing()+b),this.touchPitch){const{pitchDelta:S}=this.touchPitch.dragMove(l,c)||{};S&&v.setPitch(v.getPitch()+S)}}off(){const l=this.element;X.removeEventListener(l,"mousedown",this.mousedown),X.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),X.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),X.removeEventListener(window,"touchend",this.touchend),X.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){X.enableDrag(),X.removeEventListener(window,"mousemove",this.mousemove),X.removeEventListener(window,"mouseup",this.mouseup),X.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),X.removeEventListener(window,"touchend",this.touchend)}}let qo;function Ra(O,l,c){const v=new a.N(O.lng,O.lat);if(O=new a.N(O.lng,O.lat),l){const b=new a.N(O.lng-360,O.lat),S=new a.N(O.lng+360,O.lat),F=c.locationToScreenPoint(O).distSqr(l);c.locationToScreenPoint(b).distSqr(l)<F?O=b:c.locationToScreenPoint(S).distSqr(l)<F&&(O=S)}for(;Math.abs(O.lng-c.center.lng)>180;){const b=c.locationToScreenPoint(O);if(b.x>=0&&b.y>=0&&b.x<=c.width&&b.y<=c.height)break;O.lng>c.center.lng?O.lng-=360:O.lng+=360}return O.lng!==v.lng&&c.isPointOnMapSurface(c.locationToScreenPoint(O))?O:v}const vc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jd(O,l,c){const v=O.classList;for(const b in vc)v.remove(`maplibregl-${c}-anchor-${b}`);v.add(`maplibregl-${c}-anchor-${l}`)}class Nd extends a.E{constructor(l){if(super(),this._onKeyPress=c=>{const v=c.code,b=c.charCode||c.keyCode;v!=="Space"&&v!=="Enter"&&b!==32&&b!==13||this.togglePopup()},this._onMapClick=c=>{const v=c.originalEvent.target,b=this._element;this._popup&&(v===b||b.contains(v))&&this.togglePopup()},this._update=c=>{var v;if(!this._map)return;const b=this._map.loaded()&&!this._map.isMoving();((c==null?void 0:c.type)==="terrain"||(c==null?void 0:c.type)==="render"&&!b)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Ra(this._lngLat,this._flatPos,this._map.transform):(v=this._lngLat)===null||v===void 0?void 0:v.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let F="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?F="rotateX(0deg)":this._pitchAlignment==="map"&&(F=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||c&&c.type!=="moveend"||(this._pos=this._pos.round()),X.setTransform(this._element,`${vc[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${F} ${S}`),H.frameAsync(new AbortController).then(()=>{this._updateOpacity(c&&c.type==="moveend")}).catch(()=>{})},this._onMove=c=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=c=>{this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._subpixelPositioning=l&&l.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(l==null?void 0:l.opacity,l==null?void 0:l.opacityWhenCovered),l&&l.element)this._element=l.element,this._offset=a.P.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=X.create("div");const c=X.createNS("http://www.w3.org/2000/svg","svg"),v=41,b=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${v}px`),c.setAttributeNS(null,"width",`${b}px`),c.setAttributeNS(null,"viewBox",`0 0 ${b} ${v}`);const S=X.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"stroke","none"),S.setAttributeNS(null,"stroke-width","1"),S.setAttributeNS(null,"fill","none"),S.setAttributeNS(null,"fill-rule","evenodd");const F=X.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill-rule","nonzero");const R=X.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"transform","translate(3.0, 29.0)"),R.setAttributeNS(null,"fill","#000000");const G=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ge of G){const gt=X.createNS("http://www.w3.org/2000/svg","ellipse");gt.setAttributeNS(null,"opacity","0.04"),gt.setAttributeNS(null,"cx","10.5"),gt.setAttributeNS(null,"cy","5.80029008"),gt.setAttributeNS(null,"rx",Ge.rx),gt.setAttributeNS(null,"ry",Ge.ry),R.appendChild(gt)}const J=X.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"fill",this._color);const ue=X.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),J.appendChild(ue);const re=X.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"opacity","0.25"),re.setAttributeNS(null,"fill","#000000");const xe=X.createNS("http://www.w3.org/2000/svg","path");xe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),re.appendChild(xe);const Be=X.createNS("http://www.w3.org/2000/svg","g");Be.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Be.setAttributeNS(null,"fill","#FFFFFF");const De=X.createNS("http://www.w3.org/2000/svg","g");De.setAttributeNS(null,"transform","translate(8.0, 8.0)");const tt=X.createNS("http://www.w3.org/2000/svg","circle");tt.setAttributeNS(null,"fill","#000000"),tt.setAttributeNS(null,"opacity","0.25"),tt.setAttributeNS(null,"cx","5.5"),tt.setAttributeNS(null,"cy","5.5"),tt.setAttributeNS(null,"r","5.4999962");const Xe=X.createNS("http://www.w3.org/2000/svg","circle");Xe.setAttributeNS(null,"fill","#FFFFFF"),Xe.setAttributeNS(null,"cx","5.5"),Xe.setAttributeNS(null,"cy","5.5"),Xe.setAttributeNS(null,"r","5.4999962"),De.appendChild(tt),De.appendChild(Xe),F.appendChild(R),F.appendChild(J),F.appendChild(re),F.appendChild(Be),F.appendChild(De),c.appendChild(F),c.setAttributeNS(null,"height",v*this._scale+"px"),c.setAttributeNS(null,"width",b*this._scale+"px"),this._element.appendChild(c),this._offset=a.P.convert(l&&l.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),jd(this._element,this._anchor,"marker"),l&&l.className)for(const c of l.className.split(" "))this._element.classList.add(c);this._popup=null}addTo(l){return this.remove(),this._map=l,this._element.setAttribute("aria-label",l._getUIString("Marker.Title")),l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("terrain",this._update),l.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),X.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.N.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const b=Math.abs(13.5)/Math.SQRT2;l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(l){return this._subpixelPositioning=l,this}getPopup(){return this._popup}togglePopup(){const l=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:l?(l.isOpen()?l.remove():(l.setLngLat(this._lngLat),l.addTo(this._map)),this):this}_updateOpacity(l=!1){var c,v;if(!(!((c=this._map)===null||c===void 0)&&c.terrain)){const re=this._map.transform.isLocationOccluded(this._lngLat)?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==re&&(this._element.style.opacity=re))}if(l)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const b=this._map,S=b.terrain.depthAtPoint(this._pos),F=b.terrain.getElevationForLngLatZoom(this._lngLat,b.transform.tileZoom);if(b.transform.lngLatToCameraDepth(this._lngLat,F)-S<.006)return void(this._element.style.opacity=this._opacity);const R=-this._offset.y/b.transform.pixelsPerMeter,G=Math.sin(b.getPitch()*Math.PI/180)*R,J=b.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),ue=b.transform.lngLatToCameraDepth(this._lngLat,F+G)-J>.006;!((v=this._popup)===null||v===void 0)&&v.isOpen()&&ue&&this._popup.remove(),this._element.style.opacity=ue?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(l){return this._offset=a.P.convert(l),this._update(),this}addClassName(l){this._element.classList.add(l)}removeClassName(l){this._element.classList.remove(l)}toggleClassName(l){return this._element.classList.toggle(l)}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(l,c){return l===void 0&&c===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),l!==void 0&&(this._opacity=l),c!==void 0&&(this._opacityWhenCovered=c),this._map&&this._updateOpacity(!0),this}}const nh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let wA=0,rh=!1;const ih={maxWidth:100,unit:"metric"};function Wd(O,l,c){const v=c&&c.maxWidth||100,b=O._container.clientHeight/2,S=O.unproject([0,b]),F=O.unproject([v,b]),R=S.distanceTo(F);if(c&&c.unit==="imperial"){const G=3.2808*R;G>5280?Ju(l,v,G/5280,O._getUIString("ScaleControl.Miles")):Ju(l,v,G,O._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Ju(l,v,R/1852,O._getUIString("ScaleControl.NauticalMiles")):R>=1e3?Ju(l,v,R/1e3,O._getUIString("ScaleControl.Kilometers")):Ju(l,v,R,O._getUIString("ScaleControl.Meters"))}function Ju(O,l,c,v){const b=function(S){const F=Math.pow(10,`${Math.floor(S)}`.length-1);let R=S/F;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(G){const J=Math.pow(10,Math.ceil(-Math.log(G)/Math.LN10));return Math.round(G*J)/J}(R),F*R}(c);O.style.width=l*(b/c)+"px",O.innerHTML=`${b}&nbsp;${v}`}const Np={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},$A=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Lf(O){if(O){if(typeof O=="number"){const l=Math.round(Math.abs(O)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,O),"top-left":new a.P(l,l),"top-right":new a.P(-l,l),bottom:new a.P(0,-O),"bottom-left":new a.P(l,-l),"bottom-right":new a.P(-l,-l),left:new a.P(O,0),right:new a.P(-O,0)}}if(O instanceof a.P||Array.isArray(O)){const l=a.P.convert(O);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:a.P.convert(O.center||[0,0]),top:a.P.convert(O.top||[0,0]),"top-left":a.P.convert(O["top-left"]||[0,0]),"top-right":a.P.convert(O["top-right"]||[0,0]),bottom:a.P.convert(O.bottom||[0,0]),"bottom-left":a.P.convert(O["bottom-left"]||[0,0]),"bottom-right":a.P.convert(O["bottom-right"]||[0,0]),left:a.P.convert(O.left||[0,0]),right:a.P.convert(O.right||[0,0])}}return Lf(new a.P(0,0))}const Hh=f;s.AJAXError=a.bA,s.Evented=a.E,s.LngLat=a.N,s.MercatorCoordinate=a.Y,s.Point=a.P,s.addProtocol=a.bB,s.config=a.a,s.removeProtocol=a.bC,s.AttributionControl=Ud,s.BoxZoomHandler=Gh,s.CanvasSource=Tt,s.CooperativeGesturesHandler=ea,s.DoubleClickZoomHandler=$h,s.DragPanHandler=il,s.DragRotateHandler=QA,s.EdgeInsets=Wi,s.FullscreenControl=class extends a.E{constructor(O={}){super(),this._onFullscreenChange=()=>{var l;let c=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((l=c==null?void 0:c.shadowRoot)===null||l===void 0)&&l.fullscreenElement;)c=c.shadowRoot.fullscreenElement;c===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=X.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){X.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=X.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);X.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=oe,s.GeolocateControl=class extends a.E{constructor(O){super(),this._onSuccess=l=>{if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",l)),this._finish()}},this._updateCamera=l=>{const c=new a.N(l.coords.longitude,l.coords.latitude),v=l.coords.accuracy,b=this._map.getBearing(),S=a.e({bearing:b},this.options.fitBoundsOptions),F=fr.fromLngLat(c,v);this._map.fitBounds(F,S,{geolocateSource:!0})},this._updateMarker=l=>{if(l){const c=new a.N(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=l=>{if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&rh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",l)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=X.create("button","maplibregl-ctrl-geolocate",this._container),X.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=l=>{if(this._map){if(l===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=X.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Nd({element:this._dotElement}),this._circleElement=X.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Nd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")),this.fire(new a.k("userlocationlostfocus")))})}},this.options=a.e({},nh,O)}onAdd(O){return this._map=O,this._container=X.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return a._(this,arguments,void 0,function*(l=!1){if(qo!==void 0&&!l)return qo;if(window.navigator.permissions===void 0)return qo=!!window.navigator.geolocation,qo;try{qo=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{qo=!!window.navigator.geolocation}return qo})}().then(l=>this._finishSetupUI(l)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),X.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,wA=0,rh=!1}_isOutOfMapMaxBounds(O){const l=this._map.getMaxBounds(),c=O.coords;return l&&(c.longitude<l.getWest()||c.longitude>l.getEast()||c.latitude<l.getSouth()||c.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const O=this._map.getBounds(),l=O.getSouthEast(),c=O.getNorthEast(),v=l.distanceTo(c),b=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${b}px`,this._circleElement.style.height=`${b}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":wA--,rh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart")),this.fire(new a.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),wA++,wA>1?(O={maximumAge:6e5,timeout:0},rh=!0):(O=this.options.positionOptions,rh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.Hash=Ld,s.ImageSource=Re,s.KeyboardHandler=vr,s.LngLatBounds=fr,s.LogoControl=bA,s.Map=class extends zp{constructor(O){a.by.mark(a.bz.create);const l=Object.assign(Object.assign({},Dl),O);if(l.minZoom!=null&&l.maxZoom!=null&&l.minZoom>l.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(l.minPitch!=null&&l.maxPitch!=null&&l.minPitch>l.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(l.minPitch!=null&&l.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(l.maxPitch!=null&&l.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");const c=new Zo,v=new fl;if(l.minZoom!==void 0&&c.setMinZoom(l.minZoom),l.maxZoom!==void 0&&c.setMaxZoom(l.maxZoom),l.minPitch!==void 0&&c.setMinPitch(l.minPitch),l.maxPitch!==void 0&&c.setMaxPitch(l.maxPitch),l.renderWorldCopies!==void 0&&c.setRenderWorldCopies(l.renderWorldCopies),super(c,v,{bearingSnap:l.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new nu,this._controls=[],this._mapId=a.a1(),this._contextLost=b=>{b.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.k("webglcontextlost",{originalEvent:b}))},this._contextRestored=b=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:b}))},this._onMapScroll=b=>{if(b.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=l.interactive,this._maxTileCacheSize=l.maxTileCacheSize,this._maxTileCacheZoomLevels=l.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=l.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=l.preserveDrawingBuffer===!0,this._antialias=l.antialias===!0,this._trackResize=l.trackResize===!0,this._bearingSnap=l.bearingSnap,this._refreshExpiredTiles=l.refreshExpiredTiles===!0,this._fadeDuration=l.fadeDuration,this._crossSourceCollisions=l.crossSourceCollisions===!0,this._collectResourceTiming=l.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},yc),l.locale),this._clickTolerance=l.clickTolerance,this._overridePixelRatio=l.pixelRatio,this._maxCanvasSize=l.maxCanvasSize,this.transformCameraUpdate=l.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=l.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=_e.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ot(l.transformRequest),typeof l.container=="string"){if(this._container=document.getElementById(l.container),!this._container)throw new Error(`Container '${l.container}' not found.`)}else{if(!(l.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=l.container}if(l.maxBounds&&this.setMaxBounds(l.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let b=!1;const S=Vc(F=>{this._trackResize&&!this._removed&&(this.resize(F),this.redraw())},50);this._resizeObserver=new ResizeObserver(F=>{b?S(F):b=!0}),this._resizeObserver.observe(this._container)}this.handlers=new ol(this,l),this._hash=l.hash&&new Ld(typeof l.hash=="string"&&l.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:l.center,zoom:l.zoom,bearing:l.bearing,pitch:l.pitch}),l.bounds&&(this.resize(),this.fitBounds(l.bounds,a.e({},l.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=l.localIdeographFontFamily,this._validateStyle=l.validateStyle,l.style&&this.setStyle(l.style,{localIdeographFontFamily:l.localIdeographFontFamily}),l.attributionControl&&this.addControl(new Ud(typeof l.attributionControl=="boolean"?void 0:l.attributionControl)),l.maplibreLogo&&this.addControl(new bA,l.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",b=>{this._update(b.dataType==="style"),this.fire(new a.k(`${b.dataType}data`,b))}),this.on("dataloading",b=>{this.fire(new a.k(`${b.dataType}dataloading`,b))}),this.on("dataabort",b=>{this.fire(new a.k("sourcedataabort",b))})}_getMapId(){return this._mapId}addControl(O,l){if(l===void 0&&(l=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=O.onAdd(this);this._controls.push(O);const v=this._controlPositions[l];return l.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(O);return l>-1&&this._controls.splice(l,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}calculateCameraOptionsFromTo(O,l,c,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(O,l,c,v)}resize(O){var l;const c=this._containerDimensions(),v=c[0],b=c[1],S=this._getClampedPixelRatio(v,b);if(this._resizeCanvas(v,b,S),this.painter.resize(v,b,S),this.painter.overLimit()){const R=this.painter.context.gl;this._maxCanvasSize=[R.drawingBufferWidth,R.drawingBufferHeight];const G=this._getClampedPixelRatio(v,b);this._resizeCanvas(v,b,G),this.painter.resize(v,b,G)}this.transform.resize(v,b),(l=this._requestedCameraState)===null||l===void 0||l.resize(v,b);const F=!this._moving;return F&&(this.stop(),this.fire(new a.k("movestart",O)).fire(new a.k("move",O))),this.fire(new a.k("resize",O)),F&&this.fire(new a.k("moveend",O)),this}_getClampedPixelRatio(O,l){const{0:c,1:v}=this._maxCanvasSize,b=this.getPixelRatio(),S=O*b,F=l*b;return Math.min(S>c?c/S:1,F>v?v/F:1)*b}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(fr.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.setMinZoom(O),this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.setMaxZoom(O),this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.setMinPitch(O),this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(O>=this.transform.minPitch)return this.transform.setMaxPitch(O),this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.setRenderWorldCopies(O),this._update()}project(O){return this.transform.locationToScreenPoint(a.N.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.screenPointToLocation(a.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,l,c){if(O==="mouseenter"||O==="mouseover"){let v=!1;return{layers:l,listener:c,delegates:{mousemove:S=>{const F=l.filter(G=>this.getLayer(G)),R=F.length!==0?this.queryRenderedFeatures(S.point,{layers:F}):[];R.length?v||(v=!0,c.call(this,new fs(O,this,S.originalEvent,{features:R}))):v=!1},mouseout:()=>{v=!1}}}}if(O==="mouseleave"||O==="mouseout"){let v=!1;return{layers:l,listener:c,delegates:{mousemove:F=>{const R=l.filter(G=>this.getLayer(G));(R.length!==0?this.queryRenderedFeatures(F.point,{layers:R}):[]).length?v=!0:v&&(v=!1,c.call(this,new fs(O,this,F.originalEvent)))},mouseout:F=>{v&&(v=!1,c.call(this,new fs(O,this,F.originalEvent)))}}}}{const v=b=>{const S=l.filter(R=>this.getLayer(R)),F=S.length!==0?this.queryRenderedFeatures(b.point,{layers:S}):[];F.length&&(b.features=F,c.call(this,b),delete b.features)};return{layers:l,listener:c,delegates:{[O]:v}}}}_saveDelegatedListener(O,l){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(l)}_removeDelegatedListener(O,l,c){if(!this._delegatedListeners||!this._delegatedListeners[O])return;const v=this._delegatedListeners[O];for(let b=0;b<v.length;b++){const S=v[b];if(S.listener===c&&S.layers.length===l.length&&S.layers.every(F=>l.includes(F))){for(const F in S.delegates)this.off(F,S.delegates[F]);return void v.splice(b,1)}}}on(O,l,c){if(c===void 0)return super.on(O,l);const v=this._createDelegatedListener(O,typeof l=="string"?[l]:l,c);this._saveDelegatedListener(O,v);for(const b in v.delegates)this.on(b,v.delegates[b]);return this}once(O,l,c){if(c===void 0)return super.once(O,l);const v=typeof l=="string"?[l]:l,b=this._createDelegatedListener(O,v,c);for(const S in b.delegates){const F=b.delegates[S];b.delegates[S]=(...R)=>{this._removeDelegatedListener(O,v,c),F(...R)}}this._saveDelegatedListener(O,b);for(const S in b.delegates)this.once(S,b.delegates[S]);return this}off(O,l,c){return c===void 0?super.off(O,l):(this._removeDelegatedListener(O,typeof l=="string"?[l]:l,c),this)}queryRenderedFeatures(O,l){if(!this.style)return[];let c;const v=O instanceof a.P||Array.isArray(O),b=v?O:[[0,0],[this.transform.width,this.transform.height]];if(l=l||(v?{}:O)||{},b instanceof a.P||typeof b[0]=="number")c=[a.P.convert(b)];else{const S=a.P.convert(b[0]),F=a.P.convert(b[1]);c=[S,new a.P(F.x,S.y),F,new a.P(S.x,F.y),S]}return this.style.queryRenderedFeatures(c,l,this.transform)}querySourceFeatures(O,l){return this.style.querySourceFeatures(O,l)}setStyle(O,l){return(l=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(O,l))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const l=this._locale[O];if(l==null)throw new Error(`Missing UI string '${O}'`);return l}_updateStyle(O,l){var c,v;if(l.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(O,l));const b=this.style&&l.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new jA(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,l,b):this.style.loadJSON(O,l,b),this):((v=(c=this.style)===null||c===void 0?void 0:c.projection)===null||v===void 0||v.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new jA(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,l){if(typeof O=="string"){const c=this._requestManager.transformRequest(O,"Style");a.h(c,new AbortController).then(v=>{this._updateDiff(v.data,l)}).catch(v=>{v&&this.fire(new a.j(v))})}else typeof O=="object"&&this._updateDiff(O,l)}_updateDiff(O,l){try{this.style.setState(O,l)&&this._update(!0)}catch(c){a.w(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(O,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(O,l){return this._lazyInitEmptyStyle(),this.style.addSource(O,l),this._update(!0)}isSourceLoaded(O){const l=this.style&&this.style.sourceCaches[O];if(l!==void 0)return l.loaded();this.fire(new a.j(new Error(`There is no source with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const l=this.style.sourceCaches[O.source];if(!l)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);this.terrain===null&&l.reload();for(const c in this.style._layers){const v=this.style._layers[c];v.type==="hillshade"&&v.source===O.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new qh(this.painter,l,O),this.painter.renderToTexture=new Fa(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=c=>{c.dataType==="style"?this.terrain.sourceCache.freeRtt():c.dataType==="source"&&c.tile&&(c.sourceId!==O.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),this.terrain.sourceCache.freeRtt(c.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this.transform.setElevation(0);return this.fire(new a.k("terrain",{terrain:O})),this}getTerrain(){var O,l;return(l=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&l!==void 0?l:null}areTilesLoaded(){const O=this.style&&this.style.sourceCaches;for(const l in O){const c=O[l]._tiles;for(const v in c){const b=c[v];if(b.state!=="loaded"&&b.state!=="errored")return!1}}return!0}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}addImage(O,l,c={}){const{pixelRatio:v=1,sdf:b=!1,stretchX:S,stretchY:F,content:R,textFitWidth:G,textFitHeight:J}=c;if(this._lazyInitEmptyStyle(),!(l instanceof HTMLImageElement||a.b(l))){if(l.width===void 0||l.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ue,height:re,data:xe}=l,Be=l;return this.style.addImage(O,{data:new a.R({width:ue,height:re},new Uint8Array(xe)),pixelRatio:v,stretchX:S,stretchY:F,content:R,textFitWidth:G,textFitHeight:J,sdf:b,version:0,userImage:Be}),Be.onAdd&&Be.onAdd(this,O),this}}{const{width:ue,height:re,data:xe}=H.getImageData(l);this.style.addImage(O,{data:new a.R({width:ue,height:re},xe),pixelRatio:v,stretchX:S,stretchY:F,content:R,textFitWidth:G,textFitHeight:J,sdf:b,version:0})}}updateImage(O,l){const c=this.style.getImage(O);if(!c)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=l instanceof HTMLImageElement||a.b(l)?H.getImageData(l):l,{width:b,height:S,data:F}=v;if(b===void 0||S===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(b!==c.data.width||S!==c.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const R=!(l instanceof HTMLImageElement||a.b(l));return c.data.replace(F,R),this.style.updateImage(O,c),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O){return _e.getImage(this._requestManager.transformRequest(O,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(O,l){return this._lazyInitEmptyStyle(),this.style.addLayer(O,l),this._update(!0)}moveLayer(O,l){return this.style.moveLayer(O,l),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,l,c){return this.style.setLayerZoomRange(O,l,c),this._update(!0)}setFilter(O,l,c={}){return this.style.setFilter(O,l,c),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,l,c,v={}){return this.style.setPaintProperty(O,l,c,v),this._update(!0)}getPaintProperty(O,l){return this.style.getPaintProperty(O,l)}setLayoutProperty(O,l,c,v={}){return this.style.setLayoutProperty(O,l,c,v),this._update(!0)}getLayoutProperty(O,l){return this.style.getLayoutProperty(O,l)}setGlyphs(O,l={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,l),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,l,c={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,l,c,v=>{v||this._update(!0)}),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,l={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,l,c=>{c||this._update(!0)}),this}setLight(O,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,l),this._update(!0)}getLight(){return this.style.getLight()}setSky(O,l={}){return this._lazyInitEmptyStyle(),this.style.setSky(O,l),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(O,l){return this.style.setFeatureState(O,l),this._update()}removeFeatureState(O,l){return this.style.removeFeatureState(O,l),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,l=0;return this._container&&(O=this._container.clientWidth||400,l=this._container.clientHeight||300),[O,l]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const l=this._canvasContainer=X.create("div","maplibregl-canvas-container",O);this._interactive&&l.classList.add("maplibregl-interactive"),this._canvas=X.create("canvas","maplibregl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const c=this._containerDimensions(),v=this._getClampedPixelRatio(c[0],c[1]);this._resizeCanvas(c[0],c[1],v);const b=this._controlContainer=X.create("div","maplibregl-control-container",O),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(F=>{S[F]=X.create("div",`maplibregl-ctrl-${F} `,b)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(O,l,c){this._canvas.width=Math.floor(c*O),this._canvas.height=Math.floor(c*l),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const O={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let l=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{l={requestedAttributes:O},v&&(l.statusMessage=v.statusMessage,l.type=v.type)},{once:!0});const c=this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O);if(!c){const v="Failed to initialize WebGL";throw l?(l.message=v,new Error(JSON.stringify(l))):new Error(v)}this.painter=new rl(c,this.transform),Me.testSupport(c)}migrateProjection(O,l){super.migrateProjection(O,l),this.painter.transform=O,this.fire(new a.k("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){const l=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let c=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const S=this.transform.zoom,F=H.now();this.style.zoomHistory.update(S,F);const R=new a.z(S,{now:F,fadeDuration:l,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),G=R.crossFadingFactor();G===1&&G===this._crossFadingFactor||(c=!0,this._crossFadingFactor=G),this.style.update(R)}const v=this.transform.newFrameUpdate();this.style&&(this._sourcesDirty||v.forceSourceUpdate)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._elevationFreeze||this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,l,this._crossSourceCollisions,v.forcePlacementUpdate),v.fireProjectionEvent&&this.fire(new a.k("projectiontransition",v.fireProjectionEvent)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:l,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.by.mark(a.bz.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||c)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const b=this._sourcesDirty||this._styleDirty||this._placementDirty||this.style.projection.isRenderingDirty()||this.transform.isRenderingDirty();return b||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||b||(this._fullyLoaded=!0,a.by.mark(a.bz.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),_e.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const l=this.painter.context.gl.getExtension("WEBGL_lose_context");l!=null&&l.loseContext&&l.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),X.remove(this._canvasContainer),X.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),a.by.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,H.frameAsync(this._frameRequest).then(O=>{a.by.frame(O),this._frameRequest=null,this._render(O)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return Vh}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(O){return this._lazyInitEmptyStyle(),this.style.setProjection(O),this._update(!0)}},s.MapMouseEvent=fs,s.MapTouchEvent=Wh,s.MapWheelEvent=ml,s.Marker=Nd,s.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const l=this._map.getZoom(),c=l===this._map.getMaxZoom(),v=l===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=l},this._setButtonTitle=(l,c)=>{const v=this._map._getUIString(`NavigationControl.${c}`);l.title=v,l.setAttribute("aria-label",v)},this.options=a.e({},th,O),this._container=X.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),X.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),X.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=X.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xA(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){X.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,l){const c=X.create("button",O,this._container);return c.type="button",c.addEventListener("click",l),c}},s.Popup=class extends a.E{constructor(O){super(),this.remove=()=>(this._content&&X.remove(this._content),this._container&&(X.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.k("close"))),this),this._onMouseUp=l=>{this._update(l.point)},this._onMouseMove=l=>{this._update(l.point)},this._onDrag=l=>{this._update(l.point)},this._update=l=>{var c;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=X.create("div","maplibregl-popup",this._map.getContainer()),this._tip=X.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const R of this.options.className.split(" "))this._container.classList.add(R);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Ra(this._lngLat,this._flatPos,this._map.transform):(c=this._lngLat)===null||c===void 0?void 0:c.wrap(),this._trackPointer&&!l)return;const v=this._flatPos=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&l?l:this._map.transform.locationToScreenPoint(this._lngLat));let b=this.options.anchor;const S=Lf(this.options.offset);if(!b){const R=this._container.offsetWidth,G=this._container.offsetHeight;let J;J=v.y+S.bottom.y<G?["top"]:v.y>this._map.transform.height-G?["bottom"]:[],v.x<R/2?J.push("left"):v.x>this._map.transform.width-R/2&&J.push("right"),b=J.length===0?"bottom":J.join("-")}let F=v.add(S[b]);this.options.subpixelPositioning||(F=F.round()),X.setTransform(this._container,`${vc[b]} translate(${F.x}px,${F.y}px)`),jd(this._container,b,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Np),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=a.N.convert(O),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const l=document.createDocumentFragment(),c=document.createElement("body");let v;for(c.innerHTML=O;v=c.firstChild,v;)l.appendChild(v);return this.setDOMContent(l)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=X.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){return this._container&&this._container.classList.add(O),this}removeClassName(O){return this._container&&this._container.classList.remove(O),this}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}setSubpixelPositioning(O){this.options.subpixelPositioning=O}_createCloseButton(){this.options.closeButton&&(this._closeButton=X.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector($A);O&&O.focus()}},s.RasterDEMTileSource=Q,s.RasterTileSource=Pe,s.ScaleControl=class{constructor(O){this._onMove=()=>{Wd(this._map,this._container,this.options)},this.setUnit=l=>{this.options.unit=l,Wd(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},ih),O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=X.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){X.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=Pf,s.Style=jA,s.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=O}onAdd(O){return this._map=O,this._container=X.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=X.create("button","maplibregl-ctrl-terrain",this._container),X.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){X.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=Os,s.TwoFingersTouchRotateHandler=lo,s.TwoFingersTouchZoomHandler=Tf,s.TwoFingersTouchZoomRotateHandler=gc,s.VectorTileSource=fi,s.VideoSource=ut,s.addSourceType=(O,l)=>a._(void 0,void 0,void 0,function*(){if(ar(O))throw new Error(`A source type called "${O}" already exists.`);((c,v)=>{jt[c]=v})(O,l)}),s.clearPrewarmedResources=function(){const O=Ht;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(st),Ht=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=yr,s.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return p().getRTLTextPluginStatus()},s.getVersion=function(){return Hh},s.getWorkerCount=function(){return lt.workerCount},s.getWorkerUrl=function(){return a.a.WORKER_URL},s.importScriptInWorkers=function(O){return _n().broadcast("IS",O)},s.prewarm=function(){Rn().acquire(st)},s.setMaxParallelImageRequests=function(O){a.a.MAX_PARALLEL_IMAGE_REQUESTS=O},s.setRTLTextPlugin=function(O,l){return p().setRTLTextPlugin(O,l)},s.setWorkerCount=function(O){lt.workerCount=O},s.setWorkerUrl=function(O){a.a.WORKER_URL=O}});var o=t;return o})})(Xj);var xre=Xj.exports;const mC=wa(xre);var gC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function eN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J4={exports:{}};J4.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",B="[object Date]",I="[object Error]",K="[object Function]",L="[object GeneratorFunction]",Y="[object Map]",ee="[object Number]",V="[object Null]",W="[object Object]",ne="[object Promise]",ce="[object Proxy]",ge="[object RegExp]",fe="[object Set]",H="[object String]",X="[object Symbol]",Me="[object Undefined]",be="[object WeakMap]",Fe="[object ArrayBuffer]",Ue="[object DataView]",me="[object Float32Array]",Ve="[object Float64Array]",_e="[object Int8Array]",Ot="[object Int16Array]",St="[object Int32Array]",_t="[object Uint8Array]",ft="[object Uint8ClampedArray]",$e="[object Uint16Array]",et="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,en=/^\[object .+?Constructor\]$/,nn=/^(?:0|[1-9]\d*)$/,Et={};Et[me]=Et[Ve]=Et[_e]=Et[Ot]=Et[St]=Et[_t]=Et[ft]=Et[$e]=Et[et]=!0,Et[a]=Et[f]=Et[Fe]=Et[C]=Et[Ue]=Et[B]=Et[I]=Et[K]=Et[Y]=Et[ee]=Et[W]=Et[ge]=Et[fe]=Et[H]=Et[be]=!1;var Vt=typeof gC=="object"&&gC&&gC.Object===Object&&gC,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Le=Vt||Jt||Function("return this")(),ye=e&&!e.nodeType&&e,Te=ye&&!0&&n&&!n.nodeType&&n,Qe=Te&&Te.exports===ye,st=Qe&&Vt.process,lt=function(){try{return st&&st.binding&&st.binding("util")}catch{}}(),Kt=lt&&lt.isTypedArray;function Ht(j,le){for(var We=-1,xt=j==null?0:j.length,Hn=0,bn=[];++We<xt;){var kr=j[We];le(kr,We,j)&&(bn[Hn++]=kr)}return bn}function Wt(j,le){for(var We=-1,xt=le.length,Hn=j.length;++We<xt;)j[Hn+We]=le[We];return j}function Rn(j,le){for(var We=-1,xt=j==null?0:j.length;++We<xt;)if(le(j[We],We,j))return!0;return!1}function nr(j,le){for(var We=-1,xt=Array(j);++We<j;)xt[We]=le(We);return xt}function _n(j){return function(le){return j(le)}}function tr(j,le){return j.has(le)}function ur(j,le){return j==null?void 0:j[le]}function _r(j){var le=-1,We=Array(j.size);return j.forEach(function(xt,Hn){We[++le]=[Hn,xt]}),We}function Sr(j,le){return function(We){return j(le(We))}}function fr(j){var le=-1,We=Array(j.size);return j.forEach(function(xt){We[++le]=xt}),We}var pr=Array.prototype,fi=Function.prototype,Pe=Object.prototype,Q=Le["__core-js_shared__"],oe=fi.toString,Re=Pe.hasOwnProperty,ut=function(){var j=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),Tt=Pe.toString,jt=RegExp("^"+oe.call(Re).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ar=Qe?Le.Buffer:void 0,ht=Le.Symbol,Ee=Le.Uint8Array,ve=Pe.propertyIsEnumerable,p=pr.splice,Ke=ht?ht.toStringTag:void 0,ze=Object.getOwnPropertySymbols,it=ar?ar.isBuffer:void 0,dt=Sr(Object.keys,Object),ot=no(Le,"DataView"),Ft=no(Le,"Map"),rt=no(Le,"Promise"),mt=no(Le,"Set"),Bt=no(Le,"WeakMap"),cn=no(Object,"create"),mn=Bo(ot),fn=Bo(Ft),Cr=Bo(rt),rr=Bo(mt),Mr=Bo(Bt),oi=ht?ht.prototype:void 0,$r=oi?oi.valueOf:void 0;function Un(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function On(){this.__data__=cn?cn(null):{},this.size=0}function Er(j){var le=this.has(j)&&delete this.__data__[j];return this.size-=le?1:0,le}function ti(j){var le=this.__data__;if(cn){var We=le[j];return We===r?void 0:We}return Re.call(le,j)?le[j]:void 0}function ji(j){var le=this.__data__;return cn?le[j]!==void 0:Re.call(le,j)}function ei(j,le){var We=this.__data__;return this.size+=this.has(j)?0:1,We[j]=cn&&le===void 0?r:le,this}Un.prototype.clear=On,Un.prototype.delete=Er,Un.prototype.get=ti,Un.prototype.has=ji,Un.prototype.set=ei;function Wr(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Ni(){this.__data__=[],this.size=0}function Ko(j){var le=this.__data__,We=En(le,j);if(We<0)return!1;var xt=le.length-1;return We==xt?le.pop():p.call(le,We,1),--this.size,!0}function aa(j){var le=this.__data__,We=En(le,j);return We<0?void 0:le[We][1]}function yo(j){return En(this.__data__,j)>-1}function qa(j,le){var We=this.__data__,xt=En(We,j);return xt<0?(++this.size,We.push([j,le])):We[xt][1]=le,this}Wr.prototype.clear=Ni,Wr.prototype.delete=Ko,Wr.prototype.get=aa,Wr.prototype.has=yo,Wr.prototype.set=qa;function Wi(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Ho(){this.size=0,this.__data__={hash:new Un,map:new(Ft||Wr),string:new Un}}function Ma(j){var le=No(this,j).delete(j);return this.size-=le?1:0,le}function Gi(j){return No(this,j).get(j)}function sa(j){return No(this,j).has(j)}function Va(j,le){var We=No(this,j),xt=We.size;return We.set(j,le),this.size+=We.size==xt?0:1,this}Wi.prototype.clear=Ho,Wi.prototype.delete=Ma,Wi.prototype.get=Gi,Wi.prototype.has=sa,Wi.prototype.set=Va;function ci(j){var le=-1,We=j==null?0:j.length;for(this.__data__=new Wi;++le<We;)this.add(j[le])}function er(j){return this.__data__.set(j,r),this}function jo(j){return this.__data__.has(j)}ci.prototype.add=ci.prototype.push=er,ci.prototype.has=jo;function co(j){var le=this.__data__=new Wr(j);this.size=le.size}function Qi(){this.__data__=new Wr,this.size=0}function Oe(j){var le=this.__data__,We=le.delete(j);return this.size=le.size,We}function Je(j){return this.__data__.get(j)}function rn(j){return this.__data__.has(j)}function pn(j,le){var We=this.__data__;if(We instanceof Wr){var xt=We.__data__;if(!Ft||xt.length<t-1)return xt.push([j,le]),this.size=++We.size,this;We=this.__data__=new Wi(xt)}return We.set(j,le),this.size=We.size,this}co.prototype.clear=Qi,co.prototype.delete=Oe,co.prototype.get=Je,co.prototype.has=rn,co.prototype.set=pn;function Pt(j,le){var We=Za(j),xt=!We&&yi(j),Hn=!We&&!xt&&Xa(j),bn=!We&&!xt&&!Hn&&Us(j),kr=We||xt||Hn||bn,Ur=kr?nr(j.length,String):[],yr=Ur.length;for(var Tr in j)Re.call(j,Tr)&&!(kr&&(Tr=="length"||Hn&&(Tr=="offset"||Tr=="parent")||bn&&(Tr=="buffer"||Tr=="byteLength"||Tr=="byteOffset")||cA(Tr,yr)))&&Ur.push(Tr);return Ur}function En(j,le){for(var We=j.length;We--;)if(Io(j[We][0],le))return We;return-1}function Hr(j,le,We){var xt=le(j);return Za(j)?xt:Wt(xt,We(j))}function Yr(j){return j==null?j===void 0?Me:V:Ke&&Ke in Object(j)?Rs(j):hA(j)}function ni(j){return Zo(j)&&Yr(j)==a}function Sa(j,le,We,xt,Hn){return j===le?!0:j==null||le==null||!Zo(j)&&!Zo(le)?j!==j&&le!==le:la(j,le,We,xt,Sa,Hn)}function la(j,le,We,xt,Hn,bn){var kr=Za(j),Ur=Za(le),yr=kr?f:Ea(j),Tr=Ur?f:Ea(le);yr=yr==a?W:yr,Tr=Tr==a?W:Tr;var Di=yr==W,ro=Tr==W,vi=yr==Tr;if(vi&&Xa(j)){if(!Xa(le))return!1;kr=!0,Di=!1}if(vi&&!Di)return bn||(bn=new co),kr||Us(j)?Hi(j,le,We,xt,Hn,bn):Ha(j,le,yr,We,xt,Hn,bn);if(!(We&i)){var Xr=Di&&Re.call(j,"__wrapped__"),ki=ro&&Re.call(le,"__wrapped__");if(Xr||ki){var pi=Xr?j.value():j,$i=ki?le.value():le;return bn||(bn=new co),Hn(pi,$i,We,xt,bn)}}return vi?(bn||(bn=new co),dl(j,le,We,xt,Hn,bn)):!1}function mr(j){if(!Js(j)||gu(j))return!1;var le=ql(j)?jt:en;return le.test(Bo(j))}function Fs(j){return Zo(j)&&Vl(j.length)&&!!Et[Yr(j)]}function Ms(j){if(!zu(j))return dt(j);var le=[];for(var We in Object(j))Re.call(j,We)&&We!="constructor"&&le.push(We);return le}function Hi(j,le,We,xt,Hn,bn){var kr=We&i,Ur=j.length,yr=le.length;if(Ur!=yr&&!(kr&&yr>Ur))return!1;var Tr=bn.get(j);if(Tr&&bn.get(le))return Tr==le;var Di=-1,ro=!0,vi=We&o?new ci:void 0;for(bn.set(j,le),bn.set(le,j);++Di<Ur;){var Xr=j[Di],ki=le[Di];if(xt)var pi=kr?xt(ki,Xr,Di,le,j,bn):xt(Xr,ki,Di,j,le,bn);if(pi!==void 0){if(pi)continue;ro=!1;break}if(vi){if(!Rn(le,function($i,La){if(!tr(vi,La)&&(Xr===$i||Hn(Xr,$i,We,xt,bn)))return vi.push(La)})){ro=!1;break}}else if(!(Xr===ki||Hn(Xr,ki,We,xt,bn))){ro=!1;break}}return bn.delete(j),bn.delete(le),ro}function Ha(j,le,We,xt,Hn,bn,kr){switch(We){case Ue:if(j.byteLength!=le.byteLength||j.byteOffset!=le.byteOffset)return!1;j=j.buffer,le=le.buffer;case Fe:return!(j.byteLength!=le.byteLength||!bn(new Ee(j),new Ee(le)));case C:case B:case ee:return Io(+j,+le);case I:return j.name==le.name&&j.message==le.message;case ge:case H:return j==le+"";case Y:var Ur=_r;case fe:var yr=xt&i;if(Ur||(Ur=fr),j.size!=le.size&&!yr)return!1;var Tr=kr.get(j);if(Tr)return Tr==le;xt|=o,kr.set(j,le);var Di=Hi(Ur(j),Ur(le),xt,Hn,bn,kr);return kr.delete(j),Di;case X:if($r)return $r.call(j)==$r.call(le)}return!1}function dl(j,le,We,xt,Hn,bn){var kr=We&i,Ur=to(j),yr=Ur.length,Tr=to(le),Di=Tr.length;if(yr!=Di&&!kr)return!1;for(var ro=yr;ro--;){var vi=Ur[ro];if(!(kr?vi in le:Re.call(le,vi)))return!1}var Xr=bn.get(j);if(Xr&&bn.get(le))return Xr==le;var ki=!0;bn.set(j,le),bn.set(le,j);for(var pi=kr;++ro<yr;){vi=Ur[ro];var $i=j[vi],La=le[vi];if(xt)var Ss=kr?xt(La,$i,vi,le,j,bn):xt($i,La,vi,j,le,bn);if(!(Ss===void 0?$i===La||Hn($i,La,We,xt,bn):Ss)){ki=!1;break}pi||(pi=vi=="constructor")}if(ki&&!pi){var ho=j.constructor,Lo=le.constructor;ho!=Lo&&"constructor"in j&&"constructor"in le&&!(typeof ho=="function"&&ho instanceof ho&&typeof Lo=="function"&&Lo instanceof Lo)&&(ki=!1)}return bn.delete(j),bn.delete(le),ki}function to(j){return Hr(j,fl,Ka)}function No(j,le){var We=j.__data__;return Xs(le)?We[typeof le=="string"?"string":"hash"]:We.map}function no(j,le){var We=ur(j,le);return mr(We)?We:void 0}function Rs(j){var le=Re.call(j,Ke),We=j[Ke];try{j[Ke]=void 0;var xt=!0}catch{}var Hn=Tt.call(j);return xt&&(le?j[Ke]=We:delete j[Ke]),Hn}var Ka=ze?function(j){return j==null?[]:(j=Object(j),Ht(ze(j),function(le){return ve.call(j,le)}))}:gr,Ea=Yr;(ot&&Ea(new ot(new ArrayBuffer(1)))!=Ue||Ft&&Ea(new Ft)!=Y||rt&&Ea(rt.resolve())!=ne||mt&&Ea(new mt)!=fe||Bt&&Ea(new Bt)!=be)&&(Ea=function(j){var le=Yr(j),We=le==W?j.constructor:void 0,xt=We?Bo(We):"";if(xt)switch(xt){case mn:return Ue;case fn:return Y;case Cr:return ne;case rr:return fe;case Mr:return be}return le});function cA(j,le){return le=le??s,!!le&&(typeof j=="number"||nn.test(j))&&j>-1&&j%1==0&&j<le}function Xs(j){var le=typeof j;return le=="string"||le=="number"||le=="symbol"||le=="boolean"?j!=="__proto__":j===null}function gu(j){return!!ut&&ut in j}function zu(j){var le=j&&j.constructor,We=typeof le=="function"&&le.prototype||Pe;return j===We}function hA(j){return Tt.call(j)}function Bo(j){if(j!=null){try{return oe.call(j)}catch{}try{return j+""}catch{}}return""}function Io(j,le){return j===le||j!==j&&le!==le}var yi=ni(function(){return arguments}())?ni:function(j){return Zo(j)&&Re.call(j,"callee")&&!ve.call(j,"callee")},Za=Array.isArray;function Oa(j){return j!=null&&Vl(j.length)&&!ql(j)}var Xa=it||li;function yu(j,le){return Sa(j,le)}function ql(j){if(!Js(j))return!1;var le=Yr(j);return le==K||le==L||le==m||le==ce}function Vl(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=s}function Js(j){var le=typeof j;return j!=null&&(le=="object"||le=="function")}function Zo(j){return j!=null&&typeof j=="object"}var Us=Kt?_n(Kt):Fs;function fl(j){return Oa(j)?Pt(j):Ms(j)}function gr(){return[]}function li(){return!1}n.exports=yu})(J4,J4.exports);var wre=J4.exports,Mre=eN(wre);function nB(n,e,t){const r={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function rB(n,e,t,r){const i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function iB(n,e,t){const r={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function Sre(n,e){const t=[],r=[],i=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const f=o(s);r.push(nB(f.circle,s)),i.push(iB(f.line,s)),t.push(rB(f.polygon,f.polygonOutline,s))}else a.forEach(f=>{const m=o(f);r.push(nB(m.circle,s,f)),i.push(iB(m.line,s,f)),t.push(rB(m.polygon,m.polygonOutline,s,f))})}),t.concat(i).concat(r)}function Ere(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(n,{layers:[r].concat(e),sources:i})}var YP={polygonLayer:rB,lineLayer:iB,circleLayer:nB,generateInspectStyle:Ere,generateColoredLayers:Sre};class Ore{constructor(e){e=Object.assign({show:!0,onToggle(){}},e),this._btn=this.createButton(),this._btn.onclick=e.onToggle,this.elem=this.createContainer(this._btn,e.show)}createButton(){const e=document.createElement("button");return e.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",e.type="button",e.setAttribute("aria-label","Inspect"),e}createContainer(e,t){const r=document.createElement("div");return r.className="maplibregl-ctrl maplibregl-ctrl-group",r.appendChild(e),t||(r.style.display="none"),r}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function Bre(n){return typeof n>"u"||n===null?n:n instanceof Date?n.toLocaleString():typeof n=="object"||typeof n=="number"||typeof n=="string"?n.toString():n}function qP(n,e){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${n}</div><div class="maplibregl-inspect_property-value">${Bre(e)}</div></div>`}function Ire(n){return`<div class="maplibregl-inspect_layer">${n}</div>`}function kre(n){const e=Ire(n.layer["source-layer"]||n.layer.source),t=qP("$type",n.geometry.type),r=Object.keys(n.properties).map(i=>qP(i,n.properties[i]));return[e,t].concat(r).join("")}function Tre(n){return n.map(e=>`<div class="maplibregl-inspect_feature">${kre(e)}</div>`).join("")}function Pre(n){return`<div class="maplibregl-inspect_popup">${Tre(n)}</div>`}var oB={exports:{}};(function(n,e){(function(t,r){{var i=r();n&&n.exports&&(e=n.exports=i),e.randomColor=i}})(gC,function(){var t=null,r={};V();var i=[],o=function(H){if(H=H||{},H.seed!==void 0&&H.seed!==null&&H.seed===parseInt(H.seed,10))t=H.seed;else if(typeof H.seed=="string")t=ge(H.seed);else{if(H.seed!==void 0&&H.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var X,Me,be;if(H.count!==null&&H.count!==void 0){for(var Fe=H.count,Ue=[],me=0;me<H.count;me++)i.push(!1);for(H.count=null;Fe>Ue.length;){var Ve=o(H);t!==null&&(H.seed=t),Ue.push(Ve)}return H.count=Fe,Ue}return X=s(H),Me=a(X,H),be=f(X,Me,H),m([X,Me,be],H)};function s(H){if(i.length>0){var X=fe(H.hue),Me=L(X),be=(X[1]-X[0])/i.length,Fe=parseInt((Me-X[0])/be);i[Fe]===!0?Fe=(Fe+2)%i.length:i[Fe]=!0;var Ue=(X[0]+Fe*be)%359,me=(X[0]+(Fe+1)*be)%359;return X=[Ue,me],Me=L(X),Me<0&&(Me=360+Me),Me}else{var X=B(H.hue);return Me=L(X),Me<0&&(Me=360+Me),Me}}function a(H,X){if(X.hue==="monochrome")return 0;if(X.luminosity==="random")return L([0,100]);var Me=I(H),be=Me[0],Fe=Me[1];switch(X.luminosity){case"bright":be=55;break;case"dark":be=Fe-10;break;case"light":Fe=55;break}return L([be,Fe])}function f(H,X,Me){var be=C(H,X),Fe=100;switch(Me.luminosity){case"dark":Fe=be+20;break;case"light":be=(Fe+be)/2;break;case"random":be=0,Fe=100;break}return L([be,Fe])}function m(H,X){switch(X.format){case"hsvArray":return H;case"hslArray":return ce(H);case"hsl":var Me=ce(H);return"hsl("+Me[0]+", "+Me[1]+"%, "+Me[2]+"%)";case"hsla":var be=ce(H),me=X.alpha||Math.random();return"hsla("+be[0]+", "+be[1]+"%, "+be[2]+"%, "+me+")";case"rgbArray":return W(H);case"rgb":var Fe=W(H);return"rgb("+Fe.join(", ")+")";case"rgba":var Ue=W(H),me=X.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+me+")";default:return Y(H)}}function C(H,X){for(var Me=K(H).lowerBounds,be=0;be<Me.length-1;be++){var Fe=Me[be][0],Ue=Me[be][1],me=Me[be+1][0],Ve=Me[be+1][1];if(X>=Fe&&X<=me){var _e=(Ve-Ue)/(me-Fe),Ot=Ue-_e*Fe;return _e*X+Ot}}return 0}function B(H){if(typeof parseInt(H)=="number"){var X=parseInt(H);if(X<360&&X>0)return[X,X]}if(typeof H=="string"){if(r[H]){var Me=r[H];if(Me.hueRange)return Me.hueRange}else if(H.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var be=ne(H)[0];return[be,be]}}return[0,360]}function I(H){return K(H).saturationRange}function K(H){H>=334&&H<=360&&(H-=360);for(var X in r){var Me=r[X];if(Me.hueRange&&H>=Me.hueRange[0]&&H<=Me.hueRange[1])return r[X]}return"Color not found"}function L(H){if(t===null){var X=.618033988749895,Me=Math.random();return Me+=X,Me%=1,Math.floor(H[0]+Me*(H[1]+1-H[0]))}else{var be=H[1]||1,Fe=H[0]||0;t=(t*9301+49297)%233280;var Ue=t/233280;return Math.floor(Fe+Ue*(be-Fe))}}function Y(H){var X=W(H);function Me(Fe){var Ue=Fe.toString(16);return Ue.length==1?"0"+Ue:Ue}var be="#"+Me(X[0])+Me(X[1])+Me(X[2]);return be}function ee(H,X,Me){var be=Me[0][0],Fe=Me[Me.length-1][0],Ue=Me[Me.length-1][1],me=Me[0][1];r[H]={hueRange:X,lowerBounds:Me,saturationRange:[be,Fe],brightnessRange:[Ue,me]}}function V(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function W(H){var X=H[0];X===0&&(X=1),X===360&&(X=359),X=X/360;var Me=H[1]/100,be=H[2]/100,Fe=Math.floor(X*6),Ue=X*6-Fe,me=be*(1-Me),Ve=be*(1-Ue*Me),_e=be*(1-(1-Ue)*Me),Ot=256,St=256,_t=256;switch(Fe){case 0:Ot=be,St=_e,_t=me;break;case 1:Ot=Ve,St=be,_t=me;break;case 2:Ot=me,St=be,_t=_e;break;case 3:Ot=me,St=Ve,_t=be;break;case 4:Ot=_e,St=me,_t=be;break;case 5:Ot=be,St=me,_t=Ve;break}var ft=[Math.floor(Ot*255),Math.floor(St*255),Math.floor(_t*255)];return ft}function ne(H){H=H.replace(/^#/,""),H=H.length===3?H.replace(/(.)/g,"$1$1"):H;var X=parseInt(H.substr(0,2),16)/255,Me=parseInt(H.substr(2,2),16)/255,be=parseInt(H.substr(4,2),16)/255,Fe=Math.max(X,Me,be),Ue=Fe-Math.min(X,Me,be),me=Fe?Ue/Fe:0;switch(Fe){case X:return[60*((Me-be)/Ue%6)||0,me,Fe];case Me:return[60*((be-X)/Ue+2)||0,me,Fe];case be:return[60*((X-Me)/Ue+4)||0,me,Fe]}}function ce(H){var X=H[0],Me=H[1]/100,be=H[2]/100,Fe=(2-Me)*be;return[X,Math.round(Me*be/(Fe<1?Fe:2-Fe)*1e4)/100,Fe/2*100]}function ge(H){for(var X=0,Me=0;Me!==H.length&&!(X>=Number.MAX_SAFE_INTEGER);Me++)X+=H.charCodeAt(Me);return X}function fe(H){if(isNaN(H)){if(typeof H=="string"){if(r[H]){var Me=r[H];if(Me.hueRange)return Me.hueRange}else if(H.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var be=ne(H)[0];return K(be).hueRange}}}else{var X=parseInt(H);if(X<360&&X>0)return K(H).hueRange}return[0,360]}return o})})(oB,oB.exports);var Kre=oB.exports,Lre=eN(Kre);function Dre(n,e){let t="bright",r;return/water|ocean|lake|sea|river/.test(n)&&(r="blue"),/state|country|place/.test(n)&&(r="pink"),/road|highway|transport|streets/.test(n)&&(r="orange"),/contour|building|earth/.test(n)&&(r="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(r="green"),`rgba(${Lre({luminosity:t,hue:r,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}var Fre={brightColor:Dre};function Rre(n){return n.metadata&&n.metadata["maplibregl-inspect:inspect"]}function Ure(n){return Object.assign(n,{metadata:Object.assign({},n.metadata,{"maplibregl-inspect:inspect":!0})})}class AI{constructor(e){if(this._onSourceChange=r=>{if(r.sourceDataType==="visibility"||!r.isSourceLoaded)return;const i=Object.assign({},this.sources);this._setSourcesFromMap(),!Mre(i,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const r=this._map.getStyle();Rre(r)||(this._originalStyle=r)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=r=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||r.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;r.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||r.type==="mousemove"&&!this.options.showMapPopupOnHover)return;r.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let i;this.options.selectThreshold===0?i=r.point:i=[[r.point.x-this.options.selectThreshold,r.point.y+this.options.selectThreshold],[r.point.x+this.options.selectThreshold,r.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(i,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(r.lngLat);const s=this.options.renderPopup(o);typeof s=="string"?this._popup.setHTML(s):this._popup.setDOMContent(s),this._popup.addTo(this._map)}}},!(this instanceof AI))throw new Error("MaplibreInspect needs to be called with the new keyword");let t=null;window.maplibregl?t=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):e.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:Fre.brightColor,buildInspectStyle:YP.generateInspectStyle,renderPopup:Pre,popup:t,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new Ore({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const e=YP.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(Ure(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const e=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(t=>{const r=this._map.style.sourceCaches[t]||{_source:{}},i=r._source.vectorLayerIds;i?this.sources[t]=i:r._source.type==="geojson"&&(this.sources[t]=[])}),Object.keys(this.sources).forEach(t=>{e.indexOf(t)===-1&&delete this.sources[t]})}setOriginalStyle(e){this._originalStyle=e,this._setSourcesFromMap()}onAdd(e){return this._map=e,Object.keys(this.sources).length===0&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),e.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0}}var aB={exports:{}};(function(n,e){(function(t,r){{var i=r();n&&n.exports&&(e=n.exports=i),e.randomColor=i}})(Bp,function(){var t=null,r={};V();var i=[],o=function(H){if(H=H||{},H.seed!==void 0&&H.seed!==null&&H.seed===parseInt(H.seed,10))t=H.seed;else if(typeof H.seed=="string")t=ge(H.seed);else{if(H.seed!==void 0&&H.seed!==null)throw new TypeError("The seed value must be an integer or string");t=null}var X,Me,be;if(H.count!==null&&H.count!==void 0){for(var Fe=H.count,Ue=[],me=0;me<H.count;me++)i.push(!1);for(H.count=null;Fe>Ue.length;){var Ve=o(H);t!==null&&(H.seed=t),Ue.push(Ve)}return H.count=Fe,Ue}return X=s(H),Me=a(X,H),be=f(X,Me,H),m([X,Me,be],H)};function s(H){if(i.length>0){var X=fe(H.hue),Me=L(X),be=(X[1]-X[0])/i.length,Fe=parseInt((Me-X[0])/be);i[Fe]===!0?Fe=(Fe+2)%i.length:i[Fe]=!0;var Ue=(X[0]+Fe*be)%359,me=(X[0]+(Fe+1)*be)%359;return X=[Ue,me],Me=L(X),Me<0&&(Me=360+Me),Me}else{var X=B(H.hue);return Me=L(X),Me<0&&(Me=360+Me),Me}}function a(H,X){if(X.hue==="monochrome")return 0;if(X.luminosity==="random")return L([0,100]);var Me=I(H),be=Me[0],Fe=Me[1];switch(X.luminosity){case"bright":be=55;break;case"dark":be=Fe-10;break;case"light":Fe=55;break}return L([be,Fe])}function f(H,X,Me){var be=C(H,X),Fe=100;switch(Me.luminosity){case"dark":Fe=be+20;break;case"light":be=(Fe+be)/2;break;case"random":be=0,Fe=100;break}return L([be,Fe])}function m(H,X){switch(X.format){case"hsvArray":return H;case"hslArray":return ce(H);case"hsl":var Me=ce(H);return"hsl("+Me[0]+", "+Me[1]+"%, "+Me[2]+"%)";case"hsla":var be=ce(H),me=X.alpha||Math.random();return"hsla("+be[0]+", "+be[1]+"%, "+be[2]+"%, "+me+")";case"rgbArray":return W(H);case"rgb":var Fe=W(H);return"rgb("+Fe.join(", ")+")";case"rgba":var Ue=W(H),me=X.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+me+")";default:return Y(H)}}function C(H,X){for(var Me=K(H).lowerBounds,be=0;be<Me.length-1;be++){var Fe=Me[be][0],Ue=Me[be][1],me=Me[be+1][0],Ve=Me[be+1][1];if(X>=Fe&&X<=me){var _e=(Ve-Ue)/(me-Fe),Ot=Ue-_e*Fe;return _e*X+Ot}}return 0}function B(H){if(typeof parseInt(H)=="number"){var X=parseInt(H);if(X<360&&X>0)return[X,X]}if(typeof H=="string"){if(r[H]){var Me=r[H];if(Me.hueRange)return Me.hueRange}else if(H.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var be=ne(H)[0];return[be,be]}}return[0,360]}function I(H){return K(H).saturationRange}function K(H){H>=334&&H<=360&&(H-=360);for(var X in r){var Me=r[X];if(Me.hueRange&&H>=Me.hueRange[0]&&H<=Me.hueRange[1])return r[X]}return"Color not found"}function L(H){if(t===null){var X=.618033988749895,Me=Math.random();return Me+=X,Me%=1,Math.floor(H[0]+Me*(H[1]+1-H[0]))}else{var be=H[1]||1,Fe=H[0]||0;t=(t*9301+49297)%233280;var Ue=t/233280;return Math.floor(Fe+Ue*(be-Fe))}}function Y(H){var X=W(H);function Me(Fe){var Ue=Fe.toString(16);return Ue.length==1?"0"+Ue:Ue}var be="#"+Me(X[0])+Me(X[1])+Me(X[2]);return be}function ee(H,X,Me){var be=Me[0][0],Fe=Me[Me.length-1][0],Ue=Me[Me.length-1][1],me=Me[0][1];r[H]={hueRange:X,lowerBounds:Me,saturationRange:[be,Fe],brightnessRange:[Ue,me]}}function V(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function W(H){var X=H[0];X===0&&(X=1),X===360&&(X=359),X=X/360;var Me=H[1]/100,be=H[2]/100,Fe=Math.floor(X*6),Ue=X*6-Fe,me=be*(1-Me),Ve=be*(1-Ue*Me),_e=be*(1-(1-Ue)*Me),Ot=256,St=256,_t=256;switch(Fe){case 0:Ot=be,St=_e,_t=me;break;case 1:Ot=Ve,St=be,_t=me;break;case 2:Ot=me,St=be,_t=_e;break;case 3:Ot=me,St=Ve,_t=be;break;case 4:Ot=_e,St=me,_t=be;break;case 5:Ot=be,St=me,_t=Ve;break}var ft=[Math.floor(Ot*255),Math.floor(St*255),Math.floor(_t*255)];return ft}function ne(H){H=H.replace(/^#/,""),H=H.length===3?H.replace(/(.)/g,"$1$1"):H;var X=parseInt(H.substr(0,2),16)/255,Me=parseInt(H.substr(2,2),16)/255,be=parseInt(H.substr(4,2),16)/255,Fe=Math.max(X,Me,be),Ue=Fe-Math.min(X,Me,be),me=Fe?Ue/Fe:0;switch(Fe){case X:return[60*((Me-be)/Ue%6)||0,me,Fe];case Me:return[60*((be-X)/Ue+2)||0,me,Fe];case be:return[60*((X-Me)/Ue+4)||0,me,Fe]}}function ce(H){var X=H[0],Me=H[1]/100,be=H[2]/100,Fe=(2-Me)*be;return[X,Math.round(Me*be/(Fe<1?Fe:2-Fe)*1e4)/100,Fe/2*100]}function ge(H){for(var X=0,Me=0;Me!==H.length&&!(X>=Number.MAX_SAFE_INTEGER);Me++)X+=H.charCodeAt(Me);return X}function fe(H){if(isNaN(H)){if(typeof H=="string"){if(r[H]){var Me=r[H];if(Me.hueRange)return Me.hueRange}else if(H.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var be=ne(H)[0];return K(be).hueRange}}}else{var X=parseInt(H);if(X<360&&X>0)return K(H).hueRange}return[0,360]}return o})})(aB,aB.exports);var zre=aB.exports;const jre=wa(zre);function Nre(n,e){let t="bright",r;return/water|ocean|lake|sea|river/.test(n)&&(r="blue"),/state|country|place/.test(n)&&(r="pink"),/road|highway|transport|streets/.test(n)&&(r="orange"),/contour|building|earth/.test(n)&&(r="monochrome"),/building/.test(n)&&(t="dark"),/earth/.test(n)&&(t="light"),/contour|landuse/.test(n)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(n)&&(r="green"),`rgba(${jre({luminosity:t,hue:r,seed:n,format:"rgbArray"}).join(", ")}, ${e||"1"})`}const tN={brightColor:Nre};var nN={exports:{}},Wre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gre=Wre,Qre=Gre;function rN(){}function iN(){}iN.resetWarningCache=rN;var $re=function(){function n(r,i,o,s,a,f){if(f!==Qre){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iN,resetWarningCache:rN};return t.PropTypes=t,t};nN.exports=$re();var ff=nN.exports;const jr=wa(ff);var VP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function Yre(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var K0=function(e,t){var r=e.children,i=e.color,o=e.size,s=e.style,a=e.width,f=e.height,m=Yre(e,["children","color","size","style","width","height"]),C=t.reactIconBase,B=C===void 0?{}:C,I=o||B.size||"1em";return Sn.createElement("svg",VP({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:f||I,width:a||I},B,m,{style:VP({verticalAlign:"middle",color:i||B.color},B.style||{},s)}))};K0.propTypes={color:jr.string,size:jr.oneOfType([jr.string,jr.number]),width:jr.oneOfType([jr.string,jr.number]),height:jr.oneOfType([jr.string,jr.number]),style:jr.object};K0.contextTypes={reactIconBase:jr.shape(K0.propTypes)};function ew(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",e="ace6118dd0ae83e2ceb20b70664ae2267741d924",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ew=function(){return s},s}ew();class qre extends Sn.Component{render(){return ew().f[0]++,ew().s[0]++,q.jsx(K0,{viewBox:"0 0 20 20",...this.props,children:q.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function tw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",e="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return tw=function(){return s},s}tw();class r3 extends Sn.Component{render(){return tw().f[0]++,tw().s[0]++,q.jsx(K0,{viewBox:"0 0 20 20",...this.props,children:q.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function nw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",e="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return nw=function(){return s},s}nw();class Vre extends Sn.Component{render(){return nw().f[0]++,nw().s[0]++,q.jsx(K0,{viewBox:"0 0 20 20",...this.props,children:q.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:q.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function rw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",e="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return rw=function(){return s},s}rw();class HP extends Sn.Component{render(){return rw().f[0]++,rw().s[0]++,q.jsx(K0,{viewBox:"0 0 20 20",...this.props,children:q.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function iw(){var n="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",e="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return iw=function(){return s},s}iw();class Hre extends Sn.Component{render(){return iw().f[0]++,iw().s[0]++,q.jsx(K0,{viewBox:"0 0 20 20",...this.props,children:q.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Zv(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function Zre(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(n)}function Xre(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(n)}function Jre(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function eie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function tie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}function nie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(n)}function rie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(n)}function iie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(n)}function oie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(n)}function oN(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function aie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}function sie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(n)}function lie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(n)}function uie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(n)}function sB(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(n)}function Aie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(n)}function cie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(n)}function hie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(n)}function die(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(n)}function fie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function pie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function mie(n){return Zs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(n)}function ow(){var n="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",e="90c8ed80956547e1dbbdff164a42850c33eed62e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ow=function(){return s},s}ow();class gie extends Sn.Component{render(){return ow().f[0]++,ow().s[0]++,q.jsx(mie,{...this.props})}}function vs(){var n="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",e="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return vs=function(){return s},s}vs();class aN extends Sn.Component{render(){vs().f[0]++;const e=(vs().s[0]++,{style:this.props.style});switch(vs().s[1]++,this.props.type){case"fill-extrusion":return vs().b[0][0]++,vs().s[2]++,q.jsx(HP,{...e});case"raster":return vs().b[0][1]++,vs().s[3]++,q.jsx(r3,{...e});case"hillshade":return vs().b[0][2]++,vs().s[4]++,q.jsx(r3,{...e});case"heatmap":return vs().b[0][3]++,vs().s[5]++,q.jsx(r3,{...e});case"fill":return vs().b[0][4]++,vs().s[6]++,q.jsx(r3,{...e});case"background":return vs().b[0][5]++,vs().s[7]++,q.jsx(HP,{...e});case"line":return vs().b[0][6]++,vs().s[8]++,q.jsx(qre,{...e});case"symbol":return vs().b[0][7]++,vs().s[9]++,q.jsx(Vre,{...e});case"circle":return vs().b[0][8]++,vs().s[10]++,q.jsx(Hre,{...e});default:return vs().b[0][9]++,vs().s[11]++,q.jsx(gie,{...e})}}}function wr(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",e="ea1e9940e142b9a2a1c672f6983f6f5748c841e6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea1e9940e142b9a2a1c672f6983f6f5748c841e6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return wr=function(){return s},s}wr();function yie(n){wr().f[0]++;const e=(wr().s[0]++,{}),t=(wr().s[1]++,{});return wr().s[2]++,n.forEach(r=>{wr().f[1]++;const i=(wr().s[3]++,r.layer["source-layer"]);if(wr().s[4]++,Object.prototype.hasOwnProperty.call(t,r.layer.id)){wr().b[0][0]++,wr().s[5]++,t[r.layer.id]++;const o=(wr().s[6]++,e[i].find(s=>(wr().f[2]++,wr().s[7]++,s.layer.id===r.layer.id)));wr().s[8]++,o.counter=t[r.layer.id]}else wr().b[0][1]++,wr().s[9]++,e[i]=(wr().b[1][0]++,e[i]||(wr().b[1][1]++,[])),wr().s[10]++,e[i].push(r),wr().s[11]++,t[r.layer.id]=1}),wr().s[12]++,e}class sN extends Sn.Component{_getFeatureColor(e,t){if(wr().f[3]++,wr().s[13]++,e.layer.paint)wr().b[2][1]++;else{wr().b[2][0]++,wr().s[14]++;return}wr().s[15]++;try{const r=(wr().s[16]++,e.layer.paint);return wr().s[17]++,wr().b[4][0]++,"text-color"in r&&(wr().b[4][1]++,r["text-color"])?(wr().b[3][0]++,wr().s[18]++,String(r["text-color"])):(wr().b[3][1]++,wr().s[19]++,wr().b[6][0]++,"fill-color"in r&&(wr().b[6][1]++,r["fill-color"])?(wr().b[5][0]++,wr().s[20]++,String(r["fill-color"])):(wr().b[5][1]++,wr().s[21]++,wr().b[8][0]++,"line-color"in r&&(wr().b[8][1]++,r["line-color"])?(wr().b[7][0]++,wr().s[22]++,String(r["line-color"])):(wr().b[7][1]++,wr().s[23]++,wr().b[10][0]++,"fill-extrusion-color"in r&&(wr().b[10][1]++,r["fill-extrusion-color"])?(wr().b[9][0]++,wr().s[24]++,String(r["fill-extrusion-color"])):(wr().b[9][1]++,wr().s[25]++,"black"))))}catch(r){return wr().s[26]++,console.warn("Unable to get feature color, error:",r),wr().s[27]++,"black"}}render(){wr().f[4]++;const e=(wr().s[28]++,yie(this.props.features)),t=(wr().s[29]++,Object.keys(e).map(r=>{wr().f[5]++;const i=(wr().s[30]++,e[r].map((o,s)=>{wr().f[6]++;const a=(wr().s[31]++,this._getFeatureColor(o,this.props.zoom));return wr().s[32]++,q.jsxs("div",{className:"maputnik-popup-layer",children:[q.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:a}}),q.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{wr().f[7]++,wr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(wr().b[11][0]++,o.layer.type&&(wr().b[11][1]++,q.jsx(aN,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(wr().b[12][0]++,o.counter&&(wr().b[12][1]++,q.jsxs("span",{children:["  ",o.counter]})))]})]},s)}));return wr().s[34]++,q.jsxs("div",{children:[q.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return wr().s[35]++,q.jsx("div",{className:"maputnik-feature-layer-popup",children:t})}}function di(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",e="72aafaa905031d9408c36c83b71947160ac6dbad",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:4,column:67}},1:{start:{line:4,column:54},end:{line:4,column:67}},2:{start:{line:5,column:2},end:{line:5,column:59}},3:{start:{line:5,column:29},end:{line:5,column:59}},4:{start:{line:6,column:2},end:{line:6,column:115}},5:{start:{line:6,column:91},end:{line:6,column:115}},6:{start:{line:7,column:2},end:{line:7,column:15}},7:{start:{line:10,column:2},end:{line:13,column:12}},8:{start:{line:16,column:2},end:{line:32,column:12}},9:{start:{line:29,column:23},end:{line:29,column:55}},10:{start:{line:30,column:6},end:{line:30,column:74}},11:{start:{line:35,column:25},end:{line:35,column:27}},12:{start:{line:36,column:2},end:{line:49,column:5}},13:{start:{line:37,column:25},end:{line:39,column:6}},14:{start:{line:38,column:6},end:{line:38,column:156}},15:{start:{line:40,column:4},end:{line:48,column:5}},16:{start:{line:41,column:6},end:{line:41,column:35}},17:{start:{line:43,column:6},end:{line:47,column:7}},18:{start:{line:44,column:8},end:{line:44,column:58}},19:{start:{line:46,column:8},end:{line:46,column:60}},20:{start:{line:50,column:2},end:{line:50,column:24}},21:{start:{line:54,column:21},end:{line:54,column:66}},22:{start:{line:55,column:4},end:{line:55,column:250}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:8,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:9,column:9},end:{line:9,column:31}},loc:{start:{line:9,column:44},end:{line:14,column:1}},line:9},2:{name:"renderFeature",decl:{start:{line:15,column:9},end:{line:15,column:22}},loc:{start:{line:15,column:37},end:{line:33,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:28,column:40},end:{line:28,column:41}},loc:{start:{line:28,column:58},end:{line:31,column:5}},line:28},4:{name:"removeDuplicatedFeatures",decl:{start:{line:34,column:9},end:{line:34,column:33}},loc:{start:{line:34,column:44},end:{line:51,column:1}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:36,column:19},end:{line:36,column:20}},loc:{start:{line:36,column:32},end:{line:49,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:37,column:50},end:{line:37,column:51}},loc:{start:{line:37,column:64},end:{line:39,column:5}},line:37},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:56,column:3}},line:53}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:4,column:67}},type:"if",locations:[{start:{line:4,column:2},end:{line:4,column:67}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:5,column:2},end:{line:5,column:59}},type:"if",locations:[{start:{line:5,column:2},end:{line:5,column:59}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},3:{loc:{start:{line:6,column:2},end:{line:6,column:115}},type:"if",locations:[{start:{line:6,column:2},end:{line:6,column:115}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},4:{loc:{start:{line:6,column:6},end:{line:6,column:89}},type:"binary-expr",locations:[{start:{line:6,column:6},end:{line:6,column:31}},{start:{line:6,column:35},end:{line:6,column:60}},{start:{line:6,column:64},end:{line:6,column:89}}],line:6},5:{loc:{start:{line:21,column:6},end:{line:24,column:10}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:32}},{start:{line:21,column:52},end:{line:24,column:10}}],line:21},6:{loc:{start:{line:38,column:13},end:{line:38,column:155}},type:"binary-expr",locations:[{start:{line:38,column:13},end:{line:38,column:77}},{start:{line:38,column:81},end:{line:38,column:155}}],line:38},7:{loc:{start:{line:40,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:48,column:5}},{start:{line:42,column:11},end:{line:48,column:5}}],line:40},8:{loc:{start:{line:43,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:43,column:6},end:{line:47,column:7}},{start:{line:45,column:13},end:{line:47,column:7}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU,KAAM,QAAO;AAC3D,MAAI,iBAAiB,KAAM,QAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU,SAAU,QAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"72aafaa905031d9408c36c83b71947160ac6dbad"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return di=function(){return s},s}di();function ZP(n){return di().f[0]++,di().s[0]++,di().b[1][0]++,typeof n>"u"||(di().b[1][1]++,n===null)?(di().b[0][0]++,di().s[1]++,n):(di().b[0][1]++,di().s[2]++,n instanceof Date?(di().b[2][0]++,di().s[3]++,n.toLocaleString()):(di().b[2][1]++,di().s[4]++,di().b[4][0]++,typeof n=="object"||(di().b[4][1]++,typeof n=="number")||(di().b[4][2]++,typeof n=="string")?(di().b[3][0]++,di().s[5]++,n.toString()):(di().b[3][1]++,di().s[6]++,n)))}function wE(n,e){return di().f[1]++,di().s[7]++,q.jsxs("tr",{children:[q.jsx("td",{className:"maputnik-popup-table-cell",children:n}),q.jsx("td",{className:"maputnik-popup-table-cell",children:e})]},n)}function vie(n,e){return di().f[2]++,di().s[8]++,q.jsxs(Sn.Fragment,{children:[q.jsx("tr",{children:q.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[n.layer.source,": ",n.layer["source-layer"],(di().b[5][0]++,n.inspectModeCounter&&(di().b[5][1]++,q.jsxs("span",{children:["  ",n.inspectModeCounter]})))]})}),wE("$type",n.geometry.type),wE("$id",ZP(n.id)),Object.keys(n.properties).map(t=>{di().f[3]++;const r=(di().s[9]++,n.properties[t]);return di().s[10]++,wE(t,ZP(r))})]},e)}function _ie(n){di().f[4]++;const e=(di().s[11]++,[]);return di().s[12]++,n.forEach(t=>{di().f[5]++;const r=(di().s[13]++,e.findIndex(i=>(di().f[6]++,di().s[14]++,di().b[6][0]++,t.layer["source-layer"]===i.layer["source-layer"]&&(di().b[6][1]++,JSON.stringify(t.properties)===JSON.stringify(i.properties)))));di().s[15]++,r===-1?(di().b[7][0]++,di().s[16]++,e.push(t)):(di().b[7][1]++,di().s[17]++,"inspectModeCounter"in e[r]?(di().b[8][0]++,di().s[18]++,e[r].inspectModeCounter++):(di().b[8][1]++,di().s[19]++,e[r].inspectModeCounter=2))}),di().s[20]++,e}class Cie extends Sn.Component{render(){di().f[7]++;const e=(di().s[21]++,_ie(this.props.features));return di().s[22]++,q.jsx("div",{className:"maputnik-feature-property-popup",children:q.jsx("table",{className:"maputnik-popup-table",children:q.jsx("tbody",{children:e.map(vie)})})})}}var lN={exports:{}},uN={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},AN={exports:{}},bie=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},xie=bie,wie=Array.prototype.concat,Mie=Array.prototype.slice,XP=AN.exports=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];xie(o)?t=wie.call(t,Mie.call(o)):t.push(o)}return t};XP.wrap=function(n){return function(){return n(XP(arguments))}};var Sie=AN.exports,NC=uN,a2=Sie,cN=Object.hasOwnProperty,hN=Object.create(null);for(var ME in NC)cN.call(NC,ME)&&(hN[NC[ME]]=ME);var bh=lN.exports={to:{},get:{}};bh.get=function(n){var e=n.substring(0,3).toLowerCase(),t,r;switch(e){case"hsl":t=bh.get.hsl(n),r="hsl";break;case"hwb":t=bh.get.hwb(n),r="hwb";break;default:t=bh.get.rgb(n),r="rgb";break}return t?{model:r,value:t}:null};bh.get.rgb=function(n){if(!n)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,f,m;if(a=n.match(t)){for(m=a[2],a=a[1],f=0;f<3;f++){var C=f*2;s[f]=parseInt(a.slice(C,C+2),16)}m&&(s[3]=parseInt(m,16)/255)}else if(a=n.match(e)){for(a=a[1],m=a[3],f=0;f<3;f++)s[f]=parseInt(a[f]+a[f],16);m&&(s[3]=parseInt(m+m,16)/255)}else if(a=n.match(r)){for(f=0;f<3;f++)s[f]=parseInt(a[f+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=n.match(i)){for(f=0;f<3;f++)s[f]=Math.round(parseFloat(a[f+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=n.match(o))?a[1]==="transparent"?[0,0,0,0]:cN.call(NC,a[1])?(s=NC[a[1]],s[3]=1,s):null:null;for(f=0;f<3;f++)s[f]=E0(s[f],0,255);return s[3]=E0(s[3],0,1),s};bh.get.hsl=function(n){if(!n)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=E0(parseFloat(t[2]),0,100),s=E0(parseFloat(t[3]),0,100),a=E0(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};bh.get.hwb=function(n){if(!n)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=E0(parseFloat(t[2]),0,100),s=E0(parseFloat(t[3]),0,100),a=E0(isNaN(r)?1:r,0,1);return[i,o,s,a]}return null};bh.to.hex=function(){var n=a2(arguments);return"#"+i3(n[0])+i3(n[1])+i3(n[2])+(n[3]<1?i3(Math.round(n[3]*255)):"")};bh.to.rgb=function(){var n=a2(arguments);return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};bh.to.rgb.percent=function(){var n=a2(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),r=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+r+"%)":"rgba("+e+"%, "+t+"%, "+r+"%, "+n[3]+")"};bh.to.hsl=function(){var n=a2(arguments);return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};bh.to.hwb=function(){var n=a2(arguments),e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};bh.to.keyword=function(n){return hN[n.slice(0,3)]};function E0(n,e,t){return Math.min(Math.max(e,n),t)}function i3(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}var Eie=lN.exports;const Ob=uN,dN={};for(const n of Object.keys(Ob))dN[Ob[n]]=n;const Vr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var fN=Vr;for(const n of Object.keys(Vr)){if(!("channels"in Vr[n]))throw new Error("missing channels property: "+n);if(!("labels"in Vr[n]))throw new Error("missing channel labels property: "+n);if(Vr[n].labels.length!==Vr[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=Vr[n];delete Vr[n].channels,delete Vr[n].labels,Object.defineProperty(Vr[n],"channels",{value:e}),Object.defineProperty(Vr[n],"labels",{value:t})}Vr.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),o=Math.max(e,t,r),s=o-i;let a,f;o===i?a=0:e===o?a=(t-r)/s:t===o?a=2+(r-e)/s:r===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);const m=(i+o)/2;return o===i?f=0:m<=.5?f=s/(o+i):f=s/(2-o-i),[a,f*100,m*100]};Vr.rgb.hsv=function(n){let e,t,r,i,o;const s=n[0]/255,a=n[1]/255,f=n[2]/255,m=Math.max(s,a,f),C=m-Math.min(s,a,f),B=function(I){return(m-I)/6/C+1/2};return C===0?(i=0,o=0):(o=C/m,e=B(s),t=B(a),r=B(f),s===m?i=r-t:a===m?i=1/3+e-r:f===m&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,m*100]};Vr.rgb.hwb=function(n){const e=n[0],t=n[1];let r=n[2];const i=Vr.rgb.hsl(n)[0],o=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,o*100,r*100]};Vr.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(1-e,1-t,1-r),o=(1-e-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Oie(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}Vr.rgb.keyword=function(n){const e=dN[n];if(e)return e;let t=1/0,r;for(const i of Object.keys(Ob)){const o=Ob[i],s=Oie(n,o);s<t&&(t=s,r=i)}return r};Vr.keyword.rgb=function(n){return Ob[n]};Vr.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=e*.4124+t*.3576+r*.1805,o=e*.2126+t*.7152+r*.0722,s=e*.0193+t*.1192+r*.9505;return[i*100,o*100,s*100]};Vr.rgb.lab=function(n){const e=Vr.rgb.xyz(n);let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(t-r),a=200*(r-i);return[o,s,a]};Vr.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;let i,o,s;if(t===0)return s=r*255,[s,s,s];r<.5?i=r*(1+t):i=r+t-r*t;const a=2*r-i,f=[0,0,0];for(let m=0;m<3;m++)o=e+1/3*-(m-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,f[m]=s*255;return f};Vr.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,r=n[2]/100,i=t;const o=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+t)/2,a=r===0?2*i/(o+i):2*t/(r+t);return[e,a*100,s*100]};Vr.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let r=n[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-t),a=255*r*(1-t*o),f=255*r*(1-t*(1-o));switch(r*=255,i){case 0:return[r,f,s];case 1:return[a,r,s];case 2:return[s,r,f];case 3:return[s,a,r];case 4:return[f,s,r];case 5:return[r,s,a]}};Vr.hsv.hsl=function(n){const e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01);let o,s;s=(2-t)*r;const a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};Vr.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,r=n[2]/100;const i=t+r;let o;i>1&&(t/=i,r/=i);const s=Math.floor(6*e),a=1-r;o=6*e-s,s&1&&(o=1-o);const f=t+o*(a-t);let m,C,B;switch(s){default:case 6:case 0:m=a,C=f,B=t;break;case 1:m=f,C=a,B=t;break;case 2:m=t,C=a,B=f;break;case 3:m=t,C=f,B=a;break;case 4:m=f,C=t,B=a;break;case 5:m=a,C=t,B=f;break}return[m*255,C*255,B*255]};Vr.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};Vr.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,r=n[2]/100;let i,o,s;return i=e*3.2406+t*-1.5372+r*-.4986,o=e*-.9689+t*1.8758+r*.0415,s=e*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};Vr.xyz.lab=function(n){let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*t-16,o=500*(e-t),s=200*(t-r);return[i,o,s]};Vr.lab.xyz=function(n){const e=n[0],t=n[1],r=n[2];let i,o,s;o=(e+16)/116,i=t/500+o,s=o-r/200;const a=o**3,f=i**3,m=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,s=m>.008856?m:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};Vr.lab.lch=function(n){const e=n[0],t=n[1],r=n[2];let i;i=Math.atan2(r,t)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(t*t+r*r);return[e,s,i]};Vr.lch.lab=function(n){const e=n[0],t=n[1],i=n[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[e,o,s]};Vr.rgb.ansi16=function(n,e=null){const[t,r,i]=n;let o=e===null?Vr.rgb.hsv(n)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};Vr.hsv.ansi16=function(n){return Vr.rgb.ansi16(Vr.hsv.rgb(n),n[2])};Vr.rgb.ansi256=function(n){const e=n[0],t=n[1],r=n[2];return e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};Vr.ansi16.rgb=function(n){let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(~~(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[r,i,o]};Vr.ansi256.rgb=function(n){if(n>=232){const o=(n-232)*10+8;return[o,o,o]}n-=16;let e;const t=Math.floor(n/36)/5*255,r=Math.floor((e=n%36)/6)/5*255,i=e%6/5*255;return[t,r,i]};Vr.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};Vr.hex.rgb=function(n){const e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const r=parseInt(t,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};Vr.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),o=Math.min(Math.min(e,t),r),s=i-o;let a,f;return s<1?a=o/(1-s):a=0,s<=0?f=0:i===e?f=(t-r)/s%6:i===t?f=2+(r-e)/s:f=4+(e-t)/s,f/=6,f%=1,[f*360,s*100,a*100]};Vr.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=t<.5?2*e*t:2*e*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};Vr.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,r=e*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};Vr.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];const i=[0,0,0],o=e%1*6,s=o%1,a=1-s;let f=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return f=(1-t)*r,[(t*i[0]+f)*255,(t*i[1]+f)*255,(t*i[2]+f)*255]};Vr.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);let i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};Vr.hcg.hsl=function(n){const e=n[1]/100,r=n[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};Vr.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};Vr.hwb.hcg=function(n){const e=n[1]/100,r=1-n[2]/100,i=r-e;let o=0;return i<1&&(o=(r-i)/(1-i)),[n[0],i*100,o*100]};Vr.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Vr.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Vr.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Vr.gray.hsl=function(n){return[0,0,n[0]]};Vr.gray.hsv=Vr.gray.hsl;Vr.gray.hwb=function(n){return[0,100,n[0]]};Vr.gray.cmyk=function(n){return[0,0,0,n[0]]};Vr.gray.lab=function(n){return[n[0],0,0]};Vr.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};Vr.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const aw=fN;function Bie(){const n={},e=Object.keys(aw);for(let t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function Iie(n){const e=Bie(),t=[n];for(e[n].distance=0;t.length;){const r=t.pop(),i=Object.keys(aw[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],f=e[a];f.distance===-1&&(f.distance=e[r].distance+1,f.parent=r,t.unshift(a))}}return e}function kie(n,e){return function(t){return e(n(t))}}function Tie(n,e){const t=[e[n].parent,n];let r=aw[e[n].parent][n],i=e[n].parent;for(;e[i].parent;)t.unshift(e[i].parent),r=kie(aw[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}var Pie=function(n){const e=Iie(n),t={},r=Object.keys(e);for(let i=r.length,o=0;o<i;o++){const s=r[o];e[s].parent!==null&&(t[s]=Tie(s,e))}return t};const lB=fN,Kie=Pie,py={},Lie=Object.keys(lB);function Die(n){const e=function(...t){const r=t[0];return r==null?r:(r.length>1&&(t=r),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function Fie(n){const e=function(...t){const r=t[0];if(r==null)return r;r.length>1&&(t=r);const i=n(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in n&&(e.conversion=n.conversion),e}Lie.forEach(n=>{py[n]={},Object.defineProperty(py[n],"channels",{value:lB[n].channels}),Object.defineProperty(py[n],"labels",{value:lB[n].labels});const e=Kie(n);Object.keys(e).forEach(r=>{const i=e[r];py[n][r]=Fie(i),py[n][r].raw=Die(i)})});var Rie=py;const my=Eie,vh=Rie,pN=["keyword","gray","hex"],uB={};for(const n of Object.keys(vh))uB[[...vh[n].labels].sort().join("")]=n;const sw={};function Ru(n,e){if(!(this instanceof Ru))return new Ru(n,e);if(e&&e in pN&&(e=null),e&&!(e in vh))throw new Error("Unknown model: "+e);let t,r;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof Ru)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){const i=my.get(n);if(i===null)throw new Error("Unable to parse color from string: "+n);this.model=i.model,r=vh[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(n.length>0){this.model=e||"rgb",r=vh[this.model].channels;const i=Array.prototype.slice.call(n,0,r);this.color=AB(i,r),this.valpha=typeof n[r]=="number"?n[r]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(n);"alpha"in n&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);const o=i.sort().join("");if(!(o in uB))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=uB[o];const{labels:s}=vh[this.model],a=[];for(t=0;t<s.length;t++)a.push(n[s[t]]);this.color=AB(a)}if(sw[this.model])for(r=vh[this.model].channels,t=0;t<r;t++){const i=sw[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Ru.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let e=this.model in my.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);const t=e.valpha===1?e.color:[...e.color,this.valpha];return my.to[e.model](t)},percentString(n){const e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return my.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const n={},{channels:e}=vh[this.model],{labels:t}=vh[this.model];for(let r=0;r<e;r++)n[t[r]]=this.color[r];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){const n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){const n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new Ru([...this.color.map(zie(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new Ru([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:ll("rgb",0,lu(255)),green:ll("rgb",1,lu(255)),blue:ll("rgb",2,lu(255)),hue:ll(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:ll("hsl",1,lu(100)),lightness:ll("hsl",2,lu(100)),saturationv:ll("hsv",1,lu(100)),value:ll("hsv",2,lu(100)),chroma:ll("hcg",1,lu(100)),gray:ll("hcg",2,lu(100)),white:ll("hwb",1,lu(100)),wblack:ll("hwb",2,lu(100)),cyan:ll("cmyk",0,lu(100)),magenta:ll("cmyk",1,lu(100)),yellow:ll("cmyk",2,lu(100)),black:ll("cmyk",3,lu(100)),x:ll("xyz",0,lu(95.047)),y:ll("xyz",1,lu(100)),z:ll("xyz",2,lu(108.833)),l:ll("lab",0,lu(100)),a:ll("lab",1),b:ll("lab",2),keyword(n){return n!==void 0?new Ru(n):vh[this.model].keyword(this.color)},hex(n){return n!==void 0?new Ru(n):my.to.hex(this.rgb().round().color)},hexa(n){if(n!==void 0)return new Ru(n);const e=this.rgb().round().color;let t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),my.to.hex(e)+t},rgbNumber(){const n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){const n=this.rgb().color,e=[];for(const[t,r]of n.entries()){const i=r/255;e[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(n){const e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(n){const e=this.contrast(n);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const n=this.rgb();for(let e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten(n){const e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken(n){const e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate(n){const e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate(n){const e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten(n){const e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken(n){const e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale(){const n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return Ru.rgb(e,e,e)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){const e=this.hsl();let t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);const t=n.rgb(),r=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=t.alpha()-r.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,f=1-a;return Ru.rgb(a*t.red()+f*r.red(),a*t.green()+f*r.green(),a*t.blue()+f*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};for(const n of Object.keys(vh)){if(pN.includes(n))continue;const{channels:e}=vh[n];Ru.prototype[n]=function(...t){return this.model===n?new Ru(this):t.length>0?new Ru(t,n):new Ru([...jie(vh[this.model][n].raw(this.color)),this.valpha],n)},Ru[n]=function(...t){let r=t[0];return typeof r=="number"&&(r=AB(t,e)),new Ru(r,n)}}function Uie(n,e){return Number(n.toFixed(e))}function zie(n){return function(e){return Uie(e,n)}}function ll(n,e,t){n=Array.isArray(n)?n:[n];for(const r of n)(sw[r]||(sw[r]=[]))[e]=t;return n=n[0],function(r){let i;return r!==void 0?(t&&(r=t(r)),i=this[n](),i.color[e]=r,i):(i=this[n]().color[e],t&&(i=t(i)),i)}}function lu(n){return function(e){return Math.max(0,Math.min(n,e))}}function jie(n){return Array.isArray(n)?n:[n]}function AB(n,e){for(let t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}var Nie=Ru;const cB=wa(Nie);function Wo(){var n="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",e="9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:8,column:4},end:{line:8,column:20}},4:{start:{line:9,column:4},end:{line:9,column:52}},5:{start:{line:10,column:4},end:{line:10,column:93}},6:{start:{line:11,column:4},end:{line:11,column:70}},7:{start:{line:12,column:4},end:{line:12,column:27}},8:{start:{line:13,column:4},end:{line:13,column:29}},9:{start:{line:14,column:4},end:{line:14,column:27}},10:{start:{line:17,column:4},end:{line:17,column:60}},11:{start:{line:20,column:4},end:{line:22,column:6}},12:{start:{line:23,column:4},end:{line:23,column:57}},13:{start:{line:24,column:4},end:{line:24,column:27}},14:{start:{line:27,column:4},end:{line:27,column:57}},15:{start:{line:27,column:33},end:{line:27,column:55}},16:{start:{line:28,column:4},end:{line:28,column:57}},17:{start:{line:28,column:33},end:{line:28,column:55}},18:{start:{line:29,column:4},end:{line:29,column:58}},19:{start:{line:29,column:34},end:{line:29,column:56}},20:{start:{line:32,column:4},end:{line:32,column:60}},21:{start:{line:33,column:4},end:{line:33,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:16},end:{line:6,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:13},end:{line:15,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:20},end:{line:18,column:3}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:18},end:{line:25,column:3}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:22},end:{line:30,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:27,column:55}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:28,column:27},end:{line:28,column:28}},loc:{start:{line:28,column:33},end:{line:28,column:55}},line:28},7:{name:"(anonymous_7)",decl:{start:{line:29,column:28},end:{line:29,column:29}},loc:{start:{line:29,column:34},end:{line:29,column:56}},line:29},8:{name:"(anonymous_8)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:13},end:{line:34,column:3}},line:31}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,cAAc;AAAA,EAAC;AAAA,EAEf,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,SAAS,OAAO;AACrB,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,SAAS,OAAe;AACtB,SAAK,WAAY,YAAY;AAAA,QACzB,KAAK;AAAA;AAET,SAAK,UAAU,KAAK,WAAY,cAAc,MAAM;AACpD,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9dd3eea5f46b0cc48ff3173a7af02bc32aa63f10"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Wo=function(){return s},s}Wo();class Wie{constructor(){dn(this,"_map",(Wo().s[0]++,void 0));dn(this,"_container",(Wo().s[1]++,void 0));dn(this,"_textEl",(Wo().s[2]++,null));Wo().f[0]++}onAdd(e){return Wo().f[1]++,Wo().s[3]++,this._map=e,Wo().s[4]++,this._container=document.createElement("div"),Wo().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",Wo().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),Wo().s[7]++,this.setLabel("Zoom:"),Wo().s[8]++,this.addEventListeners(),Wo().s[9]++,this._container}updateZoomLevel(){Wo().f[2]++,Wo().s[10]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}setLabel(e){Wo().f[3]++,Wo().s[11]++,this._container.innerHTML=`
      ${e} <span></span>
    `,Wo().s[12]++,this._textEl=this._container.querySelector("span"),Wo().s[13]++,this.updateZoomLevel()}addEventListeners(){Wo().f[4]++,Wo().s[14]++,this._map.on("render",()=>(Wo().f[5]++,Wo().s[15]++,this.updateZoomLevel())),Wo().s[16]++,this._map.on("zoomIn",()=>(Wo().f[6]++,Wo().s[17]++,this.updateZoomLevel())),Wo().s[18]++,this._map.on("zoomOut",()=>(Wo().f[7]++,Wo().s[19]++,this.updateZoomLevel()))}onRemove(){Wo().f[8]++,Wo().s[20]++,this._container.parentNode.removeChild(this._container),Wo().s[21]++,this._map=void 0}}function hB(n,e,t){const r={id:[e,t,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":n,"circle-radius":2},filter:["==","$type","Point"]};return t&&(r["source-layer"]=t),r}function dB(n,e,t,r){const i={id:[t,r,"polygon"].join("_"),source:t,type:"fill",paint:{"fill-color":n,"fill-antialias":!0,"fill-outline-color":n},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function fB(n,e,t){const r={id:[e,t,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":n},filter:["==","$type","LineString"]};return t&&(r["source-layer"]=t),r}function Gie(n,e){const t=[],r=[],i=[];function o(s){return{circle:e(s,.8),line:e(s,.6),polygon:e(s,.3),polygonOutline:e(s,.6),default:e(s,1)}}return Object.keys(n).forEach(s=>{const a=n[s];if(!a||a.length===0){const f=o(s);r.push(hB(f.circle,s)),i.push(fB(f.line,s)),t.push(dB(f.polygon,f.polygonOutline,s))}else a.forEach(f=>{const m=o(f);r.push(hB(m.circle,s,f)),i.push(fB(m.line,s,f)),t.push(dB(m.polygon,m.polygonOutline,s,f))})}),t.concat(i).concat(r)}function Qie(n,e,t){t=Object.assign({backgroundColor:"#fff"},t);const r={id:"background",type:"background",paint:{"background-color":t.backgroundColor}},i={};return Object.keys(n.sources).forEach(o=>{const s=n.sources[o];(s.type==="vector"||s.type==="geojson")&&(i[o]=s)}),Object.assign(n,{layers:[r].concat(e),sources:i})}const SE={polygonLayer:dB,lineLayer:fB,circleLayer:hB,generateInspectStyle:Qie,generateColoredLayers:Gie};function Pi(){var n="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",e="aec0f701e803624fae461cc89b5fc887ff556587",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:18,column:84}},10:{start:{line:18,column:72},end:{line:18,column:84}},11:{start:{line:19,column:24},end:{line:19,column:51}},12:{start:{line:20,column:16},end:{line:20,column:52}},13:{start:{line:21,column:2},end:{line:23,column:3}},14:{start:{line:22,column:4},end:{line:22,column:104}},15:{start:{line:24,column:2},end:{line:26,column:3}},16:{start:{line:25,column:4},end:{line:25,column:96}},17:{start:{line:27,column:2},end:{line:29,column:3}},18:{start:{line:28,column:4},end:{line:28,column:94}},19:{start:{line:30,column:2},end:{line:30,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:31,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:18,column:84}},type:"if",locations:[{start:{line:18,column:2},end:{line:18,column:84}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:19,column:24},end:{line:19,column:51}},type:"binary-expr",locations:[{start:{line:19,column:24},end:{line:19,column:45}},{start:{line:19,column:49},end:{line:19,column:51}}],line:19},6:{loc:{start:{line:21,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:23,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},7:{loc:{start:{line:21,column:6},end:{line:21,column:62}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:27}},{start:{line:21,column:31},end:{line:21,column:62}}],line:21},8:{loc:{start:{line:24,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},9:{loc:{start:{line:24,column:6},end:{line:24,column:56}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:29}},{start:{line:24,column:33},end:{line:24,column:56}}],line:24},10:{loc:{start:{line:27,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:27,column:2},end:{line:29,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS,SAAU,QAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aec0f701e803624fae461cc89b5fc887ff556587"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Pi=function(){return s},s}Pi();function EE(n,e){return Pi().f[0]++,Pi().s[0]++,n.type==="circle"?(Pi().b[0][0]++,Pi().s[1]++,n.paint["circle-radius"]=3):(Pi().b[0][1]++,Pi().s[2]++,n.type==="line"?(Pi().b[1][0]++,Pi().s[3]++,n.paint["line-width"]=2):Pi().b[1][1]++),Pi().s[4]++,"filter"in e?(Pi().b[2][0]++,Pi().s[5]++,n.filter=e.filter):(Pi().b[2][1]++,Pi().s[6]++,delete n.filter),Pi().s[7]++,n.id=n.id+"_highlight",Pi().s[8]++,n}function $ie(n){if(Pi().f[1]++,Pi().s[9]++,Pi().b[4][0]++,!n||(Pi().b[4][1]++,n.type==="background")||(Pi().b[4][2]++,n.type==="raster"))return Pi().b[3][0]++,Pi().s[10]++,null;Pi().b[3][1]++;const e=(Pi().s[11]++,Pi().b[5][0]++,n["source-layer"]||(Pi().b[5][1]++,"")),t=(Pi().s[12]++,tN.brightColor(e,1));return Pi().s[13]++,Pi().b[7][0]++,n.type==="fill"||(Pi().b[7][1]++,n.type==="fill-extrusion")?(Pi().b[6][0]++,Pi().s[14]++,EE(SE.polygonLayer(t,t,n.source,n["source-layer"]),n)):(Pi().b[6][1]++,Pi().s[15]++,Pi().b[9][0]++,n.type==="symbol"||(Pi().b[9][1]++,n.type==="circle")?(Pi().b[8][0]++,Pi().s[16]++,EE(SE.circleLayer(t,n.source,n["source-layer"]),n)):(Pi().b[8][1]++,Pi().s[17]++,n.type==="line"?(Pi().b[10][0]++,Pi().s[18]++,EE(SE.lineLayer(t,n.source,n["source-layer"]),n)):(Pi().b[10][1]++,Pi().s[19]++,null)))}function cI(){var n="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",e="a9dc98f82c73787713de0672aff7a601bfeb069d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return cI=function(){return s},s}cI();cI().s[0]++;mC.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);var yC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function q5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mN=qie,Yie=Object.prototype.hasOwnProperty;function qie(){for(var n={},e=0;e<arguments.length;e++){var t=arguments[e];for(var r in t)Yie.call(t,r)&&(n[r]=t[r])}return n}var ph=q5(mN),gN={exports:{}};(function(n,e){(function(){var t={};n.exports=t,t.simpleFilter=function(r,i){return i.filter(function(o){return t.test(r,o)})},t.test=function(r,i){return t.match(r,i)!==null},t.match=function(r,i,o){o=o||{};var s=0,a=[],f=i.length,m=0,C=0,B=o.pre||"",I=o.post||"",K=o.caseSensitive&&i||i.toLowerCase(),L;r=o.caseSensitive&&r||r.toLowerCase();for(var Y=0;Y<f;Y++)L=i[Y],K[Y]===r[s]?(L=B+L+I,s+=1,C+=1+C):C=0,m+=C,a[a.length]=L;return s===r.length?(m=K===r?1/0:m,{rendered:a.join(""),score:m}):null},t.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(s,a,f,m){var C=a;o.extract&&(C=o.extract(a));var B=t.match(r,C,o);return B!=null&&(s[s.length]={string:B.rendered,score:B.score,index:f,original:a}),s},[]).sort(function(s,a){var f=a.score-s.score;return f||s.index-a.index}))}})()})(gN);var Vie=gN.exports,Fc=function(n){return this.component=n,this.items=[],this.active=n.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,n.el.parentNode.insertBefore(this.wrapper,n.el.nextSibling),this};Fc.prototype.show=function(){this.element.style.display="block"};Fc.prototype.hide=function(){this.element.style.display="none"};Fc.prototype.add=function(n){this.items.push(n)};Fc.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0};Fc.prototype.isEmpty=function(){return!this.items.length};Fc.prototype.isVisible=function(){return this.element.style.display==="block"};Fc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var n=0;n<this.items.length;n++)this.drawItem(this.items[n],this.active===n);this.show()};Fc.prototype.drawItem=function(n,e){var t=document.createElement("li"),r=document.createElement("a");e&&(t.className+=" active"),r.innerHTML=n.string,t.appendChild(r),this.element.appendChild(t),t.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),t.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,n)}).bind(this))};Fc.prototype.handleMouseUp=function(n){this.selectingListItem=!1,this.component.value(n.original),this.clear(),this.draw()};Fc.prototype.move=function(n){this.active=n,this.draw()};Fc.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)};Fc.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)};Fc.prototype.drawError=function(n){var e=document.createElement("li");e.innerHTML=n,this.element.appendChild(e),this.show()};var Hie=Fc,Zie=mN,Xie=Vie,Jie=Hie,UA=function(n,e,t){return t=t||{},this.options=Zie({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},t),this.el=n,this.data=e||[],this.list=new Jie(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode,r)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};UA.prototype.handleKeyUp=function(n,e){if(!(n===40||n===38||n===27||n===9)){if(n===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),e.stopPropagation());return}this.handleInputChange(this.el.value)}};UA.prototype.handleKeyDown=function(n){switch(n.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&n.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};UA.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};UA.prototype.handlePaste=function(n){if(n.clipboardData)this.handleInputChange(n.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(n.target.value)},100)}};UA.prototype.handleInputChange=function(n){if(this.query=this.normalize(n),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}).bind(this))};UA.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};UA.prototype.update=function(n){this.data=n,this.handleKeyUp()};UA.prototype.clear=function(){this.data=[],this.list.clear()};UA.prototype.normalize=function(n){return n=n.toLowerCase(),n};UA.prototype.match=function(n,e){return n.indexOf(e)>-1};UA.prototype.value=function(n){if(this.selected=n,this.el.value=this.getItemValue(n||{place_name:this.query}),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")};UA.prototype.getCandidates=function(n){var e={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},t;this.options.filter?(t=Xie.filter(this.query,this.data,e),t=t.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):t=this.data.map((function(r){var i=this.render(r);return{original:r,string:i}}).bind(this)),n(t)};UA.prototype.getItemValue=function(n){return n};UA.prototype.render=function(n,e){if(e)return e;for(var t=n.original?this.getItemValue(n.original):this.getItemValue(n),r=this.normalize(t),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;t=t.slice(0,i)+"<strong>"+t.slice(i,o)+"</strong>"+t.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return t};UA.prototype.renderError=function(n){this.list.drawError(n)};var eoe=UA,yN=eoe,toe=yN;typeof window<"u"&&(window.Suggestions=yN);var noe=q5(toe),vN={exports:{}};(function(n){(function(e,t,r){n.exports?n.exports=r():e[t]=r()})(yC,"subtag",function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(f){return f.match(t)||[]}function i(f){return r(f).filter(function(m,C){return m&&C})}function o(f){return f=r(f),{language:f[1]||e,extlang:f[2]||e,script:f[3]||e,region:f[4]||e}}function s(f,m,C){Object.defineProperty(f,m,{value:C,enumerable:!0})}function a(f,m,C){function B(I){return r(I)[f]||e}s(B,"pattern",m),s(o,C,B)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(o,"split",i),o})})(vN);var roe=vN.exports,ioe=q5(roe),ooe="Expected a function",JP=NaN,aoe="[object Symbol]",soe=/^\s+|\s+$/g,loe=/^[-+]0x[0-9a-f]+$/i,uoe=/^0b[01]+$/i,Aoe=/^0o[0-7]+$/i,coe=parseInt,hoe=typeof yC=="object"&&yC&&yC.Object===Object&&yC,doe=typeof self=="object"&&self&&self.Object===Object&&self,foe=hoe||doe||Function("return this")(),poe=Object.prototype,moe=poe.toString,goe=Math.max,yoe=Math.min,OE=function(){return foe.Date.now()};function voe(n,e,t){var r,i,o,s,a,f,m=0,C=!1,B=!1,I=!0;if(typeof n!="function")throw new TypeError(ooe);e=eK(e)||0,pB(t)&&(C=!!t.leading,B="maxWait"in t,o=B?goe(eK(t.maxWait)||0,e):o,I="trailing"in t?!!t.trailing:I);function K(fe){var H=r,X=i;return r=i=void 0,m=fe,s=n.apply(X,H),s}function L(fe){return m=fe,a=setTimeout(V,e),C?K(fe):s}function Y(fe){var H=fe-f,X=fe-m,Me=e-H;return B?yoe(Me,o-X):Me}function ee(fe){var H=fe-f,X=fe-m;return f===void 0||H>=e||H<0||B&&X>=o}function V(){var fe=OE();if(ee(fe))return W(fe);a=setTimeout(V,Y(fe))}function W(fe){return a=void 0,I&&r?K(fe):(r=i=void 0,s)}function ne(){a!==void 0&&clearTimeout(a),m=0,r=f=i=a=void 0}function ce(){return a===void 0?s:W(OE())}function ge(){var fe=OE(),H=ee(fe);if(r=arguments,i=this,f=fe,H){if(a===void 0)return L(f);if(B)return a=setTimeout(V,e),K(f)}return a===void 0&&(a=setTimeout(V,e)),s}return ge.cancel=ne,ge.flush=ce,ge}function pB(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function _oe(n){return!!n&&typeof n=="object"}function Coe(n){return typeof n=="symbol"||_oe(n)&&moe.call(n)==aoe}function eK(n){if(typeof n=="number")return n;if(Coe(n))return JP;if(pB(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=pB(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(soe,"");var t=uoe.test(n);return t||Aoe.test(n)?coe(n.slice(2),t?2:8):loe.test(n)?JP:+n}var boe=voe,xoe=q5(boe),hI={exports:{}},rv=typeof Reflect=="object"?Reflect:null,tK=rv&&typeof rv.apply=="function"?rv.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},n4;rv&&typeof rv.ownKeys=="function"?n4=rv.ownKeys:Object.getOwnPropertySymbols?n4=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:n4=function(e){return Object.getOwnPropertyNames(e)};function woe(n){console&&console.warn&&console.warn(n)}var _N=Number.isNaN||function(e){return e!==e};function Pa(){Pa.init.call(this)}hI.exports=Pa;hI.exports.once=Ooe;Pa.EventEmitter=Pa;Pa.prototype._events=void 0;Pa.prototype._eventsCount=0;Pa.prototype._maxListeners=void 0;var nK=10;function V5(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Pa,"defaultMaxListeners",{enumerable:!0,get:function(){return nK},set:function(n){if(typeof n!="number"||n<0||_N(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");nK=n}});Pa.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pa.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_N(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function CN(n){return n._maxListeners===void 0?Pa.defaultMaxListeners:n._maxListeners}Pa.prototype.getMaxListeners=function(){return CN(this)};Pa.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")tK(f,this,t);else for(var m=f.length,C=SN(f,m),r=0;r<m;++r)tK(C[r],this,t);return!0};function bN(n,e,t,r){var i,o,s;if(V5(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),s=o[e]),s===void 0)s=o[e]=t,++n._eventsCount;else if(typeof s=="function"?s=o[e]=r?[t,s]:[s,t]:r?s.unshift(t):s.push(t),i=CN(n),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=s.length,woe(a)}return n}Pa.prototype.addListener=function(e,t){return bN(this,e,t,!1)};Pa.prototype.on=Pa.prototype.addListener;Pa.prototype.prependListener=function(e,t){return bN(this,e,t,!0)};function Moe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xN(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=Moe.bind(r);return i.listener=t,r.wrapFn=i,i}Pa.prototype.once=function(e,t){return V5(t),this.on(e,xN(this,e,t)),this};Pa.prototype.prependOnceListener=function(e,t){return V5(t),this.prependListener(e,xN(this,e,t)),this};Pa.prototype.removeListener=function(e,t){var r,i,o,s,a;if(V5(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():Soe(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};Pa.prototype.off=Pa.prototype.removeListener;Pa.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function wN(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Eoe(i):SN(i,i.length)}Pa.prototype.listeners=function(e){return wN(this,e,!0)};Pa.prototype.rawListeners=function(e){return wN(this,e,!1)};Pa.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):MN.call(n,e)};Pa.prototype.listenerCount=MN;function MN(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Pa.prototype.eventNames=function(){return this._eventsCount>0?n4(this._events):[]};function SN(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function Soe(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function Eoe(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function Ooe(n,e){return new Promise(function(t,r){function i(s){n.removeListener(e,o),r(s)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}EN(n,e,o,{once:!0}),e!=="error"&&Boe(n,i,{once:!0})})}function Boe(n,e,t){typeof n.on=="function"&&EN(n,"error",e,t)}function EN(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(o){r.once&&n.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Ioe=hI.exports;const rK={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},koe={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""};class Toe{constructor(e,t){this.options={zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:void 0,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:r=>r.text!==void 0?r.text:r.place_name,render:function(r){if(!r.geometry){const o=r.text,s=o.toLowerCase().indexOf(this.query.toLowerCase()),a=this.query.length,f=o.substring(0,s),m=o.substring(s,s+a),C=o.substring(s+a);return'<div class="maplibregl-ctrl-geocoder--suggestion"><svg class="maplibregl-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="maplibregl-ctrl-geocoder--suggestion-info"><div class="maplibregl-ctrl-geocoder--suggestion-title">'+f+'<span class="maplibregl-ctrl-geocoder--suggestion-match">'+m+"</span>"+C+"</div></div></div>"}const i=r.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--result"><svg class="maplibregl-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="maplibregl-ctrl-geocoder--result-title">'+i[0]+'</div><div class="maplibregl-ctrl-geocoder--result-address">'+i.splice(1,i.length).join(",")+"</div></div></div>"},popupRender:r=>{const i=r.place_name.split(",");return'<div class="maplibregl-ctrl-geocoder--suggestion popup-suggestion"><div class="maplibregl-ctrl-geocoder--suggestion-title popup-suggestion-title">'+i[0]+'</div><div class="maplibregl-ctrl-geocoder--suggestion-address popup-suggestion-address">'+i.splice(1,i.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},this._eventEmitter=new Ioe.EventEmitter,this.options=ph({},this.options,t),this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}addTo(e){function t(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=r.onAdd();i.appendChild(o)}if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const r=document.querySelectorAll(e);if(r.length===0)throw new Error("Element "+e+"not found.");if(r.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,r[0])}else if("addControl"in e)e.addControl(this);else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")}onAdd(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);const t=this.container=document.createElement("div");t.className="maplibregl-ctrl-geocoder maplibregl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";const r=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",xoe(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);const i=document.createElement("div");i.classList.add("maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("type","button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="maplibregl-ctrl-geocoder--button";const o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),i.appendChild(this._clearEl),i.appendChild(this._loadingEl),t.appendChild(r),t.appendChild(this._inputEl),t.appendChild(i),this._typeahead=new noe(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t}createIcon(e,t){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r.setAttribute("class","maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),r.setAttribute("viewBox","0 0 18 18"),r.setAttribute("xml:space","preserve"),r.setAttribute("width","18"),r.setAttribute("height","18"),"innerHTML"in r)r.innerHTML=t;else{const i=document.createElement("div");i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";const o=i.firstChild,s=o.firstChild;r.appendChild(s)}return r}onRemove(){return this.container.remove(),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this}_onPaste(e){const t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)}_onKeyDown(e){if(e.keyCode===27&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();const i=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!(i?i.value:""))return this.fresh=!0,e.keyCode!==9&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[9,27,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(i.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(i.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}i.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(i.value)}}_showButton(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")}_hideButton(){this._typeahead.selected&&(this._clearEl.style.display="none")}_onBlur(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()}_onChange(){const e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){let t;if(this._removeResultMarkers(),e.properties&&rK[e.properties.short_code])t=ph({},this.options.flyTo),this._map&&this._map.fitBounds(rK[e.properties.short_code].bbox,t);else if(e.bbox){const r=e.bbox;t=ph({},this.options.flyTo),this._map&&this._map.fitBounds([[r[0],r[1]],[r[2],r[3]]],t)}else{const r={zoom:this.options.zoom};t=ph({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}}_getConfigForRequest(){return["bbox","limit","proximity","countries","types","language","reverseMode"].reduce((r,i)=>(this.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=this.options[i].split(/[\s,]+/):r[i]=this.options[i],i==="proximity"&&this.options[i]&&typeof this.options[i].longitude=="number"&&typeof this.options[i].latitude=="number"&&(r[i]=[this.options[i].longitude,this.options[i].latitude])),r),{})}_geocode(e,t=!1,r=!1){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e});let i=null,o=this._getConfigForRequest(),s;if(this.options.localGeocoderOnly)s=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){const m=e.split(/[\s(,)?]+/).map(C=>parseFloat(C)).reverse();o=ph(o,{query:m,limit:1}),"proximity"in o&&delete o.proximity,s=this.geocoderApi.reverseGeocode(o)}else o=ph(o,{query:e}),this.geocoderApi.getSuggestions?t?this.geocoderApi.searchByPlaceId&&r?s=this.geocoderApi.searchByPlaceId(o):s=this.geocoderApi.forwardGeocode(o):s=this.geocoderApi.getSuggestions(o):s=this.geocoderApi.forwardGeocode(o);let a=[];this.options.localGeocoder&&(a=this.options.localGeocoder(e),a||(a=[]));let f=Promise.resolve([]);return s.catch(m=>{i=m}).then(m=>{this._loadingEl.style.display="none";let C={};return m?C=m:C={type:"FeatureCollection",features:[]},C.config=o,this.fresh&&(this.fresh=!1),C.features=C.features?a.concat(C.features):a,this.options.externalGeocoder?(f=this.options.externalGeocoder(e,C.features,o)||Promise.resolve([]),f.then(function(B){return C.features=C.features?B.concat(C.features):B,C},function(){return C})):C}).then(m=>{if(i)throw i;this.options.filter&&m.features.length&&(m.features=m.features.filter(this.options.filter));let C=[];m.suggestions?C=m.suggestions:m.place?C=[m.place]:C=m.features,C.length?(this._clearEl.style.display="block",this._typeahead.update(C),(!this.options.showResultsWhileTyping||t)&&this.options.showResultMarkers&&(m.features.length>0||m.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",m)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",m))}).catch(m=>{this._loadingEl.style.display="none",a.length&&this.options.localGeocoder||f.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(a)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:a}),this._eventEmitter.emit("error",{error:m})}),s}_clear(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0}clear(e){this._clear(e),this._inputEl.focus()}_clearOnBlur(e){e.relatedTarget&&this._clear(e)}_onQueryResult(e){const t=e;if(!t.features.length)return;const r=t.features[0];this._typeahead.selected=r,this._inputEl.value=r.place_name,this._onChange()}_updateProximity(){if(this._map)if(this._map.getZoom()>9){const e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)}_collapse(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("maplibregl-ctrl-geocoder--collapsed")}_unCollapse(){this.container.classList.remove("maplibregl-ctrl-geocoder--collapsed")}query(e){return this._geocode(e).then(this._onQueryResult),this}_renderError(){this._renderMessage("<div class='maplibre-gl-geocoder--error'>There was an error reaching the server</div>")}_renderNoResults(){this._renderMessage("<div class='maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>")}_renderMessage(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)}_getPlaceholderText(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){const e=this.options.language.split(",")[0],t=ioe.language(e),r=koe[t];if(r)return r}return"Search"}_fitBoundsForMarkers(){if(this._typeahead.data.length<1)return;const e=this._typeahead.data.filter(function(t){return typeof t!="string"}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){const r=ph({},{padding:100},this.options.flyTo),i=new this._maplibregl.LngLatBounds;e.forEach(function(o){i.extend(o.geometry.coordinates)}),this._map.fitBounds(i,r)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}setInput(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this}setProximity(e){return this.options.proximity=e,this}getProximity(){return this.options.proximity}setRenderFunction(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this}getRenderFunction(){return this._typeahead.render}setLanguage(e){return this.options.language=e||this.options.language||navigator.language,this}getLanguage(){return this.options.language}getZoom(){return this.options.zoom}setZoom(e){return this.options.zoom=e,this}getFlyTo(){return this.options.flyTo}setFlyTo(e){return this.options.flyTo=e,this}getPlaceholder(){return this.options.placeholder}setPlaceholder(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this}getBbox(){return this.options.bbox}setBbox(e){return this.options.bbox=e,this}getCountries(){return this.options.countries}setCountries(e){return this.options.countries=e,this}getTypes(){return this.options.types}setTypes(e){return this.options.types=e,this}getMinLength(){return this.options.minLength}setMinLength(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this}getLimit(){return this.options.limit}setLimit(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this}getFilter(){return this.options.filter}setFilter(e){return this.options.filter=e,this}setGeocoderApi(e){return this.geocoderApi=e,this}getGeocoderApi(){return this.geocoderApi}_handleMarker(e){if(!this._map)return;this._removeMarker();const r=ph({},{color:"#4668F2"},this.options.marker);this.mapMarker=new this._maplibregl.Marker(r);let i;if(this.options.popup){const s=ph({},{},this.options.popup);i=new this._maplibregl.Popup(s).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(i)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(i)),this}_removeMarker(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)}_handleResultMarkers(e){if(!this._map)return;this._removeResultMarkers();let r=ph({},{color:"#4668F2"},this.options.showResultMarkers);for(const i of e){let o;if(this.options.showResultMarkers){this.options.showResultMarkers&&this.options.showResultMarkers.element&&(o=this.options.showResultMarkers.element.cloneNode(!0),r=ph(r,{element:o}));const s=new this._maplibregl.Marker(ph({},r,{element:o}));let a;if(this.options.popup){const m=ph({},{},this.options.popup);a=new this._maplibregl.Popup(m).setHTML(this.options.popupRender(i))}i.center?(s.setLngLat(i.center).addTo(this._map),this.options.popup&&s.setPopup(a)):i.geometry&&i.geometry.type&&i.geometry.type==="Point"&&i.geometry.coordinates&&(s.setLngLat(i.geometry.coordinates).addTo(this._map),this.options.popup&&s.setPopup(a)),this.resultMarkers.push(s)}}return this}_removeResultMarkers(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])}on(e,t){return this._eventEmitter.on(e,t),this}off(e,t){return this._eventEmitter.removeListener(e,t),this}}function an(){var n="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",e="3c5cfb4afb5483770f6919f2f66d47734075cb05",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:20,column:2},end:{line:20,column:36}},1:{start:{line:21,column:2},end:{line:21,column:19}},2:{start:{line:24,column:26},end:{line:30,column:3}},3:{start:{line:31,column:16},end:{line:31,column:55}},4:{start:{line:32,column:2},end:{line:34,column:3}},5:{start:{line:33,column:4},end:{line:33,column:30}},6:{start:{line:35,column:18},end:{line:35,column:20}},7:{start:{line:36,column:2},end:{line:41,column:5}},8:{start:{line:37,column:19},end:{line:37,column:53}},9:{start:{line:38,column:4},end:{line:40,column:5}},10:{start:{line:39,column:6},end:{line:39,column:33}},11:{start:{line:42,column:23},end:{line:46,column:3}},12:{start:{line:47,column:2},end:{line:47,column:22}},13:{start:{line:50,column:24},end:{line:60,column:3}},14:{start:{line:61,column:14},end:{line:61,column:18}},15:{start:{line:63,column:4},end:{line:63,column:17}},16:{start:{line:64,column:4},end:{line:69,column:6}},17:{start:{line:70,column:4},end:{line:72,column:7}},18:{start:{line:71,column:6},end:{line:71,column:25}},19:{start:{line:75,column:17},end:{line:75,column:22}},20:{start:{line:76,column:4},end:{line:79,column:5}},21:{start:{line:77,column:6},end:{line:77,column:132}},22:{start:{line:80,column:4},end:{line:80,column:18}},23:{start:{line:83,column:16},end:{line:83,column:30}},24:{start:{line:84,column:28},end:{line:84,column:79}},25:{start:{line:85,column:4},end:{line:90,column:5}},26:{start:{line:86,column:6},end:{line:86,column:52}},27:{start:{line:87,column:6},end:{line:87,column:70}},28:{start:{line:88,column:6},end:{line:88,column:70}},29:{start:{line:89,column:6},end:{line:89,column:76}},30:{start:{line:91,column:4},end:{line:93,column:5}},31:{start:{line:92,column:6},end:{line:92,column:43}},32:{start:{line:94,column:4},end:{line:99,column:5}},33:{start:{line:95,column:6},end:{line:95,column:59}},34:{start:{line:96,column:6},end:{line:98,column:14}},35:{start:{line:97,column:8},end:{line:97,column:36}},36:{start:{line:102,column:20},end:{line:111,column:5}},37:{start:{line:112,column:16},end:{line:112,column:43}},38:{start:{line:113,column:26},end:{line:117,column:5}},39:{start:{line:114,column:21},end:{line:114,column:36}},40:{start:{line:115,column:19},end:{line:115,column:32}},41:{start:{line:116,column:6},end:{line:116,column:44}},42:{start:{line:118,column:4},end:{line:118,column:20}},43:{start:{line:119,column:4},end:{line:119,column:56}},44:{start:{line:120,column:4},end:{line:120,column:56}},45:{start:{line:121,column:4},end:{line:121,column:62}},46:{start:{line:122,column:19},end:{line:122,column:41}},47:{start:{line:123,column:24},end:{line:123,column:41}},48:{start:{line:124,column:4},end:{line:124,column:45}},49:{start:{line:125,column:16},end:{line:125,column:74}},50:{start:{line:126,column:4},end:{line:126,column:37}},51:{start:{line:127,column:20},end:{line:127,column:49}},52:{start:{line:128,column:20},end:{line:148,column:6}},53:{start:{line:138,column:8},end:{line:138,column:82}},54:{start:{line:140,column:62},end:{line:140,column:141}},55:{start:{line:142,column:8},end:{line:146,column:9}},56:{start:{line:143,column:10},end:{line:143,column:108}},57:{start:{line:145,column:10},end:{line:145,column:160}},58:{start:{line:149,column:4},end:{line:149,column:28}},59:{start:{line:150,column:4},end:{line:158,column:7}},60:{start:{line:151,column:6},end:{line:157,column:9}},61:{start:{line:159,column:4},end:{line:164,column:7}},62:{start:{line:160,column:6},end:{line:160,column:40}},63:{start:{line:160,column:33},end:{line:160,column:40}},64:{start:{line:161,column:6},end:{line:163,column:9}},65:{start:{line:165,column:4},end:{line:167,column:7}},66:{start:{line:166,column:6},end:{line:166,column:30}},67:{start:{line:168,column:4},end:{line:172,column:7}},68:{start:{line:169,column:6},end:{line:171,column:9}},69:{start:{line:173,column:4},end:{line:173,column:37}},70:{start:{line:174,column:4},end:{line:174,column:37}},71:{start:{line:176,column:22},end:{line:179,column:3}},72:{start:{line:177,column:18},end:{line:177,column:82}},73:{start:{line:177,column:66},end:{line:177,column:81}},74:{start:{line:178,column:4},end:{line:178,column:36}},75:{start:{line:181,column:27},end:{line:214,column:5}},76:{start:{line:183,column:25},end:{line:183,column:27}},77:{start:{line:184,column:8},end:{line:209,column:9}},78:{start:{line:185,column:26},end:{line:185,column:138}},79:{start:{line:186,column:27},end:{line:186,column:47}},80:{start:{line:187,column:26},end:{line:187,column:47}},81:{start:{line:188,column:10},end:{line:206,column:11}},82:{start:{line:189,column:27},end:{line:192,column:13}},83:{start:{line:193,column:26},end:{line:204,column:13}},84:{start:{line:205,column:12},end:{line:205,column:33}},85:{start:{line:208,column:10},end:{line:208,column:69}},86:{start:{line:210,column:8},end:{line:212,column:10}},87:{start:{line:215,column:21},end:{line:218,column:6}},88:{start:{line:219,column:4},end:{line:219,column:41}},89:{start:{line:220,column:4},end:{line:220,column:20}},90:{start:{line:223,column:14},end:{line:223,column:26}},91:{start:{line:224,column:4},end:{line:224,column:53}},92:{start:{line:225,column:4},end:{line:225,column:49}},93:{start:{line:226,column:4},end:{line:235,column:6}},94:{start:{line:232,column:20},end:{line:232,column:38}},95:{start:{line:238,column:22},end:{line:238,column:62}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:19,column:9},end:{line:19,column:20}},loc:{start:{line:19,column:39},end:{line:22,column:1}},line:19},1:{name:"buildInspectStyle",decl:{start:{line:23,column:9},end:{line:23,column:26}},loc:{start:{line:23,column:78},end:{line:48,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:36,column:48},end:{line:36,column:49}},loc:{start:{line:36,column:62},end:{line:41,column:3}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:51,column:17},end:{line:51,column:18}},loc:{start:{line:51,column:23},end:{line:52,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:53,column:18},end:{line:53,column:19}},loc:{start:{line:53,column:24},end:{line:54,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:55,column:19},end:{line:55,column:20}},loc:{start:{line:55,column:25},end:{line:56,column:5}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:57,column:14},end:{line:57,column:15}},loc:{start:{line:57,column:20},end:{line:58,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:21},end:{line:73,column:3}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:70,column:34},end:{line:70,column:35}},loc:{start:{line:70,column:40},end:{line:72,column:5}},line:70},9:{name:"(anonymous_9)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:46},end:{line:81,column:3}},line:74},10:{name:"(anonymous_10)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:23},end:{line:100,column:3}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:7}},line:96},12:{name:"(anonymous_12)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:22},end:{line:175,column:3}},line:101},13:{name:"(anonymous_13)",decl:{start:{line:113,column:26},end:{line:113,column:27}},loc:{start:{line:113,column:32},end:{line:117,column:5}},line:113},14:{name:"(anonymous_14)",decl:{start:{line:137,column:24},end:{line:137,column:25}},loc:{start:{line:137,column:44},end:{line:139,column:7}},line:137},15:{name:"(anonymous_15)",decl:{start:{line:140,column:25},end:{line:140,column:26}},loc:{start:{line:140,column:62},end:{line:140,column:141}},line:140},16:{name:"(anonymous_16)",decl:{start:{line:141,column:19},end:{line:141,column:20}},loc:{start:{line:141,column:33},end:{line:147,column:7}},line:141},17:{name:"(anonymous_17)",decl:{start:{line:150,column:25},end:{line:150,column:26}},loc:{start:{line:150,column:31},end:{line:158,column:5}},line:150},18:{name:"(anonymous_18)",decl:{start:{line:159,column:19},end:{line:159,column:20}},loc:{start:{line:159,column:26},end:{line:164,column:5}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:27},end:{line:167,column:5}},line:165},20:{name:"(anonymous_20)",decl:{start:{line:168,column:19},end:{line:168,column:20}},loc:{start:{line:168,column:27},end:{line:172,column:5}},line:168},21:{name:"(anonymous_21)",decl:{start:{line:176,column:22},end:{line:176,column:23}},loc:{start:{line:176,column:30},end:{line:179,column:3}},line:176},22:{name:"(anonymous_22)",decl:{start:{line:177,column:55},end:{line:177,column:56}},loc:{start:{line:177,column:66},end:{line:177,column:81}},line:177},23:{name:"(anonymous_23)",decl:{start:{line:180,column:2},end:{line:180,column:3}},loc:{start:{line:180,column:20},end:{line:221,column:3}},line:180},24:{name:"(anonymous_24)",decl:{start:{line:182,column:22},end:{line:182,column:23}},loc:{start:{line:182,column:40},end:{line:213,column:7}},line:182},25:{name:"(anonymous_25)",decl:{start:{line:222,column:2},end:{line:222,column:3}},loc:{start:{line:222,column:11},end:{line:236,column:3}},line:222},26:{name:"(anonymous_26)",decl:{start:{line:232,column:13},end:{line:232,column:14}},loc:{start:{line:232,column:20},end:{line:232,column:38}},line:232}},branchMap:{0:{loc:{start:{line:32,column:2},end:{line:34,column:3}},type:"if",locations:[{start:{line:32,column:2},end:{line:34,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},1:{loc:{start:{line:38,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:38,column:8},end:{line:38,column:64}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:32}},{start:{line:38,column:36},end:{line:38,column:64}}],line:38},3:{loc:{start:{line:77,column:15},end:{line:77,column:131}},type:"binary-expr",locations:[{start:{line:77,column:15},end:{line:77,column:71}},{start:{line:77,column:75},end:{line:77,column:131}}],line:77},4:{loc:{start:{line:85,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:90,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},5:{loc:{start:{line:91,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:93,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:91},6:{loc:{start:{line:91,column:8},end:{line:91,column:98}},type:"binary-expr",locations:[{start:{line:91,column:8},end:{line:91,column:26}},{start:{line:91,column:30},end:{line:91,column:98}}],line:91},7:{loc:{start:{line:94,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},8:{loc:{start:{line:94,column:8},end:{line:94,column:59}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:26}},{start:{line:94,column:30},end:{line:94,column:59}}],line:94},9:{loc:{start:{line:142,column:8},end:{line:146,column:9}},type:"if",locations:[{start:{line:142,column:8},end:{line:146,column:9}},{start:{line:144,column:15},end:{line:146,column:9}}],line:142},10:{loc:{start:{line:160,column:6},end:{line:160,column:40}},type:"if",locations:[{start:{line:160,column:6},end:{line:160,column:40}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AA4L6B;AA5L7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAC/G,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,sBAA0E;AACjF,OAAO;AACP,SAAS,uBAAwC;AACjD,OAAO,aAAa;AAEpB,SAAS,YAAY,OAAoB,WAA4C;AACnF,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAyBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,MACV,aAAa;AAAA,IACf;AACA,YAAQ,GAAG,mBAAmB,MAAM;AAClC,WAAK,YAAY;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAGA,sBAAsB,WAAuC,WAA+B;AAC1F,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EAEF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,QAAI,WAAW,KAAK,aAAa,GAAG;AAEpC,UAAM,cAAc,IAAI,YAAY;AACpC,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa,OAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAAsC;AAC3D,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB;AAAA,MACpD,aAAa,KAAK,MAAM,EAAE,QAAQ;AAAA,MAClC,YAAY;AAAA,IACd,CAAC;AACD,QAAI,WAAW,UAAU,UAAU;AACnC,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,SAAK,MAAM,UAAU,eAAe,EAAE,QAAQ,CAAC;AAC/C,SAAK,MAAM,aAAa,SAAS,EAAE,OAAO,CAAC;AAC3C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,UAAU;AAAA,QACxB,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3c5cfb4afb5483770f6919f2f66d47734075cb05"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return an=function(){return s},s}an();function iK(n,e){return an().f[0]++,an().s[0]++,WZ.render(n,e),an().s[1]++,e}function Poe(n,e,t){an().f[1]++;const r=(an().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(an().s[3]++,$ie(t));an().s[4]++,i?(an().b[0][0]++,an().s[5]++,e.push(i)):an().b[0][1]++;const o=(an().s[6]++,{});an().s[7]++,Object.keys(n.sources).forEach(a=>{an().f[2]++;const f=(an().s[8]++,n.sources[a]);an().s[9]++,an().b[2][0]++,f.type!=="raster"&&(an().b[2][1]++,f.type!=="raster-dem")?(an().b[1][0]++,an().s[10]++,o[a]=f):an().b[1][1]++});const s=(an().s[11]++,{...n,sources:o,layers:[r].concat(e)});return an().s[12]++,s}class ON extends Sn.Component{constructor(t){an().f[7]++,an().s[15]++;super(t);dn(this,"container",(an().s[14]++,null));dn(this,"onLayerSelectById",(an().s[71]++,t=>{an().f[21]++;const r=(an().s[72]++,this.props.mapStyle.layers.findIndex(i=>(an().f[22]++,an().s[73]++,i.id===t)));an().s[74]++,this.props.onLayerSelect(r)}));an().s[16]++,this.state={map:null,inspect:null,geocoder:null,zoomControl:null},an().s[17]++,AA.on("languageChanged",()=>{an().f[8]++,an().s[18]++,this.forceUpdate()})}shouldComponentUpdate(t,r){an().f[9]++;let i=(an().s[19]++,!1);an().s[20]++;try{an().s[21]++,i=(an().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(t)||(an().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return an().s[22]++,i}componentDidUpdate(){var i,o,s;an().f[10]++;const t=(an().s[23]++,this.state.map),r=(an().s[24]++,this.props.replaceAccessTokens(this.props.mapStyle));an().s[25]++,t?(an().b[4][0]++,an().s[26]++,t.setStyle(r,{diff:!0}),an().s[27]++,t.showTileBoundaries=(i=this.props.options)==null?void 0:i.showTileBoundaries,an().s[28]++,t.showCollisionBoxes=(o=this.props.options)==null?void 0:o.showCollisionBoxes,an().s[29]++,t.showOverdrawInspector=(s=this.props.options)==null?void 0:s.showOverdrawInspector):an().b[4][1]++,an().s[30]++,an().b[6][0]++,this.state.inspect&&(an().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(an().b[5][0]++,an().s[31]++,this.state.inspect.toggleInspector()):an().b[5][1]++,an().s[32]++,an().b[8][0]++,this.state.inspect&&(an().b[8][1]++,this.props.inspectModeEnabled)?(an().b[7][0]++,an().s[33]++,this.state.inspect.setOriginalStyle(r),an().s[34]++,setTimeout(()=>{an().f[11]++,an().s[35]++,this.state.inspect.render()},500)):an().b[7][1]++}componentDidMount(){an().f[12]++;const t=(an().s[36]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),r=(an().s[37]++,new mC.Map(t));an().s[38]++;const i=()=>{an().f[13]++;const C=(an().s[39]++,r.getCenter()),B=(an().s[40]++,r.getZoom());an().s[41]++,this.props.onChange({center:C,zoom:B})};an().s[42]++,i(),an().s[43]++,r.showTileBoundaries=t.showTileBoundaries,an().s[44]++,r.showCollisionBoxes=t.showCollisionBoxes,an().s[45]++,r.showOverdrawInspector=t.showOverdrawInspector;let o=(an().s[46]++,this.initGeocoder(r));const s=(an().s[47]++,new Wie);an().s[48]++,r.addControl(s,"top-right");const a=(an().s[49]++,new mC.NavigationControl({visualizePitch:!0}));an().s[50]++,r.addControl(a,"top-right");const f=(an().s[51]++,document.createElement("div")),m=(an().s[52]++,new AI({popup:new mC.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(C,B)=>(an().f[14]++,an().s[53]++,cB(tN.brightColor(C,B)).desaturate(.5).string()),buildInspectStyle:(C,B)=>(an().f[15]++,an().s[54]++,Poe(C,B,this.props.highlightedLayer)),renderPopup:C=>(an().f[16]++,an().s[55]++,this.props.inspectModeEnabled?(an().b[9][0]++,an().s[56]++,iK(q.jsx(Cie,{features:C}),f)):(an().b[9][1]++,an().s[57]++,iK(q.jsx(sN,{features:C,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),f)))}));an().s[58]++,r.addControl(m),an().s[59]++,r.on("style.load",()=>{an().f[17]++,an().s[60]++,this.setState({map:r,inspect:m,geocoder:o,zoomControl:s,zoom:r.getZoom()})}),an().s[61]++,r.on("data",C=>{if(an().f[18]++,an().s[62]++,C.dataType!=="tile"){an().b[10][0]++,an().s[63]++;return}else an().b[10][1]++;an().s[64]++,this.props.onDataChange({map:this.state.map})}),an().s[65]++,r.on("error",C=>{an().f[19]++,an().s[66]++,console.log("ERROR",C)}),an().s[67]++,r.on("zoom",C=>{an().f[20]++,an().s[68]++,this.setState({zoom:r.getZoom()})}),an().s[69]++,r.on("dragend",i),an().s[70]++,r.on("zoomend",i)}initGeocoder(t){an().f[23]++;const r=(an().s[75]++,{forwardGeocode:async o=>{an().f[24]++;const s=(an().s[76]++,[]);an().s[77]++;try{const a=(an().s[78]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),f=(an().s[79]++,await fetch(a)),m=(an().s[80]++,await f.json());an().s[81]++;for(const C of m.features){const B=(an().s[82]++,[C.bbox[0]+(C.bbox[2]-C.bbox[0])/2,C.bbox[1]+(C.bbox[3]-C.bbox[1])/2]),I=(an().s[83]++,{type:"Feature",geometry:{type:"Point",coordinates:B},place_name:C.properties.display_name,properties:C.properties,text:C.properties.display_name,place_type:["place"],center:B});an().s[84]++,s.push(I)}}catch(a){an().s[85]++,console.error(`Failed to forwardGeocode with error: ${a}`)}return an().s[86]++,{features:s}}}),i=(an().s[87]++,new Toe(r,{placeholder:this.props.t("Search"),maplibregl:mC}));return an().s[88]++,t.addControl(i,"top-left"),an().s[89]++,i}render(){var r,i;an().f[25]++;const t=(an().s[90]++,this.props.t);return an().s[91]++,(r=this.state.geocoder)==null||r.setPlaceholder(t("Search")),an().s[92]++,(i=this.state.zoomControl)==null||i.setLabel(t("Zoom:")),an().s[93]++,q.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":t("Map view"),ref:o=>(an().f[26]++,an().s[94]++,this.container=o),"data-wd-key":"maplibre:map"})}}dn(ON,"defaultProps",(an().s[13]++,{onMapLoaded:()=>{an().f[3]++},onDataChange:()=>{an().f[4]++},onLayerSelect:()=>{an().f[5]++},onChange:()=>{an().f[6]++},options:{}}));const Koe=(an().s[95]++,zo()(ON));var Om=function(){function n(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}();const Tv={PROPERTYCHANGE:"propertychange"};var dI=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}();function Loe(n,e,t){for(var r,i,o=l1,s=0,a=n.length,f=!1;s<a;)r=s+(a-s>>1),i=+o(n[r],e),i<0?s=r+1:(a=r,f=!i);return f?s:~s}function l1(n,e){return n>e?1:n<e?-1:0}function fI(n,e,t){var r=n.length;if(n[0]<=e)return 0;if(e<=n[r-1])return r-1;var i=void 0;if(t>0){for(i=1;i<r;++i)if(n[i]<e)return i-1}else if(t<0){for(i=1;i<r;++i)if(n[i]<=e)return i}else for(i=1;i<r;++i){if(n[i]==e)return i;if(n[i]<e)return typeof t=="function"?t(e,n[i-1],n[i])>0?i-1:i:n[i-1]-e<e-n[i]?i-1:i}return r-1}function Doe(n,e,t){for(;e<t;){var r=n[e];n[e]=n[t],n[t]=r,++e,--t}}function bp(n,e){for(var t=Array.isArray(e)?e:[e],r=t.length,i=0;i<r;i++)n[n.length]=t[i]}function _1(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function Foe(n,e,t){var r=e||l1;return n.every(function(i,o){if(o===0)return!0;var s=r(n[o-1],i);return!(s>0||s===0)})}function iv(){return!0}function H5(){return!1}function u1(){}function Roe(n){var e=!1,t,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!e||this!==i||!_1(o,r))&&(e=!0,i=this,r=o,t=n.apply(this,arguments)),t}}var Tl=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function s2(n){for(var e in n)delete n[e]}var BN=typeof Object.values=="function"?Object.values:function(n){var e=[];for(var t in n)e.push(n[t]);return e};function A1(n){var e;for(e in n)return!1;return!e}var Uoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xv=function(n){Uoe(e,n);function e(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return e.prototype.addEventListener=function(t,r){if(!(!t||!r)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(r)===-1&&o.push(r)}},e.prototype.dispatchEvent=function(t){var r=typeof t=="string",i=r?t:t.type,o=this.listeners_&&this.listeners_[i];if(o){var s=r?new Om(t):t;s.target||(s.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,f[i]=0),++a[i];for(var m,C=0,B=o.length;C<B;++C)if("handleEvent"in o[C]?m=o[C].handleEvent(s):m=o[C].call(this,s),m===!1||s.propagationStopped){m=!1;break}if(--a[i]===0){var I=f[i];for(delete f[i];I--;)this.removeEventListener(i,u1);delete a[i]}return m}},e.prototype.disposeInternal=function(){this.listeners_&&s2(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,r){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=u1,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},e}(dI);const Li={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Eo(n,e,t,r,i){if(r&&r!==n&&(t=t.bind(r)),i){var o=t;t=function(){n.removeEventListener(e,t),o.apply(this,arguments)}}var s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function lw(n,e,t,r){return Eo(n,e,t,r,!0)}function hs(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),s2(n))}var zoe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),l2=function(n){zoe(e,n);function e(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Li.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=Eo(this,t[s],r);return o}else return Eo(this,t,r)},e.prototype.onceInternal=function(t,r){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=lw(this,t[s],r)}else i=lw(this,t,r);return r.ol_key=i,i},e.prototype.unInternal=function(t,r){var i=r.ol_key;if(i)Bb(i);else if(Array.isArray(t))for(var o=0,s=t.length;o<s;++o)this.removeEventListener(t[o],r);else this.removeEventListener(t,r)},e}(Xv);l2.prototype.on;l2.prototype.once;l2.prototype.un;function Bb(n){if(Array.isArray(n))for(var e=0,t=n.length;e<t;++e)hs(n[e]);else hs(n)}function gi(){return function(){throw new Error("Unimplemented abstract method.")}()}var joe=0;function Vi(n){return n.ol_uid||(n.ol_uid=String(++joe))}var Noe="6.15.1",IN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oK=function(n){IN(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.key=r,o.oldValue=i,o}return e}(Om),pf=function(n){IN(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,Vi(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return e.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Tl({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,r){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new oK(i,t,r)),i=Tv.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new oK(i,t,r))},e.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},e.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},e.prototype.set=function(t,r,i){var o=this.values_||(this.values_={});if(i)o[t]=r;else{var s=o[t];o[t]=r,s!==r&&this.notify(t,s)}},e.prototype.setProperties=function(t,r){for(var i in t)this.set(i,t[i],r)},e.prototype.applyProperties=function(t){t.values_&&Tl(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],A1(this.values_)&&(this.values_=null),r||this.notify(t,i)}},e}(l2),Woe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kN=function(n){Woe(e,n);function e(t){var r=this,i="v"+Noe.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return r=n.call(this,o)||this,r.code=t,r.name="AssertionError",r.message=o,r}return e}(Error);function go(n,e){if(!n)throw new kN(e)}var Goe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qoe=function(n){Goe(e,n);function e(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;r.setGeometry(i)}else{var o=t;r.setProperties(o)}return r}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(hs(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Eo(t,Li.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?$oe(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(pf);function $oe(n){if(typeof n=="function")return n;var e;if(Array.isArray(n))e=n;else{go(typeof n.getZIndex=="function",41);var t=n;e=[t]}return function(){return e}}var ic={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},j0={};j0[ic.RADIANS]=6370997/(2*Math.PI);j0[ic.DEGREES]=2*Math.PI*6370997/360;j0[ic.FEET]=.3048;j0[ic.METERS]=1;j0[ic.USFEET]=1200/3937;var L0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Yoe=L0.indexOf("firefox")!==-1,qoe=L0.indexOf("safari")!==-1&&L0.indexOf("chrom")==-1;qoe&&(L0.indexOf("version/15.4")>=0||L0.match(/cpu (os|iphone os) 15_4 like mac os x/));var Voe=L0.indexOf("webkit")!==-1&&L0.indexOf("edge")==-1,Hoe=L0.indexOf("macintosh")!==-1,TN=typeof devicePixelRatio<"u"?devicePixelRatio:1,Z5=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Zoe=typeof Image<"u"&&Image.prototype.decode,PN=function(){var n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),KN=new Array(6);function yd(){return[1,0,0,1,0,0]}function aK(n){return X5(n,1,0,0,1,0,0)}function pI(n,e){var t=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],f=e[0],m=e[1],C=e[2],B=e[3],I=e[4],K=e[5];return n[0]=t*f+i*m,n[1]=r*f+o*m,n[2]=t*C+i*B,n[3]=r*C+o*B,n[4]=t*I+i*K+s,n[5]=r*I+o*K+a,n}function X5(n,e,t,r,i,o,s){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=o,n[5]=s,n}function Xoe(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Bl(n,e){var t=e[0],r=e[1];return e[0]=n[0]*t+n[2]*r+n[4],e[1]=n[1]*t+n[3]*r+n[5],e}function BE(n,e,t){return pI(n,X5(KN,e,0,0,t,0,0))}function Joe(n,e,t){return X5(n,e,0,0,t,0,0)}function eae(n,e,t){return pI(n,X5(KN,1,0,0,1,e,t))}function wp(n,e,t,r,i,o,s,a){var f=Math.sin(o),m=Math.cos(o);return n[0]=r*m,n[1]=i*f,n[2]=-r*f,n[3]=i*m,n[4]=s*r*m-a*r*f+e,n[5]=s*i*f+a*i*m+t,n}function mI(n,e){var t=tae(e);go(t!==0,32);var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],f=e[5];return n[0]=s/t,n[1]=-i/t,n[2]=-o/t,n[3]=r/t,n[4]=(o*f-s*a)/t,n[5]=-(r*f-i*a)/t,n}function tae(n){return n[0]*n[3]-n[1]*n[2]}var sK;function LN(n){var e="matrix("+n.join(", ")+")";if(Z5)return e;var t=sK||(sK=document.createElement("div"));return t.style.transform=e,t.style.transform}const Du={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function mB(n){for(var e=bd(),t=0,r=n.length;t<r;++t)WC(e,n[t]);return e}function nae(n,e,t){var r=Math.min.apply(null,n),i=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return Mp(r,i,o,s,t)}function O0(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function DN(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function C1(n,e,t){var r,i;return e<n[0]?r=n[0]-e:n[2]<e?r=e-n[2]:r=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,r*r+i*i}function u2(n,e){return gI(n,e[0],e[1])}function h0(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function gI(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function gB(n,e){var t=n[0],r=n[1],i=n[2],o=n[3],s=e[0],a=e[1],f=Du.UNKNOWN;return s<t?f=f|Du.LEFT:s>i&&(f=f|Du.RIGHT),a<r?f=f|Du.BELOW:a>o&&(f=f|Du.ABOVE),f===Du.UNKNOWN&&(f=Du.INTERSECTING),f}function bd(){return[1/0,1/0,-1/0,-1/0]}function Mp(n,e,t,r,i){return i?(i[0]=n,i[1]=e,i[2]=t,i[3]=r,i):[n,e,t,r]}function A2(n){return Mp(1/0,1/0,-1/0,-1/0,n)}function FN(n,e){var t=n[0],r=n[1];return Mp(t,r,t,r,e)}function yI(n,e,t,r,i){var o=A2(i);return UN(o,n,e,t,r)}function Pv(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function RN(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function WC(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function UN(n,e,t,r,i){for(;t<r;t+=i)rae(n,e[t],e[t+1]);return n}function rae(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function zN(n,e){var t;return t=e(vI(n)),t||(t=e(_I(n)),t)||(t=e(CI(n)),t)||(t=e(N0(n)),t)?t:!1}function yB(n){var e=0;return bI(n)||(e=xs(n)*Kc(n)),e}function vI(n){return[n[0],n[1]]}function _I(n){return[n[2],n[1]]}function D0(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function iae(n,e){var t;return t=N0(n),t}function vB(n,e,t,r,i){var o=_B(n,e,t,r),s=o[0],a=o[1],f=o[2],m=o[3],C=o[4],B=o[5],I=o[6],K=o[7];return Mp(Math.min(s,f,C,I),Math.min(a,m,B,K),Math.max(s,f,C,I),Math.max(a,m,B,K),i)}function _B(n,e,t,r){var i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(t),a=Math.sin(t),f=i*s,m=i*a,C=o*s,B=o*a,I=n[0],K=n[1];return[I-f+B,K-m-C,I-f-B,K-m+C,I+f-B,K+m+C,I+f+B,K+m-C,I-f+B,K-m-C]}function Kc(n){return n[3]-n[1]}function qg(n,e,t){var r=t||bd();return kl(n,e)?(n[0]>e[0]?r[0]=n[0]:r[0]=e[0],n[1]>e[1]?r[1]=n[1]:r[1]=e[1],n[2]<e[2]?r[2]=n[2]:r[2]=e[2],n[3]<e[3]?r[3]=n[3]:r[3]=e[3]):A2(r),r}function N0(n){return[n[0],n[3]]}function CI(n){return[n[2],n[3]]}function xs(n){return n[2]-n[0]}function kl(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function bI(n){return n[2]<n[0]||n[3]<n[1]}function oae(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function aae(n,e,t){var r=!1,i=gB(n,e),o=gB(n,t);if(i===Du.INTERSECTING||o===Du.INTERSECTING)r=!0;else{var s=n[0],a=n[1],f=n[2],m=n[3],C=e[0],B=e[1],I=t[0],K=t[1],L=(K-B)/(I-C),Y=void 0,ee=void 0;o&Du.ABOVE&&!(i&Du.ABOVE)&&(Y=I-(K-m)/L,r=Y>=s&&Y<=f),!r&&o&Du.RIGHT&&!(i&Du.RIGHT)&&(ee=K-(I-f)*L,r=ee>=a&&ee<=m),!r&&o&Du.BELOW&&!(i&Du.BELOW)&&(Y=I-(K-a)/L,r=Y>=s&&Y<=f),!r&&o&Du.LEFT&&!(i&Du.LEFT)&&(ee=K-(I-s)*L,r=ee>=a&&ee<=m)}return r}function sae(n,e,t,r){var i=[],o;i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],e(i,i,2);for(var s=[],a=[],o=0,f=i.length;o<f;o+=2)s.push(i[o]),a.push(i[o+1]);return nae(s,a,t)}function jN(n,e){var t=e.getExtent(),r=D0(n);if(e.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var i=xs(t),o=Math.floor((r[0]-t[0])/i),s=o*i;n[0]-=s,n[2]-=s}return n}function lae(n,e){if(e.canWrapX()){var t=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[t[0],n[1],t[2],n[3]]];jN(n,e);var r=xs(t);if(xs(n)>r)return[[t[0],n[1],t[2],n[3]]];if(n[0]<t[0])return[[n[0]+r,n[1],t[2],n[3]],[t[0],n[1],n[2],n[3]]];if(n[2]>t[2])return[[n[0],n[1],t[2],n[3]],[t[0],n[1],n[2]-r,n[3]]]}return[n]}var xI=function(){function n(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||j0[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},n.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},n.prototype.setWorldExtent=function(e){this.worldExtent_=e},n.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}();function Yl(n,e,t){return Math.min(Math.max(n,e),t)}var uae=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(e){var t=Math.exp(e);return(t+1/t)/2},n}(),Aae=function(){var n;return"log2"in Math?n=Math.log2:n=function(e){return Math.log(e)*Math.LOG2E},n}();function cae(n,e,t,r,i,o){var s=i-t,a=o-r;if(s!==0||a!==0){var f=((n-t)*s+(e-r)*a)/(s*s+a*a);f>1?(t=i,r=o):f>0&&(t+=s*f,r+=a*f)}return Vg(n,e,t,r)}function Vg(n,e,t,r){var i=t-n,o=r-e;return i*i+o*o}function hae(n){for(var e=n.length,t=0;t<e;t++){for(var r=t,i=Math.abs(n[t][t]),o=t+1;o<e;o++){var s=Math.abs(n[o][t]);s>i&&(i=s,r=o)}if(i===0)return null;var a=n[r];n[r]=n[t],n[t]=a;for(var f=t+1;f<e;f++)for(var m=-n[f][t]/n[t][t],C=t;C<e+1;C++)t==C?n[f][C]=0:n[f][C]+=m*n[t][C]}for(var B=new Array(e),I=e-1;I>=0;I--){B[I]=n[I][e]/n[I][I];for(var K=I-1;K>=0;K--)n[K][e]-=n[K][I]*B[I]}return B}function r4(n){return n*Math.PI/180}function Hg(n,e){var t=n%e;return t*e<0?t+e:t}function um(n,e,t){return n+t*(e-n)}function NN(n,e){var t=Math.pow(10,e);return Math.round(n*t)/t}function o3(n,e){return Math.floor(NN(n,e))}function a3(n,e){return Math.ceil(NN(n,e))}var dae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),c2=6378137,Ry=Math.PI*c2,fae=[-Ry,-Ry,Ry,Ry],pae=[-180,-85,180,85],s3=c2*Math.log(Math.tan(Math.PI/2)),ey=function(n){dae(e,n);function e(t){return n.call(this,{code:t,units:ic.METERS,extent:fae,global:!0,worldExtent:pae,getPointResolution:function(r,i){return r/uae(i[1]/c2)}})||this}return e}(xI),lK=[new ey("EPSG:3857"),new ey("EPSG:102100"),new ey("EPSG:102113"),new ey("EPSG:900913"),new ey("http://www.opengis.net/def/crs/EPSG/0/3857"),new ey("http://www.opengis.net/gml/srs/epsg.xml#3857")];function mae(n,e,t){var r=n.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var s=0;s<r;s+=i){o[s]=Ry*n[s]/180;var a=c2*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));a>s3?a=s3:a<-s3&&(a=-s3),o[s+1]=a}return o}function gae(n,e,t){var r=n.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var s=0;s<r;s+=i)o[s]=180*n[s]/Ry,o[s+1]=360*Math.atan(Math.exp(n[s+1]/c2))/Math.PI-90;return o}var yae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vae=6378137,uK=[-180,-90,180,90],_ae=Math.PI*vae/180,Ag=function(n){yae(e,n);function e(t,r){return n.call(this,{code:t,units:ic.DEGREES,extent:uK,axisOrientation:r,global:!0,metersPerUnit:_ae,worldExtent:uK})||this}return e}(xI),AK=[new Ag("CRS:84"),new Ag("EPSG:4326","neu"),new Ag("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ag("urn:ogc:def:crs:OGC:2:84"),new Ag("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ag("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ag("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],CB={};function Cae(n){return CB[n]||CB[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function bae(n,e){CB[n]=e}var ov={};function uw(n,e,t){var r=n.getCode(),i=e.getCode();r in ov||(ov[r]={}),ov[r][i]=t}function xae(n,e){var t;return n in ov&&e in ov[n]&&(t=ov[n][e]),t}function wae(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function Aw(n,e){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=e[r]){t=!1;break}return t}function wI(n,e){var t=Math.cos(e),r=Math.sin(e),i=n[0]*t-n[1]*r,o=n[1]*t+n[0]*r;return n[0]=i,n[1]=o,n}function Mae(n,e){return n[0]*=e,n[1]*=e,n}function MI(n,e){if(e.canWrapX()){var t=xs(e.getExtent()),r=Sae(n,e,t);r&&(n[0]-=r*t)}return n}function Sae(n,e,t){var r=e.getExtent(),i=0;if(e.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var o=t||xs(r);i=Math.floor((n[0]-r[0])/o)}return i}var Eae=63710088e-1;function cK(n,e,t){var r=Eae,i=r4(n[1]),o=r4(e[1]),s=(o-i)/2,a=r4(e[0]-n[0])/2,f=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}var bB=!0;function WN(n){var e=!0;bB=!e}function SI(n,e,t){var r;if(e!==void 0){for(var i=0,o=n.length;i<o;++i)e[i]=n[i];r=e}else r=n.slice();return r}function GN(n,e,t){if(e!==void 0&&n!==e){for(var r=0,i=n.length;r<i;++r)e[r]=n[r];n=e}return n}function Oae(n){bae(n.getCode(),n),uw(n,n,SI)}function Bae(n){n.forEach(Oae)}function qs(n){return typeof n=="string"?Cae(n):n||null}function hK(n,e,t,r){n=qs(n);var i,o=n.getPointResolutionFunc();if(o){i=o(e,t);var s}else{var a=n.getUnits();if(a==ic.DEGREES&&!r||r==ic.DEGREES)i=e;else{var f=J5(n,qs("EPSG:4326"));if(f===GN&&a!==ic.DEGREES)i=e*n.getMetersPerUnit();else{var m=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];m=f(m,m,2);var C=cK(m.slice(0,2),m.slice(2,4)),B=cK(m.slice(4,6),m.slice(6,8));i=(C+B)/2}var s=n.getMetersPerUnit();s!==void 0&&(i/=s)}}return i}function dK(n){Bae(n),n.forEach(function(e){n.forEach(function(t){e!==t&&uw(e,t,SI)})})}function Iae(n,e,t,r){n.forEach(function(i){e.forEach(function(o){uw(i,o,t),uw(o,i,r)})})}function EI(n,e){return n?typeof n=="string"?qs(n):n:qs(e)}function xB(n,e){return WN(),OI(n,"EPSG:4326","EPSG:3857")}function IE(n,e){var t=OI(n,"EPSG:3857","EPSG:4326"),r=t[0];return(r<-180||r>180)&&(t[0]=Hg(r+180,360)-180),t}function Sg(n,e){if(n===e)return!0;var t=n.getUnits()===e.getUnits();if(n.getCode()===e.getCode())return t;var r=J5(n,e);return r===SI&&t}function J5(n,e){var t=n.getCode(),r=e.getCode(),i=xae(t,r);return i||(i=GN),i}function cw(n,e){var t=qs(n),r=qs(e);return J5(t,r)}function OI(n,e,t){var r=cw(e,t);return r(n,void 0,n.length)}var kae=null;function Tae(){return kae}function wB(n,e){return n}function rm(n,e){return bB&&!Aw(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(bB=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function QN(n,e){return n}function Dg(n,e){return n}function Pae(){dK(lK),dK(AK),Iae(AK,lK,mae,gae)}Pae();function B0(n,e,t,r,i,o){for(var s=o||[],a=0,f=e;f<t;f+=r){var m=n[f],C=n[f+1];s[a++]=i[0]*m+i[2]*C+i[4],s[a++]=i[1]*m+i[3]*C+i[5]}return o&&s.length!=a&&(s.length=a),s}function $N(n,e,t,r,i,o,s){for(var a=s||[],f=Math.cos(i),m=Math.sin(i),C=o[0],B=o[1],I=0,K=e;K<t;K+=r){var L=n[K]-C,Y=n[K+1]-B;a[I++]=C+L*f-Y*m,a[I++]=B+L*m+Y*f;for(var ee=K+2;ee<K+r;++ee)a[I++]=n[ee]}return s&&a.length!=I&&(a.length=I),a}function Kae(n,e,t,r,i,o,s,a){for(var f=a||[],m=s[0],C=s[1],B=0,I=e;I<t;I+=r){var K=n[I]-m,L=n[I+1]-C;f[B++]=m+i*K,f[B++]=C+o*L;for(var Y=I+2;Y<I+r;++Y)f[B++]=n[Y]}return a&&f.length!=B&&(f.length=B),f}function Lae(n,e,t,r,i,o,s){for(var a=s||[],f=0,m=e;m<t;m+=r){a[f++]=n[m]+i,a[f++]=n[m+1]+o;for(var C=m+2;C<m+r;++C)a[f++]=n[C]}return s&&a.length!=f&&(a.length=f),a}var Dae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fK=yd(),YN=function(n){Dae(e,n);function e(){var t=n.call(this)||this;return t.extent_=bd(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Roe(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(i)}),t}return e.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},e.prototype.clone=function(){return gi()},e.prototype.closestPointXY=function(t,r,i,o){return gi()},e.prototype.containsXY=function(t,r){var i=this.getClosestPoint([t,r]);return i[0]===t&&i[1]===r},e.prototype.getClosestPoint=function(t,r){var i=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return gi()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&A2(r),this.extentRevision_=this.getRevision()}return oae(this.extent_,t)},e.prototype.rotate=function(t,r){gi()},e.prototype.scale=function(t,r,i){gi()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return gi()},e.prototype.getType=function(){return gi()},e.prototype.applyTransform=function(t){gi()},e.prototype.intersectsExtent=function(t){return gi()},e.prototype.translate=function(t,r){gi()},e.prototype.transform=function(t,r){var i=qs(t),o=i.getUnits()==ic.TILE_PIXELS?function(s,a,f){var m=i.getExtent(),C=i.getWorldExtent(),B=Kc(C)/Kc(m);return wp(fK,C[0],C[3],B,-B,0,0,0),B0(s,0,s.length,f,fK,a),cw(i,r)(s,a,f)}:cw(i,r);return this.applyTransform(o),this},e}(pf),Fae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rae=function(n){Fae(e,n);function e(t){var r=n.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(hs),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,r=this.geometries_.length;t<r;++t)this.changeEventsKeys_.push(Eo(this.geometries_[t],Li.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){if(o<C1(this.getExtent(),t,r))return o;for(var s=this.geometries_,a=0,f=s.length;a<f;++a)o=s[a].closestPointXY(t,r,i,o);return o},e.prototype.containsXY=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)if(i[o].containsXY(t,r))return!0;return!1},e.prototype.computeExtent=function(t){A2(t);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)RN(t,r[i].getExtent());return t},e.prototype.getGeometries=function(){return pK(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?t=t.concat(r[i].getGeometriesArrayRecursive()):t.push(r[i]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var f=i[s],m=f.getSimplifiedGeometry(t);r.push(m),m!==f&&(o=!0)}if(o){var C=new e(null);return C.setGeometriesArray(r),C}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return this.geometries_.length===0},e.prototype.rotate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].rotate(t,r);this.changed()},e.prototype.scale=function(t,r,i){var o=i;o||(o=D0(this.getExtent()));for(var s=this.geometries_,a=0,f=s.length;a<f;++a)s[a].scale(t,r,o);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(pK(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,r){for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].translate(t,r);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},e}(YN);function pK(n){for(var e=[],t=0,r=n.length;t<r;++t)e.push(n[t].clone());return e}var qN=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(e,t){var r;if(t){var i=t.dataProjection?qs(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()===ic.TILE_PIXELS&&(i=qs(i),i.setWorldExtent(t.extent)),r={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(r)},n.prototype.adaptOptions=function(e){return Tl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},n.prototype.getType=function(){return gi()},n.prototype.readFeature=function(e,t){return gi()},n.prototype.readFeatures=function(e,t){return gi()},n.prototype.readGeometry=function(e,t){return gi()},n.prototype.readProjection=function(e){return gi()},n.prototype.writeFeature=function(e,t){return gi()},n.prototype.writeFeatures=function(e,t){return gi()},n.prototype.writeGeometry=function(e,t){return gi()},n}();function BI(n,e,t){var r=t?qs(t.featureProjection):null,i=t?qs(t.dataProjection):null,o;if(r&&i&&!Sg(r,i)?o=(e?n.clone():n).transform(e?r:i,e?i:r):o=n,e&&t&&t.decimals!==void 0){var s=Math.pow(10,t.decimals),a=function(f){for(var m=0,C=f.length;m<C;++m)f[m]=Math.round(f[m]*s)/s;return f};o===n&&(o=n.clone()),o.applyTransform(a)}return o}var Uae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zae=function(n){Uae(e,n);function e(){return n.call(this)||this}return e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,r){return this.readFeatureFromObject(l3(t),this.getReadOptions(t,r))},e.prototype.readFeatures=function(t,r){return this.readFeaturesFromObject(l3(t),this.getReadOptions(t,r))},e.prototype.readFeatureFromObject=function(t,r){return gi()},e.prototype.readFeaturesFromObject=function(t,r){return gi()},e.prototype.readGeometry=function(t,r){return this.readGeometryFromObject(l3(t),this.getReadOptions(t,r))},e.prototype.readGeometryFromObject=function(t,r){return gi()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l3(t))},e.prototype.readProjectionFromObject=function(t){return gi()},e.prototype.writeFeature=function(t,r){return JSON.stringify(this.writeFeatureObject(t,r))},e.prototype.writeFeatureObject=function(t,r){return gi()},e.prototype.writeFeatures=function(t,r){return JSON.stringify(this.writeFeaturesObject(t,r))},e.prototype.writeFeaturesObject=function(t,r){return gi()},e.prototype.writeGeometry=function(t,r){return JSON.stringify(this.writeGeometryObject(t,r))},e.prototype.writeGeometryObject=function(t,r){return gi()},e}(qN);function l3(n){if(typeof n=="string"){var e=JSON.parse(n);return e||null}else return n!==null?n:null}const Ya={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var jae=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),b1=function(n){jae(e,n);function e(){var t=n.call(this)||this;return t.layout=Ya.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return yI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return gi()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,r){this.stride=mK(t),this.layout=t,this.flatCoordinates=r},e.prototype.setCoordinates=function(t,r){gi()},e.prototype.setLayout=function(t,r,i){var o;if(t)o=mK(t);else{for(var s=0;s<i;++s)if(r.length===0){this.layout=Ya.XY,this.stride=2;return}else r=r[0];o=r.length,t=Nae(o)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();$N(i,0,i.length,o,t,r,i),this.changed()}},e.prototype.scale=function(t,r,i){var o=r;o===void 0&&(o=t);var s=i;s||(s=D0(this.getExtent()));var a=this.getFlatCoordinates();if(a){var f=this.getStride();Kae(a,0,a.length,f,t,o,s,a),this.changed()}},e.prototype.translate=function(t,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Lae(i,0,i.length,o,t,r,i),this.changed()}},e}(YN);function Nae(n){var e;return n==2?e=Ya.XY:n==3?e=Ya.XYZ:n==4&&(e=Ya.XYZM),e}function mK(n){var e;return n==Ya.XY?e=2:n==Ya.XYZ||n==Ya.XYM?e=3:n==Ya.XYZM&&(e=4),e}function Wae(n,e,t){var r=n.getFlatCoordinates();if(r){var i=n.getStride();return B0(r,0,r.length,i,e,t)}else return null}function gK(n,e,t,r,i,o,s){var a=n[e],f=n[e+1],m=n[t]-a,C=n[t+1]-f,B;if(m===0&&C===0)B=e;else{var I=((i-a)*m+(o-f)*C)/(m*m+C*C);if(I>1)B=t;else if(I>0){for(var K=0;K<r;++K)s[K]=um(n[e+K],n[t+K],I);s.length=r;return}else B=e}for(var K=0;K<r;++K)s[K]=n[B+K];s.length=r}function II(n,e,t,r,i){var o=n[e],s=n[e+1];for(e+=r;e<t;e+=r){var a=n[e],f=n[e+1],m=Vg(o,s,a,f);m>i&&(i=m),o=a,s=f}return i}function kI(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=II(n,e,a,r,i),e=a}return i}function Gae(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];i=kI(n,e,a,r,i),e=a[a.length-1]}return i}function TI(n,e,t,r,i,o,s,a,f,m,C){if(e==t)return m;var B,I;if(i===0)if(I=Vg(s,a,n[e],n[e+1]),I<m){for(B=0;B<r;++B)f[B]=n[e+B];return f.length=r,I}else return m;for(var K=C||[NaN,NaN],L=e+r;L<t;)if(gK(n,L-r,L,r,s,a,K),I=Vg(s,a,K[0],K[1]),I<m){for(m=I,B=0;B<r;++B)f[B]=K[B];f.length=r,L+=r}else L+=r*Math.max((Math.sqrt(I)-Math.sqrt(m))/i|0,1);if(o&&(gK(n,t-r,e,r,s,a,K),I=Vg(s,a,K[0],K[1]),I<m)){for(m=I,B=0;B<r;++B)f[B]=K[B];f.length=r}return m}function PI(n,e,t,r,i,o,s,a,f,m,C){for(var B=C||[NaN,NaN],I=0,K=t.length;I<K;++I){var L=t[I];m=TI(n,e,L,r,i,o,s,a,f,m,B),e=L}return m}function Qae(n,e,t,r,i,o,s,a,f,m,C){for(var B=[NaN,NaN],I=0,K=t.length;I<K;++I){var L=t[I];m=PI(n,e,L,r,i,o,s,a,f,m,B),e=L[L.length-1]}return m}function $ae(n,e,t,r){for(var i=0,o=t.length;i<o;++i)n[e++]=t[i];return e}function eM(n,e,t,r){for(var i=0,o=t.length;i<o;++i)for(var s=t[i],a=0;a<r;++a)n[e++]=s[a];return e}function KI(n,e,t,r,i){for(var o=i||[],s=0,a=0,f=t.length;a<f;++a){var m=eM(n,e,t[a],r);o[s++]=m,e=m}return o.length=s,o}function Yae(n,e,t,r,i){for(var o=i||[],s=0,a=0,f=t.length;a<f;++a){var m=KI(n,e,t[a],r,o[s]);o[s++]=m,e=m[m.length-1]}return o.length=s,o}function LI(n,e,t,r,i,o,s){var a=(t-e)/r;if(a<3){for(;e<t;e+=r)o[s++]=n[e],o[s++]=n[e+1];return s}var f=new Array(a);f[0]=1,f[a-1]=1;for(var m=[e,t-r],C=0;m.length>0;){for(var B=m.pop(),I=m.pop(),K=0,L=n[I],Y=n[I+1],ee=n[B],V=n[B+1],W=I+r;W<B;W+=r){var ne=n[W],ce=n[W+1],ge=cae(ne,ce,L,Y,ee,V);ge>K&&(C=W,K=ge)}K>i&&(f[(C-e)/r]=1,I+r<C&&m.push(I,C),C+r<B&&m.push(C,B))}for(var W=0;W<a;++W)f[W]&&(o[s++]=n[e+W*r],o[s++]=n[e+W*r+1]);return s}function qae(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f];s=LI(n,e,C,r,i,o,s),a.push(s),e=C}return s}function Cg(n,e){return e*Math.round(n/e)}function Vae(n,e,t,r,i,o,s){if(e==t)return s;var a=Cg(n[e],i),f=Cg(n[e+1],i);e+=r,o[s++]=a,o[s++]=f;var m,C;do if(m=Cg(n[e],i),C=Cg(n[e+1],i),e+=r,e==t)return o[s++]=m,o[s++]=C,s;while(m==a&&C==f);for(;e<t;){var B=Cg(n[e],i),I=Cg(n[e+1],i);if(e+=r,!(B==m&&I==C)){var K=m-a,L=C-f,Y=B-a,ee=I-f;if(K*ee==L*Y&&(K<0&&Y<K||K==Y||K>0&&Y>K)&&(L<0&&ee<L||L==ee||L>0&&ee>L)){m=B,C=I;continue}o[s++]=m,o[s++]=C,a=m,f=C,m=B,C=I}}return o[s++]=m,o[s++]=C,s}function VN(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f];s=Vae(n,e,C,r,i,o,s),a.push(s),e=C}return s}function Hae(n,e,t,r,i,o,s,a){for(var f=0,m=t.length;f<m;++f){var C=t[f],B=[];s=VN(n,e,C,r,i,o,s,B),a.push(B),e=C[C.length-1]}return s}function HN(n,e,t,r,i){var o;for(e+=r;e<t;e+=r)if(o=i(n.slice(e-r,e),n.slice(e,e+r)),o)return o;return!1}function d0(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=e;a<t;a+=r)o[s++]=n.slice(a,a+r);return o.length=s,o}function Ib(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=t.length;a<f;++a){var m=t[a];o[s++]=d0(n,e,m,r,o[s]),e=m}return o.length=s,o}function MB(n,e,t,r,i){for(var o=i!==void 0?i:[],s=0,a=0,f=t.length;a<f;++a){var m=t[a];o[s++]=Ib(n,e,m,r,o[s]),e=m[m.length-1]}return o.length=s,o}function hw(n,e,t,r,i,o,s){var a,f,m=(t-e)/r;if(m===1)a=e;else if(m===2)a=e,f=i;else if(m!==0){for(var C=n[e],B=n[e+1],I=0,K=[0],L=e+r;L<t;L+=r){var Y=n[L],ee=n[L+1];I+=Math.sqrt((Y-C)*(Y-C)+(ee-B)*(ee-B)),K.push(I),C=Y,B=ee}var V=i*I,W=Loe(K,V);W<0?(f=(V-K[-W-2])/(K[-W-1]-K[-W-2]),a=e+(-W-2)*r):a=e+W*r}for(var ne=s>1?s:2,ce=o||new Array(ne),L=0;L<ne;++L)ce[L]=a===void 0?NaN:f===void 0?n[a+L]:um(n[a+L],n[a+r+L],f);return ce}function SB(n,e,t,r,i,o){if(t==e)return null;var s;if(i<n[e+r-1])return o?(s=n.slice(e,e+r),s[r-1]=i,s):null;if(n[t-1]<i)return o?(s=n.slice(t-r,t),s[r-1]=i,s):null;if(i==n[e+r-1])return n.slice(e,e+r);for(var a=e/r,f=t/r;a<f;){var m=a+f>>1;i<n[(m+1)*r-1]?f=m:a=m+1}var C=n[a*r-1];if(i==C)return n.slice((a-1)*r,(a-1)*r+r);var B=n[(a+1)*r-1],I=(i-C)/(B-C);s=[];for(var K=0;K<r-1;++K)s.push(um(n[(a-1)*r+K],n[a*r+K],I));return s.push(i),s}function Zae(n,e,t,r,i,o,s){if(s)return SB(n,e,t[t.length-1],r,i,o);var a;if(i<n[r-1])return o?(a=n.slice(0,r),a[r-1]=i,a):null;if(n[n.length-1]<i)return o?(a=n.slice(n.length-r),a[r-1]=i,a):null;for(var f=0,m=t.length;f<m;++f){var C=t[f];if(e!=C){if(i<n[e+r-1])return null;if(i<=n[C-1])return SB(n,e,C,r,i,!1);e=C}}return null}function Xae(n,e,t,r,i){var o=zN(i,function(s){return!Fg(n,e,t,r,s[0],s[1])});return!o}function Fg(n,e,t,r,i,o){for(var s=0,a=n[t-r],f=n[t-r+1];e<t;e+=r){var m=n[e],C=n[e+1];f<=o?C>o&&(m-a)*(o-f)-(i-a)*(C-f)>0&&s++:C<=o&&(m-a)*(o-f)-(i-a)*(C-f)<0&&s--,a=m,f=C}return s!==0}function DI(n,e,t,r,i,o){if(t.length===0||!Fg(n,e,t[0],r,i,o))return!1;for(var s=1,a=t.length;s<a;++s)if(Fg(n,t[s-1],t[s],r,i,o))return!1;return!0}function Jae(n,e,t,r,i,o){if(t.length===0)return!1;for(var s=0,a=t.length;s<a;++s){var f=t[s];if(DI(n,e,f,r,i,o))return!0;e=f[f.length-1]}return!1}function tM(n,e,t,r,i){var o=UN(bd(),n,e,t,r);return kl(i,o)?h0(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:HN(n,e,t,r,function(s,a){return aae(i,s,a)}):!1}function ese(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){if(tM(n,e,t[o],r,i))return!0;e=t[o]}return!1}function ZN(n,e,t,r,i){return!!(tM(n,e,t,r,i)||Fg(n,e,t,r,i[0],i[1])||Fg(n,e,t,r,i[0],i[3])||Fg(n,e,t,r,i[2],i[1])||Fg(n,e,t,r,i[2],i[3]))}function XN(n,e,t,r,i){if(!ZN(n,e,t[0],r,i))return!1;if(t.length===1)return!0;for(var o=1,s=t.length;o<s;++o)if(Xae(n,t[o-1],t[o],r,i)&&!tM(n,t[o-1],t[o],r,i))return!1;return!0}function tse(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(XN(n,e,a,r,i))return!0;e=a[a.length-1]}return!1}function JN(n,e,t,r){for(var i=n[e],o=n[e+1],s=0,a=e+r;a<t;a+=r){var f=n[a],m=n[a+1];s+=Math.sqrt((f-i)*(f-i)+(m-o)*(m-o)),i=f,o=m}return s}var nse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dw=function(n){nse(e,n);function e(t,r){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.appendCoordinate=function(t){this.flatCoordinates?bp(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<C1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(II(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,r,i,o))},e.prototype.forEachSegment=function(t){return HN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,r){if(this.layout!=Ya.XYM&&this.layout!=Ya.XYZM)return null;var i=r!==void 0?r:!1;return SB(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return d0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,r){return hw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,this.stride)},e.prototype.getLength=function(){return JN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=LI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Ya.XY)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return tM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(b1),rse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eW=function(n){rse(e,n);function e(t,r,i){var o=n.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,t),o.ends_=i;else{for(var s=o.getLayout(),a=t,f=[],m=[],C=0,B=a.length;C<B;++C){var I=a[C];C===0&&(s=I.getLayout()),bp(f,I.getFlatCoordinates()),m.push(f.length)}o.setFlatCoordinates(s,f),o.ends_=m}return o}return e.prototype.appendLineString=function(t){this.flatCoordinates?bp(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<C1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),PI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,r,i,o))},e.prototype.getCoordinateAtM=function(t,r,i){if(this.layout!=Ya.XYM&&this.layout!=Ya.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,s=i!==void 0?i:!1;return Zae(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},e.prototype.getCoordinates=function(){return Ib(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new dw(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],s=0,a=0,f=r.length;a<f;++a){var m=r[a],C=new dw(t.slice(s,m),i);o.push(C),s=m}return o},e.prototype.getFlatMidpoints=function(){for(var t=[],r=this.flatCoordinates,i=0,o=this.ends_,s=this.stride,a=0,f=o.length;a<f;++a){var m=o[a],C=hw(r,i,m,s,.5);bp(t,C),i=m}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=qae(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new e(r,Ya.XY,i)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return ese(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=KI(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(b1),ise=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kb=function(n){ise(e,n);function e(t,r){var i=n.call(this)||this;return i.setCoordinates(t,r),i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){var s=this.flatCoordinates,a=Vg(t,r,s[0],s[1]);if(a<o){for(var f=this.stride,m=0;m<f;++m)i[m]=s[m];return i.length=f,a}else return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return FN(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return gI(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$ae(this.flatCoordinates,0,t,this.stride),this.changed()},e}(b1),ose=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FI=function(n){ose(e,n);function e(t,r){var i=n.call(this)||this;return r&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.appendPoint=function(t){this.flatCoordinates?bp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){if(o<C1(this.getExtent(),t,r))return o;for(var s=this.flatCoordinates,a=this.stride,f=0,m=s.length;f<m;f+=a){var C=Vg(t,r,s[f],s[f+1]);if(C<o){o=C;for(var B=0;B<a;++B)i[B]=s[f+B];i.length=a}}return o},e.prototype.getCoordinates=function(){return d0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||r<=t?null:new kb(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,r=this.layout,i=this.stride,o=[],s=0,a=t.length;s<a;s+=i){var f=new kb(t.slice(s,s+i),r);o.push(f)}return o},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,i=this.stride,o=0,s=r.length;o<s;o+=i){var a=r[o],f=r[o+1];if(gI(t,a,f))return!0}return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(b1);function tW(n,e,t,r){for(var i=0,o=n[t-r],s=n[t-r+1];e<t;e+=r){var a=n[e],f=n[e+1];i+=s*a-o*f,o=a,s=f}return i/2}function nW(n,e,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=tW(n,e,a,r),e=a}return i}function ase(n,e,t,r){for(var i=0,o=0,s=t.length;o<s;++o){var a=t[o];i+=nW(n,e,a,r),e=a[a.length-1]}return i}var sse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yK=function(n){sse(e,n);function e(t,r){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,r,i,o){return o<C1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(II(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.getArea=function(){return tW(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return d0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=LI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,Ya.XY)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=eM(this.flatCoordinates,0,t,this.stride),this.changed()},e}(b1);function RI(n,e,t,r,i,o,s){for(var a,f,m,C,B,I,K,L=i[o+1],Y=[],ee=0,V=t.length;ee<V;++ee){var W=t[ee];for(C=n[W-r],I=n[W-r+1],a=e;a<W;a+=r)B=n[a],K=n[a+1],(L<=I&&K<=L||I<=L&&L<=K)&&(m=(L-I)/(K-I)*(B-C)+C,Y.push(m)),C=B,I=K}var ne=NaN,ce=-1/0;for(Y.sort(l1),C=Y[0],a=1,f=Y.length;a<f;++a){B=Y[a];var ge=Math.abs(B-C);ge>ce&&(m=(C+B)/2,DI(n,e,t,r,m,L)&&(ne=m,ce=ge)),C=B}return isNaN(ne)&&(ne=i[o]),s?(s.push(ne,L,ce),s):[ne,L,ce]}function rW(n,e,t,r,i){for(var o=[],s=0,a=t.length;s<a;++s){var f=t[s];o=RI(n,e,f,r,i,2*s,o),e=f[f.length-1]}return o}function lse(n,e,t,r){for(;e<t-r;){for(var i=0;i<r;++i){var o=n[e+i];n[e+i]=n[t-r+i],n[t-r+i]=o}e+=r,t-=r}}function UI(n,e,t,r){for(var i=0,o=n[t-r],s=n[t-r+1];e<t;e+=r){var a=n[e],f=n[e+1];i+=(a-o)*(f+s),o=a,s=f}return i===0?void 0:i>0}function iW(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o],f=UI(n,e,a,r);if(o===0){if(!f)return!1}else if(f)return!1;e=a}return!0}function use(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o){var a=t[o];if(!iW(n,e,a,r))return!1;a.length&&(e=a[a.length-1])}return!0}function EB(n,e,t,r,i){for(var o=i!==void 0?i:!1,s=0,a=t.length;s<a;++s){var f=t[s],m=UI(n,e,f,r),C=s===0?o&&m||!o&&!m:o&&!m||!o&&m;C&&lse(n,e,f,r),e=f}return e}function vK(n,e,t,r,i){for(var o=0,s=t.length;o<s;++o)e=EB(n,e,t[o],r,i);return e}function Ase(n,e){for(var t=[],r=0,i=0,o=0,s=e.length;o<s;++o){var a=e[o];if(!UI(n,r,a,2))t.push(e.slice(i,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[i])}i=o+1,r=a}return t}var cse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kv=function(n){cse(e,n);function e(t,r,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,t),o.ends_=i):o.setCoordinates(t,r),o}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?bp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,r,i,o){return o<C1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),PI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.containsXY=function(t,r){return DI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},e.prototype.getArea=function(){return nW(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),EB(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,Ib(r,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=D0(this.getExtent());this.flatInteriorPoint_=RI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new kb(this.getFlatInteriorPoint(),Ya.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new yK(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],s=0,a=0,f=i.length;a<f;++a){var m=i[a],C=new yK(r.slice(s,m),t);o.push(C),s=m}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;iW(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=EB(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=VN(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new e(r,Ya.XY,i)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return XN(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=KI(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(b1);function _K(n){var e=n[0],t=n[1],r=n[2],i=n[3],o=[e,t,e,i,r,i,r,t,e,t];return new Kv(o,Ya.XY,[o.length])}function oW(n,e,t,r){for(var i=[],o=bd(),s=0,a=t.length;s<a;++s){var f=t[s];o=yI(n,e,f[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=f[f.length-1]}return i}var hse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aW=function(n){hse(e,n);function e(t,r,i){var o=n.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var s=o.getLayout(),a=t,f=[],m=[],C=0,B=a.length;C<B;++C){var I=a[C];C===0&&(s=I.getLayout());for(var K=f.length,L=I.getEnds(),Y=0,ee=L.length;Y<ee;++Y)L[Y]+=K;bp(f,I.getFlatCoordinates()),m.push(L)}r=s,t=f,i=m}return r!==void 0&&i?(o.setFlatCoordinates(r,t),o.endss_=i):o.setCoordinates(t,r),o}return e.prototype.appendPolygon=function(t){var r;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),r=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;bp(this.flatCoordinates,t.getFlatCoordinates()),r=t.getEnds().slice();for(var o=0,s=r.length;o<s;++o)r[o]+=i}this.endss_.push(r),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();var o=new e(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,r,i,o){return o<C1(this.getExtent(),t,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gae(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,r,i,o))},e.prototype.containsXY=function(t,r){return Jae(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,r)},e.prototype.getArea=function(){return ase(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),vK(r,0,this.endss_,this.stride,t)):r=this.flatCoordinates,MB(r,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=oW(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=rW(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new FI(this.getFlatInteriorPoints().slice(),Ya.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;use(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=vK(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Hae(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new e(r,Ya.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var r;if(t===0)r=0;else{var i=this.endss_[t-1];r=i[i.length-1]}var o=this.endss_[t].slice(),s=o[o.length-1];if(r!==0)for(var a=0,f=o.length;a<f;++a)o[a]-=r;return new Kv(this.flatCoordinates.slice(r,s),this.layout,o)},e.prototype.getPolygons=function(){for(var t=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],s=0,a=0,f=i.length;a<f;++a){var m=i[a].slice(),C=m[m.length-1];if(s!==0)for(var B=0,I=m.length;B<I;++B)m[B]-=s;var K=new Kv(r.slice(s,C),t,m);o.push(K),s=C}return o},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return tse(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,r){this.setLayout(r,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Yae(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},e}(b1),dse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fse=function(n){dse(e,n);function e(t){var r=this,i=t||{};return r=n.call(this)||this,r.dataProjection=qs(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=qs(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return e.prototype.readFeatureFromObject=function(t,r){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=OB(i.geometry,r),s=new Qoe;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&s.setGeometryName(i.geometry_name),s.setGeometry(o),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s},e.prototype.readFeaturesFromObject=function(t,r){var i=t,o=null;if(i.type==="FeatureCollection"){var s=t;o=[];for(var a=s.features,f=0,m=a.length;f<m;++f)o.push(this.readFeatureFromObject(a[f],r))}else o=[this.readFeatureFromObject(t,r)];return o},e.prototype.readGeometryFromObject=function(t,r){return OB(t,r)},e.prototype.readProjectionFromObject=function(t){var r=t.crs,i;return r?r.type=="name"?i=qs(r.properties.name):r.type==="EPSG"?i=qs("EPSG:"+r.properties.code):go(!1,36):i=this.dataProjection,i},e.prototype.writeFeatureObject=function(t,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var s=t.getProperties(),a=t.getGeometry();return a&&(i.geometry=BB(a,r),delete s[t.getGeometryName()]),A1(s)||(i.properties=s),i},e.prototype.writeFeaturesObject=function(t,r){r=this.adaptOptions(r);for(var i=[],o=0,s=t.length;o<s;++o)i.push(this.writeFeatureObject(t[o],r));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,r){return BB(t,this.adaptOptions(r))},e}(zae);function OB(n,e){if(!n)return null;var t;switch(n.type){case"Point":{t=mse(n);break}case"LineString":{t=gse(n);break}case"Polygon":{t=Cse(n);break}case"MultiPoint":{t=vse(n);break}case"MultiLineString":{t=yse(n);break}case"MultiPolygon":{t=_se(n);break}case"GeometryCollection":{t=pse(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return BI(t,!1,e)}function pse(n,e){var t=n.geometries.map(function(r){return OB(r,e)});return new Rae(t)}function mse(n){return new kb(n.coordinates)}function gse(n){return new dw(n.coordinates)}function yse(n){return new eW(n.coordinates)}function vse(n){return new FI(n.coordinates)}function _se(n){return new aW(n.coordinates)}function Cse(n){return new Kv(n.coordinates)}function BB(n,e){n=BI(n,!0,e);var t=n.getType(),r;switch(t){case"Point":{r=Ese(n);break}case"LineString":{r=xse(n);break}case"Polygon":{r=Ose(n,e);break}case"MultiPoint":{r=Mse(n);break}case"MultiLineString":{r=wse(n);break}case"MultiPolygon":{r=Sse(n,e);break}case"GeometryCollection":{r=bse(n,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return r}function bse(n,e){var t=n.getGeometriesArray().map(function(r){var i=Tl({},e);return delete i.featureProjection,BB(r,i)});return{type:"GeometryCollection",geometries:t}}function xse(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function wse(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Mse(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function Sse(n,e){var t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Ese(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function Ose(n,e){var t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var Bse=ia,u3=K5;function ia(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}ia.Varint=0;ia.Fixed64=1;ia.Bytes=2;ia.Fixed32=5;var IB=65536*65536,CK=1/IB,Ise=12,sW=typeof TextDecoder>"u"?null:new TextDecoder("utf8");ia.prototype={destroy:function(){this.buf=null},readFields:function(n,e,t){for(t=t||this.length;this.pos<t;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,n(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(n,e){return this.readFields(n,e,this.readVarint()+this.pos)},readFixed32:function(){var n=A3(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=xK(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=A3(this.buf,this.pos)+A3(this.buf,this.pos+4)*IB;return this.pos+=8,n},readSFixed64:function(){var n=A3(this.buf,this.pos)+xK(this.buf,this.pos+4)*IB;return this.pos+=8,n},readFloat:function(){var n=u3.read(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=u3.read(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var e=this.buf,t,r;return r=e[this.pos++],t=r&127,r<128||(r=e[this.pos++],t|=(r&127)<<7,r<128)||(r=e[this.pos++],t|=(r&127)<<14,r<128)||(r=e[this.pos++],t|=(r&127)<<21,r<128)?t:(r=e[this.pos],t|=(r&15)<<28,kse(t,n,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2===1?(n+1)/-2:n/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var n=this.readVarint()+this.pos,e=this.pos;return this.pos=n,n-e>=Ise&&sW?Qse(this.buf,e,n):Gse(this.buf,e,n)},readBytes:function(){var n=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,n);return this.pos=n,e},readPackedVarint:function(n,e){if(this.type!==ia.Bytes)return n.push(this.readVarint(e));var t=Xp(this);for(n=n||[];this.pos<t;)n.push(this.readVarint(e));return n},readPackedSVarint:function(n){if(this.type!==ia.Bytes)return n.push(this.readSVarint());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==ia.Bytes)return n.push(this.readBoolean());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==ia.Bytes)return n.push(this.readFloat());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==ia.Bytes)return n.push(this.readDouble());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==ia.Bytes)return n.push(this.readFixed32());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==ia.Bytes)return n.push(this.readSFixed32());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==ia.Bytes)return n.push(this.readFixed64());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==ia.Bytes)return n.push(this.readSFixed64());var e=Xp(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed64());return n},skip:function(n){var e=n&7;if(e===ia.Varint)for(;this.buf[this.pos++]>127;);else if(e===ia.Bytes)this.pos=this.readVarint()+this.pos;else if(e===ia.Fixed32)this.pos+=4;else if(e===ia.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(n,e){this.writeVarint(n<<3|e)},realloc:function(n){for(var e=this.length||16;e<this.pos+n;)e*=2;if(e!==this.length){var t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),ny(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),ny(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),ny(this.buf,n&-1,this.pos),ny(this.buf,Math.floor(n*CK),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),ny(this.buf,n&-1,this.pos),ny(this.buf,Math.floor(n*CK),this.pos+4),this.pos+=8},writeVarint:function(n){if(n=+n||0,n>268435455||n<0){Tse(n,this);return}this.realloc(4),this.buf[this.pos++]=n&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=(n>>>=7)&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=(n>>>=7)&127|(n>127?128:0),!(n<=127)&&(this.buf[this.pos++]=n>>>7&127)))},writeSVarint:function(n){this.writeVarint(n<0?-n*2-1:n*2)},writeBoolean:function(n){this.writeVarint(!!n)},writeString:function(n){n=String(n),this.realloc(n.length*4),this.pos++;var e=this.pos;this.pos=$se(this.buf,n,this.pos);var t=this.pos-e;t>=128&&bK(e,t,this),this.pos=e-1,this.writeVarint(t),this.pos+=t},writeFloat:function(n){this.realloc(4),u3.write(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),u3.write(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var e=n.length;this.writeVarint(e),this.realloc(e);for(var t=0;t<e;t++)this.buf[this.pos++]=n[t]},writeRawMessage:function(n,e){this.pos++;var t=this.pos;n(e,this);var r=this.pos-t;r>=128&&bK(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeMessage:function(n,e,t){this.writeTag(n,ia.Bytes),this.writeRawMessage(e,t)},writePackedVarint:function(n,e){e.length&&this.writeMessage(n,Lse,e)},writePackedSVarint:function(n,e){e.length&&this.writeMessage(n,Dse,e)},writePackedBoolean:function(n,e){e.length&&this.writeMessage(n,Use,e)},writePackedFloat:function(n,e){e.length&&this.writeMessage(n,Fse,e)},writePackedDouble:function(n,e){e.length&&this.writeMessage(n,Rse,e)},writePackedFixed32:function(n,e){e.length&&this.writeMessage(n,zse,e)},writePackedSFixed32:function(n,e){e.length&&this.writeMessage(n,jse,e)},writePackedFixed64:function(n,e){e.length&&this.writeMessage(n,Nse,e)},writePackedSFixed64:function(n,e){e.length&&this.writeMessage(n,Wse,e)},writeBytesField:function(n,e){this.writeTag(n,ia.Bytes),this.writeBytes(e)},writeFixed32Field:function(n,e){this.writeTag(n,ia.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(n,e){this.writeTag(n,ia.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(n,e){this.writeTag(n,ia.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(n,e){this.writeTag(n,ia.Fixed64),this.writeSFixed64(e)},writeVarintField:function(n,e){this.writeTag(n,ia.Varint),this.writeVarint(e)},writeSVarintField:function(n,e){this.writeTag(n,ia.Varint),this.writeSVarint(e)},writeStringField:function(n,e){this.writeTag(n,ia.Bytes),this.writeString(e)},writeFloatField:function(n,e){this.writeTag(n,ia.Fixed32),this.writeFloat(e)},writeDoubleField:function(n,e){this.writeTag(n,ia.Fixed64),this.writeDouble(e)},writeBooleanField:function(n,e){this.writeVarintField(n,!!e)}};function kse(n,e,t){var r=t.buf,i,o;if(o=r[t.pos++],i=(o&112)>>4,o<128||(o=r[t.pos++],i|=(o&127)<<3,o<128)||(o=r[t.pos++],i|=(o&127)<<10,o<128)||(o=r[t.pos++],i|=(o&127)<<17,o<128)||(o=r[t.pos++],i|=(o&127)<<24,o<128)||(o=r[t.pos++],i|=(o&1)<<31,o<128))return ty(n,i,e);throw new Error("Expected varint not more than 10 bytes")}function Xp(n){return n.type===ia.Bytes?n.readVarint()+n.pos:n.pos+1}function ty(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function Tse(n,e){var t,r;if(n>=0?(t=n%4294967296|0,r=n/4294967296|0):(t=~(-n%4294967296),r=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,r=r+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Pse(t,r,e),Kse(r,e)}function Pse(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function Kse(n,e){var t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function bK(n,e,t){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(r);for(var i=t.pos-1;i>=n;i--)t.buf[i+r]=t.buf[i]}function Lse(n,e){for(var t=0;t<n.length;t++)e.writeVarint(n[t])}function Dse(n,e){for(var t=0;t<n.length;t++)e.writeSVarint(n[t])}function Fse(n,e){for(var t=0;t<n.length;t++)e.writeFloat(n[t])}function Rse(n,e){for(var t=0;t<n.length;t++)e.writeDouble(n[t])}function Use(n,e){for(var t=0;t<n.length;t++)e.writeBoolean(n[t])}function zse(n,e){for(var t=0;t<n.length;t++)e.writeFixed32(n[t])}function jse(n,e){for(var t=0;t<n.length;t++)e.writeSFixed32(n[t])}function Nse(n,e){for(var t=0;t<n.length;t++)e.writeFixed64(n[t])}function Wse(n,e){for(var t=0;t<n.length;t++)e.writeSFixed64(n[t])}function A3(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+n[e+3]*16777216}function ny(n,e,t){n[t]=e,n[t+1]=e>>>8,n[t+2]=e>>>16,n[t+3]=e>>>24}function xK(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+(n[e+3]<<24)}function Gse(n,e,t){for(var r="",i=e;i<t;){var o=n[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a>t)break;var f,m,C;a===1?o<128&&(s=o):a===2?(f=n[i+1],(f&192)===128&&(s=(o&31)<<6|f&63,s<=127&&(s=null))):a===3?(f=n[i+1],m=n[i+2],(f&192)===128&&(m&192)===128&&(s=(o&15)<<12|(f&63)<<6|m&63,(s<=2047||s>=55296&&s<=57343)&&(s=null))):a===4&&(f=n[i+1],m=n[i+2],C=n[i+3],(f&192)===128&&(m&192)===128&&(C&192)===128&&(s=(o&15)<<18|(f&63)<<12|(m&63)<<6|C&63,(s<=65535||s>=1114112)&&(s=null))),s===null?(s=65533,a=1):s>65535&&(s-=65536,r+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),r+=String.fromCharCode(s),i+=a}return r}function Qse(n,e,t){return sW.decode(n.subarray(e,t))}function $se(n,e,t){for(var r=0,i,o;r<e.length;r++){if(i=e.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){n[t++]=239,n[t++]=191,n[t++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):o=i;continue}else o&&(n[t++]=239,n[t++]=191,n[t++]=189,o=null);i<128?n[t++]=i:(i<2048?n[t++]=i>>6|192:(i<65536?n[t++]=i>>12|224:(n[t++]=i>>18|240,n[t++]=i>>12&63|128),n[t++]=i>>6&63|128),n[t++]=i&63|128)}return t}const Yse=wa(Bse);var wK=yd(),c1=function(){function n(e,t,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return n.prototype.get=function(e){return this.properties_[e]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?FN(this.flatCoordinates_):yI(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=D0(this.getExtent());this.flatInteriorPoints_=RI(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=oW(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=rW(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=hw(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,r=this.ends_,i=0,o=r.length;i<o;++i){var s=r[i],a=hw(e,t,s,2,.5);bp(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(e){return this},n.prototype.simplifyTransformed=function(e,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(e){e=qs(e);var t=e.getExtent(),r=e.getWorldExtent();if(t&&r){var i=Kc(r)/Kc(t);wp(wK,r[0],r[3],i,-i,0,0,0),B0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,wK,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();c1.prototype.getEndss=c1.prototype.getEnds;c1.prototype.getFlatCoordinates=c1.prototype.getOrientedFlatCoordinates;var qse=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vse=function(n){qse(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.dataProjection=new xI({code:"",units:ic.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:c1,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return e.prototype.readRawGeometry_=function(t,r,i,o){t.pos=r.geometry;for(var s=t.readVarint()+t.pos,a=1,f=0,m=0,C=0,B=0,I=0;t.pos<s;){if(!f){var K=t.readVarint();a=K&7,f=K>>3}f--,a===1||a===2?(m+=t.readSVarint(),C+=t.readSVarint(),a===1&&B>I&&(o.push(B),I=B),i.push(m,C),B+=2):a===7?B>I&&(i.push(i[I],i[I+1]),B+=2):go(!1,59)}B>I&&(o.push(B),I=B)},e.prototype.createFeature_=function(t,r,i){var o=r.type;if(o===0)return null;var s,a=r.properties,f;this.idProperty_?(f=a[this.idProperty_],delete a[this.idProperty_]):f=r.id,a[this.layerName_]=r.layer.name;var m=[],C=[];this.readRawGeometry_(t,r,m,C);var B=ele(o,C.length);if(this.featureClass_===c1)s=new this.featureClass_(B,m,C,a,f),s.transform(i.dataProjection);else{var I=void 0;if(B=="Polygon"){var K=Ase(m,C);I=K.length>1?new aW(m,Ya.XY,K):new Kv(m,Ya.XY,C)}else I=B==="Point"?new kb(m,Ya.XY):B==="LineString"?new dw(m,Ya.XY):B==="MultiPoint"?new FI(m,Ya.XY):B==="MultiLineString"?new eW(m,Ya.XY,C):null;var L=this.featureClass_;s=new L,this.geometryName_&&s.setGeometryName(this.geometryName_);var Y=BI(I,!1,i);s.setGeometry(Y),f!==void 0&&s.setId(f),s.setProperties(a,!0)}return s},e.prototype.getType=function(){return"arraybuffer"},e.prototype.readFeatures=function(t,r){var i=this.layers_,o=this.adaptOptions(r),s=qs(o.dataProjection);s.setWorldExtent(o.extent),o.dataProjection=s;var a=new Yse(t),f=a.readFields(Hse,{}),m=[];for(var C in f)if(!(i&&i.indexOf(C)==-1)){var B=f[C],I=B?[0,0,B.extent,B.extent]:null;s.setExtent(I);for(var K=0,L=B.length;K<L;++K){var Y=Jse(a,B,K),ee=this.createFeature_(a,Y,o);ee!==null&&m.push(ee)}}return m},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(qN);function Hse(n,e,t){if(n===3){var r={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(Zse,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function Zse(n,e,t){if(n===15)e.version=t.readVarint();else if(n===1)e.name=t.readString();else if(n===5)e.extent=t.readVarint();else if(n===2)e.features.push(t.pos);else if(n===3)e.keys.push(t.readString());else if(n===4){for(var r=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,r=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;e.values.push(r)}}function Xse(n,e,t){if(n==1)e.id=t.readVarint();else if(n==2)for(var r=t.readVarint()+t.pos;t.pos<r;){var i=e.layer.keys[t.readVarint()],o=e.layer.values[t.readVarint()];e.properties[i]=o}else n==3?e.type=t.readVarint():n==4&&(e.geometry=t.pos)}function Jse(n,e,t){n.pos=e.features[t];var r=n.readVarint()+n.pos,i={layer:e,type:0,properties:{}};return n.readFields(Xse,i,r),i}function ele(n,e){var t;return n===1?t=e===1?"Point":"MultiPoint":n===2?t=e===1?"LineString":"MultiLineString":n===3&&(t="Polygon"),t}var tle=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,nle=/^([a-z]*)$|^hsla?\(.*\)$/i;function lW(n){return typeof n=="string"?n:uW(n)}function rle(n){var e=document.createElement("div");if(e.style.color=n,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var ile=function(){var n=1024,e={},t=0;return function(r){var i;if(e.hasOwnProperty(r))i=e[r];else{if(t>=n){var o=0;for(var s in e)o++&3||(delete e[s],--t)}i=ole(r),e[r]=i,++t}return i}}();function fw(n){return Array.isArray(n)?n:ile(n)}function ole(n){var e,t,r,i,o;if(nle.exec(n)&&(n=rle(n)),tle.exec(n)){var s=n.length-1,a=void 0;s<=4?a=1:a=2;var f=s===4||s===8;e=parseInt(n.substr(1+0*a,a),16),t=parseInt(n.substr(1+1*a,a),16),r=parseInt(n.substr(1+2*a,a),16),f?i=parseInt(n.substr(1+3*a,a),16):i=255,a==1&&(e=(e<<4)+e,t=(t<<4)+t,r=(r<<4)+r,f&&(i=(i<<4)+i)),o=[e,t,r,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),MK(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),MK(o)):go(!1,14);return o}function MK(n){return n[0]=Yl(n[0]+.5|0,0,255),n[1]=Yl(n[1]+.5|0,0,255),n[2]=Yl(n[2]+.5|0,0,255),n[3]=Yl(n[3],0,1),n}function uW(n){var e=n[0];e!=(e|0)&&(e=e+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+e+","+t+","+r+","+i+")"}var ale=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];!(e++&3)&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(e,t,r){var i=SK(e,t,r);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(e,t,r,i){var o=SK(e,t,r);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},n}();function SK(n,e,t){var r=t?lW(t):"null";return e+":"+n+":"+r}var pw=new ale;const Ca={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var sle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AW=function(n){sle(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var i=Tl({},t);return typeof t.properties=="object"&&(delete i.properties,Tl(i,t.properties)),i[Ca.OPACITY]=t.opacity!==void 0?t.opacity:1,go(typeof i[Ca.OPACITY]=="number",64),i[Ca.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Ca.Z_INDEX]=t.zIndex,i[Ca.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Ca.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Ca.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Ca.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return r.opacity=Yl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},e.prototype.getLayersArray=function(t){return gi()},e.prototype.getLayerStatesArray=function(t){return gi()},e.prototype.getExtent=function(){return this.get(Ca.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Ca.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Ca.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(Ca.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(Ca.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(Ca.OPACITY)},e.prototype.getSourceState=function(){return gi()},e.prototype.getVisible=function(){return this.get(Ca.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Ca.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(Ca.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Ca.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Ca.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(Ca.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(Ca.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){go(typeof t=="number",64),this.set(Ca.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Ca.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Ca.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},e}(pf);const I0={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var lle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nM=function(n){lle(e,n);function e(t){var r=this,i=Tl({},t);delete i.source,r=n.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(Ca.SOURCE,r.handleSourcePropertyChange_);var o=t.source?t.source:null;return r.setSource(o),r}return e.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},e.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},e.prototype.getSource=function(){return this.get(Ca.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(hs(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Eo(t,Li.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,r){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,r)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(Ca.MAP,t)},e.prototype.getMapInternal=function(){return this.get(Ca.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(hs(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(hs(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Eo(t,I0.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,s=this.getLayerState(!1);go(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=Eo(this,Li.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ca.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},e}(AW);function mw(n,e){if(!n.visible)return!1;var t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=e.zoom;return r>n.minZoom&&r<=n.maxZoom}var ule=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ale=function(n){ule(e,n);function e(t){var r=n.call(this)||this;return r.map_=t,r}return e.prototype.dispatchRenderEvent=function(t,r){gi()},e.prototype.calculateMatrices2D=function(t){var r=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;wp(i,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),mI(o,i)},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s,a,f,m){var C,B=r.viewState;function I(_e,Ot,St,_t){return s.call(a,Ot,_e?St:null,_t)}var K=B.projection,L=MI(t.slice(),K),Y=[[0,0]];if(K.canWrapX()&&o){var ee=K.getExtent(),V=xs(ee);Y.push([-V,0],[V,0])}for(var W=r.layerStatesArray,ne=W.length,ce=[],ge=[],fe=0;fe<Y.length;fe++)for(var H=ne-1;H>=0;--H){var X=W[H],Me=X.layer;if(Me.hasRenderer()&&mw(X,B)&&f.call(m,Me)){var be=Me.getRenderer(),Fe=Me.getSource();if(be&&Fe){var Ue=Fe.getWrapX()?L:t,me=I.bind(null,X.managed);ge[0]=Ue[0]+Y[fe][0],ge[1]=Ue[1]+Y[fe][1],C=be.forEachFeatureAtCoordinate(ge,r,i,me,ce)}if(C)return C}}if(ce.length!==0){var Ve=1/ce.length;return ce.forEach(function(_e,Ot){return _e.distanceSq+=Ot*Ve}),ce.sort(function(_e,Ot){return _e.distanceSq-Ot.distanceSq}),ce.some(function(_e){return C=_e.callback(_e.feature,_e.layer,_e.geometry)}),C}},e.prototype.forEachLayerAtPixel=function(t,r,i,o,s){return gi()},e.prototype.hasFeatureAtCoordinate=function(t,r,i,o,s,a){var f=this.forEachFeatureAtCoordinate(t,r,i,o,iv,this,s,a);return f!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){gi()},e.prototype.scheduleExpireIconCache=function(t){pw.canExpireCache()&&t.postRenderFunctions.push(cle)},e}(dI);function cle(n,e){pw.expire()}var hle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cW=function(n){hle(e,n);function e(t,r,i,o){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=i,s.context=o,s}return e}(Om),c3="ol-hidden",dle="ol-selectable",rM="ol-unselectable",zI="ol-control",EK="ol-collapsed",fle=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),OK=["style","variant","weight","size","lineHeight","family"],hW=function(n){var e=n.match(fle);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=OK.length;r<i;++r){var o=e[r+1];o!==void 0&&(t[OK[r]]=o)}return t.families=t.family.split(/,\s?/),t};function Lc(n,e,t,r){var i;return t&&t.length?i=t.shift():Z5?i=new OffscreenCanvas(n||300,e||300):i=document.createElement("canvas"),n&&(i.width=n),e&&(i.height=e),i.getContext("2d",r)}function jI(n){var e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function ple(n){var e=n.offsetWidth,t=getComputedStyle(n);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function mle(n){var e=n.offsetHeight,t=getComputedStyle(n);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function BK(n,e){var t=e.parentNode;t&&t.replaceChild(n,e)}function gw(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function dW(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function gle(n,e){for(var t=n.childNodes,r=0;;++r){var i=t[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){n.appendChild(o);continue}if(!o){n.removeChild(i),--r;continue}n.insertBefore(o,i)}}}var fW="10px sans-serif",ym="#000",yw="round",Tb=[],Pb=0,Lv="round",Kb=10,Lb="#000",Db="center",vw="middle",Rg=[0,0,0,0],Fb=1,im=new pf,kB=new Xv;kB.setSize=function(){console.warn("labelCache is deprecated.")};var gy=null,TB,PB={},yle=function(){var n=100,e="32px ",t=["monospace","serif"],r=t.length,i="wmytzilWMYTZIL@#/&?$%10",o,s;function a(m,C,B){for(var I=!0,K=0;K<r;++K){var L=t[K];if(s=_w(m+" "+C+" "+e+L,i),B!=L){var Y=_w(m+" "+C+" "+e+B+","+L,i);I=I&&Y!=s}}return!!I}function f(){for(var m=!0,C=im.getKeys(),B=0,I=C.length;B<I;++B){var K=C[B];im.get(K)<n&&(a.apply(this,K.split(`
`))?(s2(PB),gy=null,TB=void 0,im.set(K,n)):(im.set(K,im.get(K)+1,!0),m=!1))}m&&(clearInterval(o),o=void 0)}return function(m){var C=hW(m);if(C)for(var B=C.families,I=0,K=B.length;I<K;++I){var L=B[I],Y=C.style+`
`+C.weight+`
`+L;im.get(Y)===void 0&&(im.set(Y,n,!0),a(C.style,C.weight,L)||(im.set(Y,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),vle=function(){var n;return function(e){var t=PB[e];if(t==null){if(Z5){var r=hW(e),i=pW(e,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);PB[e]=t}return t}}();function pW(n,e){return gy||(gy=Lc(1,1)),n!=TB&&(gy.font=n,TB=gy.font),gy.measureText(e)}function _w(n,e){return pW(n,e).width}function IK(n,e,t){if(e in t)return t[e];var r=e.split(`
`).reduce(function(i,o){return Math.max(i,_w(n,o))},0);return t[e]=r,r}function _le(n,e){for(var t=[],r=[],i=[],o=0,s=0,a=0,f=0,m=0,C=e.length;m<=C;m+=2){var B=e[m];if(B===`
`||m===C){o=Math.max(o,s),i.push(s),s=0,a+=f;continue}var I=e[m+1]||n.font,K=_w(I,B);t.push(K),s+=K;var L=vle(I);r.push(L),f=Math.max(f,L)}return{width:o,height:a,widths:t,heights:r,lineWidths:i}}function Cle(n,e,t,r,i,o,s,a,f,m,C){n.save(),t!==1&&(n.globalAlpha*=t),e&&n.setTransform.apply(n,e),r.contextInstructions?(n.translate(f,m),n.scale(C[0],C[1]),ble(r,n)):C[0]<0||C[1]<0?(n.translate(f,m),n.scale(C[0],C[1]),n.drawImage(r,i,o,s,a,0,0,s,a)):n.drawImage(r,i,o,s,a,f,m,s*C[0],a*C[1]),n.restore()}function ble(n,e){for(var t=n.contextInstructions,r=0,i=t.length;r<i;r+=2)Array.isArray(t[r+1])?e[t[r]].apply(e,t[r+1]):e[t[r]]=t[r+1]}var xle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wle=function(n){xle(e,n);function e(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=Eo(im,Tv.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=rM+" ol-layers";var o=t.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return e.prototype.dispatchRenderEvent=function(t,r){var i=this.getMap();if(i.hasListener(t)){var o=new cW(t,void 0,r);i.dispatchEvent(o)}},e.prototype.disposeInternal=function(){hs(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(I0.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(K,L){return K.zIndex-L.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],s=null,a=0,f=r.length;a<f;++a){var m=r[a];t.layerIndex=a;var C=m.layer,B=C.getSourceState();if(!mw(m,i)||B!="ready"&&B!="undefined"){C.unrender();continue}var I=C.render(t,s);I&&(I!==s&&(this.children_.push(I),s=I),"getDeclutter"in C&&o.push(C))}for(var a=o.length-1;a>=0;--a)o[a].renderDeclutter(t);gle(this.element_,this.children_),this.dispatchRenderEvent(I0.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,r,i,o,s){for(var a=r.viewState,f=r.layerStatesArray,m=f.length,C=m-1;C>=0;--C){var B=f[C],I=B.layer;if(I.hasRenderer()&&mw(B,a)&&s(I)){var K=I.getRenderer(),L=K.getDataAtPixel(t,r,i);if(L){var Y=o(I,L);if(Y)return Y}}}},e}(Ale);const Bc={ADD:"add",REMOVE:"remove"};var mW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kK={LENGTH:"length"},h3=function(n){mW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.element=r,o.index=i,o}return e}(Om),md=function(n){mW(e,n);function e(t,r){var i=n.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var s=0,a=i.array_.length;s<a;++s)i.assertUnique_(i.array_[s],s);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var r=0,i=t.length;r<i;++r)this.push(t[r]);return this},e.prototype.forEach=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)t(r[i],i,r)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(kK.LENGTH)},e.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new h3(Bc.ADD,r,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},e.prototype.remove=function(t){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h3(Bc.REMOVE,r,t)),r},e.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var o=this.array_[t];this.array_[t]=r,this.dispatchEvent(new h3(Bc.REMOVE,o,t)),this.dispatchEvent(new h3(Bc.ADD,r,t))}else{for(var s=i;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},e.prototype.updateLength_=function(){this.set(kK.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==r)throw new kN(58)},e}(pf),gW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),i0=function(n){gW(e,n);function e(t,r){var i=n.call(this,t)||this;return i.layer=r,i}return e}(Om),kE={LAYERS:"layers"},iM=function(n){gW(e,n);function e(t){var r=this,i=t||{},o=Tl({},i);delete o.layers;var s=i.layers;return r=n.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(kE.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new md(s.slice(),{unique:!0}):go(typeof s.getArray=="function",43):s=new md(void 0,{unique:!0}),r.setLayers(s),r}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(hs),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Eo(t,Bc.ADD,this.handleLayersAdd_,this),Eo(t,Bc.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(hs);s2(this.listenerKeys_);for(var i=t.getArray(),o=0,s=i.length;o<s;o++){var a=i[o];this.registerLayerListeners_(a),this.dispatchEvent(new i0("addlayer",a))}this.changed()},e.prototype.registerLayerListeners_=function(t){var r=[Eo(t,Tv.PROPERTYCHANGE,this.handleLayerChange_,this),Eo(t,Li.CHANGE,this.handleLayerChange_,this)];t instanceof e&&r.push(Eo(t,"addlayer",this.handleLayerGroupAdd_,this),Eo(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Vi(t)]=r},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new i0("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new i0("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new i0("addlayer",r)),this.changed()},e.prototype.handleLayersRemove_=function(t){var r=t.element,i=Vi(r);this.listenerKeys_[i].forEach(hs),delete this.listenerKeys_[i],this.dispatchEvent(new i0("removelayer",r)),this.changed()},e.prototype.getLayers=function(){return this.get(kE.LAYERS)},e.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,s=i.length;o<s;++o)this.dispatchEvent(new i0("removelayer",i[o]));this.set(kE.LAYERS,t)},e.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},e.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],i=r.length;this.getLayers().forEach(function(C){C.getLayerStatesArray(r)});var o=this.getLayerState(),s=o.zIndex;!t&&o.zIndex===void 0&&(s=0);for(var a=i,f=r.length;a<f;a++){var m=r[a];m.opacity*=o.opacity,m.visible=m.visible&&o.visible,m.maxResolution=Math.min(m.maxResolution,o.maxResolution),m.minResolution=Math.max(m.minResolution,o.minResolution),m.minZoom=Math.max(m.minZoom,o.minZoom),m.maxZoom=Math.min(m.maxZoom,o.maxZoom),o.extent!==void 0&&(m.extent!==void 0?m.extent=qg(m.extent,o.extent):m.extent=o.extent),m.zIndex===void 0&&(m.zIndex=s)}return r},e.prototype.getSourceState=function(){return"ready"},e}(AW),Mle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yy=function(n){Mle(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return e}(Om),Sle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),e0=function(n){Sle(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,s)||this;return f.originalEvent=i,f.pixel_=null,f.coordinate_=null,f.dragging=o!==void 0?o:!1,f.activePointers=a,f}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(yy);const ul={SINGLECLICK:"singleclick",CLICK:Li.CLICK,DBLCLICK:Li.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},KB={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Ele=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ole=function(n){Ele(e,n);function e(t,r){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Eo(o,KB.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Eo(o,KB.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Li.TOUCHMOVE,i.boundHandleTouchMove_,PN?{passive:!1}:!1),i}return e.prototype.emulateClick_=function(t){var r=new e0(ul.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new e0(ul.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new e0(ul.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var r=t,i=r.pointerId;if(r.type==ul.POINTERUP||r.type==ul.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==ul.POINTERDOWN||r.type==ul.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=BN(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new e0(ul.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(hs),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);var r=new e0(ul.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?u1:o}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Eo(s,ul.POINTERMOVE,this.handlePointerMove_,this),Eo(s,ul.POINTERUP,this.handlePointerUp_,this),Eo(this.element_,ul.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Eo(this.element_.getRootNode(),ul.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var r=new e0(ul.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new e0(ul.POINTERMOVE,this.map_,t,r))},e.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(hs(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Li.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(hs(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(hs),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},e}(Xv);const am={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},KA={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var Cw=1/0,Ble=function(){function n(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,s2(this.queuedElements_)},n.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},n.prototype.enqueue=function(e){go(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=Cw?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(e){return e*2+1},n.prototype.getRightChildIndex_=function(e){return e*2+2},n.prototype.getParentIndex_=function(e){return e-1>>1},n.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(e){return e in this.queuedElements_},n.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},n.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,i=t.length,o=t[e],s=r[e],a=e;e<i>>1;){var f=this.getLeftChildIndex_(e),m=this.getRightChildIndex_(e),C=m<i&&r[m]<r[f]?m:f;t[e]=t[C],r[e]=r[C],e=C}t[e]=o,r[e]=s,this.siftDown_(a,e)},n.prototype.siftDown_=function(e,t){for(var r=this.elements_,i=this.priorities_,o=r[t],s=i[t];t>e;){var a=this.getParentIndex_(t);if(i[a]>s)r[t]=r[a],i[t]=i[a],t=a;else break}r[t]=o,i[t]=s},n.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,i=0,o=t.length,s,a,f;for(a=0;a<o;++a)s=t[a],f=e(s),f==Cw?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=f,t[i++]=s);t.length=i,r.length=i,this.heapify_()},n}();const dr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Ile=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kle=function(n){Ile(e,n);function e(t,r){var i=n.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return e.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var i=t[0];i.addEventListener(Li.CHANGE,this.boundHandleTileChange_)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var r=t.target,i=r.getState();if(i===dr.LOADED||i===dr.ERROR||i===dr.EMPTY){r.removeEventListener(Li.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,r){for(var i=0,o,s,a;this.tilesLoading_<t&&i<r&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),o=s.getState(),o===dr.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())},e}(Ble);function Tle(n,e,t,r,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Cw;var o=n.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}const cl={ANIMATING:0,INTERACTING:1},Jd={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var yW=42,NI=256;function TK(n,e,t){return function(r,i,o,s,a){if(r){if(!i&&!e)return r;var f=e?0:o[0]*i,m=e?0:o[1]*i,C=a?a[0]:0,B=a?a[1]:0,I=n[0]+f/2+C,K=n[2]-f/2+C,L=n[1]+m/2+B,Y=n[3]-m/2+B;I>K&&(I=(K+I)/2,K=I),L>Y&&(L=(Y+L)/2,Y=L);var ee=Yl(r[0],I,K),V=Yl(r[1],L,Y);if(s&&t&&i){var W=30*i;ee+=-W*Math.log(1+Math.max(0,I-r[0])/W)+W*Math.log(1+Math.max(0,r[0]-K)/W),V+=-W*Math.log(1+Math.max(0,L-r[1])/W)+W*Math.log(1+Math.max(0,r[1]-Y)/W)}return[ee,V]}}}function Ple(n){return n}function WI(n,e,t,r){var i=xs(e)/t[0],o=Kc(e)/t[1];return r?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function GI(n,e,t){var r=Math.min(n,e),i=50;return r*=Math.log(1+i*Math.max(0,n/e-1))/i+1,t&&(r=Math.max(r,t),r/=Math.log(1+i*Math.max(0,t/n-1))/i+1),Yl(r,t/2,e*2)}function Kle(n,e,t,r){return function(i,o,s,a){if(i!==void 0){var f=n[0],m=n[n.length-1],C=t?WI(f,t,s,r):f;if(a){var B=e!==void 0?e:!0;return B?GI(i,C,m):Yl(i,m,C)}var I=Math.min(C,i),K=Math.floor(fI(n,I,o));return n[K]>C&&K<n.length-1?n[K+1]:n[K]}else return}}function Lle(n,e,t,r,i,o){return function(s,a,f,m){if(s!==void 0){var C=i?WI(e,i,f,o):e,B=t!==void 0?t:0;if(m){var I=r!==void 0?r:!0;return I?GI(s,C,B):Yl(s,B,C)}var K=1e-9,L=Math.ceil(Math.log(e/C)/Math.log(n)-K),Y=-a*(.5-K)+.5,ee=Math.min(C,s),V=Math.floor(Math.log(e/ee)/Math.log(n)+Y),W=Math.max(L,V),ne=e/Math.pow(n,W);return Yl(ne,B,C)}else return}}function PK(n,e,t,r,i){return function(o,s,a,f){if(o!==void 0){var m=r?WI(n,r,a,i):n,C=t!==void 0?t:!0;return!C||!f?Yl(o,e,m):GI(o,m,e)}else return}}function QI(n){if(n!==void 0)return 0}function KK(n){if(n!==void 0)return n}function Dle(n){var e=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function Fle(n){var e=r4(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function vW(n){return Math.pow(n,3)}function Jv(n){return 1-vW(1-n)}function Rle(n){return 3*n*n-2*n*n*n}function Ule(n){return n}var zle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TE=0,hm=function(n){zle(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=Tl({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=EI(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&WN(),i.center&&(i.center=rm(i.center,r.projection_)),i.extent&&(i.extent=Dg(i.extent,r.projection_)),r.applyOptions_(i),r}return e.prototype.applyOptions_=function(t){var r=Tl({},t);for(var i in Jd)delete r[i];this.setProperties(r,!0);var o=Nle(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var s=jle(t),a=o.constraint,f=Wle(t);this.constraints_={center:s,resolution:a,rotation:f},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),a=s/2*(o[3]-r[3]+r[1]-o[1]),f=s/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+a,i[1]-f])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Tl({},r,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=Tl({},o),o.center=rm(o.center,this.getProjection())),o.anchor&&(o=Tl({},o),o.anchor=rm(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},e.prototype.animateInternal=function(t){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var s=arguments[o];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(o===r){i&&d3(i,!0);return}for(var a=Date.now(),f=this.targetCenter_.slice(),m=this.targetResolution_,C=this.targetRotation_,B=[];o<r;++o){var I=arguments[o],K={start:a,complete:!1,anchor:I.anchor,duration:I.duration!==void 0?I.duration:1e3,easing:I.easing||Rle,callback:i};if(I.center&&(K.sourceCenter=f,K.targetCenter=I.center.slice(),f=K.targetCenter),I.zoom!==void 0?(K.sourceResolution=m,K.targetResolution=this.getResolutionForZoom(I.zoom),m=K.targetResolution):I.resolution&&(K.sourceResolution=m,K.targetResolution=I.resolution,m=K.targetResolution),I.rotation!==void 0){K.sourceRotation=C;var L=Hg(I.rotation-C+Math.PI,2*Math.PI)-Math.PI;K.targetRotation=C+L,C=K.targetRotation}Gle(K)?K.complete=!0:a+=K.duration,B.push(K)}this.animations_.push(B),this.setHint(cl.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[cl.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[cl.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(cl.ANIMATING,-this.hints_[cl.ANIMATING]);for(var t,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&d3(o[0].callback,!1),!t)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(!f.complete){t=f.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],s=!0,a=0,f=o.length;a<f;++a){var m=o[a];if(!m.complete){var C=t-m.start,B=m.duration>0?C/m.duration:1;B>=1?(m.complete=!0,B=1):s=!1;var I=m.easing(B);if(m.sourceCenter){var K=m.sourceCenter[0],L=m.sourceCenter[1],Y=m.targetCenter[0],ee=m.targetCenter[1];this.nextCenter_=m.targetCenter;var V=K+I*(Y-K),W=L+I*(ee-L);this.targetCenter_=[V,W]}if(m.sourceResolution&&m.targetResolution){var ne=I===1?m.targetResolution:m.sourceResolution+I*(m.targetResolution-m.sourceResolution);if(m.anchor){var ce=this.getViewportSize_(this.getRotation()),ge=this.constraints_.resolution(ne,0,ce,!0);this.targetCenter_=this.calculateCenterZoom(ge,m.anchor)}this.nextResolution_=m.targetResolution,this.targetResolution_=ne,this.applyTargetState_(!0)}if(m.sourceRotation!==void 0&&m.targetRotation!==void 0){var fe=I===1?Hg(m.targetRotation+Math.PI,2*Math.PI)-Math.PI:m.sourceRotation+I*(m.targetRotation-m.sourceRotation);if(m.anchor){var H=this.constraints_.rotation(fe,!0);this.targetCenter_=this.calculateCenterRotate(H,m.anchor)}this.nextRotation_=m.targetRotation,this.targetRotation_=fe}if(this.applyTargetState_(!0),r=!0,!m.complete)break}}if(s){this.animations_[i]=null,this.setHint(cl.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var X=o[0].callback;X&&d3(X,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],wI(i,t-this.getRotation()),wae(i,r)),i},e.prototype.calculateCenterZoom=function(t,r){var i,o=this.getCenterInternal(),s=this.getResolution();if(o!==void 0&&s!==void 0){var a=r[0]-t*(r[0]-o[0])/s,f=r[1]-t*(r[1]-o[1])/s;i=[a,f]}return i},e.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return r},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&wB(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(Jd.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return QN(r,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();go(i,1);var o=this.getResolution();go(o!==void 0,2);var s=this.getRotation();return go(s!==void 0,3),vB(i,o,s,r)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Jd.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(Dg(t,this.getProjection()),r)},e.prototype.getResolutionForExtentInternal=function(t,r){var i=r||this.getViewportSizeMinusPadding_(),o=xs(t)/i[0],s=Kc(t)/i[1];return Math.max(o,s)},e.prototype.getResolutionForValueFunction=function(t){var r=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/Math.log(r);return function(a){var f=i/Math.pow(r,a*s);return f}},e.prototype.getRotation=function(){return this.get(Jd.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,s=Math.log(i/o)/r;return function(a){var f=Math.log(i/a)/r/s;return f}},e.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},e.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),s=this.padding_;if(s){var a=this.getViewportSizeMinusPadding_();o=PE(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],r,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},e.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,i,o;if(this.resolutions_){var s=fI(this.resolutions_,t,1);r=s,i=this.resolutions_[s],s==this.resolutions_.length-1?o=2:o=i/this.resolutions_[s+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/t)/Math.log(o)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Yl(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Yl(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,r){var i;if(go(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){go(!bI(t),25);var o=Dg(t,this.getProjection());i=_K(o)}else if(t.getType()==="Circle"){var o=Dg(t.getExtent(),this.getProjection());i=_K(o),i.rotate(this.getRotation(),D0(o))}else{var s=Tae();s?i=t.clone().transform(s,this.getProjection()):i=t}this.fitInternal(i,r)},e.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),s=t.getFlatCoordinates(),a=t.getStride(),f=1/0,m=1/0,C=-1/0,B=-1/0,I=0,K=s.length;I<K;I+=a){var L=s[I]*i-s[I+1]*o,Y=s[I]*o+s[I+1]*i;f=Math.min(f,L),m=Math.min(m,Y),C=Math.max(C,L),B=Math.max(B,Y)}return[f,m,C,B]},e.prototype.fitInternal=function(t,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var s=i.padding!==void 0?i.padding:[0,0,0,0],a=i.nearest!==void 0?i.nearest:!1,f;i.minResolution!==void 0?f=i.minResolution:i.maxZoom!==void 0?f=this.getResolutionForZoom(i.maxZoom):f=0;var m=this.rotatedExtentForGeometry(t),C=this.getResolutionForExtentInternal(m,[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);C=isNaN(C)?f:Math.max(C,f),C=this.getConstrainedResolution(C,a?0:1);var B=this.getRotation(),I=Math.sin(B),K=Math.cos(B),L=D0(m);L[0]+=(s[1]-s[3])/2*C,L[1]+=(s[0]-s[2])/2*C;var Y=L[0]*K-L[1]*I,ee=L[1]*K+L[0]*I,V=this.getConstrainedCenter([Y,ee],C),W=i.callback?i.callback:u1;i.duration!==void 0?this.animateInternal({resolution:C,center:V,duration:i.duration,easing:i.easing},W):(this.targetResolution_=C,this.targetCenter_=V,this.applyTargetState_(!1,!0),d3(W,!0))},e.prototype.centerOn=function(t,r,i){this.centerOnInternal(rm(t,this.getProjection()),r,i)},e.prototype.centerOnInternal=function(t,r,i){this.setCenterInternal(PE(t,r,i,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,r,i,o){var s,a=this.padding_;if(a&&t){var f=this.getViewportSizeMinusPadding_(-i),m=PE(t,o,[f[0]/2+a[3],f[1]/2+a[0]],r,i);s=[t[0]-m[0],t[1]-m[1]]}return s},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var r=wB(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},e.prototype.adjustResolution=function(t,r){var i=r&&rm(r,this.getProjection());this.adjustResolutionInternal(t,i)},e.prototype.adjustResolutionInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},e.prototype.adjustRotation=function(t,r){r&&(r=rm(r,this.getProjection())),this.adjustRotationInternal(t,r)},e.prototype.adjustRotationInternal=function(t,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&rm(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,i),f=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get(Jd.ROTATION)!==o&&this.set(Jd.ROTATION,o),this.get(Jd.RESOLUTION)!==a&&(this.set(Jd.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!f||!this.get(Jd.CENTER)||!Aw(this.get(Jd.CENTER),f))&&this.set(Jd.CENTER,f),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,r,i){var o=t!==void 0?t:200,s=r||0,a=this.constraints_.rotation(this.targetRotation_),f=this.getViewportSize_(a),m=this.constraints_.resolution(this.targetResolution_,s,f),C=this.constraints_.center(this.targetCenter_,m,f,!1,this.calculateCenterShift(this.targetCenter_,m,a,f));if(o===0&&!this.cancelAnchor_){this.targetResolution_=m,this.targetRotation_=a,this.targetCenter_=C,this.applyTargetState_();return}var B=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==m||this.getRotation()!==a||!this.getCenterInternal()||!Aw(this.getCenterInternal(),C))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:C,resolution:m,duration:o,easing:Jv,anchor:B}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(cl.INTERACTING,1)},e.prototype.endInteraction=function(t,r,i){var o=i&&rm(i,this.getProjection());this.endInteractionInternal(t,r,o)},e.prototype.endInteractionInternal=function(t,r,i){this.setHint(cl.INTERACTING,-1),this.resolveConstraints(t,r,i)},e.prototype.getConstrainedCenter=function(t,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),i)},e.prototype.getConstrainedZoom=function(t,r){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},e.prototype.getConstrainedResolution=function(t,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},e}(pf);function d3(n,e){setTimeout(function(){n(e)},0)}function jle(n){if(n.extent!==void 0){var e=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return TK(n.extent,n.constrainOnlyCenter,e)}var t=EI(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,TK(r,!1,!1)}return Ple}function Nle(n){var e,t,r,i=28,o=2,s=n.minZoom!==void 0?n.minZoom:TE,a=n.maxZoom!==void 0?n.maxZoom:i,f=n.zoomFactor!==void 0?n.zoomFactor:o,m=n.multiWorld!==void 0?n.multiWorld:!1,C=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,B=n.showFullExtent!==void 0?n.showFullExtent:!1,I=EI(n.projection,"EPSG:3857"),K=I.getExtent(),L=n.constrainOnlyCenter,Y=n.extent;if(!m&&!Y&&I.isGlobal()&&(L=!1,Y=K),n.resolutions!==void 0){var ee=n.resolutions;t=ee[s],r=ee[a]!==void 0?ee[a]:ee[ee.length-1],n.constrainResolution?e=Kle(ee,C,!L&&Y,B):e=PK(t,r,C,!L&&Y,B)}else{var V=K?Math.max(xs(K),Kc(K)):360*j0[ic.DEGREES]/I.getMetersPerUnit(),W=V/NI/Math.pow(o,TE),ne=W/Math.pow(o,i-TE);t=n.maxResolution,t!==void 0?s=0:t=W/Math.pow(f,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(f,a):r=W/Math.pow(f,a):r=ne),a=s+Math.floor(Math.log(t/r)/Math.log(f)),r=t/Math.pow(f,a-s),n.constrainResolution?e=Lle(f,t,r,C,!L&&Y,B):e=PK(t,r,C,!L&&Y,B)}return{constraint:e,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:f}}function Wle(n){var e=n.enableRotation!==void 0?n.enableRotation:!0;if(e){var t=n.constrainRotation;return t===void 0||t===!0?Fle():t===!1?KK:typeof t=="number"?Dle(t):KK}else return QI}function Gle(n){return!(n.sourceCenter&&n.targetCenter&&!Aw(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function PE(n,e,t,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=n[0]*o-n[1]*s,f=n[1]*o+n[0]*s;a+=(e[0]/2-t[0])*r,f+=(t[1]-e[1]/2)*r,s=-s;var m=a*o-f*s,C=f*o+a*s;return[m,C]}function LK(n){return n[0]>0&&n[1]>0}function Qle(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function tc(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var $le=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function _W(n){if(n instanceof nM){n.setMapInternal(null);return}n instanceof iM&&n.getLayers().forEach(_W)}function CW(n,e){if(n instanceof nM){n.setMapInternal(e);return}if(n instanceof iM)for(var t=n.getLayers().getArray(),r=0,i=t.length;r<i;++r)CW(t[r],e)}var Yle=function(n){$le(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=qle(t);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:TN,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=yd(),r.pixelToCoordinateTransform_=yd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new md,r.interactions=i.interactions||new md,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new kle(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(KA.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(KA.VIEW,r.handleViewChanged_),r.addChangeListener(KA.SIZE,r.handleSizeChanged_),r.addChangeListener(KA.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return t.view&&!(t.view instanceof hm)&&t.view.then(function(s){o.setView(new hm(s))}),r.controls.addEventListener(Bc.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(Bc.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(Bc.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(Bc.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(Bc.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(Bc.REMOVE,(function(s){var a=s.element,f=a.getId();f!==void 0&&delete this.overlayIdIndex_[f.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},e.prototype.handleLayerAdd_=function(t){CW(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),n.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:iv,f=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,s,f,r,null,a,null)}},e.prototype.getFeaturesAtPixel=function(t,r){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},r),i},e.prototype.getAllLayers=function(){var t=[];function r(i){i.forEach(function(o){o instanceof iM?r(o.getLayers()):t.push(o)})}return r(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},s=o.hitTolerance!==void 0?o.hitTolerance:0,a=o.layerFilter||iv;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,a)}},e.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:iv,s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-r.left,i.clientY-r.top]},e.prototype.getTarget=function(){return this.get(KA.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return wB(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?Bl(r.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(KA.LAYERGROUP)},e.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof md){r.setLayers(t);return}var i=r.getLayers();i.clear(),i.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r];if(o.visible){var s=o.layer.getRenderer();if(s&&!s.ready)return!0;var a=o.layer.getSource();if(a&&a.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var r=rm(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},e.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?Bl(r.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(KA.SIZE)},e.prototype.getView=function(){return this.get(KA.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,r,i,o){return Tle(this.frameState_,t,r,i,o)},e.prototype.handleBrowserEvent=function(t,r){var i=r||t.type,o=new e0(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var r=t.originalEvent,i=r.type;if(i===KB.POINTERDOWN||i===Li.WHEEL||i===Li.KEYDOWN){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=r.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var f=this.getInteractions().getArray().slice(),m=f.length-1;m>=0;m--){var C=f[m];if(!(C.getMap()!==this||!C.getActive()||!this.getTargetElement())){var B=C.handleEvent(t);if(!B||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var s=t.viewHints;if(s[cl.ANIMATING]||s[cl.INTERACTING]){var a=Date.now()-t.time>8;i=a?0:8,o=a?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(I0.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(I0.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new yy(am.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new yy(am.LOADSTART,this,t))));for(var f=this.postRenderFunctions_,m=0,C=f.length;m<C;++m)f[m](this,t);f.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)hs(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Li.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Li.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,gw(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Ole(this,this.moveTolerance_);for(var o in ul)this.mapBrowserEventHandler_.addEventListener(ul[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Li.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Li.WHEEL,this.boundHandleBrowserEvent_,PN?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Eo(a,Li.KEYDOWN,this.handleBrowserEvent,this),Eo(a,Li.KEYPRESS,this.handleBrowserEvent,this),Eo(s,Li.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(hs(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(hs(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Eo(t,Tv.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Eo(t,Li.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(hs),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new i0("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Eo(t,Tv.PROPERTYCHANGE,this.render,this),Eo(t,Li.CHANGE,this.render,this),Eo(t,"addlayer",this.handleLayerAdd_,this),Eo(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,i=t.length;r<i;++r){var o=t[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},e.prototype.handleLayerRemove_=function(t){_W(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var r=this,i=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(i!==void 0&&LK(i)&&o&&o.isDef()){var f=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),m=o.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:vB(m.center,m.resolution,m.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:m,viewHints:f,wantedTiles:{},mapId:Vi(this),renderTargets:{}},m.nextCenter&&m.nextResolution){var C=isNaN(m.nextRotation)?m.rotation:m.nextRotation;a.nextExtent=vB(m.nextCenter,m.nextResolution,C,i)}}if(this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var B=!this.previousExtent_||!bI(this.previousExtent_)&&!Pv(a.extent,this.previousExtent_);B&&(this.dispatchEvent(new yy(am.MOVESTART,this,s)),this.previousExtent_=A2(this.previousExtent_))}var I=this.previousExtent_&&!a.viewHints[cl.ANIMATING]&&!a.viewHints[cl.INTERACTING]&&!Pv(a.extent,this.previousExtent_);I&&(this.dispatchEvent(new yy(am.MOVEEND,this,a)),DN(a.extent,this.previousExtent_))}this.dispatchEvent(new yy(am.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(am.LOADSTART)||this.hasListener(am.LOADEND)||this.hasListener(I0.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new i0("removelayer",r)),this.set(KA.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(KA.SIZE,t)},e.prototype.setTarget=function(t){this.set(KA.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof hm){this.set(KA.VIEW,t);return}this.set(KA.VIEW,new hm);var r=this;t.then(function(i){r.setView(new hm(i))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(r=[o,s],!LK(r)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(r)}},e}(pf);function qle(n){var e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new iM({layers:n.layers});t[KA.LAYERGROUP]=r,t[KA.TARGET]=n.target,t[KA.VIEW]=n.view instanceof hm?n.view:new hm;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new md(n.controls.slice()):(go(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new md(n.interactions.slice()):(go(typeof n.interactions.getArray=="function",48),o=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new md(n.overlays.slice()):(go(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new md,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var Vle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$I=function(n){Vle(e,n);function e(t){var r=n.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return e.prototype.disposeInternal=function(){gw(this.element),n.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&gw(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)hs(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==u1&&this.listenerKeys.push(Eo(t,am.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(pf),Hle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zle=function(n){Hle(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",s=i.tipLabel!==void 0?i.tipLabel:"Attributions",a=i.expandClassName!==void 0?i.expandClassName:o+"-expand",f=i.collapseLabel!==void 0?i.collapseLabel:"",m=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof f=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=f,r.collapseLabel_.className=m):r.collapseLabel_=f;var C=i.label!==void 0?i.label:"i";typeof C=="string"?(r.label_=document.createElement("span"),r.label_.textContent=C,r.label_.className=a):r.label_=C;var B=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(B),r.toggleButton_.addEventListener(Li.CLICK,r.handleClick_.bind(r),!1);var I=o+" "+rM+" "+zI+(r.collapsed_&&r.collapsible_?" "+EK:"")+(r.collapsible_?"":" ol-uncollapsible"),K=r.element;return K.className=I,K.appendChild(r.toggleButton_),K.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return e.prototype.collectSourceAttributions_=function(t){for(var r={},i=[],o=!0,s=t.layerStatesArray,a=0,f=s.length;a<f;++a){var m=s[a];if(mw(m,t.viewState)){var C=m.layer.getSource();if(C){var B=C.getAttributions();if(B){var I=B(t);if(I)if(o=o&&C.getAttributionsCollapsible()!==!1,Array.isArray(I))for(var K=0,L=I.length;K<L;++K)I[K]in r||(i.push(I[K]),r[I[K]]=!0);else I in r||(i.push(I),r[I]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!_1(r,this.renderedAttributions_)){dW(this.ulElement_);for(var o=0,s=r.length;o<s;++o){var a=document.createElement("li");a.innerHTML=r[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=r}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(EK),this.collapsed_?BK(this.collapseLabel_,this.label_):BK(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}($I),Xle=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jle=function(n){Xle(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",s=i.label!==void 0?i.label:"",a=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=a,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(a));var f=i.tipLabel?i.tipLabel:"Reset rotation",m=document.createElement("button");m.className=o+"-reset",m.setAttribute("type","button"),m.title=f,m.appendChild(r.label_),m.addEventListener(Li.CLICK,r.handleClick_.bind(r),!1);var C=o+" "+rM+" "+zI,B=r.element;return B.className=C,B.appendChild(m),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(c3),r}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Jv}):r.setRotation(0))}},e.prototype.render=function(t){var r=t.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var s=this.element.classList.contains(c3);!s&&i===0?this.element.classList.add(c3):s&&i!==0&&this.element.classList.remove(c3)}this.label_.style.transform=o}this.rotation_=i}},e}($I),eue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tue=function(n){eue(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",s=i.delta!==void 0?i.delta:1,a=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",f=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",m=i.zoomInLabel!==void 0?i.zoomInLabel:"+",C=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",B=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",I=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",K=document.createElement("button");K.className=a,K.setAttribute("type","button"),K.title=B,K.appendChild(typeof m=="string"?document.createTextNode(m):m),K.addEventListener(Li.CLICK,r.handleClick_.bind(r,s),!1);var L=document.createElement("button");L.className=f,L.setAttribute("type","button"),L.title=I,L.appendChild(typeof C=="string"?document.createTextNode(C):C),L.addEventListener(Li.CLICK,r.handleClick_.bind(r,-s),!1);var Y=o+" "+rM+" "+zI,ee=r.element;return ee.className=Y,ee.appendChild(K),ee.appendChild(L),r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var s=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Jv})):i.setZoom(s)}}},e}($I),nue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PA={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},rue=function(n){nue(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un,r.options=t,r.id=t.id,r.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,r.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,r.element=document.createElement("div"),r.element.className=t.className!==void 0?t.className:"ol-overlay-container "+dle,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(PA.ELEMENT,r.handleElementChanged),r.addChangeListener(PA.MAP,r.handleMapChanged),r.addChangeListener(PA.OFFSET,r.handleOffsetChanged),r.addChangeListener(PA.POSITION,r.handlePositionChanged),r.addChangeListener(PA.POSITIONING,r.handlePositioningChanged),t.element!==void 0&&r.setElement(t.element),r.setOffset(t.offset!==void 0?t.offset:[0,0]),r.setPositioning(t.positioning||"top-left"),t.position!==void 0&&r.setPosition(t.position),r}return e.prototype.getElement=function(){return this.get(PA.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(PA.MAP)||null},e.prototype.getOffset=function(){return this.get(PA.OFFSET)},e.prototype.getPosition=function(){return this.get(PA.POSITION)},e.prototype.getPositioning=function(){return this.get(PA.POSITIONING)},e.prototype.handleElementChanged=function(){dW(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(gw(this.element),hs(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Eo(t,am.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(PA.ELEMENT,t)},e.prototype.setMap=function(t){this.set(PA.MAP,t)},e.prototype.setOffset=function(t){this.set(PA.OFFSET,t)},e.prototype.setPosition=function(t){this.set(PA.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(PA.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),s=this.getRect(o,[ple(o),mle(o)]),a=t||{},f=a.margin===void 0?20:a.margin;if(!h0(i,s)){var m=s[0]-i[0],C=i[2]-s[2],B=s[1]-i[1],I=i[3]-s[3],K=[0,0];if(m<0?K[0]=m-f:C<0&&(K[0]=Math.abs(C)+f),B<0?K[1]=B-f:I<0&&(K[1]=Math.abs(I)+f),K[0]!==0||K[1]!==0){var L=r.getView().getCenterInternal(),Y=r.getPixelFromCoordinateInternal(L);if(!Y)return;var ee=[Y[0]+K[0],Y[1]+K[1]],V=a.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(ee),duration:V.duration,easing:V.easing})}}}},e.prototype.getRect=function(t,r){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[o,s,o+r[0],s+r[1]]},e.prototype.setPositioning=function(t){this.set(PA.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),r=this.getPosition();if(!t||!t.isRendered()||!r){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(r),o=t.getSize();this.updateRenderedPosition(i,o)},e.prototype.updateRenderedPosition=function(t,r){var i=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+o[0])+"px",f=Math.round(t[1]+o[1])+"px",m="0%",C="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?m="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(m="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?C="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(C="-50%");var B="translate(".concat(m,", ").concat(C,") translate(").concat(a,", ").concat(f,")");this.rendered.transform_!=B&&(this.rendered.transform_=B,i.transform=B,i.msTransform=B)},e.prototype.getOptions=function(){return this.options},e}(pf);function iue(n){var e={},t=new md,r=e.zoom!==void 0?e.zoom:!0;r&&t.push(new tue(e.zoomOptions));var i=e.rotate!==void 0?e.rotate:!0;i&&t.push(new Jle(e.rotateOptions));var o=e.attribution!==void 0?e.attribution:!0;return o&&t.push(new Zle(e.attributionOptions)),t}const DK={ACTIVE:"active"};var oue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h2=function(n){oue(e,n);function e(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return e.prototype.getActive=function(){return this.get(DK.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(DK.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(pf);function aue(n,e,t){var r=n.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:Ule,center:n.getConstrainedCenter(i)})}}function YI(n,e,t,r){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:Jv})}}var sue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lue=function(n){sue(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==ul.DBLCLICK){var i=t.originalEvent,o=t.map,s=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,f=o.getView();YI(f,a,s,this.duration_),i.preventDefault(),r=!0}return!r},e}(h2),uue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),d2=function(n){uue(e,n);function e(t){var r=this,i=t||{};return r=n.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ul.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ul.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==ul.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,r=this.stopDown(o)}else t.type==ul.POINTERMOVE&&this.handleMoveEvent(t);return!r},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},e}(h2);function qI(n){for(var e=n.length,t=0,r=0,i=0;i<e;i++)t+=n[i].clientX,r+=n[i].clientY;return[t/e,r/e]}function LB(n){var e=arguments;return function(t){for(var r=!0,i=0,o=e.length;i<o&&(r=r&&e[i](t),!!r);++i);return r}}var Aue=function(n){var e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},cue=function(n){var e=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return e.contains(t)},bW=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?cue(n):!0},hue=iv,xW=function(n){var e=n.originalEvent;return e.button==0&&!(Voe&&Hoe&&e.ctrlKey)},wW=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},due=function(n){var e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},MW=function(n){var e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},KE=function(n){var e=n.originalEvent;return go(e!==void 0,56),e.pointerType=="mouse"},fue=function(n){var e=n.originalEvent;return go(e!==void 0,56),e.isPrimary&&e.button===0},pue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mue=function(n){pue(e,n);function e(t){var r=n.call(this,{stopDown:H5})||this,i=t||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:LB(wW,fue);return r.condition_=i.onFocusOnly?LB(bW,o):o,r.noKinetic_=!1,r}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=qI(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map,a=s.getView();Mae(o,a.getResolution()),wI(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var r=t.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),f=r.getPixelFromCoordinateInternal(a),m=r.getCoordinateFromPixelInternal([f[0]-o*Math.cos(s),f[1]-o*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(m),duration:500,easing:Jv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(d2),gue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yue=function(n){gue(e,n);function e(t){var r=this,i=t||{};return r=n.call(this,{stopDown:H5})||this,r.condition_=i.condition?i.condition:Aue,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleDragEvent=function(t){if(KE(t)){var r=t.map,i=r.getView();if(i.getConstraints().rotation!==QI){var o=r.getSize(),s=t.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);if(this.lastAngle_!==void 0){var f=a-this.lastAngle_;i.adjustRotationInternal(-f)}this.lastAngle_=a}}},e.prototype.handleUpEvent=function(t){if(!KE(t))return!0;var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!KE(t))return!1;if(xW(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(d2),vue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_ue=function(n){vue(e,n);function e(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],r[0])+i,o.top=Math.min(t[1],r[1])+i,o.width=Math.abs(r[0]-t[0])+i,o.height=Math.abs(r[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,i=[t,[t[0],r[1]],r,[r[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Kv([o])},e.prototype.getGeometry=function(){return this.geometry_},e}(dI),SW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),f3={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},LE=function(n){SW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return e}(Om),Cue=function(n){SW(e,n);function e(t){var r=n.call(this)||this;r.on,r.once,r.un;var i=t||{};return r.box_=new _ue(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:xW,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return e.prototype.defaultBoxEndCondition=function(t,r,i){var o=i[0]-r[0],s=i[1]-r[1];return o*o+s*s>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new LE(f3.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new LE(r?f3.BOXEND:f3.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new LE(f3.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(d2),bue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xue=function(n){bue(e,n);function e(t){var r=this,i=t||{},o=i.condition?i.condition:due;return r=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return e.prototype.onBoxEnd=function(t){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var s=i.rotatedExtentForGeometry(o),a=i.getResolutionForExtentInternal(s),f=i.getResolution()/a;o=o.clone(),o.scale(f*f)}i.fitInternal(o,{duration:this.duration_,easing:Jv})},e}(Cue);const cg={LEFT:37,UP:38,RIGHT:39,DOWN:40};var wue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mue=function(n){wue(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.defaultCondition_=function(o){return wW(o)&&MW(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Li.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==cg.DOWN||o==cg.LEFT||o==cg.RIGHT||o==cg.UP)){var s=t.map,a=s.getView(),f=a.getResolution()*this.pixelDelta_,m=0,C=0;o==cg.DOWN?C=-f:o==cg.LEFT?m=-f:o==cg.RIGHT?m=f:C=f;var B=[m,C];wI(B,a.getRotation()),aue(a,B,this.duration_),i.preventDefault(),r=!0}}return!r},e}(h2),Sue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eue=function(n){Sue(e,n);function e(t){var r=n.call(this)||this,i=t||{};return r.condition_=i.condition?i.condition:MW,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return e.prototype.handleEvent=function(t){var r=!1;if(t.type==Li.KEYDOWN||t.type==Li.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o==43||o==45)){var s=t.map,a=o==43?this.delta_:-this.delta_,f=s.getView();YI(f,a,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},e}(h2),Oue=function(){function n(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),Bue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DE={TRACKPAD:"trackpad",WHEEL:"wheel"},Iue=function(n){Bue(e,n);function e(t){var r=this,i=t||{};r=n.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:hue;return r.condition_=i.onFocusOnly?LB(bW,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();if(t){var r=t.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==Li.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==Li.WHEEL&&(s=o.deltaY,Yoe&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=TN),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?DE.TRACKPAD:DE.WHEEL);var f=i.getView();if(this.mode_===DE.TRACKPAD&&!(f.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var m=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),m),!1},e.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var i=-Yl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),YI(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(h2),kue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tue=function(n){kue(e,n);function e(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=H5),r=n.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return e.prototype.handleDragEvent=function(t){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=a}this.lastAngle_=s;var f=t.map,m=f.getView();if(m.getConstraints().rotation!==QI){var C=f.getViewport().getBoundingClientRect(),B=qI(this.targetPointers);B[0]-=C.left,B[1]-=C.top,this.anchor_=f.getCoordinateFromPixelInternal(B),this.rotating_&&(f.render(),m.adjustRotationInternal(r,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(d2),Pue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kue=function(n){Pue(e,n);function e(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=H5),r=n.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return e.prototype.handleDragEvent=function(t){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],s=i.clientX-o.clientX,a=i.clientY-o.clientY,f=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(r=this.lastDistance_/f),this.lastDistance_=f;var m=t.map,C=m.getView();r!=1&&(this.lastScaleDelta_=r);var B=m.getViewport().getBoundingClientRect(),I=qI(this.targetPointers);I[0]-=B.left,I[1]-=B.top,this.anchor_=m.getCoordinateFromPixelInternal(I),m.render(),C.adjustResolutionInternal(r,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},e}(d2);function Lue(n,e,t,r,i){EW(n,e,t||0,r||n.length-1,i||Due)}function EW(n,e,t,r,i){for(;r>t;){if(r-t>600){var o=r-t+1,s=e-t+1,a=Math.log(o),f=.5*Math.exp(2*a/3),m=.5*Math.sqrt(a*f*(o-f)/o)*(s-o/2<0?-1:1),C=Math.max(t,Math.floor(e-s*f/o+m)),B=Math.min(r,Math.floor(e+(o-s)*f/o+m));EW(n,e,C,B,i)}var I=n[e],K=t,L=r;for(J_(n,t,e),i(n[r],I)>0&&J_(n,t,r);K<L;){for(J_(n,K,L),K++,L--;i(n[K],I)<0;)K++;for(;i(n[L],I)>0;)L--}i(n[t],I)===0?J_(n,t,L):(L++,J_(n,L,r)),L<=e&&(t=L+1),e<=L&&(r=L-1)}}function J_(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function Due(n,e){return n<e?-1:n>e?1:0}let OW=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const r=[];if(!m3(e,t))return r;const i=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){const a=t.children[s],f=t.leaf?i(a):a;m3(e,f)&&(t.leaf?r.push(a):RE(e,f)?this._all(a,r):o.push(a))}t=o.pop()}return r}collides(e){let t=this.data;if(!m3(e,t))return!1;const r=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],s=t.leaf?this.toBBox(o):o;if(m3(e,s)){if(t.leaf||RE(e,s))return!0;r.push(o)}}t=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=vy([]),this}remove(e,t){if(!e)return this;let r=this.data;const i=this.toBBox(e),o=[],s=[];let a,f,m;for(;r||o.length;){if(r||(r=o.pop(),f=o[o.length-1],a=s.pop(),m=!0),r.leaf){const C=Fue(e,r.children,t);if(C!==-1)return r.children.splice(C,1),o.push(r),this._condense(o),this}!m&&!r.leaf&&RE(r,i)?(o.push(r),s.push(a),a=0,f=r,r=r.children[0]):f?(a++,r=f.children[a],m=!1):r=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const r=[];for(;e;)e.leaf?t.push(...e.children):r.push(...e.children),e=r.pop();return t}_build(e,t,r,i){const o=r-t+1;let s=this._maxEntries,a;if(o<=s)return a=vy(e.slice(t,r+1)),ry(a,this.toBBox),a;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),a=vy([]),a.leaf=!1,a.height=i;const f=Math.ceil(o/s),m=f*Math.ceil(Math.sqrt(s));FK(e,t,r,m,this.compareMinX);for(let C=t;C<=r;C+=m){const B=Math.min(C+m-1,r);FK(e,C,B,f,this.compareMinY);for(let I=C;I<=B;I+=f){const K=Math.min(I+f-1,B);a.children.push(this._build(e,I,K,i-1))}}return ry(a,this.toBBox),a}_chooseSubtree(e,t,r,i){for(;i.push(t),!(t.leaf||i.length-1===r);){let o=1/0,s=1/0,a;for(let f=0;f<t.children.length;f++){const m=t.children[f],C=FE(m),B=zue(e,m)-C;B<s?(s=B,o=C<o?C:o,a=m):B===s&&C<o&&(o=C,a=m)}t=a||t.children[0]}return t}_insert(e,t,r){const i=r?e:this.toBBox(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),_C(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){const r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const s=this._chooseSplitIndex(r,o,i),a=vy(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,ry(r,this.toBBox),ry(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)}_splitRoot(e,t){this.data=vy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ry(this.data,this.toBBox)}_chooseSplitIndex(e,t,r){let i,o=1/0,s=1/0;for(let a=t;a<=r-t;a++){const f=vC(e,0,a,this.toBBox),m=vC(e,a,r,this.toBBox),C=jue(f,m),B=FE(f)+FE(m);C<o?(o=C,i=a,s=B<s?B:s):C===o&&B<s&&(s=B,i=a)}return i||r-t}_chooseSplitAxis(e,t,r){const i=e.leaf?this.compareMinX:Rue,o=e.leaf?this.compareMinY:Uue,s=this._allDistMargin(e,t,r,i),a=this._allDistMargin(e,t,r,o);s<a&&e.children.sort(i)}_allDistMargin(e,t,r,i){e.children.sort(i);const o=this.toBBox,s=vC(e,0,t,o),a=vC(e,r-t,r,o);let f=p3(s)+p3(a);for(let m=t;m<r-t;m++){const C=e.children[m];_C(s,e.leaf?o(C):C),f+=p3(s)}for(let m=r-t-1;m>=t;m--){const C=e.children[m];_C(a,e.leaf?o(C):C),f+=p3(a)}return f}_adjustParentBBoxes(e,t,r){for(let i=r;i>=0;i--)_C(t[i],e)}_condense(e){for(let t=e.length-1,r;t>=0;t--)e[t].children.length===0?t>0?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():ry(e[t],this.toBBox)}};function Fue(n,e,t){if(!t)return e.indexOf(n);for(let r=0;r<e.length;r++)if(t(n,e[r]))return r;return-1}function ry(n,e){vC(n,0,n.children.length,e,n)}function vC(n,e,t,r,i){i||(i=vy(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<t;o++){const s=n.children[o];_C(i,n.leaf?r(s):s)}return i}function _C(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function Rue(n,e){return n.minX-e.minX}function Uue(n,e){return n.minY-e.minY}function FE(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function p3(n){return n.maxX-n.minX+(n.maxY-n.minY)}function zue(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function jue(n,e){const t=Math.max(n.minX,e.minX),r=Math.max(n.minY,e.minY),i=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,i-t)*Math.max(0,o-r)}function RE(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function m3(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function vy(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function FK(n,e,t,r,i){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=r)continue;const s=e+Math.ceil((t-e)/r/2)*r;Lue(n,s,e,t,i),o.push(e,s,s,t)}}const As={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var BW=function(){function n(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=tc(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}return n.prototype.clone=function(){var e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getDeclutterMode=function(){return this.declutterMode_},n.prototype.getAnchor=function(){return gi()},n.prototype.getImage=function(e){return gi()},n.prototype.getHitDetectionImage=function(){return gi()},n.prototype.getPixelRatio=function(e){return 1},n.prototype.getImageState=function(){return gi()},n.prototype.getImageSize=function(){return gi()},n.prototype.getOrigin=function(){return gi()},n.prototype.getSize=function(){return gi()},n.prototype.setDisplacement=function(e){this.displacement_=e},n.prototype.setOpacity=function(e){this.opacity_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=tc(e)},n.prototype.listenImageChange=function(e){gi()},n.prototype.load=function(){gi()},n.prototype.unlistenImageChange=function(e){gi()},n}();function mp(n){return Array.isArray(n)?uW(n):n}var Nue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wue=function(n){Nue(e,n);function e(t){var r=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var i=this.renderOptions_,o=Lc(i.size*t,i.size*t);this.draw_(i,o,t),r=o.canvas,this.canvas_[t]=r}return r},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return As.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,r,i){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var o=this.radius_,s=this.radius2_===void 0?o:this.radius2_;if(o<s){var a=o;o=s,s=a}var f=this.radius2_===void 0?this.points_:this.points_*2,m=2*Math.PI/f,C=s*Math.sin(m),B=Math.sqrt(s*s-C*C),I=o-B,K=Math.sqrt(C*C+I*I),L=K/C;if(t==="miter"&&L<=i)return L*r;var Y=r/2/L,ee=r/2*(I/K),V=Math.sqrt((o+Y)*(o+Y)+ee*ee),W=V-o;if(this.radius2_===void 0||t==="bevel")return W*2;var ne=o*Math.sin(m),ce=Math.sqrt(o*o-ne*ne),ge=s-ce,fe=Math.sqrt(ne*ne+ge*ge),H=fe/ne;if(H<=i){var X=H*r/2-s-o;return 2*Math.max(W,X)}return W*2},e.prototype.createRenderOptions=function(){var t=Lv,r=0,i=null,o=0,s,a=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Lb),s=mp(s),a=this.stroke_.getWidth(),a===void 0&&(a=Fb),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Lv),r=this.stroke_.getMiterLimit(),r===void 0&&(r=Kb));var f=this.calculateLineJoinSize_(t,a,r),m=Math.max(this.radius_,this.radius2_||0),C=Math.ceil(2*m+f);return{strokeStyle:s,strokeWidth:a,size:C,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:r}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,r,i){if(r.scale(i,i),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=ym),r.fillStyle=mp(o),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=fw(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=Lc(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var r=this.points_,i=this.radius_;if(r===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,a=2*Math.PI/r,f=0;f<r;f++){var m=s+f*a,C=f%2===0?i:o;t.lineTo(C*Math.cos(m),C*Math.sin(m))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=ym,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},e}(BW),Gue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IW=function(n){Gue(e,n);function e(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Wue),Uy=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(e){this.color_=e},n}(),CC=function(){function n(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(e){this.color_=e},n.prototype.setLineCap=function(e){this.lineCap_=e},n.prototype.setLineDash=function(e){this.lineDash_=e},n.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},n.prototype.setLineJoin=function(e){this.lineJoin_=e},n.prototype.setMiterLimit=function(e){this.miterLimit_=e},n.prototype.setWidth=function(e){this.width_=e},n}(),bg=function(){function n(e){var t=e||{};this.geometry_=null,this.geometryFunction_=RK,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(e){this.renderer_=e},n.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(e){this.fill_=e},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(e){this.image_=e},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(e){this.text_=e},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=RK,this.geometry_=e},n.prototype.setZIndex=function(e){this.zIndex_=e},n}();function Que(n){var e;if(typeof n=="function")e=n;else{var t;if(Array.isArray(n))t=n;else{go(typeof n.getZIndex=="function",41);var r=n;t=[r]}e=function(){return t}}return e}var UE=null;function $ue(n,e){if(!UE){var t=new Uy({color:"rgba(255,255,255,0.4)"}),r=new CC({color:"#3399CC",width:1.25});UE=[new bg({image:new IW({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return UE}function RK(n){return n.getGeometry()}var Yue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UK={RENDER_ORDER:"renderOrder"},kW=function(n){Yue(e,n);function e(t){var r=this,i=t||{},o=Tl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=n.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(UK.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new OW(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(UK.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:$ue,this.styleFunction_=t===null?void 0:Que(this.style_),this.changed()},e}(nM),Ai={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},g3=[Ai.FILL],f0=[Ai.STROKE],Ug=[Ai.BEGIN_PATH],zK=[Ai.CLOSE_PATH],TW=function(){function n(){}return n.prototype.drawCustom=function(e,t,r,i){},n.prototype.drawGeometry=function(e){},n.prototype.setStyle=function(e){},n.prototype.drawCircle=function(e,t){},n.prototype.drawFeature=function(e,t){},n.prototype.drawGeometryCollection=function(e,t){},n.prototype.drawLineString=function(e,t){},n.prototype.drawMultiLineString=function(e,t){},n.prototype.drawMultiPoint=function(e,t){},n.prototype.drawMultiPolygon=function(e,t){},n.prototype.drawPoint=function(e,t){},n.prototype.drawPolygon=function(e,t){},n.prototype.drawText=function(e,t){},n.prototype.setFillStrokeStyle=function(e,t){},n.prototype.setImageStyle=function(e,t){},n.prototype.setTextStyle=function(e,t){},n}(),que=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),f2=function(n){que(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return e.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(i){return i*r})},e.prototype.appendFlatPointCoordinates=function(t,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,f=0,m=t.length;f<m;f+=r)o[0]=t[f],o[1]=t[f+1],u2(i,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},e.prototype.appendFlatLineCoordinates=function(t,r,i,o,s,a){var f=this.coordinates,m=f.length,C=this.getBufferedMaxExtent();a&&(r+=o);var B=t[r],I=t[r+1],K=this.tmpCoordinate_,L=!0,Y,ee,V;for(Y=r+o;Y<i;Y+=o)K[0]=t[Y],K[1]=t[Y+1],V=gB(C,K),V!==ee?(L&&(f[m++]=B,f[m++]=I,L=!1),f[m++]=K[0],f[m++]=K[1]):V===Du.INTERSECTING?(f[m++]=K[0],f[m++]=K[1],L=!1):L=!0,B=K[0],I=K[1],ee=V;return(s&&L||Y===r+o)&&(f[m++]=B,f[m++]=I),m},e.prototype.drawCustomCoordinates_=function(t,r,i,o,s){for(var a=0,f=i.length;a<f;++a){var m=i[a],C=this.appendFlatLineCoordinates(t,r,m,o,!1,!1);s.push(C),r=m}return r},e.prototype.drawCustom=function(t,r,i,o){this.beginGeometry(t,r);var s=t.getType(),a=t.getStride(),f=this.coordinates.length,m,C,B,I,K;switch(s){case"MultiPolygon":m=t.getOrientedFlatCoordinates(),I=[];var L=t.getEndss();K=0;for(var Y=0,ee=L.length;Y<ee;++Y){var V=[];K=this.drawCustomCoordinates_(m,K,L[Y],a,V),I.push(V)}this.instructions.push([Ai.CUSTOM,f,I,t,i,MB]),this.hitDetectionInstructions.push([Ai.CUSTOM,f,I,t,o||i,MB]);break;case"Polygon":case"MultiLineString":B=[],m=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),K=this.drawCustomCoordinates_(m,0,t.getEnds(),a,B),this.instructions.push([Ai.CUSTOM,f,B,t,i,Ib]),this.hitDetectionInstructions.push([Ai.CUSTOM,f,B,t,o||i,Ib]);break;case"LineString":case"Circle":m=t.getFlatCoordinates(),C=this.appendFlatLineCoordinates(m,0,m.length,a,!1,!1),this.instructions.push([Ai.CUSTOM,f,C,t,i,d0]),this.hitDetectionInstructions.push([Ai.CUSTOM,f,C,t,o||i,d0]);break;case"MultiPoint":m=t.getFlatCoordinates(),C=this.appendFlatPointCoordinates(m,a),C>f&&(this.instructions.push([Ai.CUSTOM,f,C,t,i,d0]),this.hitDetectionInstructions.push([Ai.CUSTOM,f,C,t,o||i,d0]));break;case"Point":m=t.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),C=this.coordinates.length,this.instructions.push([Ai.CUSTOM,f,C,t,i]),this.hitDetectionInstructions.push([Ai.CUSTOM,f,C,t,o||i]);break}this.endGeometry(r)},e.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[Ai.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ai.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,i=t.length,o,s,a=-1;for(r=0;r<i;++r)o=t[r],s=o[0],s==Ai.END_GEOMETRY?a=r:s==Ai.BEGIN_GEOMETRY&&(o[2]=r,Doe(this.hitDetectionInstructions,a,r),a=-1)},e.prototype.setFillStrokeStyle=function(t,r){var i=this.state;if(t){var o=t.getColor();i.fillStyle=mp(o||ym)}else i.fillStyle=void 0;if(r){var s=r.getColor();i.strokeStyle=mp(s||Lb);var a=r.getLineCap();i.lineCap=a!==void 0?a:yw;var f=r.getLineDash();i.lineDash=f?f.slice():Tb;var m=r.getLineDashOffset();i.lineDashOffset=m||Pb;var C=r.getLineJoin();i.lineJoin=C!==void 0?C:Lv;var B=r.getWidth();i.lineWidth=B!==void 0?B:Fb;var I=r.getMiterLimit();i.miterLimit=I!==void 0?I:Kb,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var r=t.fillStyle,i=[Ai.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ai.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,r){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,r){var i=t.strokeStyle,o=t.lineCap,s=t.lineDash,a=t.lineDashOffset,f=t.lineJoin,m=t.lineWidth,C=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||s!=t.currentLineDash&&!_1(t.currentLineDash,s)||t.currentLineDashOffset!=a||t.currentLineJoin!=f||t.currentLineWidth!=m||t.currentMiterLimit!=C)&&(i!==void 0&&r.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=s,t.currentLineDashOffset=a,t.currentLineJoin=f,t.currentLineWidth=m,t.currentMiterLimit=C)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[Ai.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=DN(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;O0(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(TW),Vue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hue=function(n){Vue(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterMode_=void 0,s.declutterImageWithText_=void 0,s}return e.prototype.drawPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.drawMultiPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var i=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,r){var i=t.getAnchor(),o=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=r},e}(f2),Zue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xue=function(n){Zue(e,n);function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return e.prototype.drawFlatCoordinates_=function(t,r,i,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,r,i,o,!1,!1),f=[Ai.MOVE_TO_LINE_TO,s,a];return this.instructions.push(f),this.hitDetectionInstructions.push(f),i},e.prototype.drawLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Tb,Pb],Ug);var a=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(a,0,a.length,f),this.hitDetectionInstructions.push(f0),this.endGeometry(r)}},e.prototype.drawMultiLineString=function(t,r){var i=this.state,o=i.strokeStyle,s=i.lineWidth;if(!(o===void 0||s===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ug);for(var a=t.getEnds(),f=t.getFlatCoordinates(),m=t.getStride(),C=0,B=0,I=a.length;B<I;++B)C=this.drawFlatCoordinates_(f,C,a[B],m);this.hitDetectionInstructions.push(f0),this.endGeometry(r)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(f0),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(f0),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Ug)},e}(f2),Jue=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jK=function(n){Jue(e,n);function e(t,r,i,o){return n.call(this,t,r,i,o)||this}return e.prototype.drawFlatCoordinatess_=function(t,r,i,o){var s=this.state,a=s.fillStyle!==void 0,f=s.strokeStyle!==void 0,m=i.length;this.instructions.push(Ug),this.hitDetectionInstructions.push(Ug);for(var C=0;C<m;++C){var B=i[C],I=this.coordinates.length,K=this.appendFlatLineCoordinates(t,r,B,o,!0,!f),L=[Ai.MOVE_TO_LINE_TO,I,K];this.instructions.push(L),this.hitDetectionInstructions.push(L),f&&(this.instructions.push(zK),this.hitDetectionInstructions.push(zK)),r=B}return a&&(this.instructions.push(g3),this.hitDetectionInstructions.push(g3)),f&&(this.instructions.push(f0),this.hitDetectionInstructions.push(f0)),r},e.prototype.drawCircle=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ym]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getFlatCoordinates(),f=t.getStride(),m=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,f,!1,!1);var C=[Ai.CIRCLE,m];this.instructions.push(Ug,C),this.hitDetectionInstructions.push(Ug,C),i.fillStyle!==void 0&&(this.instructions.push(g3),this.hitDetectionInstructions.push(g3)),i.strokeStyle!==void 0&&(this.instructions.push(f0),this.hitDetectionInstructions.push(f0)),this.endGeometry(r)}},e.prototype.drawPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ym]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getEnds(),f=t.getOrientedFlatCoordinates(),m=t.getStride();this.drawFlatCoordinatess_(f,0,a,m),this.endGeometry(r)}},e.prototype.drawMultiPolygon=function(t,r){var i=this.state,o=i.fillStyle,s=i.strokeStyle;if(!(o===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,ym]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var a=t.getEndss(),f=t.getOrientedFlatCoordinates(),m=t.getStride(),C=0,B=0,I=a.length;B<I;++B)C=this.drawFlatCoordinatess_(f,C,a[B],m);this.endGeometry(r)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=Cg(r[i],t);return n.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(f2);const PW={POINT:"point",LINE:"line"};function eAe(n,e,t,r,i){var o=t,s=t,a=0,f=0,m=t,C,B,I,K,L,Y,ee,V,W,ne;for(B=t;B<r;B+=i){var ce=e[B],ge=e[B+1];L!==void 0&&(W=ce-L,ne=ge-Y,K=Math.sqrt(W*W+ne*ne),ee!==void 0&&(f+=I,C=Math.acos((ee*W+V*ne)/(I*K)),C>n&&(f>a&&(a=f,o=m,s=B),f=0,m=B-i)),I=K,ee=W,V=ne),L=ce,Y=ge}return f+=K,f>a?[m,B]:[o,s]}var tAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},nAe=function(n){tAe(e,n);function e(t,r,i,o){var s=n.call(this,t,r,i,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return e.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,r){var i=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!i&&!o)){var a=this.coordinates,f=a.length,m=t.getType(),C=null,B=t.getStride();if(s.placement===PW.LINE&&(m=="LineString"||m=="MultiLineString"||m=="Polygon"||m=="MultiPolygon")){if(!kl(this.getBufferedMaxExtent(),t.getExtent()))return;var I=void 0;if(C=t.getFlatCoordinates(),m=="LineString")I=[C.length];else if(m=="MultiLineString")I=t.getEnds();else if(m=="Polygon")I=t.getEnds().slice(0,1);else if(m=="MultiPolygon"){var K=t.getEndss();I=[];for(var L=0,Y=K.length;L<Y;++L)I.push(K[L][0])}this.beginGeometry(t,r);for(var ee=s.textAlign,V=0,W=void 0,ne=0,ce=I.length;ne<ce;++ne){if(ee==null){var ge=eAe(s.maxAngle,C,V,I[ne],B);V=ge[0],W=ge[1]}else W=I[ne];for(var L=V;L<W;L+=B)a.push(C[L],C[L+1]);var fe=a.length;V=I[ne],this.drawChars_(f,fe),f=fe}this.endGeometry(r)}else{var H=s.overflow?null:[];switch(m){case"Point":case"MultiPoint":C=t.getFlatCoordinates();break;case"LineString":C=t.getFlatMidpoint();break;case"Circle":C=t.getCenter();break;case"MultiLineString":C=t.getFlatMidpoints(),B=2;break;case"Polygon":C=t.getFlatInteriorPoint(),s.overflow||H.push(C[2]/this.resolution),B=3;break;case"MultiPolygon":var X=t.getFlatInteriorPoints();C=[];for(var L=0,Y=X.length;L<Y;L+=3)s.overflow||H.push(X[L+2]/this.resolution),C.push(X[L],X[L+1]);if(C.length===0)return;B=2;break}var fe=this.appendFlatPointCoordinates(C,B);if(fe===f)return;if(H&&(fe-f)/2!==C.length/B){var Me=f/2;H=H.filter(function(_t,ft){var $e=a[(Me+ft)*2]===C[ft*B]&&a[(Me+ft)*2+1]===C[ft*B+1];return $e||--Me,$e})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var be=s.padding;if(be!=Rg&&(s.scale[0]<0||s.scale[1]<0)){var Fe=s.padding[0],Ue=s.padding[1],me=s.padding[2],Ve=s.padding[3];s.scale[0]<0&&(Ue=-Ue,Ve=-Ve),s.scale[1]<0&&(Fe=-Fe,me=-me),be=[Fe,Ue,me,Ve]}var _e=this.pixelRatio;this.instructions.push([Ai.DRAW_IMAGE,f,fe,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,be==Rg?Rg:be.map(function(_t){return _t*_e}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,H]);var Ot=1/_e;this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,f,fe,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Ot,Ot],NaN,void 0,this.declutterImageWithText_,be,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,H]),this.endGeometry(r)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||Db,justify:r.justify,textBaseline:r.textBaseline||vw,scale:r.scale});var a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,r){var i=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,f=this.fillKey_;this.saveTextStates_();var m=this.pixelRatio,C=GC[o.textBaseline],B=this.textOffsetY_*m,I=this.text_,K=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Ai.DRAW_CHARS,t,r,C,o.overflow,f,o.maxAngle,m,B,s,K*m,I,a,1]),this.hitDetectionInstructions.push([Ai.DRAW_CHARS,t,r,C,o.overflow,f,o.maxAngle,1,B,s,K,I,a,1/m])},e.prototype.setTextStyle=function(t,r){var i,o,s;if(!t)this.text_="";else{var a=t.getFill();a?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=mp(a.getColor()||ym)):(o=null,this.textFillState_=o);var f=t.getStroke();if(!f)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var m=f.getLineDash(),C=f.getLineDashOffset(),B=f.getWidth(),I=f.getMiterLimit();s.lineCap=f.getLineCap()||yw,s.lineDash=m?m.slice():Tb,s.lineDashOffset=C===void 0?Pb:C,s.lineJoin=f.getLineJoin()||Lv,s.lineWidth=B===void 0?Fb:B,s.miterLimit=I===void 0?Kb:I,s.strokeStyle=mp(f.getColor()||Lb)}i=this.textState_;var K=t.getFont()||fW;yle(K);var L=t.getScaleArray();i.overflow=t.getOverflow(),i.font=K,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||vw,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Rg,i.scale=L===void 0?[1,1]:L;var Y=t.getOffsetX(),ee=t.getOffsetY(),V=t.getRotateWithView(),W=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=Y===void 0?0:Y,this.textOffsetY_=ee===void 0?0:ee,this.textRotateWithView_=V===void 0?!1:V,this.textRotation_=W===void 0?0:W,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:Vi(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Vi(o.fillStyle):""}this.declutterImageWithText_=r},e}(f2),rAe={Circle:jK,Default:f2,Image:Hue,LineString:Xue,Polygon:jK,Text:nAe},bw=function(){function n(e,t,r,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var o=r[i].finish();e[t][i]=o}}return e},n.prototype.getBuilder=function(e,t){var r=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[t];if(o===void 0){var s=rAe[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},n}(),iAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oAe=function(n){iAe(e,n);function e(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return e.prototype.getFeatures=function(t){return gi()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return gi()},e.prototype.renderFrame=function(t,r){return gi()},e.prototype.loadedTileCallback=function(t,r,i){t[r]||(t[r]={}),t[r][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,r,i){return(function(o,s){var a=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(r,o,s,a)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){},e.prototype.getDataAtPixel=function(t,r,i){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===As.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var r=t.getState();return r!=As.LOADED&&r!=As.ERROR&&t.addEventListener(Li.CHANGE,this.boundHandleImageChange_),r==As.IDLE&&(t.load(),r=t.getState()),r==As.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},e}(l2),aAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NK=[],_y=null;function sAe(){var n=document.createElement("canvas");n.width=1,n.height=1,_y=n.getContext("2d")}var KW=function(n){aAe(e,n);function e(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=yd(),r.pixelTransform=yd(),r.inversePixelTransform=yd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return e.prototype.getImageData=function(t,r,i){_y||sAe(),_y.clearRect(0,0,1,1);var o;try{_y.drawImage(t,r,i,1,1,0,0,1,1),o=_y.getImageData(0,0,1,1).data}catch{return _y=null,null}return o},e.prototype.getBackground=function(t){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},e.prototype.useContainer=function(t,r,i){var o=this.getLayer().getClassName(),s,a;if(t&&t.className===o&&(!i||t&&t.style.backgroundColor&&_1(fw(t.style.backgroundColor),fw(i)))){var f=t.firstElementChild;f instanceof HTMLCanvasElement&&(a=f.getContext("2d"))}if(a&&a.canvas.style.transform===r?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=o;var m=s.style;m.position="absolute",m.width="100%",m.height="100%",a=Lc();var f=a.canvas;s.appendChild(f),m=f.style,m.position="absolute",m.left="0",m.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},e.prototype.clipUnrotated=function(t,r,i){var o=N0(i),s=CI(i),a=_I(i),f=vI(i);Bl(r.coordinateToPixelTransform,o),Bl(r.coordinateToPixelTransform,s),Bl(r.coordinateToPixelTransform,a),Bl(r.coordinateToPixelTransform,f);var m=this.inversePixelTransform;Bl(m,o),Bl(m,s),Bl(m,a),Bl(m,f),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(f[0]),Math.round(f[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,r,i){var o=this.getLayer();if(o.hasListener(t)){var s=new cW(t,this.inversePixelTransform,i,r);o.dispatchEvent(s)}},e.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(I0.PRERENDER,t,r)},e.prototype.postRender=function(t,r){this.dispatchRenderEvent_(I0.POSTRENDER,t,r)},e.prototype.getRenderTransform=function(t,r,i,o,s,a,f){var m=s/2,C=a/2,B=o/r,I=-B,K=-t[0]+f,L=-t[1];return wp(this.tempTransform,m,C,B,I,-i,K,L)},e.prototype.getDataAtPixel=function(t,r,i){var o=Bl(this.inversePixelTransform,t.slice()),s=this.context,a=this.getLayer(),f=a.getExtent();if(f){var m=Bl(r.pixelToCoordinateTransform,t.slice());if(!u2(f,m))return null}var C=Math.round(o[0]),B=Math.round(o[1]),I=this.pixelContext_;if(!I){var K=document.createElement("canvas");K.width=1,K.height=1,I=K.getContext("2d"),this.pixelContext_=I}I.clearRect(0,0,1,1);var L;try{I.drawImage(s.canvas,C,B,1,1,0,0,1,1),L=I.getImageData(0,0,1,1).data}catch(Y){return Y.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):L}return L[3]===0?null:L},e.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},e}(oAe);function lAe(n,e,t,r,i,o,s,a,f,m,C,B){var I=n[e],K=n[e+1],L=0,Y=0,ee=0,V=0;function W(){L=I,Y=K,e+=r,I=n[e],K=n[e+1],V+=ee,ee=Math.sqrt((I-L)*(I-L)+(K-Y)*(K-Y))}do W();while(e<t-r&&V+ee<o);for(var ne=ee===0?0:(o-V)/ee,ce=um(L,I,ne),ge=um(Y,K,ne),fe=e-r,H=V,X=o+a*f(m,i,C);e<t-r&&V+ee<X;)W();ne=ee===0?0:(X-V)/ee;var Me=um(L,I,ne),be=um(Y,K,ne),Fe;if(B){var Ue=[ce,ge,Me,be];$N(Ue,0,4,2,B,Ue,Ue),Fe=Ue[0]>Ue[2]}else Fe=ce>Me;var me=Math.PI,Ve=[],_e=fe+r===e;e=fe,ee=0,V=H,I=n[e],K=n[e+1];var Ot;if(_e){W(),Ot=Math.atan2(K-Y,I-L),Fe&&(Ot+=Ot>0?-me:me);var St=(Me+ce)/2,_t=(be+ge)/2;return Ve[0]=[St,_t,(X-o)/2,Ot,i],Ve}i=i.replace(/\n/g," ");for(var ft=0,$e=i.length;ft<$e;){W();var et=Math.atan2(K-Y,I-L);if(Fe&&(et+=et>0?-me:me),Ot!==void 0){var nt=et-Ot;if(nt+=nt>me?-2*me:nt<-me?2*me:0,Math.abs(nt)>s)return null}Ot=et;for(var en=ft,nn=0;ft<$e;++ft){var Et=Fe?$e-ft-1:ft,Vt=a*f(m,i[Et],C);if(e+r<t&&V+ee<o+nn+Vt/2)break;nn+=Vt}if(ft!==en){var Jt=Fe?i.substring($e-en,$e-ft):i.substring(en,ft);ne=ee===0?0:(o+nn/2-V)/ee;var St=um(L,I,ne),_t=um(Y,K,ne);Ve.push([St,_t,nn/2,et,Jt]),o+=nn}}return Ve}var iy=bd(),qm=[],Jp=[],em=[],Vm=[];function WK(n){return n[3].declutterBox}var uAe=new RegExp("[-----]");function GK(n,e){return(e==="start"||e==="end")&&!uAe.test(n)&&(e=e==="start"?"left":"right"),GC[e]}function AAe(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}var cAe=function(){function n(e,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=yd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(e,t,r,i){var o=e+t+r+i;if(this.labels_[o])return this.labels_[o];var s=i?this.strokeStates[i]:null,a=r?this.fillStates[r]:null,f=this.textStates[t],m=this.pixelRatio,C=[f.scale[0]*m,f.scale[1]*m],B=Array.isArray(e),I=f.justify?GC[f.justify]:GK(Array.isArray(e)?e[0]:e,f.textAlign||Db),K=i&&s.lineWidth?s.lineWidth:0,L=B?e:e.split(`
`).reduce(AAe,[]),Y=_le(f,L),ee=Y.width,V=Y.height,W=Y.widths,ne=Y.heights,ce=Y.lineWidths,ge=ee+K,fe=[],H=(ge+2)*C[0],X=(V+K)*C[1],Me={width:H<0?Math.floor(H):Math.ceil(H),height:X<0?Math.floor(X):Math.ceil(X),contextInstructions:fe};if((C[0]!=1||C[1]!=1)&&fe.push("scale",C),i){fe.push("strokeStyle",s.strokeStyle),fe.push("lineWidth",K),fe.push("lineCap",s.lineCap),fe.push("lineJoin",s.lineJoin),fe.push("miterLimit",s.miterLimit);var be=Z5?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;be.prototype.setLineDash&&(fe.push("setLineDash",[s.lineDash]),fe.push("lineDashOffset",s.lineDashOffset))}r&&fe.push("fillStyle",a.fillStyle),fe.push("textBaseline","middle"),fe.push("textAlign","center");for(var Fe=.5-I,Ue=I*ge+Fe*K,me=[],Ve=[],_e=0,Ot=0,St=0,_t=0,ft,$e=0,et=L.length;$e<et;$e+=2){var nt=L[$e];if(nt===`
`){Ot+=_e,_e=0,Ue=I*ge+Fe*K,++_t;continue}var en=L[$e+1]||f.font;en!==ft&&(i&&me.push("font",en),r&&Ve.push("font",en),ft=en),_e=Math.max(_e,ne[St]);var nn=[nt,Ue+Fe*W[St]+I*(W[St]-ce[_t]),.5*(K+_e)+Ot];Ue+=W[St],i&&me.push("strokeText",nn),r&&Ve.push("fillText",nn),++St}return Array.prototype.push.apply(fe,me),Array.prototype.push.apply(fe,Ve),this.labels_[o]=Me,Me},n.prototype.replayTextBackground_=function(e,t,r,i,o,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(e,t,r,i,o,s,a,f,m,C,B,I,K,L,Y,ee){a*=I[0],f*=I[1];var V=r-a,W=i-f,ne=o+m>e?e-m:o,ce=s+C>t?t-C:s,ge=L[3]+ne*I[0]+L[1],fe=L[0]+ce*I[1]+L[2],H=V-L[3],X=W-L[0];(Y||B!==0)&&(qm[0]=H,Vm[0]=H,qm[1]=X,Jp[1]=X,Jp[0]=H+ge,em[0]=Jp[0],em[1]=X+fe,Vm[1]=em[1]);var Me;return B!==0?(Me=wp(yd(),r,i,1,1,B,-r,-i),Bl(Me,qm),Bl(Me,Jp),Bl(Me,em),Bl(Me,Vm),Mp(Math.min(qm[0],Jp[0],em[0],Vm[0]),Math.min(qm[1],Jp[1],em[1],Vm[1]),Math.max(qm[0],Jp[0],em[0],Vm[0]),Math.max(qm[1],Jp[1],em[1],Vm[1]),iy)):Mp(Math.min(H,H+ge),Math.min(X,X+fe),Math.max(H,H+ge),Math.max(X,X+fe),iy),K&&(V=Math.round(V),W=Math.round(W)),{drawImageX:V,drawImageY:W,drawImageW:ne,drawImageH:ce,originX:m,originY:C,declutterBox:{minX:iy[0],minY:iy[1],maxX:iy[2],maxY:iy[3],value:ee},canvasTransform:Me,scale:I}},n.prototype.replayImageOrLabel_=function(e,t,r,i,o,s,a){var f=!!(s||a),m=i.declutterBox,C=e.canvas,B=a?a[2]*i.scale[0]/2:0,I=m.minX-B<=C.width/t&&m.maxX+B>=0&&m.minY-B<=C.height/t&&m.maxY+B>=0;return I&&(f&&this.replayTextBackground_(e,qm,Jp,em,Vm,s,a),Cle(e,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(e){if(this.alignFill_){var t=Bl(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},n.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(e,t,r,i){var o=this.textStates[t],s=this.createLabel(e,t,i,r),a=this.strokeStates[r],f=this.pixelRatio,m=GK(Array.isArray(e)?e[0]:e,o.textAlign||Db),C=GC[o.textBaseline||vw],B=a&&a.lineWidth?a.lineWidth:0,I=s.width/f-2*o.scale[0],K=m*I+2*(.5-m)*B,L=C*s.height/f+2*(.5-C)*B;return{label:s,anchorX:K,anchorY:L}},n.prototype.execute_=function(e,t,r,i,o,s,a,f){var m;this.pixelCoordinates_&&_1(r,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=B0(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Xoe(this.renderedTransform_,r));for(var C=0,B=i.length,I=0,K,L,Y,ee,V,W,ne,ce,ge,fe,H,X,Me=0,be=0,Fe=null,Ue=null,me=this.coordinateCache_,Ve=this.viewRotation_,_e=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Ot={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ve},St=this.instructions!=i||this.overlaps?0:200,_t,ft,$e,et;C<B;){var nt=i[C],en=nt[0];switch(en){case Ai.BEGIN_GEOMETRY:_t=nt[1],et=nt[3],_t.getGeometry()?a!==void 0&&!kl(a,et.getExtent())?C=nt[2]+1:++C:C=nt[2];break;case Ai.BEGIN_PATH:Me>St&&(this.fill_(e),Me=0),be>St&&(e.stroke(),be=0),!Me&&!be&&(e.beginPath(),ee=NaN,V=NaN),++C;break;case Ai.CIRCLE:I=nt[1];var nn=m[I],Et=m[I+1],Vt=m[I+2],Jt=m[I+3],Le=Vt-nn,ye=Jt-Et,Te=Math.sqrt(Le*Le+ye*ye);e.moveTo(nn+Te,Et),e.arc(nn,Et,Te,0,2*Math.PI,!0),++C;break;case Ai.CLOSE_PATH:e.closePath(),++C;break;case Ai.CUSTOM:I=nt[1],K=nt[2];var Qe=nt[3],st=nt[4],lt=nt.length==6?nt[5]:void 0;Ot.geometry=Qe,Ot.feature=_t,C in me||(me[C]=[]);var Kt=me[C];lt?lt(m,I,K,2,Kt):(Kt[0]=m[I],Kt[1]=m[I+1],Kt.length=2),st(Kt,Ot),++C;break;case Ai.DRAW_IMAGE:I=nt[1],K=nt[2],ce=nt[3],L=nt[4],Y=nt[5];var Ht=nt[6],Wt=nt[7],Rn=nt[8],nr=nt[9],_n=nt[10],tr=nt[11],ur=nt[12],_r=nt[13],Sr=nt[14],fr=nt[15];if(!ce&&nt.length>=20){ge=nt[19],fe=nt[20],H=nt[21],X=nt[22];var pr=this.drawLabelWithPointPlacement_(ge,fe,H,X);ce=pr.label,nt[3]=ce;var fi=nt[23];L=(pr.anchorX-fi)*this.pixelRatio,nt[4]=L;var Pe=nt[24];Y=(pr.anchorY-Pe)*this.pixelRatio,nt[5]=Y,Ht=ce.height,nt[6]=Ht,_r=ce.width,nt[13]=_r}var Q=void 0;nt.length>25&&(Q=nt[25]);var oe=void 0,Re=void 0,ut=void 0;nt.length>17?(oe=nt[16],Re=nt[17],ut=nt[18]):(oe=Rg,Re=!1,ut=!1),_n&&_e?tr+=Ve:!_n&&!_e&&(tr-=Ve);for(var Tt=0;I<K;I+=2)if(!(Q&&Q[Tt++]<_r/this.pixelRatio)){var jt=this.calculateImageOrLabelDimensions_(ce.width,ce.height,m[I],m[I+1],_r,Ht,L,Y,Rn,nr,tr,ur,o,oe,Re||ut,_t),ar=[e,t,ce,jt,Wt,Re?Fe:null,ut?Ue:null];if(f){if(Sr==="none")continue;if(Sr==="obstacle"){f.insert(jt.declutterBox);continue}else{var ht=void 0,Ee=void 0;if(fr){var ve=K-I;if(!fr[ve]){fr[ve]=ar;continue}if(ht=fr[ve],delete fr[ve],Ee=WK(ht),f.collides(Ee))continue}if(f.collides(jt.declutterBox))continue;ht&&(f.insert(Ee),this.replayImageOrLabel_.apply(this,ht)),f.insert(jt.declutterBox)}}this.replayImageOrLabel_.apply(this,ar)}++C;break;case Ai.DRAW_CHARS:var p=nt[1],Ke=nt[2],ze=nt[3],it=nt[4];X=nt[5];var dt=nt[6],ot=nt[7],Ft=nt[8];H=nt[9];var rt=nt[10];ge=nt[11],fe=nt[12];var mt=[nt[13],nt[13]],Bt=this.textStates[fe],cn=Bt.font,mn=[Bt.scale[0]*ot,Bt.scale[1]*ot],fn=void 0;cn in this.widths_?fn=this.widths_[cn]:(fn={},this.widths_[cn]=fn);var Cr=JN(m,p,Ke,2),rr=Math.abs(mn[0])*IK(cn,ge,fn);if(it||rr<=Cr){var Mr=this.textStates[fe].textAlign,oi=(Cr-rr)*GC[Mr],$r=lAe(m,p,Ke,2,ge,oi,dt,Math.abs(mn[0]),IK,cn,fn,_e?0:this.viewRotation_);e:if($r){var Un=[],On=void 0,Er=void 0,ti=void 0,ji=void 0,ei=void 0;if(H)for(On=0,Er=$r.length;On<Er;++On){ei=$r[On],ti=ei[4],ji=this.createLabel(ti,fe,"",H),L=ei[2]+(mn[0]<0?-rt:rt),Y=ze*ji.height+(.5-ze)*2*rt*mn[1]/mn[0]-Ft;var jt=this.calculateImageOrLabelDimensions_(ji.width,ji.height,ei[0],ei[1],ji.width,ji.height,L,Y,0,0,ei[3],mt,!1,Rg,!1,_t);if(f&&f.collides(jt.declutterBox))break e;Un.push([e,t,ji,jt,1,null,null])}if(X)for(On=0,Er=$r.length;On<Er;++On){ei=$r[On],ti=ei[4],ji=this.createLabel(ti,fe,X,""),L=ei[2],Y=ze*ji.height-Ft;var jt=this.calculateImageOrLabelDimensions_(ji.width,ji.height,ei[0],ei[1],ji.width,ji.height,L,Y,0,0,ei[3],mt,!1,Rg,!1,_t);if(f&&f.collides(jt.declutterBox))break e;Un.push([e,t,ji,jt,1,null,null])}f&&f.load(Un.map(WK));for(var Wr=0,Ni=Un.length;Wr<Ni;++Wr)this.replayImageOrLabel_.apply(this,Un[Wr])}}++C;break;case Ai.END_GEOMETRY:if(s!==void 0){_t=nt[1];var Ko=s(_t,et);if(Ko)return Ko}++C;break;case Ai.FILL:St?Me++:this.fill_(e),++C;break;case Ai.MOVE_TO_LINE_TO:for(I=nt[1],K=nt[2],ft=m[I],$e=m[I+1],W=ft+.5|0,ne=$e+.5|0,(W!==ee||ne!==V)&&(e.moveTo(ft,$e),ee=W,V=ne),I+=2;I<K;I+=2)ft=m[I],$e=m[I+1],W=ft+.5|0,ne=$e+.5|0,(I==K-2||W!==ee||ne!==V)&&(e.lineTo(ft,$e),ee=W,V=ne);++C;break;case Ai.SET_FILL_STYLE:Fe=nt,this.alignFill_=nt[2],Me&&(this.fill_(e),Me=0,be&&(e.stroke(),be=0)),e.fillStyle=nt[1],++C;break;case Ai.SET_STROKE_STYLE:Ue=nt,be&&(e.stroke(),be=0),this.setStrokeStyle_(e,nt),++C;break;case Ai.STROKE:St?be++:e.stroke(),++C;break;default:++C;break}}Me&&this.fill_(e),be&&e.stroke()},n.prototype.execute=function(e,t,r,i,o,s){this.viewRotation_=i,this.execute_(e,t,r,this.instructions,o,void 0,void 0,s)},n.prototype.executeHitDetection=function(e,t,r,i,o){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,o)},n}(),zE=["Polygon","Circle","LineString","Image","Text","Default"],xw=function(){function n(e,t,r,i,o,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=yd(),this.createExecutors_(o)}return n.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},n.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var i=e[t];for(var o in i){var s=i[o];r[o]=new cAe(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,o,s){i=Math.round(i);var a=i*2+1,f=wp(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-e[0],-e[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=Lc(a,a));var C=this.hitDetectionContext_;C.canvas.width!==a||C.canvas.height!==a?(C.canvas.width=a,C.canvas.height=a):m||C.clearRect(0,0,a,a);var B;this.renderBuffer_!==void 0&&(B=bd(),WC(B,e),O0(B,t*(this.renderBuffer_+i),B));var I=hAe(i),K;function L(fe,H){for(var X=C.getImageData(0,0,a,a).data,Me=0,be=I.length;Me<be;Me++)if(X[I[Me]]>0){if(!s||K!=="Image"&&K!=="Text"||s.indexOf(fe)!==-1){var Fe=(I[Me]-3)/4,Ue=i-Fe%a,me=i-(Fe/a|0),Ve=o(fe,H,Ue*Ue+me*me);if(Ve)return Ve}C.clearRect(0,0,a,a);break}}var Y=Object.keys(this.executorsByZIndex_).map(Number);Y.sort(l1);var ee,V,W,ne,ce;for(ee=Y.length-1;ee>=0;--ee){var ge=Y[ee].toString();for(W=this.executorsByZIndex_[ge],V=zE.length-1;V>=0;--V)if(K=zE[V],ne=W[K],ne!==void 0&&(ce=ne.executeHitDetection(C,f,r,L,B),ce))return ce}},n.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],i=t[1],o=t[2],s=t[3],a=[r,i,r,s,o,s,o,i];return B0(a,0,8,2,e,a),a},n.prototype.isEmpty=function(){return A1(this.executorsByZIndex_)},n.prototype.execute=function(e,t,r,i,o,s,a){var f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(l1),this.maxExtent_&&(e.save(),this.clip(e,r));var m=s||zE,C,B,I,K,L,Y;for(a&&f.reverse(),C=0,B=f.length;C<B;++C){var ee=f[C].toString();for(L=this.executorsByZIndex_[ee],I=0,K=m.length;I<K;++I){var V=m[I];Y=L[V],Y!==void 0&&Y.execute(e,t,r,i,o,a)}}this.maxExtent_&&e.restore()},n}(),jE={};function hAe(n){if(jE[n]!==void 0)return jE[n];for(var e=n*2+1,t=n*n,r=new Array(t+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var s=i*i+o*o;if(s>t)break;var a=r[s];a||(a=[],r[s]=a),a.push(((n+i)*e+(n+o))*4+3),i>0&&a.push(((n-i)*e+(n+o))*4+3),o>0&&(a.push(((n+i)*e+(n-o))*4+3),i>0&&a.push(((n-i)*e+(n-o))*4+3))}for(var f=[],i=0,m=r.length;i<m;++i)r[i]&&f.push.apply(f,r[i]);return jE[n]=f,f}var dAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fAe=function(n){dAe(e,n);function e(t,r,i,o,s,a,f){var m=n.call(this)||this;return m.context_=t,m.pixelRatio_=r,m.extent_=i,m.transform_=o,m.viewRotation_=s,m.squaredTolerance_=a,m.userTransform_=f,m.contextFillState_=null,m.contextStrokeState_=null,m.contextTextState_=null,m.fillState_=null,m.strokeState_=null,m.image_=null,m.imageAnchorX_=0,m.imageAnchorY_=0,m.imageHeight_=0,m.imageOpacity_=0,m.imageOriginX_=0,m.imageOriginY_=0,m.imageRotateWithView_=!1,m.imageRotation_=0,m.imageScale_=[0,0],m.imageWidth_=0,m.text_="",m.textOffsetX_=0,m.textOffsetY_=0,m.textRotateWithView_=!1,m.textRotation_=0,m.textScale_=[0,0],m.textFillState_=null,m.textStrokeState_=null,m.textState_=null,m.pixelCoordinates_=[],m.tmpLocalTransform_=yd(),m}return e.prototype.drawImages_=function(t,r,i,o){if(this.image_){var s=B0(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.tmpLocalTransform_,m=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=m*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var B=0,I=s.length;B<I;B+=2){var K=s[B]-this.imageAnchorX_,L=s[B+1]-this.imageAnchorY_;if(C!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var Y=K+this.imageAnchorX_,ee=L+this.imageAnchorY_;wp(f,Y,ee,1,1,C,-Y,-ee),a.setTransform.apply(a,f),a.translate(Y,ee),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,L,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=m)}},e.prototype.drawText_=function(t,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=B0(t,r,i,o,this.transform_,this.pixelCoordinates_),a=this.context_,f=this.textRotation_;for(this.textRotateWithView_&&(f+=this.viewRotation_);r<i;r+=o){var m=s[r]+this.textOffsetX_,C=s[r+1]+this.textOffsetY_;if(f!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var B=wp(this.tmpLocalTransform_,m,C,1,1,f,-m,-C);a.setTransform.apply(a,B),a.translate(m,C),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,m,C),this.textFillState_&&a.fillText(this.text_,m,C)}}},e.prototype.moveToLineTo_=function(t,r,i,o,s){var a=this.context_,f=B0(t,r,i,o,this.transform_,this.pixelCoordinates_);a.moveTo(f[0],f[1]);var m=f.length;s&&(m-=2);for(var C=2;C<m;C+=2)a.lineTo(f[C],f[C+1]);return s&&a.closePath(),i},e.prototype.drawRings_=function(t,r,i,o){for(var s=0,a=i.length;s<a;++s)r=this.moveToLineTo_(t,r,i[s],o,!0);return r},e.prototype.drawCircle=function(t){if(kl(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Wae(t,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],s=Math.sqrt(i*i+o*o),a=this.context_;a.beginPath(),a.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}},e.prototype.drawFeature=function(t,r){var i=r.getGeometryFunction()(t);!i||!kl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kl(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(kl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),s=0,a=t.getEnds(),f=t.getStride();i.beginPath();for(var m=0,C=a.length;m<C;++m)s=this.moveToLineTo_(o,s,a[m],f,!1);i.stroke()}if(this.text_!==""){var B=t.getFlatMidpoints();this.drawText_(B,0,B.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!kl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),a=t.getStride();r.beginPath();for(var f=0,m=s.length;f<m;++f){var C=s[f];o=this.drawRings_(i,o,C,a)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var B=t.getFlatInteriorPoints();this.drawText_(B,0,B.length,2)}}},e.prototype.setContextFillState_=function(t){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(_1(i.lineDash,t.lineDash)||r.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var r=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Db;i?(i.font!=t.font&&(i.font=t.font,r.font=t.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=o,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,r){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:mp(o||ym)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),a=r.getLineCap(),f=r.getLineDash(),m=r.getLineDashOffset(),C=r.getLineJoin(),B=r.getWidth(),I=r.getMiterLimit(),K=f||Tb;this.strokeState_={lineCap:a!==void 0?a:yw,lineDash:this.pixelRatio_===1?K:K.map(function(L){return L*i.pixelRatio_}),lineDashOffset:(m||Pb)*this.pixelRatio_,lineJoin:C!==void 0?C:Lv,lineWidth:(B!==void 0?B:Fb)*this.pixelRatio_,miterLimit:I!==void 0?I:Kb,strokeStyle:mp(s||Lb)}}},e.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:mp(i||ym)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var s=o.getColor(),a=o.getLineCap(),f=o.getLineDash(),m=o.getLineDashOffset(),C=o.getLineJoin(),B=o.getWidth(),I=o.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:yw,lineDash:f||Tb,lineDashOffset:m||Pb,lineJoin:C!==void 0?C:Lv,lineWidth:B!==void 0?B:Fb,miterLimit:I!==void 0?I:Kb,strokeStyle:mp(s||Lb)}}var K=t.getFont(),L=t.getOffsetX(),Y=t.getOffsetY(),ee=t.getRotateWithView(),V=t.getRotation(),W=t.getScaleArray(),ne=t.getText(),ce=t.getTextAlign(),ge=t.getTextBaseline();this.textState_={font:K!==void 0?K:fW,textAlign:ce!==void 0?ce:Db,textBaseline:ge!==void 0?ge:vw},this.text_=ne!==void 0?Array.isArray(ne)?ne.reduce(function(fe,H,X){return fe+=X%2?" ":H},""):ne:"",this.textOffsetX_=L!==void 0?this.pixelRatio_*L:0,this.textOffsetY_=Y!==void 0?this.pixelRatio_*Y:0,this.textRotateWithView_=ee!==void 0?ee:!1,this.textRotation_=V!==void 0?V:0,this.textScale_=[this.pixelRatio_*W[0],this.pixelRatio_*W[1]]}},e}(TW);const o0={FRACTION:"fraction",PIXELS:"pixels"},ad={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var pAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mAe=function(n){pAe(e,n);function e(t,r,i,o){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=i,s.resolution=r,s.state=o,s}return e.prototype.changed=function(){this.dispatchEvent(Li.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return gi()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){gi()},e}(Xv),gAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){gAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,i,As.IDLE)||this;return f.src_=o,f.image_=new Image,s!==null&&(f.image_.crossOrigin=s),f.unlisten_=null,f.state=As.IDLE,f.imageLoadFunction_=a,f}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=As.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Kc(this.extent)/this.image_.height),this.state=As.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==As.IDLE||this.state==As.ERROR)&&(this.state=As.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=VI(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Kc(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e})(mAe);function VI(n,e,t){var r=n,i=!0,o=!1,s=!1,a=[lw(r,Li.LOAD,function(){s=!0,o||e()})];return r.src&&Zoe?(o=!0,r.decode().then(function(){i&&e()}).catch(function(f){i&&(s?e():t())})):a.push(lw(r,Li.ERROR,t)),function(){i=!1,a.forEach(hs)}}var yAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eC=null,vAe=function(n){yAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this)||this;return f.hitDetectionImage_=null,f.image_=t||new Image,o!==null&&(f.image_.crossOrigin=o),f.canvas_={},f.color_=a,f.unlisten_=null,f.imageState_=s,f.size_=i,f.src_=r,f.tainted_,f}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===As.LOADED){eC||(eC=Lc(1,1)),eC.drawImage(this.image_,0,0);try{eC.getImageData(0,0,1,1),this.tainted_=!1}catch{eC=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Li.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=As.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=As.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],i=Lc(t,r);i.fillRect(0,0,t,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==As.IDLE){this.imageState_=As.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=VI(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==As.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var i=r.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=lW(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.color_[0]/255,f=this.color_[1]/255,m=this.color_[2]/255,C=this.color_[3],B=0,I=s.length;B<I;B+=4)s[B]*=a,s[B+1]*=f,s[B+2]*=m,s[B+3]*=C;i.putImageData(o,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Xv);function _Ae(n,e,t,r,i,o){var s=pw.get(e,r,o);return s||(s=new vAe(n,e,t,r,i,o),pw.set(e,r,o,s)),s}var CAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LW=function(n){CAe(e,n);function e(t){var r=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,s=i.rotation!==void 0?i.rotation:0,a=i.scale!==void 0?i.scale:1,f=i.rotateWithView!==void 0?i.rotateWithView:!1;r=n.call(this,{opacity:o,rotation:s,scale:a,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:f,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:ad.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:o0.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:o0.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var m=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var C=i.src;go(!(C!==void 0&&m),4),go(!m||m&&r.imgSize_,5),(C===void 0||C.length===0)&&m&&(C=m.src||Vi(m)),go(C!==void 0&&C.length>0,6);var B=i.src!==void 0?As.IDLE:As.LOADED;return r.color_=i.color!==void 0?fw(i.color):null,r.iconImage_=_Ae(m,C,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,B,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:ad.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==o0.FRACTION||this.anchorYUnits_==o0.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==o0.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==o0.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=ad.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==ad.TOP_RIGHT||this.anchorOrigin_==ad.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==ad.BOTTOM_LEFT||this.anchorOrigin_==ad.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ad.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;t=t.slice(),(this.offsetOrigin_==ad.TOP_RIGHT||this.offsetOrigin_==ad.BOTTOM_RIGHT)&&(t[0]=i[0]-r[0]-t[0]),(this.offsetOrigin_==ad.BOTTOM_LEFT||this.offsetOrigin_==ad.BOTTOM_RIGHT)&&(t[1]=i[1]-r[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Li.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Li.CHANGE,t)},e}(BW),bAe="#333",xAe=function(){function n(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=tc(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Uy({color:bAe}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:PW.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getJustify=function(){return this.justify_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(e){this.overflow_=e},n.prototype.setFont=function(e){this.font_=e},n.prototype.setMaxAngle=function(e){this.maxAngle_=e},n.prototype.setOffsetX=function(e){this.offsetX_=e},n.prototype.setOffsetY=function(e){this.offsetY_=e},n.prototype.setPlacement=function(e){this.placement_=e},n.prototype.setRotateWithView=function(e){this.rotateWithView_=e},n.prototype.setFill=function(e){this.fill_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=tc(e!==void 0?e:1)},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.setText=function(e){this.text_=e},n.prototype.setTextAlign=function(e){this.textAlign_=e},n.prototype.setJustify=function(e){this.justify_=e},n.prototype.setTextBaseline=function(e){this.textBaseline_=e},n.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},n.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},n.prototype.setPadding=function(e){this.padding_=e},n}(),_h=.5;function DW(n,e,t,r,i,o,s){var a=n[0]*_h,f=n[1]*_h,m=Lc(a,f);m.imageSmoothingEnabled=!1;for(var C=m.canvas,B=new fAe(m,_h,i,null,s),I=t.length,K=Math.floor((256*256*256-1)/I),L={},Y=1;Y<=I;++Y){var ee=t[Y-1],V=ee.getStyleFunction()||r;if(r){var W=V(ee,o);if(W){Array.isArray(W)||(W=[W]);for(var ne=Y*K,ce="#"+("000000"+ne.toString(16)).slice(-6),ge=0,fe=W.length;ge<fe;++ge){var H=W[ge],X=H.getGeometryFunction()(ee);if(!(!X||!kl(i,X.getExtent()))){var Me=H.clone(),be=Me.getFill();be&&be.setColor(ce);var Fe=Me.getStroke();Fe&&(Fe.setColor(ce),Fe.setLineDash(null)),Me.setText(void 0);var Ue=H.getImage();if(Ue&&Ue.getOpacity()!==0){var me=Ue.getImageSize();if(!me)continue;var Ve=Lc(me[0],me[1],void 0,{alpha:!1}),_e=Ve.canvas;Ve.fillStyle=ce,Ve.fillRect(0,0,_e.width,_e.height),Me.setImage(new LW({img:_e,imgSize:me,anchor:Ue.getAnchor(),anchorXUnits:o0.PIXELS,anchorYUnits:o0.PIXELS,offset:Ue.getOrigin(),opacity:1,size:Ue.getSize(),scale:Ue.getScale(),rotation:Ue.getRotation(),rotateWithView:Ue.getRotateWithView()}))}var Ot=Me.getZIndex()||0,St=L[Ot];St||(St={},L[Ot]=St,St.Polygon=[],St.Circle=[],St.LineString=[],St.Point=[]),St[X.getType().replace("Multi","")].push(X,Me)}}}}}for(var _t=Object.keys(L).map(Number).sort(l1),Y=0,ft=_t.length;Y<ft;++Y){var St=L[_t[Y]];for(var $e in St)for(var et=St[$e],ge=0,fe=et.length;ge<fe;ge+=2){B.setStyle(et[ge+1]);for(var nt=0,en=e.length;nt<en;++nt)B.setTransform(e[nt]),B.drawGeometry(et[ge])}}return m.getImageData(0,0,C.width,C.height)}function FW(n,e,t){var r=[];if(t){var i=Math.floor(Math.round(n[0])*_h),o=Math.floor(Math.round(n[1])*_h),s=(Yl(i,0,t.width-1)+Yl(o,0,t.height-1)*t.width)*4,a=t.data[s],f=t.data[s+1],m=t.data[s+2],C=m+256*(f+256*a),B=Math.floor((256*256*256-1)/e.length);C&&C%B===0&&r.push(e[C/B-1])}return r}var wAe=.5,RW={Point:TAe,LineString:BAe,Polygon:KAe,MultiPoint:PAe,MultiLineString:IAe,MultiPolygon:kAe,GeometryCollection:OAe,Circle:SAe};function MAe(n,e){return parseInt(Vi(n),10)-parseInt(Vi(e),10)}function UW(n,e){var t=DB(n,e);return t*t}function DB(n,e){return wAe*n/e}function SAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=n.getBuilder(t.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}function ww(n,e,t,r,i,o,s){var a=!1,f=t.getImage();if(f){var m=f.getImageState();m==As.LOADED||m==As.ERROR?f.unlistenImageChange(i):(m==As.IDLE&&f.load(),f.listenImageChange(i),a=!0)}return EAe(n,e,t,r,o,s),a}function EAe(n,e,t,r,i,o){var s=t.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(r,i),f=t.getRenderer();if(f)zW(n,a,t,e);else{var m=RW[a.getType()];m(n,a,t,e,o)}}}function zW(n,e,t,r){if(e.getType()=="GeometryCollection"){for(var i=e.getGeometries(),o=0,s=i.length;o<s;++o)zW(n,i[o],t,r);return}var a=n.getBuilder(t.getZIndex(),"Default");a.drawCustom(e,r,t.getRenderer(),t.getHitDetectionRenderer())}function OAe(n,e,t,r,i){var o=e.getGeometriesArray(),s,a;for(s=0,a=o.length;s<a;++s){var f=RW[o[s].getType()];f(n,o[s],t,r,i)}}function BAe(n,e,t,r,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=t.getText();if(a&&a.getText()){var f=(i||n).getBuilder(t.getZIndex(),"Text");f.setTextStyle(a),f.drawText(e,r)}}function IAe(n,e,t,r,i){var o=t.getStroke();if(o){var s=n.getBuilder(t.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=t.getText();if(a&&a.getText()){var f=(i||n).getBuilder(t.getZIndex(),"Text");f.setTextStyle(a),f.drawText(e,r)}}function kAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(s||o){var a=n.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}function TAe(n,e,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=As.LOADED)return;var f=n;if(i){var m=o.getDeclutterMode();if(m!=="none")if(f=i,m==="obstacle"){var C=n.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawPoint(e,r)}else s&&s.getText()&&(a={})}var B=f.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawPoint(e,r)}if(s&&s.getText()){var I=n;i&&(I=i);var K=I.getBuilder(t.getZIndex(),"Text");K.setTextStyle(s,a),K.drawText(e,r)}}function PAe(n,e,t,r,i){var o=t.getImage(),s=t.getText(),a;if(o){if(o.getImageState()!=As.LOADED)return;var f=n;if(i){var m=o.getDeclutterMode();if(m!=="none")if(f=i,m==="obstacle"){var C=n.getBuilder(t.getZIndex(),"Image");C.setImageStyle(o,a),C.drawMultiPoint(e,r)}else s&&s.getText()&&(a={})}var B=f.getBuilder(t.getZIndex(),"Image");B.setImageStyle(o,a),B.drawMultiPoint(e,r)}if(s&&s.getText()){var I=n;i&&(I=i);var K=I.getBuilder(t.getZIndex(),"Text");K.setTextStyle(s,a),K.drawText(e,r)}}function KAe(n,e,t,r,i){var o=t.getFill(),s=t.getStroke();if(o||s){var a=n.getBuilder(t.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var f=t.getText();if(f&&f.getText()){var m=(i||n).getBuilder(t.getZIndex(),"Text");m.setTextStyle(f),m.drawText(e,r)}}var LAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DAe=function(n){LAe(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=bd(),r.wrappedRenderedExtent_=bd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return e.prototype.renderWorlds=function(t,r,i){var o=r.extent,s=r.viewState,a=s.center,f=s.resolution,m=s.projection,C=s.rotation,B=m.getExtent(),I=this.getLayer().getSource(),K=r.pixelRatio,L=r.viewHints,Y=!(L[cl.ANIMATING]||L[cl.INTERACTING]),ee=this.compositionContext_,V=Math.round(r.size[0]*K),W=Math.round(r.size[1]*K),ne=I.getWrapX()&&m.canWrapX(),ce=ne?xs(B):null,ge=ne?Math.ceil((o[2]-B[2])/ce)+1:1,fe=ne?Math.floor((o[0]-B[0])/ce):0;do{var H=this.getRenderTransform(a,f,C,K,V,W,fe*ce);t.execute(ee,1,H,C,Y,void 0,i)}while(++fe<ge)},e.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var t=Lc(this.context.canvas.width,this.context.canvas.height,NK);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,jI(this.compositionContext_),NK.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,r){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Joe(this.pixelTransform,1/i,1/i),mI(this.inversePixelTransform,this.pixelTransform);var s=LN(this.pixelTransform);this.useContainer(r,s,this.getBackground(t));var a=this.context,f=a.canvas,m=this.replayGroup_,C=this.declutterExecutorGroup;if((!m||m.isEmpty())&&(!C||C.isEmpty()))return null;var B=Math.round(t.size[0]*i),I=Math.round(t.size[1]*i);f.width!=B||f.height!=I?(f.width=B,f.height=I,f.style.transform!==s&&(f.style.transform=s)):this.containerReused||a.clearRect(0,0,B,I),this.preRender(a,t);var K=t.viewState;K.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var L=!1,Y=!0;if(o.extent&&this.clipping){var ee=Dg(o.extent);Y=kl(ee,t.extent),L=Y&&!h0(ee,t.extent),L&&this.clipUnrotated(this.compositionContext_,t,ee)}return Y&&this.renderWorlds(m,t),L&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(a,t),this.renderedRotation_!==K.rotation&&(this.renderedRotation_=K.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Bl(this.pixelTransform,i);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,f=this.renderedProjection_,m=this.wrappedRenderedExtent_,C=this.getLayer(),B=[],I=i[0]*_h,K=i[1]*_h;B.push(this.getRenderTransform(o,s,a,_h,I,K,0).slice());var L=C.getSource(),Y=f.getExtent();if(L.getWrapX()&&f.canWrapX()&&!h0(Y,m)){for(var ee=m[0],V=xs(Y),W=0,ne=void 0;ee<Y[0];)--W,ne=V*W,B.push(this.getRenderTransform(o,s,a,_h,I,K,ne).slice()),ee+=V;for(W=0,ee=m[2];ee>Y[2];)++W,ne=V*W,B.push(this.getRenderTransform(o,s,a,_h,I,K,ne).slice()),ee-=V}this.hitDetectionImageData_=DW(i,B,this.renderedFeatures_,C.getStyleFunction(),m,s,a)}r(FW(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=this;if(this.replayGroup_){var f=r.viewState.resolution,m=r.viewState.rotation,C=this.getLayer(),B={},I=function(Y,ee,V){var W=Vi(Y),ne=B[W];if(ne){if(ne!==!0&&V<ne.distanceSq){if(V===0)return B[W]=!0,s.splice(s.lastIndexOf(ne),1),o(Y,C,ee);ne.geometry=ee,ne.distanceSq=V}}else{if(V===0)return B[W]=!0,o(Y,C,ee);s.push(B[W]={feature:Y,layer:C,geometry:ee,distanceSq:V,callback:o})}},K,L=[this.replayGroup_];return this.declutterExecutorGroup&&L.push(this.declutterExecutorGroup),L.some(function(Y){return K=Y.forEachFeatureAtCoordinate(t,f,m,i,I,Y===a.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(ee){return ee.value}):null)}),K}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=t.viewHints[cl.ANIMATING],s=t.viewHints[cl.INTERACTING],a=r.getUpdateWhileAnimating(),f=r.getUpdateWhileInteracting();if(this.ready&&!a&&o||!f&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var m=t.extent,C=t.viewState,B=C.projection,I=C.resolution,K=t.pixelRatio,L=r.getRevision(),Y=r.getRenderBuffer(),ee=r.getRenderOrder();ee===void 0&&(ee=MAe);var V=C.center.slice(),W=O0(m,Y*I),ne=W.slice(),ce=[W.slice()],ge=B.getExtent();if(i.getWrapX()&&B.canWrapX()&&!h0(ge,t.extent)){var fe=xs(ge),H=Math.max(xs(W)/2,fe);W[0]=ge[0]-H,W[2]=ge[2]+H,MI(V,B);var X=jN(ce[0],B);X[0]<ge[0]&&X[2]<ge[2]?ce.push([X[0]+fe,X[1],X[2]+fe,X[3]]):X[0]>ge[0]&&X[2]>ge[2]&&ce.push([X[0]-fe,X[1],X[2]-fe,X[3]])}if(this.ready&&this.renderedResolution_==I&&this.renderedRevision_==L&&this.renderedRenderOrder_==ee&&h0(this.wrappedRenderedExtent_,W))return _1(this.renderedExtent_,ne)||(this.hitDetectionImageData_=null,this.renderedExtent_=ne),this.renderedCenter_=V,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var Me=new bw(DB(I,K),W,I,K),be;this.getLayer().getDeclutter()&&(be=new bw(DB(I,K),W,I,K));for(var Fe,Ue,me,Ue=0,me=ce.length;Ue<me;++Ue)i.loadFeatures(ce[Ue],I,B);var Ve=UW(I,K),_e=!0,Ot=(function(et){var nt,en=et.getStyleFunction()||r.getStyleFunction();if(en&&(nt=en(et,I)),nt){var nn=this.renderFeature(et,Ve,nt,Me,Fe,be);_e=_e&&!nn}}).bind(this),St=QN(W),_t=i.getFeaturesInExtent(St);ee&&_t.sort(ee);for(var Ue=0,me=_t.length;Ue<me;++Ue)Ot(_t[Ue]);this.renderedFeatures_=_t,this.ready=_e;var ft=Me.finish(),$e=new xw(W,I,K,i.getOverlaps(),ft,r.getRenderBuffer());return be&&(this.declutterExecutorGroup=new xw(W,I,K,i.getOverlaps(),be.finish(),r.getRenderBuffer())),this.renderedResolution_=I,this.renderedRevision_=L,this.renderedRenderOrder_=ee,this.renderedExtent_=ne,this.wrappedRenderedExtent_=W,this.renderedCenter_=V,this.renderedProjection_=B,this.replayGroup_=$e,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,r,i,o,s,a){if(!i)return!1;var f=!1;if(Array.isArray(i))for(var m=0,C=i.length;m<C;++m)f=ww(o,t,i[m],r,this.boundHandleStyleImageChange_,s,a)||f;else f=ww(o,t,i,r,this.boundHandleStyleImageChange_,s,a);return f},e}(KW),FAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jW=function(n){FAe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new DAe(this)},e}(kW),QK=function(){function n(e){this.rbush_=new OW(e),this.items_={}}return n.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Vi(t)]=r},n.prototype.load=function(e,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var s=e[i],a=t[i],f={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};r[i]=f,this.items_[Vi(a)]=f}this.rbush_.load(r)},n.prototype.remove=function(e){var t=Vi(e),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(e,t){var r=this.items_[Vi(t)],i=[r.minX,r.minY,r.maxX,r.maxY];Pv(i,e)||(this.remove(t),this.insert(e,t))},n.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},n.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(i){return i.value})},n.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},n.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},n.prototype.forEach_=function(e,t){for(var r,i=0,o=e.length;i<o;i++)if(r=t(e[i]),r)return r;return r},n.prototype.isEmpty=function(){return A1(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Mp(t.minX,t.minY,t.maxX,t.maxY,e)},n.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},n}(),RAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),NW=function(n){RAe(e,n);function e(t){var r=n.call(this)||this;r.projection=qs(t.projection),r.attributions_=$K(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:"ready",r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,s){i.viewResolver=o,i.viewRejector=s}),r}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return gi()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=$K(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(pf);function $K(n){return n?Array.isArray(n)?function(e){return n}:typeof n=="function"?n:function(e){return[n]}:null}const ef={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function UAe(n,e){return[[-1/0,-1/0,1/0,1/0]]}var zAe=!1;function WW(n,e,t,r,i,o,s){var a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,r,i):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=zAe,a.onload=function(f){if(!a.status||a.status>=200&&a.status<300){var m=e.getType(),C=void 0;m=="json"||m=="text"?C=a.responseText:m=="xml"?(C=a.responseXML,C||(C=new DOMParser().parseFromString(a.responseText,"application/xml"))):m=="arraybuffer"&&(C=a.response),C?o(e.readFeatures(C,{extent:t,featureProjection:i}),e.readProjection(C)):s()}else s()},a.onerror=s,a.send()}function YK(n,e){return function(t,r,i,o,s){var a=this;WW(n,e,t,r,i,function(f,m){a.addFeatures(f),o!==void 0&&o(f)},s||u1)}}var GW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hm=function(n){GW(e,n);function e(t,r,i){var o=n.call(this,t)||this;return o.feature=r,o.features=i,o}return e}(Om),QW=function(n){GW(e,n);function e(t){var r=this,i=t||{};r=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=u1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(go(r.format_,7),r.loader_=YK(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:UAe;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new QK:null,r.loadedExtentsRtree_=new QK,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,a;return Array.isArray(i.features)?a=i.features:i.features&&(s=i.features,a=s.getArray()),!o&&s===void 0&&(s=new md(a)),a!==void 0&&r.addFeaturesInternal(a),s!==void 0&&r.bindFeaturesCollection_(s),r}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var r=Vi(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new Hm(ef.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[Eo(r,Li.CHANGE,this.handleFeatureChange_,this),Eo(r,Tv.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(go(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var r=[],i=[],o=[],s=0,a=t.length;s<a;s++){var f=t[s],m=Vi(f);this.addToIndex_(m,f)&&i.push(f)}for(var s=0,C=i.length;s<C;s++){var f=i[s],m=Vi(f);this.setupChangeEvents_(m,f);var B=f.getGeometry();if(B){var I=B.getExtent();r.push(I),o.push(f)}else this.nullGeometryFeatures_[m]=f}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(ef.ADDFEATURE))for(var s=0,K=i.length;s<K;s++)this.dispatchEvent(new Hm(ef.ADDFEATURE,i[s]))},e.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(ef.ADDFEATURE,function(i){r||(r=!0,t.push(i.feature),r=!1)}),this.addEventListener(ef.REMOVEFEATURE,function(i){r||(r=!0,t.remove(i.feature),r=!1)}),t.addEventListener(Bc.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),t.addEventListener(Bc.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(hs)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(f){this.removeFeatureInternal(f)}).bind(this);this.featuresRtree_.forEach(o);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new Hm(ef.CLEAR);this.dispatchEvent(a),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var s=o.getGeometry();if(s.intersectsCoordinate(t))return r(o)})},e.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},e.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var s=r(i);if(s)return s}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),A1(this.nullGeometryFeatures_)||bp(t,BN(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){r.push(i)}),r},e.prototype.getFeaturesInExtent=function(t,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(t);var s=lae(t,r);return[].concat.apply([],s.map(function(a){return i.featuresRtree_.getInExtent(a)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,r){var i=t[0],o=t[1],s=null,a=[NaN,NaN],f=1/0,m=[-1/0,-1/0,1/0,1/0],C=r||iv;return this.featuresRtree_.forEachInExtent(m,function(B){if(C(B)){var I=B.getGeometry(),K=f;if(f=I.closestPointXY(i,o,a,f),f<K){s=B;var L=Math.sqrt(f);m[0]=i-L,m[1]=o-L,m[2]=i+L,m[3]=o+L}}}),s},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},e.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var r=t.target,i=Vi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var s=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var a=r.getId();if(a!==void 0){var f=a.toString();this.idIndex_[f]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[f]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Hm(ef.CHANGEFEATURE,r))},e.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:Vi(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&A1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,r,i){for(var o=this.loadedExtentsRtree_,s=this.strategy_(t,r,i),a=function(B,I){var K=s[B],L=o.forEachInExtent(K,function(Y){return h0(Y.extent,K)});L||(++f.loadingExtentsCount_,f.dispatchEvent(new Hm(ef.FEATURESLOADSTART)),f.loader_.call(f,K,r,i,(function(Y){--this.loadingExtentsCount_,this.dispatchEvent(new Hm(ef.FEATURESLOADEND,void 0,Y))}).bind(f),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Hm(ef.FEATURESLOADERROR))}).bind(f)),o.insert(K,{extent:K.slice()}))},f=this,m=0,C=s.length;m<C;++m)a(m);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(t,function(o){if(Pv(o.extent,t))return i=o,!0}),i&&r.remove(i)},e.prototype.removeFeature=function(t){if(t){var r=Vi(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var r=Vi(t),i=this.featureChangeKeys_[r];if(i){i.forEach(hs),delete this.featureChangeKeys_[r];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Hm(ef.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],r=!0;break}return r},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){go(this.format_,7),this.url_=t,this.setLoader(YK(t,this.format_))},e}(NW);function jAe(n){var e=n||{},t=new md,r=new Oue(-.005,.05,100),i=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;i&&t.push(new yue);var o=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;o&&t.push(new lue({delta:e.zoomDelta,duration:e.zoomDuration}));var s=e.dragPan!==void 0?e.dragPan:!0;s&&t.push(new mue({onFocusOnly:e.onFocusOnly,kinetic:r}));var a=e.pinchRotate!==void 0?e.pinchRotate:!0;a&&t.push(new Tue);var f=e.pinchZoom!==void 0?e.pinchZoom:!0;f&&t.push(new Kue({duration:e.zoomDuration}));var m=e.keyboard!==void 0?e.keyboard:!0;m&&(t.push(new Mue),t.push(new Eue({delta:e.zoomDelta,duration:e.zoomDuration})));var C=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;C&&t.push(new Iue({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var B=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return B&&t.push(new xue({duration:e.zoomDuration})),t}var NAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HI=function(n){NAe(e,n);function e(t){return t=Tl({},t),t.controls||(t.controls=iue()),t.interactions||(t.interactions=jAe({onFocusOnly:!0})),n.call(this,t)||this}return e.prototype.createRenderer=function(){return new wle(this)},e}(Yle),ZI=function(){function n(e,t,r,i){this.minX=e,this.maxX=t,this.minY=r,this.maxY=i}return n.prototype.contains=function(e){return this.containsXY(e[1],e[2])},n.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},n.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},n.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},n}();function oy(n,e,t,r,i){return i!==void 0?(i.minX=n,i.maxX=e,i.minY=t,i.maxY=r,i):new ZI(n,e,t,r)}function qK(n,e,t,r){return r!==void 0?(r[0]=n,r[1]=e,r[2]=t,r):[n,e,t]}function e_(n,e,t){return n+"/"+e+"/"+t}function $W(n){return e_(n[0],n[1],n[2])}function WAe(n){var e=n.substring(n.lastIndexOf("/")+1,n.length).split(",").map(Number),t=e[0],r=e[1],i=e[2];return e_(t,r,i)}function YW(n){return n.split("/").map(Number)}function GAe(n){return(n[1]<<n[0])+n[2]}function QAe(n,e){var t=n[0],r=n[1],i=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var o=e.getFullTileRange(t);return o?o.containsXY(r,i):!0}var $Ae=[0,0,0],Zm=5,p2=function(){function n(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,go(Foe(this.resolutions_,function(s,a){return a-s}),17);var t;if(!e.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,go(this.origins_.length==this.resolutions_.length,20));var o=e.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=N0(o)),go(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,go(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:NI,go(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(s,a){var f=new ZI(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var m=this.getTileRangeForExtentAndZ(o,a);f.minX=Math.max(m.minX,f.minX),f.maxX=Math.min(m.maxX,f.maxX),f.minY=Math.max(m.minY,f.minY),f.maxY=Math.min(m.maxY,f.maxY)}return f},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(e,t,r){for(var i=this.getTileRangeForExtentAndZ(e,t),o=i.minX,s=i.maxX;o<=s;++o)for(var a=i.minY,f=i.maxY;a<=f;++a)r([t,o,a])},n.prototype.forEachTileCoordParentTileRange=function(e,t,r,i){var o,s,a,f=null,m=e[0]-1;for(this.zoomFactor_===2?(s=e[1],a=e[2]):f=this.getTileCoordExtent(e,i);m>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),a=Math.floor(a/2),o=oy(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(f,m,r),t(m,o))return!0;--m}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},n.prototype.getResolution=function(e){return this.resolutions_[e]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var i=e[1]*2,o=e[2]*2;return oy(i,i+1,o,o+1,t)}var s=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],o=e[1],s=e[2];if(t===i)return oy(o,s,o,s,r);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),f=Math.floor(o*a),m=Math.floor(s*a);if(t<i)return oy(f,f,m,m,r);var C=Math.floor(a*(o+1))-1,B=Math.floor(a*(s+1))-1;return oy(f,C,m,B,r)}var I=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(I,t,r)},n.prototype.getTileRangeExtent=function(e,t,r){var i=this.getOrigin(e),o=this.getResolution(e),s=tc(this.getTileSize(e),this.tmpSize_),a=i[0]+t.minX*s[0]*o,f=i[0]+(t.maxX+1)*s[0]*o,m=i[1]+t.minY*s[1]*o,C=i[1]+(t.maxY+1)*s[1]*o;return Mp(a,m,f,C,r)},n.prototype.getTileRangeForExtentAndZ=function(e,t,r){var i=$Ae;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,i);var o=i[1],s=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,i),oy(o,i[1],s,i[2],r)},n.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=tc(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*r,t[1]-(e[2]+.5)*i[1]*r]},n.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=tc(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i,f=s+o[0]*i,m=a+o[1]*i;return Mp(s,a,f,m,t)},n.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(e,t,r,i,o){var s=this.getZForResolution(r),a=r/this.getResolution(s),f=this.getOrigin(s),m=tc(this.getTileSize(s),this.tmpSize_),C=a*(e-f[0])/r/m[0],B=a*(f[1]-t)/r/m[1];return i?(C=a3(C,Zm)-1,B=a3(B,Zm)-1):(C=o3(C,Zm),B=o3(B,Zm)),qK(s,C,B,o)},n.prototype.getTileCoordForXYAndZ_=function(e,t,r,i,o){var s=this.getOrigin(r),a=this.getResolution(r),f=tc(this.getTileSize(r),this.tmpSize_),m=(e-s[0])/a/f[0],C=(s[1]-t)/a/f[1];return i?(m=a3(m,Zm)-1,C=a3(C,Zm)-1):(m=o3(m,Zm),C=o3(C,Zm)),qK(r,m,C,o)},n.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},n.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},n.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},n.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},n.prototype.getZForResolution=function(e,t){var r=fI(this.resolutions_,e,t||0);return Yl(r,this.minZoom,this.maxZoom)},n.prototype.tileCoordIntersectsViewport=function(e,t){return ZN(t,0,t.length,2,this.getTileCoordExtent(e))},n.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r},n}(),YAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oM=function(n){YAe(e,n);function e(t,r,i){var o=n.call(this)||this,s=i||{};return o.tileCoord=t,o.state=r,o.interimTile=null,o.key="",o.transition_=s.transition===void 0?250:s.transition,o.transitionStarts_={},o.interpolate=!!s.interpolate,o}return e.prototype.changed=function(){this.dispatchEvent(Li.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==dr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==dr.LOADED){t.interimTile=null;break}else t.getState()==dr.LOADING?r=t:t.getState()==dr.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==dr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){gi()},e.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=r,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:vW(o/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Xv),qAe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qW=function(n){qAe(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,a)||this;return f.crossOrigin_=o,f.src_=i,f.key=i,f.image_=new Image,o!==null&&(f.image_.crossOrigin=o),f.unlisten_=null,f.tileLoadFunction_=s,f}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=dr.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=dr.ERROR,this.unlistenImage_(),this.image_=VAe(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=dr.LOADED:this.state=dr.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==dr.ERROR&&(this.state=dr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==dr.IDLE&&(this.state=dr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=VI(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(oM);function VAe(){var n=Lc(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var HAe=.5,ZAe=10,VK=.25,XAe=function(){function n(e,t,r,i,o,s){this.sourceProj_=e,this.targetProj_=t;var a={},f=cw(this.targetProj_,this.sourceProj_);this.transformInv_=function(ne){var ce=ne[0]+"/"+ne[1];return a[ce]||(a[ce]=f(ne)),a[ce]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&xs(i)==xs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xs(this.targetProj_.getExtent()):null;var m=N0(r),C=CI(r),B=_I(r),I=vI(r),K=this.transformInv_(m),L=this.transformInv_(C),Y=this.transformInv_(B),ee=this.transformInv_(I),V=ZAe+(s?Math.max(0,Math.ceil(Aae(yB(r)/(s*s*256*256)))):0);if(this.addQuad_(m,C,B,I,K,L,Y,ee,V),this.wrapsXInSource_){var W=1/0;this.triangles_.forEach(function(ne,ce,ge){W=Math.min(W,ne.source[0][0],ne.source[1][0],ne.source[2][0])}),this.triangles_.forEach((function(ne){if(Math.max(ne.source[0][0],ne.source[1][0],ne.source[2][0])-W>this.sourceWorldWidth_/2){var ce=[[ne.source[0][0],ne.source[0][1]],[ne.source[1][0],ne.source[1][1]],[ne.source[2][0],ne.source[2][1]]];ce[0][0]-W>this.sourceWorldWidth_/2&&(ce[0][0]-=this.sourceWorldWidth_),ce[1][0]-W>this.sourceWorldWidth_/2&&(ce[1][0]-=this.sourceWorldWidth_),ce[2][0]-W>this.sourceWorldWidth_/2&&(ce[2][0]-=this.sourceWorldWidth_);var ge=Math.min(ce[0][0],ce[1][0],ce[2][0]),fe=Math.max(ce[0][0],ce[1][0],ce[2][0]);fe-ge<this.sourceWorldWidth_/2&&(ne.source=ce)}}).bind(this))}a={}}return n.prototype.addTriangle_=function(e,t,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,t,r]})},n.prototype.addQuad_=function(e,t,r,i,o,s,a,f,m){var C=mB([o,s,a,f]),B=this.sourceWorldWidth_?xs(C)/this.sourceWorldWidth_:null,I=this.sourceWorldWidth_,K=this.sourceProj_.canWrapX()&&B>.5&&B<1,L=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var Y=mB([e,t,r,i]),ee=xs(Y)/this.targetWorldWidth_;L=ee>VK||L}!K&&this.sourceProj_.isGlobal()&&B&&(L=B>VK||L)}if(!(!L&&this.maxSourceExtent_&&isFinite(C[0])&&isFinite(C[1])&&isFinite(C[2])&&isFinite(C[3])&&!kl(C,this.maxSourceExtent_))){var V=0;if(!L&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(f[0])||!isFinite(f[1]))){if(m>0)L=!0;else if(V=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),V!=1&&V!=2&&V!=4&&V!=8)return}if(m>0){if(!L){var W=[(e[0]+r[0])/2,(e[1]+r[1])/2],ne=this.transformInv_(W),ce=void 0;if(K){var ge=(Hg(o[0],I)+Hg(a[0],I))/2;ce=ge-Hg(ne[0],I)}else ce=(o[0]+a[0])/2-ne[0];var fe=(o[1]+a[1])/2-ne[1],H=ce*ce+fe*fe;L=H>this.errorThresholdSquared_}if(L){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var X=[(t[0]+r[0])/2,(t[1]+r[1])/2],Me=this.transformInv_(X),be=[(i[0]+e[0])/2,(i[1]+e[1])/2],Fe=this.transformInv_(be);this.addQuad_(e,t,X,be,o,s,Me,Fe,m-1),this.addQuad_(be,X,r,i,Fe,Me,a,f,m-1)}else{var Ue=[(e[0]+t[0])/2,(e[1]+t[1])/2],me=this.transformInv_(Ue),Ve=[(r[0]+i[0])/2,(r[1]+i[1])/2],_e=this.transformInv_(Ve);this.addQuad_(e,Ue,Ve,i,o,me,_e,f,m-1),this.addQuad_(Ue,t,r,Ve,me,s,a,_e,m-1)}return}}if(K){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}V&11||this.addTriangle_(e,r,i,o,a,f),V&14||this.addTriangle_(e,r,t,o,a,s),V&&(V&13||this.addTriangle_(t,i,e,s,f,o),V&7||this.addTriangle_(t,i,r,s,f,a))}},n.prototype.calculateSourceExtent=function(){var e=bd();return this.triangles_.forEach(function(t,r,i){var o=t.source;WC(e,o[0]),WC(e,o[1]),WC(e,o[2])}),e},n.prototype.getTriangles=function(){return this.triangles_},n}(),FB={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},JAe={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},NE,VW=[];function HK(n,e,t,r,i){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(r,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,r)+1,Math.max(t,i)),n.restore()}function WE(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function ece(){if(NE===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",HK(n,4,5,4,0),HK(n,4,5,0,5);var e=n.getImageData(0,0,3,3).data;NE=WE(e,0)||WE(e,4)||WE(e,8)}return NE}function ZK(n,e,t,r){var i=OI(t,e,n),o=hK(e,r,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);var a=n.getMetersPerUnit();a!==void 0&&(o/=a);var f=n.getExtent();if(!f||u2(f,i)){var m=hK(n,o,i)/o;isFinite(m)&&m>0&&(o/=m)}return o}function tce(n,e,t,r){var i=D0(t),o=ZK(n,e,i,r);return(!isFinite(o)||o<=0)&&zN(t,function(s){return o=ZK(n,e,s,r),isFinite(o)&&o>0}),o}function nce(n,e,t,r,i,o,s,a,f,m,C,B){var I=Lc(Math.round(t*n),Math.round(t*e),VW);if(B||Tl(I,FB),f.length===0)return I.canvas;I.scale(t,t);function K(ce){return Math.round(ce*t)/t}I.globalCompositeOperation="lighter";var L=bd();f.forEach(function(ce,ge,fe){RN(L,ce.extent)});var Y=xs(L),ee=Kc(L),V=Lc(Math.round(t*Y/r),Math.round(t*ee/r));B||Tl(V,FB);var W=t/r;f.forEach(function(ce,ge,fe){var H=ce.extent[0]-L[0],X=-(ce.extent[3]-L[3]),Me=xs(ce.extent),be=Kc(ce.extent);ce.image.width>0&&ce.image.height>0&&V.drawImage(ce.image,m,m,ce.image.width-2*m,ce.image.height-2*m,H*W,X*W,Me*W,be*W)});var ne=N0(s);return a.getTriangles().forEach(function(ce,ge,fe){var H=ce.source,X=ce.target,Me=H[0][0],be=H[0][1],Fe=H[1][0],Ue=H[1][1],me=H[2][0],Ve=H[2][1],_e=K((X[0][0]-ne[0])/o),Ot=K(-(X[0][1]-ne[1])/o),St=K((X[1][0]-ne[0])/o),_t=K(-(X[1][1]-ne[1])/o),ft=K((X[2][0]-ne[0])/o),$e=K(-(X[2][1]-ne[1])/o),et=Me,nt=be;Me=0,be=0,Fe-=et,Ue-=nt,me-=et,Ve-=nt;var en=[[Fe,Ue,0,0,St-_e],[me,Ve,0,0,ft-_e],[0,0,Fe,Ue,_t-Ot],[0,0,me,Ve,$e-Ot]],nn=hae(en);if(nn){if(I.save(),I.beginPath(),ece()||!B){I.moveTo(St,_t);for(var Et=4,Vt=_e-St,Jt=Ot-_t,Le=0;Le<Et;Le++)I.lineTo(St+K((Le+1)*Vt/Et),_t+K(Le*Jt/(Et-1))),Le!=Et-1&&I.lineTo(St+K((Le+1)*Vt/Et),_t+K((Le+1)*Jt/(Et-1)));I.lineTo(ft,$e)}else I.moveTo(St,_t),I.lineTo(_e,Ot),I.lineTo(ft,$e);I.clip(),I.transform(nn[0],nn[2],nn[1],nn[3],_e,Ot),I.translate(L[0]-et,L[3]-nt),I.scale(r/t,-r/t),I.drawImage(V.canvas,0,0),I.restore()}}),C&&(I.save(),I.globalCompositeOperation="source-over",I.strokeStyle="black",I.lineWidth=1,a.getTriangles().forEach(function(ce,ge,fe){var H=ce.target,X=(H[0][0]-ne[0])/o,Me=-(H[0][1]-ne[1])/o,be=(H[1][0]-ne[0])/o,Fe=-(H[1][1]-ne[1])/o,Ue=(H[2][0]-ne[0])/o,me=-(H[2][1]-ne[1])/o;I.beginPath(),I.moveTo(be,Fe),I.lineTo(X,Me),I.lineTo(Ue,me),I.closePath(),I.stroke()}),I.restore()),I.canvas}var rce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HW=function(n){rce(e,n);function e(t,r,i,o,s,a,f,m,C,B,I,K){var L=n.call(this,s,dr.IDLE,{interpolate:!!K})||this;L.renderEdges_=I!==void 0?I:!1,L.pixelRatio_=f,L.gutter_=m,L.canvas_=null,L.sourceTileGrid_=r,L.targetTileGrid_=o,L.wrappedTileCoord_=a||s,L.sourceTiles_=[],L.sourcesListenerKeys_=null,L.sourceZ_=0;var Y=o.getTileCoordExtent(L.wrappedTileCoord_),ee=L.targetTileGrid_.getExtent(),V=L.sourceTileGrid_.getExtent(),W=ee?qg(Y,ee):Y;if(yB(W)===0)return L.state=dr.EMPTY,L;var ne=t.getExtent();ne&&(V?V=qg(V,ne):V=ne);var ce=o.getResolution(L.wrappedTileCoord_[0]),ge=tce(t,i,W,ce);if(!isFinite(ge)||ge<=0)return L.state=dr.EMPTY,L;var fe=B!==void 0?B:HAe;if(L.triangulation_=new XAe(t,i,W,V,ge*fe,ce),L.triangulation_.getTriangles().length===0)return L.state=dr.EMPTY,L;L.sourceZ_=r.getZForResolution(ge);var H=L.triangulation_.calculateSourceExtent();if(V&&(t.canWrapX()?(H[1]=Yl(H[1],V[1],V[3]),H[3]=Yl(H[3],V[1],V[3])):H=qg(H,V)),!yB(H))L.state=dr.EMPTY;else{for(var X=r.getTileRangeForExtentAndZ(H,L.sourceZ_),Me=X.minX;Me<=X.maxX;Me++)for(var be=X.minY;be<=X.maxY;be++){var Fe=C(L.sourceZ_,Me,be,f);Fe&&L.sourceTiles_.push(Fe)}L.sourceTiles_.length===0&&(L.state=dr.EMPTY)}return L}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(C,B,I){C&&C.getState()==dr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(C.tileCoord),image:C.getImage()})}).bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=dr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(r),f=this.sourceTileGrid_.getResolution(this.sourceZ_),m=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=nce(o,s,this.pixelRatio_,f,this.sourceTileGrid_.getExtent(),a,m,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=dr.LOADED}this.changed()},e.prototype.load=function(){if(this.state==dr.IDLE){this.state=dr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var s=r.getState();if(s==dr.IDLE||s==dr.LOADING){t++;var a=Eo(r,Li.CHANGE,function(f){var m=r.getState();(m==dr.LOADED||m==dr.ERROR||m==dr.EMPTY)&&(hs(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}).bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var s=r.getState();s==dr.IDLE&&r.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(hs),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&(jI(this.canvas_.getContext("2d")),VW.push(this.canvas_),this.canvas_=null),n.prototype.release.call(this)},e}(oM),ice=function(){function n(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(e,t){var r=this.entries_[e];return go(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(e){var t=this.entries_[e];return go(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.key_;return e},n.prototype.getValues=function(){var e=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)e[t++]=r.value_;return e},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.peek=function(e){if(this.containsKey(e))return this.entries_[e].value_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(e,t){go(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(),oce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XI=function(n){oce(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=YW(t),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove($W(o.tileCoord)),o.release())}).bind(this))}},e}(ice);const GE={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function ZW(n){var e=n.getDefaultTileGrid();return e||(e=lce(n),n.setDefaultTileGrid(e)),e}function ace(n,e,t){var r=e[0],i=n.getTileCoordCenter(e),o=aM(t);if(u2(o,i))return e;var s=xs(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,n.getTileCoordForCoordAndZ(i,r)}function sce(n,e,t,r){var i=XW(n,e,t);return new p2({extent:n,origin:iae(n),resolutions:i,tileSize:t})}function JI(n){var e=n||{},t=e.extent||qs("EPSG:3857").getExtent(),r={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:XW(t,e.maxZoom,e.tileSize,e.maxResolution)};return new p2(r)}function XW(n,e,t,r){for(var i=e!==void 0?e:yW,o=Kc(n),s=xs(n),a=tc(t!==void 0?t:NI),f=r>0?r:Math.max(s/a[0],o/a[1]),m=i+1,C=new Array(m),B=0;B<m;++B)C[B]=f/Math.pow(2,B);return C}function lce(n,e,t,r){var i=aM(n);return sce(i,e,t)}function aM(n){n=qs(n);var e=n.getExtent();if(!e){var t=180*j0[ic.DEGREES]/n.getMetersPerUnit();e=Mp(-t,-t,t,t)}return e}var JW=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uce=function(n){JW(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return r.tileGrid&&tc(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new XI(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);i&&i.expireCache(r)},e.prototype.forEachLoadedTile=function(t,r,i,o){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var a=!0,f,m,C,B=i.minX;B<=i.maxX;++B)for(var I=i.minY;I<=i.maxY;++I)m=e_(r,B,I),C=!1,s.containsKey(m)&&(f=s.get(m),C=f.getState()===dr.LOADED,C&&(C=o(f)!==!1)),C||(a=!1);return a},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,r,i,o,s){return gi()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:ZW(t)},e.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();return go(r===null||Sg(r,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=this.getTilePixelRatio(r),a=tc(o.getTileSize(t),this.tmpSize);return s==1?a:Qle(a,s,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=ace(o,t,i)),QAe(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,r){var i=this.getTileCacheForProjection(r);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,r,i,o){},e}(NW),Ace=function(n){JW(e,n);function e(t,r){var i=n.call(this,t)||this;return i.tile=r,i}return e}(Om);function cce(n,e){var t=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,f){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){var m=s[0],C=e.getFullTileRange(m);go(C,55);var B=C.getHeight()-s[2]-1;return B.toString()})}}function eG(n,e){for(var t=n.length,r=new Array(t),i=0;i<t;++i)r[i]=cce(n[i],e);return hce(r)}function hce(n){return n.length===1?n[0]:function(e,t,r){if(e){var i=GAe(e),o=Hg(i,n.length);return n[o](e,t,r)}else return}}function dce(n){var e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),a=parseInt(t[1],10);a<=s;a++)e.push(n.replace(t[0],a.toString()));return e}return e.push(n),e}var fce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tG=function(n){fce(e,n);function e(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var r=t.target,i=Vi(r),o=r.getState(),s;o==dr.LOADING?(this.tileLoadingKeys_[i]=!0,s=GE.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=o==dr.ERROR?GE.TILELOADERROR:o==dr.LOADED?GE.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new Ace(s,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},e.prototype.setUrl=function(t){var r=dce(t);this.urls=r,this.setUrls(r)},e.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(eG(t,this.tileGrid),r):this.setKey(r)},e.prototype.tileUrlFunction=function(t,r,i){},e.prototype.useTile=function(t,r,i){var o=e_(t,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(uce),pce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mce=function(n){pce(e,n);function e(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:gce,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:qW,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==i?r:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Sg(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Sg(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){var r=this.getProjection();if(this.tileGrid&&(!r||Sg(r,t)))return this.tileGrid;var i=Vi(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=ZW(t)),this.tileGridForProjection[i]},e.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();if(!r||Sg(r,t))return this.tileCache;var i=Vi(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new XI(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,r,i,o,s,a){var f=[t,r,i],m=this.getTileCoordForTileUrlFunction(f,s),C=m?this.tileUrlFunction(m,o,s):void 0,B=new this.tileClass(f,C!==void 0?dr.IDLE:dr.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return B.key=a,B.addEventListener(Li.CHANGE,this.handleTileChange.bind(this)),B},e.prototype.getTile=function(t,r,i,o,s){var a=this.getProjection();if(!a||!s||Sg(a,s))return this.getTileInternal(t,r,i,o,a||s);var f=this.getTileCacheForProjection(s),m=[t,r,i],C=void 0,B=$W(m);f.containsKey(B)&&(C=f.get(B));var I=this.getKey();if(C&&C.key==I)return C;var K=this.getTileGridForProjection(a),L=this.getTileGridForProjection(s),Y=this.getTileCoordForTileUrlFunction(m,s),ee=new HW(a,K,s,L,m,Y,this.getTilePixelRatio(o),this.getGutter(),(function(V,W,ne,ce){return this.getTileInternal(V,W,ne,ce,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return ee.key=I,C?(ee.interimTile=C,ee.refreshInterimChain(),f.replace(B,ee)):f.set(B,ee),ee},e.prototype.getTileInternal=function(t,r,i,o,s){var a=null,f=e_(t,r,i),m=this.getKey();if(!this.tileCache.containsKey(f))a=this.createTile_(t,r,i,o,s,m),this.tileCache.set(f,a);else if(a=this.tileCache.get(f),a.key!=m){var C=a;a=this.createTile_(t,r,i,o,s,m),C.getState()==dr.IDLE?a.interimTile=C.interimTile:a.interimTile=C,a.refreshInterimChain(),this.tileCache.replace(f,a)}return a},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,r){{var i=qs(t);if(i){var o=Vi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},e}(tG);function gce(n,e){n.getImage().src=e}var nG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function yce(n,e,t,r){var i=document.createElement("script"),o="olc_"+Vi(e);function s(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=n+(n.indexOf("?")==-1?"?":"&")+"callback="+o;var a=setTimeout(function(){s(),t&&t()},1e4);window[o]=function(f){clearTimeout(a),s(),e(f)},document.head.appendChild(i)}(function(n){nG(e,n);function e(t){var r=this,i="Unexpected response status: "+t.status;return r=n.call(this,i)||this,r.name="ResponseError",r.response=t,r}return e})(Error);(function(n){nG(e,n);function e(t){var r=n.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=t,r}return e})(Error);var vce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rG=function(n){vce(e,n);function e(t){var r=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;if(t.interpolate!==void 0&&(i=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:qs("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)yce(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",t.url),o.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):go(!1,51);return r}return e.prototype.onXHRLoad_=function(t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var r=qs("EPSG:4326"),i=this.getProjection(),o;if(t.bounds!==void 0){var s=J5(r,i);o=sae(t.bounds,s)}var a=aM(i),f=t.minzoom||0,m=t.maxzoom||22,C=JI({extent:a,maxZoom:m,minZoom:f,tileSize:this.tileSize_});if(this.tileGrid=C,this.tileUrlFunction=eG(t.tiles,C),t.attribution!==void 0&&!this.getAttributions()){var B=o!==void 0?o:a;this.setAttributions(function(I){return kl(B,I.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState("ready")},e.prototype.handleTileJSONError=function(){this.setState("error")},e}(mce);const p0={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var _ce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cce=function(n){_ce(e,n);function e(t){var r=this,i=t||{},o=Tl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=n.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return e.prototype.getPreload=function(){return this.get(p0.PRELOAD)},e.prototype.setPreload=function(t){this.set(p0.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(p0.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(p0.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return n.prototype.getData.call(this,t)},e}(nM),bce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iG=function(n){bce(e,n);function e(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=bd(),r.tmpTileRange_=new ZI(0,0,0,0),r}return e.prototype.isDrawableTile=function(t){var r=this.getLayer(),i=t.getState(),o=r.getUseInterimTilesOnError();return i==dr.LOADED||i==dr.EMPTY||i==dr.ERROR&&!o},e.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState.projection,f=this.getLayer(),m=f.getSource(),C=m.getTile(t,r,i,s,a);return C.getState()==dr.ERROR&&(f.getUseInterimTilesOnError()?f.getPreload()>0&&(this.newTiles_=!0):C.setState(dr.LOADED)),this.isDrawableTile(C)||(C=C.getInterimTile()),C},e.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=Bl(r.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!u2(s,o))return null;for(var a=r.pixelRatio,f=r.viewState.projection,m=r.viewState,C=i.getRenderSource(),B=C.getTileGridForProjection(m.projection),I=C.getTilePixelRatio(r.pixelRatio),K=B.getZForResolution(m.resolution);K>=B.getMinZoom();--K){var L=B.getTileCoordForCoordAndZ(o,K),Y=C.getTile(K,L[1],L[2],a,f);if(!(Y instanceof qW||Y instanceof HW))return null;if(Y.getState()===dr.LOADED){var ee=B.getOrigin(K),V=tc(B.getTileSize(K)),W=B.getResolution(K),ne=Math.floor(I*((o[0]-ee[0])/W-L[1]*V[0])),ce=Math.floor(I*((ee[1]-o[1])/W-L[2]*V[1])),ge=Math.round(I*C.getGutterForProjection(m.projection));return this.getImageData(Y.getImage(),ne+ge,ce+ge)}}return null},e.prototype.loadedTileCallback=function(t,r,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,r,i):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,r){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,s=o.projection,a=o.resolution,f=o.center,m=o.rotation,C=t.pixelRatio,B=this.getLayer(),I=B.getSource(),K=I.getRevision(),L=I.getTileGridForProjection(s),Y=L.getZForResolution(a,I.zDirection),ee=L.getResolution(Y),V=t.extent,W=t.viewState.resolution,ne=I.getTilePixelRatio(C),ce=Math.round(xs(V)/W*C),ge=Math.round(Kc(V)/W*C),fe=i.extent&&Dg(i.extent);fe&&(V=qg(V,Dg(i.extent)));var H=ee*ce/2/ne,X=ee*ge/2/ne,Me=[f[0]-H,f[1]-X,f[0]+H,f[1]+X],be=L.getTileRangeForExtentAndZ(V,Y),Fe={};Fe[Y]={};var Ue=this.createLoadedTileFinder(I,s,Fe),me=this.tmpExtent,Ve=this.tmpTileRange_;this.newTiles_=!1;for(var _e=m?_B(o.center,W,m,t.size):void 0,Ot=be.minX;Ot<=be.maxX;++Ot)for(var St=be.minY;St<=be.maxY;++St)if(!(m&&!L.tileCoordIntersectsViewport([Y,Ot,St],_e))){var _t=this.getTile(Y,Ot,St,t);if(this.isDrawableTile(_t)){var ft=Vi(this);if(_t.getState()==dr.LOADED){Fe[Y][_t.tileCoord.toString()]=_t;var $e=_t.inTransition(ft);$e&&i.opacity!==1&&(_t.endTransition(ft),$e=!1),!this.newTiles_&&($e||this.renderedTiles.indexOf(_t)===-1)&&(this.newTiles_=!0)}if(_t.getAlpha(ft,t.time)===1)continue}var et=L.getTileCoordChildTileRange(_t.tileCoord,Ve,me),nt=!1;et&&(nt=Ue(Y+1,et)),nt||L.forEachTileCoordParentTileRange(_t.tileCoord,Ue,Ve,me)}var en=ee/a*C/ne;wp(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/C,1/C,m,-ce/2,-ge/2);var nn=LN(this.pixelTransform);this.useContainer(r,nn,this.getBackground(t));var Et=this.context,Vt=Et.canvas;mI(this.inversePixelTransform,this.pixelTransform),wp(this.tempTransform,ce/2,ge/2,en,en,0,-ce/2,-ge/2),Vt.width!=ce||Vt.height!=ge?(Vt.width=ce,Vt.height=ge):this.containerReused||Et.clearRect(0,0,ce,ge),fe&&this.clipUnrotated(Et,t,fe),I.getInterpolate()||Tl(Et,FB),this.preRender(Et,t),this.renderedTiles.length=0;var Jt=Object.keys(Fe).map(Number);Jt.sort(l1);var Le,ye,Te;i.opacity===1&&(!this.containerReused||I.getOpaque(t.viewState.projection))?Jt=Jt.reverse():(Le=[],ye=[]);for(var Qe=Jt.length-1;Qe>=0;--Qe){var st=Jt[Qe],lt=I.getTilePixelSize(st,C,s),Kt=L.getResolution(st),Ht=Kt/ee,Wt=lt[0]*Ht*en,Rn=lt[1]*Ht*en,nr=L.getTileCoordForCoordAndZ(N0(Me),st),_n=L.getTileCoordExtent(nr),tr=Bl(this.tempTransform,[ne*(_n[0]-Me[0])/ee,ne*(Me[3]-_n[3])/ee]),ur=ne*I.getGutterForProjection(s),_r=Fe[st];for(var Sr in _r){var _t=_r[Sr],fr=_t.tileCoord,pr=nr[1]-fr[1],fi=Math.round(tr[0]-(pr-1)*Wt),Pe=nr[2]-fr[2],Q=Math.round(tr[1]-(Pe-1)*Rn),Ot=Math.round(tr[0]-pr*Wt),St=Math.round(tr[1]-Pe*Rn),oe=fi-Ot,Re=Q-St,ut=Y===st,$e=ut&&_t.getAlpha(Vi(this),t.time)!==1,Tt=!1;if(!$e)if(Le){Te=[Ot,St,Ot+oe,St,Ot+oe,St+Re,Ot,St+Re];for(var jt=0,ar=Le.length;jt<ar;++jt)if(Y!==st&&st<ye[jt]){var ht=Le[jt];kl([Ot,St,Ot+oe,St+Re],[ht[0],ht[3],ht[4],ht[7]])&&(Tt||(Et.save(),Tt=!0),Et.beginPath(),Et.moveTo(Te[0],Te[1]),Et.lineTo(Te[2],Te[3]),Et.lineTo(Te[4],Te[5]),Et.lineTo(Te[6],Te[7]),Et.moveTo(ht[6],ht[7]),Et.lineTo(ht[4],ht[5]),Et.lineTo(ht[2],ht[3]),Et.lineTo(ht[0],ht[1]),Et.clip())}Le.push(Te),ye.push(st)}else Et.clearRect(Ot,St,oe,Re);this.drawTileImage(_t,t,Ot,St,oe,Re,ur,ut),Le&&!$e?(Tt&&Et.restore(),this.renderedTiles.unshift(_t)):this.renderedTiles.push(_t),this.updateUsedTiles(t.usedTiles,I,_t)}}return this.renderedRevision=K,this.renderedResolution=ee,this.extentChanged=!this.renderedExtent_||!Pv(this.renderedExtent_,Me),this.renderedExtent_=Me,this.renderedPixelRatio=C,this.renderedProjection=s,this.manageTilePyramid(t,I,L,C,s,V,Y,B.getPreload()),this.scheduleExpireCache(t,I),this.postRender(Et,t),i.extent&&Et.restore(),Tl(Et,JAe),nn!==Vt.style.transform&&(Vt.style.transform=nn),this.container},e.prototype.drawTileImage=function(t,r,i,o,s,a,f,m){var C=this.getTileImage(t);if(C){var B=Vi(this),I=r.layerStatesArray[r.layerIndex],K=I.opacity*(m?t.getAlpha(B,r.time):1),L=K!==this.context.globalAlpha;L&&(this.context.save(),this.context.globalAlpha=K),this.context.drawImage(C,f,f,C.width-2*f,C.height-2*f,i,o,s,a),L&&this.context.restore(),K!==I.opacity?r.animate=!0:m&&t.endTransition(B)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=(function(o,s,a){var f=Vi(o);f in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[f])}).bind(null,r);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,r,i){var o=Vi(r);o in t||(t[o]={}),t[o][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,r,i,o,s,a,f,m,C){var B=Vi(r);B in t.wantedTiles||(t.wantedTiles[B]={});var I=t.wantedTiles[B],K=t.tileQueue,L=i.getMinZoom(),Y=t.viewState.rotation,ee=Y?_B(t.viewState.center,t.viewState.resolution,Y,t.size):void 0,V=0,W,ne,ce,ge,fe,H;for(H=L;H<=f;++H)for(ne=i.getTileRangeForExtentAndZ(a,H,ne),ce=i.getResolution(H),ge=ne.minX;ge<=ne.maxX;++ge)for(fe=ne.minY;fe<=ne.maxY;++fe)Y&&!i.tileCoordIntersectsViewport([H,ge,fe],ee)||(f-H<=m?(++V,W=r.getTile(H,ge,fe,o,s),W.getState()==dr.IDLE&&(I[W.getKey()]=!0,K.isKeyQueued(W.getKey())||K.enqueue([W,B,i.getTileCoordCenter(W.tileCoord),ce])),C!==void 0&&C(W)):r.useTile(H,ge,fe,s));r.updateCacheSize(V,s)},e}(KW),xce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wce=function(n){xce(e,n);function e(t){return n.call(this,t)||this}return e.prototype.createRenderer=function(){return new iG(this)},e}(Cce);const m0={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var Mce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sce={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Ece={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},Oce=function(n){Mce(e,n);function e(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=yd(),r}return e.prototype.prepareTile=function(t,r,i){var o,s=t.getState();return(s===dr.LOADED||s===dr.ERROR)&&(this.updateExecutorGroup_(t,r,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},e.prototype.getTile=function(t,r,i,o){var s=o.pixelRatio,a=o.viewState,f=a.resolution,m=a.projection,C=this.getLayer(),B=C.getSource().getTile(t,r,i,s,m),I=o.viewHints,K=!(I[cl.ANIMATING]||I[cl.INTERACTING]);(K||!B.wantedResolution)&&(B.wantedResolution=f);var L=this.prepareTile(B,s,m);return L&&(K||Date.now()-o.time<8)&&C.getRenderMode()!==m0.VECTOR&&this.renderTileImage_(B,o),n.prototype.getTile.call(this,t,r,i,o)},e.prototype.isDrawableTile=function(t){var r=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(r.getRenderMode()===m0.VECTOR?Vi(r)in t.executorGroups:t.hasContext(r))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),n.prototype.prepareFrame.call(this,t)},e.prototype.updateExecutorGroup_=function(t,r,i){var o=this.getLayer(),s=o.getRevision(),a=o.getRenderOrder()||null,f=t.wantedResolution,m=t.getReplayState(o);if(!(!m.dirty&&m.renderedResolution===f&&m.renderedRevision==s&&m.renderedRenderOrder==a)){var C=o.getSource(),B=o.getDeclutter(),I=C.getTileGrid(),K=C.getTileGridForProjection(i),L=K.getTileCoordExtent(t.wrappedTileCoord),Y=C.getSourceTiles(r,i,t),ee=Vi(o);delete t.hitDetectionImageData[ee],t.executorGroups[ee]=[],B&&(t.declutterExecutorGroups[ee]=[]),m.dirty=!1;for(var V=function(ge,fe){var H=Y[ge];if(H.getState()!=dr.LOADED)return"continue";var X=H.tileCoord,Me=I.getTileCoordExtent(X),be=qg(L,Me),Fe=O0(be,o.getRenderBuffer()*f,W.tmpExtent),Ue=Pv(Me,be)?null:Fe,me=new bw(0,Fe,f,r),Ve=B?new bw(0,be,f,r):void 0,_e=UW(f,r),Ot=function(Et){var Vt,Jt=Et.getStyleFunction()||o.getStyleFunction();if(Jt&&(Vt=Jt(Et,f)),Vt){var Le=this.renderFeature(Et,_e,Vt,me,Ve);m.dirty=m.dirty||Le}},St=H.getFeatures();a&&a!==m.renderedRenderOrder&&St.sort(a);for(var _t=0,ft=St.length;_t<ft;++_t){var $e=St[_t];(!Ue||kl(Ue,$e.getGeometry().getExtent()))&&Ot.call(W,$e)}var et=me.finish(),nt=o.getRenderMode()!==m0.VECTOR&&B&&Y.length===1?null:be,en=new xw(nt,f,r,C.getOverlaps(),et,o.getRenderBuffer());if(t.executorGroups[ee].push(en),Ve){var nn=new xw(null,f,r,C.getOverlaps(),Ve.finish(),o.getRenderBuffer());t.declutterExecutorGroups[ee].push(nn)}},W=this,ne=0,ce=Y.length;ne<ce;++ne)V(ne);m.renderedRevision=s,m.renderedRenderOrder=a,m.renderedResolution=f}},e.prototype.forEachFeatureAtCoordinate=function(t,r,i,o,s){var a=r.viewState.resolution,f=r.viewState.rotation;i=i??0;var m=this.getLayer(),C=m.getSource(),B=C.getTileGridForProjection(r.viewState.projection),I=mB([t]);O0(I,a*i,I);for(var K={},L=function(ce,ge,fe){var H=ce.getId();H===void 0&&(H=Vi(ce));var X=K[H];if(X){if(X!==!0&&fe<X.distanceSq){if(fe===0)return K[H]=!0,s.splice(s.lastIndexOf(X),1),o(ce,m,ge);X.geometry=ge,X.distanceSq=fe}}else{if(fe===0)return K[H]=!0,o(ce,m,ge);s.push(K[H]={feature:ce,layer:m,geometry:ge,distanceSq:fe,callback:o})}},Y=this.renderedTiles,ee,V=function(ce,ge){var fe=Y[ce],H=B.getTileCoordExtent(fe.wrappedTileCoord);if(!kl(H,I))return"continue";var X=Vi(m),Me=[fe.executorGroups[X]],be=fe.declutterExecutorGroups[X];be&&Me.push(be),Me.some(function(Fe){for(var Ue=Fe===be?r.declutterTree.all().map(function(Ot){return Ot.value}):null,me=0,Ve=Fe.length;me<Ve;++me){var _e=Fe[me];if(ee=_e.forEachFeatureAtCoordinate(t,a,f,i,L,Ue),ee)return!0}})},W=0,ne=Y.length;!ee&&W<ne;++W)V(W);return ee},e.prototype.getFeatures=function(t){return new Promise((function(r,i){for(var o=this.getLayer(),s=Vi(o),a=o.getSource(),f=this.renderedProjection,m=f.getExtent(),C=this.renderedResolution,B=a.getTileGridForProjection(f),I=Bl(this.renderedPixelToCoordinateTransform_,t.slice()),K=B.getTileCoordForCoordAndResolution(I,C),L,Y=0,ee=this.renderedTiles.length;Y<ee;++Y)if(K.toString()===this.renderedTiles[Y].tileCoord.toString()){if(L=this.renderedTiles[Y],L.getState()===dr.LOADED){var V=B.getTileCoordExtent(L.tileCoord);a.getWrapX()&&f.canWrapX()&&!h0(m,V)&&MI(I,f);break}L=void 0}if(!L||L.loadingSourceTiles>0){r([]);return}var W=B.getTileCoordExtent(L.wrappedTileCoord),ne=N0(W),ce=[(I[0]-ne[0])/C,(ne[1]-I[1])/C],ge=L.getSourceTiles().reduce(function(be,Fe){return be.concat(Fe.getFeatures())},[]),fe=L.hitDetectionImageData[s];if(!fe&&!this.animatingOrInteracting_){var H=tc(B.getTileSize(B.getZForResolution(C,a.zDirection))),X=this.renderedRotation_,Me=[this.getRenderTransform(B.getTileCoordCenter(L.wrappedTileCoord),C,0,_h,H[0]*_h,H[1]*_h,0)];fe=DW(H,Me,ge,o.getStyleFunction(),B.getTileCoordExtent(L.wrappedTileCoord),L.getReplayState(o).renderedResolution,X),L.hitDetectionImageData[s]=fe}r(FW(ce,ge,fe))}).bind(this))},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,s=!(o[cl.ANIMATING]||o[cl.INTERACTING]),a=this.renderedTiles,f=0,m=a.length;f<m;++f){var C=a[f],B=C.declutterExecutorGroups[Vi(this.getLayer())];if(B)for(var I=B.length-1;I>=0;--I)B[I].execute(this.context,1,this.getTileRenderTransform(C,t),t.viewState.rotation,s,void 0,t.declutterTree)}r.globalAlpha=i},e.prototype.getTileRenderTransform=function(t,r){var i=r.pixelRatio,o=r.viewState,s=o.center,a=o.resolution,f=o.rotation,m=r.size,C=Math.round(m[0]*i),B=Math.round(m[1]*i),I=this.getLayer().getSource(),K=I.getTileGridForProjection(r.viewState.projection),L=t.tileCoord,Y=K.getTileCoordExtent(t.wrappedTileCoord),ee=K.getTileCoordExtent(L,this.tmpExtent)[0]-Y[0],V=pI(BE(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,f,i,C,B,ee));return V},e.prototype.renderFrame=function(t,r){var i=t.viewHints,o=!(i[cl.ANIMATING]||i[cl.INTERACTING]);n.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var s=this.getLayer(),a=s.getRenderMode(),f=this.context,m=f.globalAlpha;f.globalAlpha=s.getOpacity();for(var C=Ece[a],B=t.viewState,I=B.rotation,K=s.getSource(),L=K.getTileGridForProjection(B.projection),Y=L.getZForResolution(B.resolution,K.zDirection),ee=this.renderedTiles,V=[],W=[],ne=!0,ce=ee.length-1;ce>=0;--ce){var ge=ee[ce];ne=ne&&!ge.getReplayState(s).dirty;var fe=ge.executorGroups[Vi(s)].filter(function(St){return St.hasExecutors(C)});if(fe.length!==0){var H=this.getTileRenderTransform(ge,t),X=ge.tileCoord[0],Me=!1,be=fe[0].getClipCoords(H);if(be){for(var Fe=0,Ue=V.length;Fe<Ue;++Fe)if(Y!==X&&X<W[Fe]){var me=V[Fe];kl([be[0],be[3],be[4],be[7]],[me[0],me[3],me[4],me[7]])&&(Me||(f.save(),Me=!0),f.beginPath(),f.moveTo(be[0],be[1]),f.lineTo(be[2],be[3]),f.lineTo(be[4],be[5]),f.lineTo(be[6],be[7]),f.moveTo(me[6],me[7]),f.lineTo(me[4],me[5]),f.lineTo(me[2],me[3]),f.lineTo(me[0],me[1]),f.clip())}V.push(be),W.push(X)}for(var Ve=0,_e=fe.length;Ve<_e;++Ve){var Ot=fe[Ve];Ot.execute(f,1,H,I,o,C)}Me&&f.restore()}}return f.globalAlpha=m,this.ready=ne,this.container},e.prototype.renderFeature=function(t,r,i,o,s){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var f=0,m=i.length;f<m;++f)a=ww(o,t,i[f],r,this.boundHandleStyleImageChange_,void 0,s)||a;else a=ww(o,t,i,r,this.boundHandleStyleImageChange_,void 0,s);return a},e.prototype.tileImageNeedsRender_=function(t){var r=this.getLayer();if(r.getRenderMode()===m0.VECTOR)return!1;var i=t.getReplayState(r),o=r.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o},e.prototype.renderTileImage_=function(t,r){var i=this.getLayer(),o=t.getReplayState(i),s=i.getRevision(),a=t.executorGroups[Vi(i)];o.renderedTileRevision=s;var f=t.wrappedTileCoord,m=f[0],C=i.getSource(),B=r.pixelRatio,I=r.viewState,K=I.projection,L=C.getTileGridForProjection(K),Y=L.getResolution(t.tileCoord[0]),ee=r.pixelRatio/t.wantedResolution*Y,V=L.getResolution(m),W=t.getContext(i);B=Math.round(Math.max(B,ee/B));var ne=C.getTilePixelSize(m,B,K);W.canvas.width=ne[0],W.canvas.height=ne[1];var ce=B/ee;if(ce!==1){var ge=aK(this.tmpTransform_);BE(ge,ce,ce),W.setTransform.apply(W,ge)}var fe=L.getTileCoordExtent(f,this.tmpExtent),H=ee/V,X=aK(this.tmpTransform_);BE(X,H,-H),eae(X,-fe[0],-fe[3]);for(var Me=0,be=a.length;Me<be;++Me){var Fe=a[Me];Fe.execute(W,ce,X,0,!0,Sce[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},e}(iG),Bce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oG=function(n){Bce(e,n);function e(t){var r=this,i=t||{},o=Tl({},i);delete o.preload,delete o.useInterimTilesOnError,r=n.call(this,o)||this,r.on,r.once,r.un,i.renderMode===m0.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var s=i.renderMode||m0.HYBRID;return go(s==m0.HYBRID||s==m0.VECTOR,28),r.renderMode_=s,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return e.prototype.createRenderer=function(){return new Oce(this)},e.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(p0.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(p0.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(p0.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(p0.USE_INTERIM_TILES_ON_ERROR,t)},e}(kW),Ice=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kce=function(n){Ice(e,n);function e(t,r,i,o,s,a){var f=n.call(this,t,r,a)||this;return f.extent=null,f.format_=o,f.features_=null,f.loader_,f.projection=null,f.resolution,f.tileLoadFunction_=s,f.url_=i,f.key=i,f}return e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){this.state==dr.IDLE&&(this.setState(dr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,r){this.setFeatures(t)},e.prototype.onError=function(){this.setState(dr.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(dr.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(oM),Tce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XK=[],Pce=function(n){Tce(e,n);function e(t,r,i,o){var s=n.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=[],s.errorTileKeys={},s.wantedResolution,s.getSourceTiles=o.bind(void 0,s),s.wrappedTileCoord=i,s}return e.prototype.getContext=function(t){var r=Vi(t);return r in this.context_||(this.context_[r]=Lc(1,1,XK)),this.context_[r]},e.prototype.hasContext=function(t){return Vi(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var r=Vi(t);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var t in this.context_){var r=this.context_[t];jI(r),XK.push(r.canvas),delete this.context_[t]}n.prototype.release.call(this)},e}(oM),Kce=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aG=function(n){Kce(e,n);function e(t){var r=this,i=t.projection||"EPSG:3857",o=t.extent||aM(i),s=t.tileGrid||JI({extent:o,maxResolution:t.maxResolution,maxZoom:t.maxZoom!==void 0?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:i,state:t.state,tileGrid:s,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Lce,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX===void 0?!0:t.wrapX,transition:t.transition,zDirection:t.zDirection===void 0?1:t.zDirection})||this,r.format_=t.format?t.format:null,r.sourceTileCache=new XI(r.tileCache.highWaterMark),r.overlaps_=t.overlaps==null?!0:t.overlaps,r.tileClass=t.tileClass?t.tileClass:kce,r.tileGrids_={},r}return e.prototype.getFeaturesInExtent=function(t){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=YW(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(!(a.tileCoord[0]!==o||a.getState()!==dr.LOADED))for(var f=a.getSourceTiles(),m=0,C=f.length;m<C;++m){var B=f[m],I=B.tileCoord;if(kl(t,s.getTileCoordExtent(I))){var K=B.getFeatures();if(K)for(var L=0,Y=K.length;L<Y;++L){var ee=K[L],V=ee.getGeometry();kl(t,V.getExtent())&&r.push(ee)}}}}),r},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(t,r){var i=this.getTileCacheForProjection(t),o=Object.keys(r).reduce(function(s,a){var f=WAe(a),m=i.peek(f);if(m)for(var C=m.sourceTiles,B=0,I=C.length;B<I;++B)s[C[B].getKey()]=!0;return s},{});n.prototype.expireCache.call(this,t,r),this.sourceTileCache.expireCache(o)},e.prototype.getSourceTiles=function(t,r,i){var o=this;if(i.getState()===dr.IDLE){i.setState(dr.LOADING);var s=i.wrappedTileCoord,a=this.getTileGridForProjection(r),f=a.getTileCoordExtent(s),m=s[0],C=a.getResolution(m);O0(f,-C,f);var B=this.tileGrid,I=B.getExtent();I&&qg(f,I,f);var K=B.getZForResolution(C,this.zDirection);B.forEachTileCoord(f,K,function(L){var Y=o.tileUrlFunction(L,t,r),ee=o.sourceTileCache.containsKey(Y)?o.sourceTileCache.get(Y):new o.tileClass(L,Y?dr.IDLE:dr.EMPTY,Y,o.format_,o.tileLoadFunction);i.sourceTiles.push(ee);var V=ee.getState();if(V<dr.LOADED){var W=function(ne){o.handleTileChange(ne);var ce=ee.getState();if(ce===dr.LOADED||ce===dr.ERROR){var ge=ee.getKey();ge in i.errorTileKeys?ee.getState()===dr.LOADED&&delete i.errorTileKeys[ge]:i.loadingSourceTiles--,ce===dr.ERROR?i.errorTileKeys[ge]=!0:ee.removeEventListener(Li.CHANGE,W),i.loadingSourceTiles===0&&i.setState(A1(i.errorTileKeys)?dr.LOADED:dr.ERROR)}};ee.addEventListener(Li.CHANGE,W),i.loadingSourceTiles++}V===dr.IDLE&&(ee.extent=B.getTileCoordExtent(L),ee.projection=r,ee.resolution=B.getResolution(L[0]),o.sourceTileCache.set(Y,ee),ee.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(L){return L.getState()===dr.ERROR})?dr.ERROR:dr.LOADED)}return i.sourceTiles},e.prototype.getTile=function(t,r,i,o,s){var a=e_(t,r,i),f=this.getKey(),m;if(this.tileCache.containsKey(a)&&(m=this.tileCache.get(a),m.key===f))return m;var C=[t,r,i],B=this.getTileCoordForTileUrlFunction(C,s),I=this.getTileGrid().getExtent(),K=this.getTileGridForProjection(s);if(B&&I){var L=K.getTileCoordExtent(B);O0(L,-K.getResolution(t),L),kl(I,L)||(B=null)}var Y=!0;if(B!==null){var ee=this.tileGrid,V=K.getResolution(t),W=ee.getZForResolution(V,1),ne=K.getTileCoordExtent(B);O0(ne,-V,ne),ee.forEachTileCoord(ne,W,(function(ge){Y=Y&&!this.tileUrlFunction(ge,o,s)}).bind(this))}var ce=new Pce(C,Y?dr.EMPTY:dr.IDLE,B,this.getSourceTiles.bind(this,o,s));return ce.key=f,m?(ce.interimTile=m,ce.refreshInterimChain(),this.tileCache.replace(a,ce)):this.tileCache.set(a,ce),ce},e.prototype.getTileGridForProjection=function(t){var r=t.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,s=o.getResolutions().slice(),a=s.map(function(B,I){return o.getOrigin(I)}),f=s.map(function(B,I){return o.getTileSize(I)}),m=yW+1,C=s.length;C<m;++C)s.push(s[C-1]/2),a.push(a[C-1]),f.push(f[C-1]);i=new p2({extent:o.getExtent(),origins:a,resolutions:s,tileSizes:f}),this.tileGrids_[r]=i}return i},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,r,i){var o=this.getTileGridForProjection(i),s=tc(o.getTileSize(t),this.tmpSize);return[Math.round(s[0]*r),Math.round(s[1]*r)]},e.prototype.updateCacheSize=function(t,r){n.prototype.updateCacheSize.call(this,t*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},e}(tG);function Lce(n,e){n.setLoader(function(t,r,i){WW(e,n.getFormat(),t,r,i,n.onLoad.bind(n),n.onError.bind(n))})}var JK={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},tC=" ",eL=/(italic|oblique)$/i,tL={},Dce=function(n,e,t){var r=tL[n];if(!r){Array.isArray(n)||(n=[n]);for(var i=400,o="normal",s=[],a,f,m=0,C=n.length;m<C;++m){var B=n[m],I=B.split(" "),K=I[I.length-1].toLowerCase();K=="normal"||K=="italic"||K=="oblique"?(o=f?o:K,f=!0,I.pop(),K=I[I.length-1].toLowerCase()):eL.test(K)&&(K=K.replace(eL,""),o=f?o:I[I.length-1].replace(K,""),f=!0);for(var L in JK){var Y=I.length>1?I[I.length-2].toLowerCase():"";if(K==L||K==L.replace("-","")||Y+"-"+K==L){i=a?i:JK[L],I.pop(),Y&&L.startsWith(Y)&&I.pop();break}}!a&&typeof K=="number"&&(i=K,a=!0);var ee=I.join(tC).replace("Klokantech Noto Sans","Noto Sans");ee.indexOf(tC)!==-1&&(ee='"'+ee+'"'),s.push(ee)}r=tL[n]=[o,i,s]}return r[0]+tC+r[1]+tC+e+"px"+(t?"/"+t:"")+tC+r[2]};const RB=wa(Dce);var Fce=8,Rce={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},Uce={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},zce=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],jce={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Nce={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Wce={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Gce={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Qce={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},$ce={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Yce={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},qce=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],Vce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Hce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},Zce={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Xce={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Jce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},ehe={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},the={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},nhe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},rhe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},ihe={type:"array",value:"*",doc:"A filter selects specific features from a layer."},ohe={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},ahe={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},she={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},lhe={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},uhe={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Ahe={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},che={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},hhe={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},dhe={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},fhe={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},phe={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},mhe={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ghe={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},yhe={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},vhe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],_he={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},Che={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},bhe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},xhe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},whe={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Mhe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},She={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ehe={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ohe={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Bhe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},Ihe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},sG={$version:Fce,$root:Rce,sources:Uce,source:zce,source_vector:jce,source_raster:Nce,source_raster_dem:Wce,source_geojson:Gce,source_video:Qce,source_image:$ce,layer:Yce,layout:qce,layout_background:Vce,layout_sky:Hce,layout_fill:Zce,layout_circle:Xce,layout_heatmap:Jce,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:ehe,layout_symbol:the,layout_raster:nhe,layout_hillshade:rhe,filter:ihe,filter_symbol:ohe,filter_fill:ahe,filter_line:she,filter_circle:lhe,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:uhe,filter_operator:Ahe,geometry_type:che,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:hhe,expression:dhe,expression_name:fhe,fog:phe,light:mhe,projection:ghe,terrain:yhe,paint:vhe,paint_fill:_he,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:Che,paint_circle:bhe,paint_heatmap:xhe,paint_symbol:whe,paint_raster:Mhe,paint_hillshade:She,paint_background:Ehe,paint_sky:Ohe,transition:Bhe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:Ihe},QE=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},UB={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof QE=="object"&&QE;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,f=36,m=1,C=26,B=38,I=700,K=72,L=128,Y="-",ee=/^xn--/,V=/[^\x20-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,ne={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ce=f-m,ge=Math.floor,fe=String.fromCharCode,H;function X($e){throw RangeError(ne[$e])}function Me($e,et){for(var nt=$e.length,en=[];nt--;)en[nt]=et($e[nt]);return en}function be($e,et){var nt=$e.split("@"),en="";nt.length>1&&(en=nt[0]+"@",$e=nt[1]),$e=$e.replace(W,".");var nn=$e.split("."),Et=Me(nn,et).join(".");return en+Et}function Fe($e){for(var et=[],nt=0,en=$e.length,nn,Et;nt<en;)nn=$e.charCodeAt(nt++),nn>=55296&&nn<=56319&&nt<en?(Et=$e.charCodeAt(nt++),(Et&64512)==56320?et.push(((nn&1023)<<10)+(Et&1023)+65536):(et.push(nn),nt--)):et.push(nn);return et}function Ue($e){return Me($e,function(et){var nt="";return et>65535&&(et-=65536,nt+=fe(et>>>10&1023|55296),et=56320|et&1023),nt+=fe(et),nt}).join("")}function me($e){return $e-48<10?$e-22:$e-65<26?$e-65:$e-97<26?$e-97:f}function Ve($e,et){return $e+22+75*($e<26)-((et!=0)<<5)}function _e($e,et,nt){var en=0;for($e=nt?ge($e/I):$e>>1,$e+=ge($e/et);$e>ce*C>>1;en+=f)$e=ge($e/ce);return ge(en+(ce+1)*$e/($e+B))}function Ot($e){var et=[],nt=$e.length,en,nn=0,Et=L,Vt=K,Jt,Le,ye,Te,Qe,st,lt,Kt,Ht;for(Jt=$e.lastIndexOf(Y),Jt<0&&(Jt=0),Le=0;Le<Jt;++Le)$e.charCodeAt(Le)>=128&&X("not-basic"),et.push($e.charCodeAt(Le));for(ye=Jt>0?Jt+1:0;ye<nt;){for(Te=nn,Qe=1,st=f;ye>=nt&&X("invalid-input"),lt=me($e.charCodeAt(ye++)),(lt>=f||lt>ge((a-nn)/Qe))&&X("overflow"),nn+=lt*Qe,Kt=st<=Vt?m:st>=Vt+C?C:st-Vt,!(lt<Kt);st+=f)Ht=f-Kt,Qe>ge(a/Ht)&&X("overflow"),Qe*=Ht;en=et.length+1,Vt=_e(nn-Te,en,Te==0),ge(nn/en)>a-Et&&X("overflow"),Et+=ge(nn/en),nn%=en,et.splice(nn++,0,Et)}return Ue(et)}function St($e){var et,nt,en,nn,Et,Vt,Jt,Le,ye,Te,Qe,st=[],lt,Kt,Ht,Wt;for($e=Fe($e),lt=$e.length,et=L,nt=0,Et=K,Vt=0;Vt<lt;++Vt)Qe=$e[Vt],Qe<128&&st.push(fe(Qe));for(en=nn=st.length,nn&&st.push(Y);en<lt;){for(Jt=a,Vt=0;Vt<lt;++Vt)Qe=$e[Vt],Qe>=et&&Qe<Jt&&(Jt=Qe);for(Kt=en+1,Jt-et>ge((a-nt)/Kt)&&X("overflow"),nt+=(Jt-et)*Kt,et=Jt,Vt=0;Vt<lt;++Vt)if(Qe=$e[Vt],Qe<et&&++nt>a&&X("overflow"),Qe==et){for(Le=nt,ye=f;Te=ye<=Et?m:ye>=Et+C?C:ye-Et,!(Le<Te);ye+=f)Wt=Le-Te,Ht=f-Te,st.push(fe(Ve(Te+Wt%Ht,0))),Le=ge(Wt/Ht);st.push(fe(Ve(Le,0))),Et=_e(nt,Kt,en==nn),nt=0,++en}++nt,++et}return st.join("")}function _t($e){return be($e,function(et){return ee.test(et)?Ot(et.slice(4).toLowerCase()):et})}function ft($e){return be($e,function(et){return V.test(et)?"xn--"+St(et):et})}if(s={version:"1.3.2",ucs2:{decode:Fe,encode:Ue},decode:Ot,encode:St,toASCII:ft,toUnicode:_t},r&&i)if(n.exports==r)i.exports=s;else for(H in s)s.hasOwnProperty(H)&&(r[H]=s[H]);else t.punycode=s})(QE)})(UB,UB.exports);var khe={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},Rb={};function The(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var Phe=function(n,e,t,r){e=e||"&",t=t||"=";var i={};if(typeof n!="string"||n.length===0)return i;var o=/\+/g;n=n.split(e);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var f=0;f<a;++f){var m=n[f].replace(o,"%20"),C=m.indexOf(t),B,I,K,L;C>=0?(B=m.substr(0,C),I=m.substr(C+1)):(B=m,I=""),K=decodeURIComponent(B),L=decodeURIComponent(I),The(i,K)?Array.isArray(i[K])?i[K].push(L):i[K]=[i[K],L]:i[K]=L}return i},nC=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},Khe=function(n,e,t,r){return e=e||"&",t=t||"=",n===null&&(n=void 0),typeof n=="object"?Object.keys(n).map(function(i){var o=encodeURIComponent(nC(i))+t;return Array.isArray(n[i])?n[i].map(function(s){return o+encodeURIComponent(nC(s))}).join(e):o+encodeURIComponent(nC(n[i]))}).join(e):r?encodeURIComponent(nC(r))+t+encodeURIComponent(nC(n)):""};Rb.decode=Rb.parse=Phe;Rb.encode=Rb.stringify=Khe;var Lhe=UB.exports,Am=khe;function vm(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Dhe=/^([a-z0-9.+-]+:)/i,Fhe=/:[0-9]*$/,Rhe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Uhe=["<",">",'"',"`"," ","\r",`
`,"	"],zhe=["{","}","|","\\","^","`"].concat(Uhe),zB=["'"].concat(zhe),nL=["%","/","?",";","#"].concat(zB),rL=["/","?","#"],jhe=255,iL=/^[+a-z0-9A-Z_-]{0,63}$/,Nhe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Whe={javascript:!0,"javascript:":!0},jB={javascript:!0,"javascript:":!0},av={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},NB=Rb;function Ghe(n,e,t){if(n&&Am.isObject(n)&&n instanceof vm)return n;var r=new vm;return r.parse(n,e,t),r}vm.prototype.parse=function(n,e,t){if(!Am.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var f=Rhe.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=NB.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var m=Dhe.exec(a);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,a=a.substr(m.length)}if(t||m||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=a.substr(0,2)==="//";B&&!(m&&jB[m])&&(a=a.substr(2),this.slashes=!0)}if(!jB[m]&&(B||m&&!av[m])){for(var I=-1,K=0;K<rL.length;K++){var L=a.indexOf(rL[K]);L!==-1&&(I===-1||L<I)&&(I=L)}var Y,ee;I===-1?ee=a.lastIndexOf("@"):ee=a.lastIndexOf("@",I),ee!==-1&&(Y=a.slice(0,ee),a=a.slice(ee+1),this.auth=decodeURIComponent(Y)),I=-1;for(var K=0;K<nL.length;K++){var L=a.indexOf(nL[K]);L!==-1&&(I===-1||L<I)&&(I=L)}I===-1&&(I=a.length),this.host=a.slice(0,I),a=a.slice(I),this.parseHost(),this.hostname=this.hostname||"";var V=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!V)for(var W=this.hostname.split(/\./),K=0,ne=W.length;K<ne;K++){var ce=W[K];if(ce&&!ce.match(iL)){for(var ge="",fe=0,H=ce.length;fe<H;fe++)ce.charCodeAt(fe)>127?ge+="x":ge+=ce[fe];if(!ge.match(iL)){var X=W.slice(0,K),Me=W.slice(K+1),be=ce.match(Nhe);be&&(X.push(be[1]),Me.unshift(be[2])),Me.length&&(a="/"+Me.join(".")+a),this.hostname=X.join(".");break}}}this.hostname.length>jhe?this.hostname="":this.hostname=this.hostname.toLowerCase(),V||(this.hostname=Lhe.toASCII(this.hostname));var Fe=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+Fe,this.href+=this.host,V&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Whe[C])for(var K=0,ne=zB.length;K<ne;K++){var me=zB[K];if(a.indexOf(me)!==-1){var Ve=encodeURIComponent(me);Ve===me&&(Ve=escape(me)),a=a.split(me).join(Ve)}}var _e=a.indexOf("#");_e!==-1&&(this.hash=a.substr(_e),a=a.slice(0,_e));var Ot=a.indexOf("?");if(Ot!==-1?(this.search=a.substr(Ot),this.query=a.substr(Ot+1),e&&(this.query=NB.parse(this.query)),a=a.slice(0,Ot)):e&&(this.search="",this.query={}),a&&(this.pathname=a),av[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Fe=this.pathname||"",St=this.search||"";this.path=Fe+St}return this.href=this.format(),this};vm.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Am.isObject(this.query)&&Object.keys(this.query).length&&(o=NB.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||av[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};vm.prototype.resolve=function(n){return this.resolveObject(Ghe(n,!1,!0)).format()};vm.prototype.resolveObject=function(n){if(Am.isString(n)){var e=new vm;e.parse(n,!1,!0),n=e}for(var t=new vm,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(t[f]=n[f])}return av[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!av[n.protocol]){for(var m=Object.keys(n),C=0;C<m.length;C++){var B=m[C];t[B]=n[B]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!jB[n.protocol]){for(var ne=(n.pathname||"").split("/");ne.length&&!(n.host=ne.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),ne[0]!==""&&ne.unshift(""),ne.length<2&&ne.unshift(""),t.pathname=ne.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var I=t.pathname||"",K=t.search||"";t.path=I+K}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var L=t.pathname&&t.pathname.charAt(0)==="/",Y=n.host||n.pathname&&n.pathname.charAt(0)==="/",ee=Y||L||t.host&&n.pathname,V=ee,W=t.pathname&&t.pathname.split("/")||[],ne=n.pathname&&n.pathname.split("/")||[],ce=t.protocol&&!av[t.protocol];if(ce&&(t.hostname="",t.port=null,t.host&&(W[0]===""?W[0]=t.host:W.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(ne[0]===""?ne[0]=n.host:ne.unshift(n.host)),n.host=null),ee=ee&&(ne[0]===""||W[0]==="")),Y)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,W=ne;else if(ne.length)W||(W=[]),W.pop(),W=W.concat(ne),t.search=n.search,t.query=n.query;else if(!Am.isNullOrUndefined(n.search)){if(ce){t.hostname=t.host=W.shift();var ge=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ge&&(t.auth=ge.shift(),t.host=t.hostname=ge.shift())}return t.search=n.search,t.query=n.query,(!Am.isNull(t.pathname)||!Am.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!W.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var fe=W.slice(-1)[0],H=(t.host||n.host||W.length>1)&&(fe==="."||fe==="..")||fe==="",X=0,Me=W.length;Me>=0;Me--)fe=W[Me],fe==="."?W.splice(Me,1):fe===".."?(W.splice(Me,1),X++):X&&(W.splice(Me,1),X--);if(!ee&&!V)for(;X--;X)W.unshift("..");ee&&W[0]!==""&&(!W[0]||W[0].charAt(0)!=="/")&&W.unshift(""),H&&W.join("/").substr(-1)!=="/"&&W.push("");var be=W[0]===""||W[0]&&W[0].charAt(0)==="/";if(ce){t.hostname=t.host=be?"":W.length?W.shift():"";var ge=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ge&&(t.auth=ge.shift(),t.host=t.hostname=ge.shift())}return ee=ee||t.host&&W.length,ee&&!be&&W.unshift(""),W.length?t.pathname=W.join("/"):(t.pathname=null,t.path=null),(!Am.isNull(t.pathname)||!Am.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};vm.prototype.parseHost=function(){var n=this.host,e=Fhe.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};function lG(n,...e){for(const t of e)for(const r in t)n[r]=t[r];return n}class Qhe extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var fp=Qhe;class ek{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[r,i]of t)this.bindings[r]=i}concat(e){return new ek(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}var $he=ek;const sM={kind:"null"},Xn={kind:"number"},Ao={kind:"string"},Xi={kind:"boolean"},_m={kind:"color"},sv={kind:"object"},eo={kind:"value"},Yhe={kind:"error"},lM={kind:"collator"},uM={kind:"formatted"},m2={kind:"resolvedImage"};function dd(n,e){return{kind:"array",itemType:n,N:e}}function Ks(n){if(n.kind==="array"){const e=Ks(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const qhe=[sM,Xn,Ao,Xi,_m,uM,sv,dd(eo),m2];function Ub(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Ub(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of qhe)if(!Ub(t,e))return null}}return`Expected ${Ks(n)} but found ${Ks(e)} instead.`}function tk(n,e){return e.some(t=>t.kind===n.kind)}function zb(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}var Vhe={},uG,oL={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function QC(n){return n=Math.round(n),n<0?0:n>255?255:n}function aL(n){return n<0?0:n>1?1:n}function $E(n){return n[n.length-1]==="%"?QC(parseFloat(n)/100*255):QC(parseInt(n))}function y3(n){return n[n.length-1]==="%"?aL(parseFloat(n)/100):aL(parseFloat(n))}function YE(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function Hhe(n){var e=n.replace(/ /g,"").toLowerCase();if(e in oL)return oL[e].slice();if(e[0]==="#"){if(e.length===4){var t=parseInt(e.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(e.length===7){var t=parseInt(e.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var r=e.indexOf("("),i=e.indexOf(")");if(r!==-1&&i+1===e.length){var o=e.substr(0,r),s=e.substr(r+1,i-(r+1)).split(","),a=1;switch(o){case"rgba":if(s.length!==4)return null;a=y3(s.pop());case"rgb":return s.length!==3?null:[$E(s[0]),$E(s[1]),$E(s[2]),a];case"hsla":if(s.length!==4)return null;a=y3(s.pop());case"hsl":if(s.length!==3)return null;var f=(parseFloat(s[0])%360+360)%360/360,m=y3(s[1]),C=y3(s[2]),B=C<=.5?C*(m+1):C+m-C*m,I=C*2-B;return[QC(YE(I,B,f+1/3)*255),QC(YE(I,B,f)*255),QC(YE(I,B,f-1/3)*255),a];default:return null}}return null}try{uG=Vhe.parseCSSColor=Hhe}catch{}class Dc{constructor(e,t,r,i=1){this.r=e,this.g=t,this.b=r,this.a=i}static parse(e){if(!e)return;if(e instanceof Dc)return e;if(typeof e!="string")return;const t=uG(e);if(t)return new Dc(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[e,t,r,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${i})`}toArray(){const{r:e,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[e*255/i,t*255/i,r*255/i,i]}toArray01(){const{r:e,g:t,b:r,a:i}=this;return i===0?[0,0,0,0]:[e/i,t/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:r,a:i}=this;return[e,t,r,i]}}Dc.black=new Dc(0,0,0,1);Dc.white=new Dc(1,1,1,1);Dc.transparent=new Dc(0,0,0,0);Dc.red=new Dc(1,0,0,1);Dc.blue=new Dc(0,0,1,1);var mu=Dc;class nk{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class WB{constructor(e,t,r,i,o){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=i,this.textColor=o}}class hf{constructor(e){this.sections=e}static fromString(e){return new hf([new WB(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof hf?e:hf.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class Bm{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Bm({name:e,available:!1}):null}serialize(){return["image",this.name]}}function AG(n,e,t,r){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[n,e,t,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[n,e,t,r]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Mw(n){if(n===null)return!0;if(typeof n=="string")return!0;if(typeof n=="boolean")return!0;if(typeof n=="number")return!0;if(n instanceof mu)return!0;if(n instanceof nk)return!0;if(n instanceof hf)return!0;if(n instanceof Bm)return!0;if(Array.isArray(n)){for(const e of n)if(!Mw(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!Mw(n[e]))return!1;return!0}else return!1}function pu(n){if(n===null)return sM;if(typeof n=="string")return Ao;if(typeof n=="boolean")return Xi;if(typeof n=="number")return Xn;if(n instanceof mu)return _m;if(n instanceof nk)return lM;if(n instanceof hf)return uM;if(n instanceof Bm)return m2;if(Array.isArray(n)){const e=n.length;let t;for(const r of n){const i=pu(r);if(!t)t=i;else{if(t===i)continue;t=eo;break}}return dd(t||eo,e)}else return sv}function $C(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof mu||n instanceof hf||n instanceof Bm?n.toString():JSON.stringify(n)}class rk{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Mw(e[1]))return t.error("invalid value");const r=e[1];let i=pu(r);const o=t.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new rk(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof mu?["rgba"].concat(this.value.toArray()):this.value instanceof hf?this.value.serialize():this.value}}var Sw=rk;class Zhe{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var lA=Zhe;const qE={string:Ao,number:Xn,boolean:Xi,object:sv};class ik{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=1,i;const o=e[0];if(o==="array"){let a;if(e.length>2){const m=e[1];if(typeof m!="string"||!(m in qE)||m==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=qE[m],r++}else a=eo;let f;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);f=e[2],r++}i=dd(a,f)}else i=qE[o];const s=[];for(;r<e.length;r++){const a=t.parse(e[r],r,eo);if(!a)return null;s.push(a)}return new ik(i,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(Ub(this.type,pu(r))){if(t===this.args.length-1)throw new lA(`Expected value to be of type ${Ks(this.type)}, but found ${Ks(pu(r))} instead.`)}else return r}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if(e.kind==="array"){const r=e.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){t.push(r.kind);const i=e.N;(typeof i=="number"||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(r=>r.serialize()))}}var dm=ik;class AM{constructor(e){this.type=uM,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&typeof r=="object")return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let s=1;s<=e.length-1;++s){const a=e[s];if(o&&typeof a=="object"&&!Array.isArray(a)){o=!1;let f=null;if(a["font-scale"]&&(f=t.parse(a["font-scale"],1,Xn),!f))return null;let m=null;if(a["text-font"]&&(m=t.parse(a["text-font"],1,dd(Ao)),!m))return null;let C=null;if(a["text-color"]&&(C=t.parse(a["text-color"],1,_m),!C))return null;const B=i[i.length-1];B.scale=f,B.font=m,B.textColor=C}else{const f=t.parse(e[s],1,eo);if(!f)return null;const m=f.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new AM(i)}evaluate(e){const t=r=>{const i=r.content.evaluate(e);return pu(i)===m2?new WB("",i,null,null,null):new WB($C(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)};return new hf(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class cM{constructor(e){this.type=m2,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const r=t.parse(e[1],1,Ao);return r?new cM(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=Bm.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Xhe={"to-boolean":Xi,"to-color":_m,"to-number":Xn,"to-string":Ao};class ok{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if((r==="to-boolean"||r==="to-string")&&e.length!==2)return t.error("Expected one argument.");const i=Xhe[r],o=[];for(let s=1;s<e.length;s++){const a=t.parse(e[s],s,eo);if(!a)return null;o.push(a)}return new ok(i,o)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let t,r;for(const i of this.args){if(t=i.evaluate(e),r=null,t instanceof mu)return t;if(typeof t=="string"){const o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&(t.length<3||t.length>4?r=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:r=AG(t[0],t[1],t[2],t[3]),!r))return new mu(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new lA(r||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const r of this.args){if(t=r.evaluate(e),t===null)return 0;const i=Number(t);if(!isNaN(i))return i}throw new lA(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?hf.fromString($C(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Bm.fromString($C(this.args[0].evaluate(e))):$C(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new AM([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new cM(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}var zy=ok;const Jhe=["Unknown","Point","LineString","Polygon"];class ede{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Jhe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*t-e[0],s=i*t-e[1],a=this.featureDistanceData.bearing[0],f=this.featureDistanceData.bearing[1];return a*o+f*s}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=mu.parse(e)),t}}var cG=ede;class jy{constructor(e,t,r,i){this.name=e,this.type=t,this._evaluate=r,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const r=e[0],i=jy.definitions[r];if(!i)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter(([m])=>!Array.isArray(m)||m.length===e.length-1);let f=null;for(const[m,C]of a){f=new mG(t.registry,t.path,null,t.scope);const B=[];let I=!1;for(let K=1;K<e.length;K++){const L=e[K],Y=Array.isArray(m)?m[K-1]:m.type,ee=f.parse(L,1+B.length,Y);if(!ee){I=!0;break}B.push(ee)}if(!I){if(Array.isArray(m)&&m.length!==B.length){f.error(`Expected ${m.length} arguments, but found ${B.length} instead.`);continue}for(let K=0;K<B.length;K++){const L=Array.isArray(m)?m[K]:m.type,Y=B[K];f.concat(K+1).checkSubtype(L,Y.type)}if(f.errors.length===0)return new jy(r,o,C,B)}}if(a.length===1)t.errors.push(...f.errors);else{const C=(a.length?a:s).map(([I])=>tde(I)).join(" | "),B=[];for(let I=1;I<e.length;I++){const K=t.parse(e[I],1+B.length);if(!K)return null;B.push(Ks(K.type))}t.error(`Expected arguments of type ${C}, but found (${B.join(", ")}) instead.`)}return null}static register(e,t){jy.definitions=t;for(const r in t)e[r]=jy}}function tde(n){return Array.isArray(n)?`(${n.map(Ks).join(", ")})`:`(${Ks(n.type)}...)`}var t_=jy;class hM{constructor(e,t,r){this.type=lM,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const r=e[1];if(typeof r!="object"||Array.isArray(r))return t.error("Collator options argument must be an object.");const i=t.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Xi);if(!i)return null;const o=t.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Xi);if(!o)return null;let s=null;return r.locale&&(s=t.parse(r.locale,1,Ao),!s)?null:new hM(i,o,s)}evaluate(e){return new nk(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const k0=8192;function ak(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function nde(n){return(180+n)/360}function rde(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Ew(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function ide(n,e){const t=nde(n[0]),r=rde(n[1]),i=Math.pow(2,e.z);return[Math.round(t*i*k0),Math.round(r*i*k0)]}function ode(n,e,t){const r=n[0]-e[0],i=n[1]-e[1],o=n[0]-t[0],s=n[1]-t[1];return r*s-o*i===0&&r*o<=0&&i*s<=0}function ade(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function sk(n,e){let t=!1;for(let r=0,i=e.length;r<i;r++){const o=e[r];for(let s=0,a=o.length;s<a-1;s++){if(ode(n,o[s],o[s+1]))return!1;ade(n,o[s],o[s+1])&&(t=!t)}}return t}function sde(n,e){for(let t=0;t<e.length;t++)if(sk(n,e[t]))return!0;return!1}function lde(n,e){return n[0]*e[1]-n[1]*e[0]}function sL(n,e,t,r){const i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1],f=r[0]-t[0],m=r[1]-t[1],C=i*m-f*o,B=s*m-f*a;return C>0&&B<0||C<0&&B>0}function ude(n,e,t,r){const i=[e[0]-n[0],e[1]-n[1]],o=[r[0]-t[0],r[1]-t[1]];return lde(o,i)===0?!1:!!(sL(n,e,t,r)&&sL(t,r,n,e))}function Ade(n,e,t){for(const r of t)for(let i=0;i<r.length-1;++i)if(ude(n,e,r[i],r[i+1]))return!0;return!1}function hG(n,e){for(let t=0;t<n.length;++t)if(!sk(n[t],e))return!1;for(let t=0;t<n.length-1;++t)if(Ade(n[t],n[t+1],e))return!1;return!0}function cde(n,e){for(let t=0;t<e.length;t++)if(hG(n,e[t]))return!0;return!1}function lk(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=[];for(let s=0;s<n[i].length;s++){const a=ide(n[i][s],t);ak(e,a),o.push(a)}r.push(o)}return r}function dG(n,e,t){const r=[];for(let i=0;i<n.length;i++){const o=lk(n[i],e,t);r.push(o)}return r}function fG(n,e,t,r){if(n[0]<t[0]||n[0]>t[2]){const i=r*.5;let o=n[0]-t[0]>i?-r:t[0]-n[0]>i?r:0;o===0&&(o=n[0]-t[2]>i?-r:t[2]-n[0]>i?r:0),n[0]+=o}ak(e,n)}function hde(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function lL(n,e,t,r){const i=Math.pow(2,r.z)*k0,o=[r.x*k0,r.y*k0],s=[];if(!n)return s;for(const a of n)for(const f of a){const m=[f.x+o[0],f.y+o[1]];fG(m,e,t,i),s.push(m)}return s}function uL(n,e,t,r){const i=Math.pow(2,r.z)*k0,o=[r.x*k0,r.y*k0],s=[];if(!n)return s;for(const a of n){const f=[];for(const m of a){const C=[m.x+o[0],m.y+o[1]];ak(e,C),f.push(C)}s.push(f)}if(e[2]-e[0]<=i/2){hde(e);for(const a of s)for(const f of a)fG(f,e,t,i)}return s}function dde(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if(e.type==="Polygon"){const o=lk(e.coordinates,r,i),s=lL(n.geometry(),t,r,i);if(!Ew(t,r))return!1;for(const a of s)if(!sk(a,o))return!1}if(e.type==="MultiPolygon"){const o=dG(e.coordinates,r,i),s=lL(n.geometry(),t,r,i);if(!Ew(t,r))return!1;for(const a of s)if(!sde(a,o))return!1}return!0}function fde(n,e){const t=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=n.canonicalID();if(!i)return!1;if(e.type==="Polygon"){const o=lk(e.coordinates,r,i),s=uL(n.geometry(),t,r,i);if(!Ew(t,r))return!1;for(const a of s)if(!hG(a,o))return!1}if(e.type==="MultiPolygon"){const o=dG(e.coordinates,r,i),s=uL(n.geometry(),t,r,i);if(!Ew(t,r))return!1;for(const a of s)if(!cde(a,o))return!1}return!0}class YC{constructor(e,t){this.type=Xi,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Mw(e[1])){const r=e[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new YC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new YC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new YC(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return dde(e,this.geometries);if(e.geometryType()==="LineString")return fde(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var uk=YC;function dM(n){if(n instanceof t_){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof uk)return!1;let e=!0;return n.eachChild(t=>{e&&!dM(t)&&(e=!1)}),e}function Ak(n){if(n instanceof t_&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!Ak(t)&&(e=!1)}),e}function ck(n,e){if(n instanceof t_&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(r=>{t&&!ck(r,e)&&(t=!1)}),t}class hk{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new hk(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var pG=hk;class dk{constructor(e,t=[],r,i=new $he,o=[]){this.registry=e,this.path=t,this.key=t.map(s=>`[${s}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(e,t,r,i,o={}){return t?this.concat(t,r,i)._parse(e,o):this._parse(e,o)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function r(i,o,s){return s==="assert"?new dm(o,[i]):s==="coerce"?new zy(o,[i]):i}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let s=o.parse(e,this);if(!s)return null;if(this.expectedType){const a=this.expectedType,f=s.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&f.kind==="value")s=r(s,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(f.kind==="value"||f.kind==="string"))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,f))return null}if(!(s instanceof Sw)&&s.type.kind!=="resolvedImage"&&GB(s)){const a=new cG;try{s=new Sw(s.type,s.evaluate(a))}catch(f){return this.error(f.message),null}}return s}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const i=typeof e=="number"?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new dk(this.registry,i,t||null,o,this.errors)}error(e,...t){const r=`${this.key}${t.map(i=>`[${i}]`).join("")}`;this.errors.push(new fp(r,e))}checkSubtype(e,t){const r=Ub(e,t);return r&&this.error(r),r}}var mG=dk;function GB(n){if(n instanceof pG)return GB(n.boundExpression);if(n instanceof t_&&n.name==="error")return!1;if(n instanceof hM)return!1;if(n instanceof uk)return!1;const e=n instanceof zy||n instanceof dm;let t=!0;return n.eachChild(r=>{e?t=t&&GB(r):t=t&&r instanceof Sw}),t?dM(n)&&ck(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function fM(n,e){const t=n.length-1;let r=0,i=t,o=0,s,a;for(;r<=i;)if(o=Math.floor((r+i)/2),s=n[o],a=n[o+1],s<=e){if(o===t||e<a)return o;r=o+1}else if(s>e)i=o-1;else throw new lA("Input is not a number.");return 0}class fk{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,Xn);if(!r)return null;const i=[];let o=null;t.expectedType&&t.expectedType.kind!=="value"&&(o=t.expectedType);for(let s=1;s<e.length;s+=2){const a=s===1?-1/0:e[s],f=e[s+1],m=s,C=s+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const B=t.parse(f,C,o);if(!B)return null;o=o||B.type,i.push([a,B])}return new fk(o,r,i)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=fM(t,i);return r[s].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var gG=fk,pde=yG;function yG(n,e,t,r){this.cx=3*n,this.bx=3*(t-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=e,this.p2x=t,this.p2y=r}yG.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,e){if(e===void 0&&(e=1e-6),n<0)return 0;if(n>1)return 1;for(var t=n,r=0;r<8;r++){var i=this.sampleCurveX(t)-n;if(Math.abs(i)<e)return t;var o=this.sampleCurveDerivativeX(t);if(Math.abs(o)<1e-6)break;t=t-i/o}var s=0,a=1;for(t=n,r=0;r<20&&(i=this.sampleCurveX(t),!(Math.abs(i-n)<e));r++)n>i?s=t:a=t,t=(a-s)*.5+s;return t},solve:function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))}};function xh(n,e,t){return n*(1-t)+e*t}function mde(n,e,t){return new mu(xh(n.r,e.r,t),xh(n.g,e.g,t),xh(n.b,e.b,t),xh(n.a,e.a,t))}function gde(n,e,t){return n.map((r,i)=>xh(r,e[i],t))}var vG=Object.freeze({__proto__:null,number:xh,color:mde,array:gde});const _G=.95047,CG=1,bG=1.08883,xG=4/29,lv=6/29,wG=3*lv*lv,yde=lv*lv*lv,vde=Math.PI/180,_de=180/Math.PI;function VE(n){return n>yde?Math.pow(n,1/3):n/wG+xG}function HE(n){return n>lv?n*n*n:wG*(n-xG)}function ZE(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function XE(n){return n/=255,n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function MG(n){const e=XE(n.r),t=XE(n.g),r=XE(n.b),i=VE((.4124564*e+.3575761*t+.1804375*r)/_G),o=VE((.2126729*e+.7151522*t+.072175*r)/CG),s=VE((.0193339*e+.119192*t+.9503041*r)/bG);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:n.a}}function SG(n){let e=(n.l+16)/116,t=isNaN(n.a)?e:e+n.a/500,r=isNaN(n.b)?e:e-n.b/200;return e=CG*HE(e),t=_G*HE(t),r=bG*HE(r),new mu(ZE(3.2404542*t-1.5371385*e-.4985314*r),ZE(-.969266*t+1.8760108*e+.041556*r),ZE(.0556434*t-.2040259*e+1.0572252*r),n.alpha)}function Cde(n,e,t){return{l:xh(n.l,e.l,t),a:xh(n.a,e.a,t),b:xh(n.b,e.b,t),alpha:xh(n.alpha,e.alpha,t)}}function bde(n){const{l:e,a:t,b:r}=MG(n),i=Math.atan2(r,t)*_de;return{h:i<0?i+360:i,c:Math.sqrt(t*t+r*r),l:e,alpha:n.a}}function xde(n){const e=n.h*vde,t=n.c,r=n.l;return SG({l:r,a:Math.cos(e)*t,b:Math.sin(e)*t,alpha:n.alpha})}function wde(n,e,t){const r=e-n;return n+t*(r>180||r<-180?r-360*Math.round(r/360):r)}function Mde(n,e,t){return{h:wde(n.h,e.h,t),c:xh(n.c,e.c,t),l:xh(n.l,e.l,t),alpha:xh(n.alpha,e.alpha,t)}}const bC={forward:MG,reverse:SG,interpolate:Cde},xC={forward:bde,reverse:xde,interpolate:Mde};var EG=Object.freeze({__proto__:null,lab:bC,hcl:xC});class Ow{constructor(e,t,r,i,o){this.type=e,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of o)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,r,i){let o=0;if(e.name==="exponential")o=JE(t,e.base,r,i);else if(e.name==="linear")o=JE(t,1,r,i);else if(e.name==="cubic-bezier"){const s=e.controlPoints;o=new pde(s[0],s[1],s[2],s[3]).solve(JE(t,1,r,i))}return o}static parse(e,t){let[r,i,o,...s]=e;if(!Array.isArray(i)||i.length===0)return t.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Xn),!o)return null;const a=[];let f=null;r==="interpolate-hcl"||r==="interpolate-lab"?f=_m:t.expectedType&&t.expectedType.kind!=="value"&&(f=t.expectedType);for(let m=0;m<s.length;m+=2){const C=s[m],B=s[m+1],I=m+3,K=m+4;if(typeof C!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(a.length&&a[a.length-1][0]>=C)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const L=t.parse(B,K,f);if(!L)return null;f=f||L.type,a.push([C,L])}return f.kind!=="number"&&f.kind!=="color"&&!(f.kind==="array"&&f.itemType.kind==="number"&&typeof f.N=="number")?t.error(`Type ${Ks(f)} is not interpolatable.`):new Ow(f,r,i,o,a)}evaluate(e){const t=this.labels,r=this.outputs;if(t.length===1)return r[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);const o=t.length;if(i>=t[o-1])return r[o-1].evaluate(e);const s=fM(t,i),a=t[s],f=t[s+1],m=Ow.interpolationFactor(this.interpolation,i,a,f),C=r[s].evaluate(e),B=r[s+1].evaluate(e);return this.operator==="interpolate"?vG[this.type.kind.toLowerCase()](C,B,m):this.operator==="interpolate-hcl"?xC.reverse(xC.interpolate(xC.forward(C),xC.forward(B),m)):bC.reverse(bC.interpolate(bC.forward(C),bC.forward(B),m))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t}}function JE(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var Cm=Ow;class Bw{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const i=t.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const a of e.slice(1)){const f=t.parse(a,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!f)return null;r=r||f.type,o.push(f)}return i&&o.some(a=>Ub(i,a.type))?new Bw(eo,o):new Bw(r,o)}evaluate(e){let t=null,r=0,i;for(const o of this.args){if(r++,t=o.evaluate(e),t&&t instanceof Bm&&!t.available&&(i||(i=t),t=null,r===this.args.length))return i;if(t!==null)break}return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var OG=Bw;class pk{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let o=1;o<e.length-1;o+=2){const s=e[o];if(typeof s!="string")return t.error(`Expected string, but found ${typeof s} instead.`,o);if(/[^a-zA-Z0-9_]/.test(s))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);const a=t.parse(e[o+1],o+1);if(!a)return null;r.push([s,a])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return i?new pk(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}var BG=pk;class mk{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,Xn),i=t.parse(e[2],2,dd(t.expectedType||eo));if(!r||!i)return null;const o=i.type;return new mk(o.itemType,r,i)}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new lA(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new lA(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new lA(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Sde=mk;class gk{constructor(e,t){this.type=Xi,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,eo),i=t.parse(e[2],2,eo);return!r||!i?null:tk(r.type,[Xi,Ao,Xn,sM,eo])?new gk(r,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(r==null)return!1;if(!zb(t,["boolean","string","number","null"]))throw new lA(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(pu(t))} instead.`);if(!zb(r,["string","array"]))throw new lA(`Expected second argument to be of type array or string, but found ${Ks(pu(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ede=gk;class Iw{constructor(e,t,r){this.type=Xn,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,eo),i=t.parse(e[2],2,eo);if(!r||!i)return null;if(!tk(r.type,[Xi,Ao,Xn,sM,eo]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Xn);return o?new Iw(r,i,o):null}else return new Iw(r,i)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!zb(t,["boolean","string","number","null"]))throw new lA(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(pu(t))} instead.`);if(!zb(r,["string","array"]))throw new lA(`Expected second argument to be of type array or string, but found ${Ks(pu(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return r.indexOf(t,i)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Ode=Iw;class yk{constructor(e,t,r,i,o,s){this.inputType=e,this.type=t,this.input=r,this.cases=i,this.outputs=o,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let r,i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const o={},s=[];for(let m=2;m<e.length-1;m+=2){let C=e[m];const B=e[m+1];Array.isArray(C)||(C=[C]);const I=t.concat(m);if(C.length===0)return I.error("Expected at least one branch label.");for(const L of C){if(typeof L!="number"&&typeof L!="string")return I.error("Branch labels must be numbers or strings.");if(typeof L=="number"&&Math.abs(L)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof L=="number"&&Math.floor(L)!==L)return I.error("Numeric branch labels must be integer values.");if(!r)r=pu(L);else if(I.checkSubtype(r,pu(L)))return null;if(typeof o[String(L)]<"u")return I.error("Branch labels must be unique.");o[String(L)]=s.length}const K=t.parse(B,m,i);if(!K)return null;i=i||K.type,s.push(K)}const a=t.parse(e[1],1,eo);if(!a)return null;const f=t.parse(e[e.length-1],e.length-1,i);return!f||a.type.kind!=="value"&&t.concat(1).checkSubtype(r,a.type)?null:new yk(r,i,a,o,s,f)}evaluate(e){const t=this.input.evaluate(e);return(pu(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],i={};for(const s of t){const a=i[this.cases[s]];a===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[a][1].push(s)}const o=s=>this.inputType.kind==="number"?Number(s):s;for(const[s,a]of r)a.length===1?e.push(o(a[0])):e.push(a.map(o)),e.push(this.outputs[s].serialize());return e.push(this.otherwise.serialize()),e}}var Bde=yk;class vk{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const i=[];for(let s=1;s<e.length-1;s+=2){const a=t.parse(e[s],s,Xi);if(!a)return null;const f=t.parse(e[s+1],s+1,r);if(!f)return null;i.push([a,f]),r=r||f.type}const o=t.parse(e[e.length-1],e.length-1,r);return o?new vk(r,i,o):null}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Ide=vk;class kw{constructor(e,t,r,i){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,eo),i=t.parse(e[2],2,Xn);if(!r||!i)return null;if(!tk(r.type,[dd(eo),Ao,eo]))return t.error(`Expected first argument to be of type array or string, but found ${Ks(r.type)} instead`);if(e.length===4){const o=t.parse(e[3],3,Xn);return o?new kw(r.type,r,i,o):null}else return new kw(r.type,r,i)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!zb(t,["string","array"]))throw new lA(`Expected first argument to be of type array or string, but found ${Ks(pu(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(r,i)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var kde=kw;function AL(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function Tde(n,e,t){return e===t}function Pde(n,e,t){return e!==t}function Kde(n,e,t){return e<t}function Lde(n,e,t){return e>t}function Dde(n,e,t){return e<=t}function Fde(n,e,t){return e>=t}function IG(n,e,t,r){return r.compare(e,t)===0}function Rde(n,e,t,r){return!IG(n,e,t,r)}function Ude(n,e,t,r){return r.compare(e,t)<0}function zde(n,e,t,r){return r.compare(e,t)>0}function jde(n,e,t,r){return r.compare(e,t)<=0}function Nde(n,e,t,r){return r.compare(e,t)>=0}function n_(n,e,t){const r=n!=="=="&&n!=="!=";return class kG{constructor(o,s,a){this.type=Xi,this.lhs=o,this.rhs=s,this.collator=a,this.hasUntypedArgument=o.type.kind==="value"||s.type.kind==="value"}static parse(o,s){if(o.length!==3&&o.length!==4)return s.error("Expected two or three arguments.");const a=o[0];let f=s.parse(o[1],1,eo);if(!f)return null;if(!AL(a,f.type))return s.concat(1).error(`"${a}" comparisons are not supported for type '${Ks(f.type)}'.`);let m=s.parse(o[2],2,eo);if(!m)return null;if(!AL(a,m.type))return s.concat(2).error(`"${a}" comparisons are not supported for type '${Ks(m.type)}'.`);if(f.type.kind!==m.type.kind&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error(`Cannot compare types '${Ks(f.type)}' and '${Ks(m.type)}'.`);r&&(f.type.kind==="value"&&m.type.kind!=="value"?f=new dm(m.type,[f]):f.type.kind!=="value"&&m.type.kind==="value"&&(m=new dm(f.type,[m])));let C=null;if(o.length===4){if(f.type.kind!=="string"&&m.type.kind!=="string"&&f.type.kind!=="value"&&m.type.kind!=="value")return s.error("Cannot use collator to compare non-string types.");if(C=s.parse(o[3],3,lM),!C)return null}return new kG(f,m,C)}evaluate(o){const s=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const f=pu(s),m=pu(a);if(f.kind!==m.kind||!(f.kind==="string"||f.kind==="number"))throw new lA(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${f.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const f=pu(s),m=pu(a);if(f.kind!=="string"||m.kind!=="string")return e(o,s,a)}return this.collator?t(o,s,a,this.collator.evaluate(o)):e(o,s,a)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[n];return this.eachChild(s=>{o.push(s.serialize())}),o}}}const Wde=n_("==",Tde,IG),Gde=n_("!=",Pde,Rde),Qde=n_("<",Kde,Ude),$de=n_(">",Lde,zde),Yde=n_("<=",Dde,jde),qde=n_(">=",Fde,Nde);class _k{constructor(e,t,r,i,o,s){this.type=Ao,this.number=e,this.locale=t,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=s}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const r=t.parse(e[1],1,Xn);if(!r)return null;const i=e[2];if(typeof i!="object"||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,Ao),!o))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,Ao),!s))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,Ao),!a))return null;let f=null;if(i["min-fraction-digits"]&&(f=t.parse(i["min-fraction-digits"],1,Xn),!f))return null;let m=null;return i["max-fraction-digits"]&&(m=t.parse(i["max-fraction-digits"],1,Xn),!m)?null:new _k(r,o,s,a,f,m)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ck{constructor(e){this.type=Xn,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${Ks(r.type)} instead.`):new Ck(r):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new lA(`Expected value to be of type string or array, but found ${Ks(pu(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Vde=Ck;const TG={"==":Wde,"!=":Gde,">":$de,"<":Qde,">=":qde,"<=":Yde,array:dm,at:Sde,boolean:dm,case:Ide,coalesce:OG,collator:hM,format:AM,image:cM,in:Ede,"index-of":Ode,interpolate:Cm,"interpolate-hcl":Cm,"interpolate-lab":Cm,length:Vde,let:BG,literal:Sw,match:Bde,number:dm,"number-format":_k,object:dm,slice:kde,step:gG,string:dm,"to-boolean":zy,"to-color":zy,"to-number":zy,"to-string":zy,var:pG,within:uk};function cL(n,[e,t,r,i]){e=e.evaluate(n),t=t.evaluate(n),r=r.evaluate(n);const o=i?i.evaluate(n):1,s=AG(e,t,r,o);if(s)throw new lA(s);return new mu(e/255*o,t/255*o,r/255*o,o)}function hL(n,e){return n in e}function e6(n,e){const t=e[n];return typeof t>"u"?null:t}function Hde(n,e,t,r){for(;t<=r;){const i=t+r>>1;if(e[i]===n)return!0;e[i]>n?r=i-1:t=i+1}return!1}function hg(n){return{type:n}}t_.register(TG,{error:[Yhe,[Ao],(n,[e])=>{throw new lA(e.evaluate(n))}],typeof:[Ao,[eo],(n,[e])=>Ks(pu(e.evaluate(n)))],"to-rgba":[dd(Xn,4),[_m],(n,[e])=>e.evaluate(n).toArray()],rgb:[_m,[Xn,Xn,Xn],cL],rgba:[_m,[Xn,Xn,Xn,Xn],cL],has:{type:Xi,overloads:[[[Ao],(n,[e])=>hL(e.evaluate(n),n.properties())],[[Ao,sv],(n,[e,t])=>hL(e.evaluate(n),t.evaluate(n))]]},get:{type:eo,overloads:[[[Ao],(n,[e])=>e6(e.evaluate(n),n.properties())],[[Ao,sv],(n,[e,t])=>e6(e.evaluate(n),t.evaluate(n))]]},"feature-state":[eo,[Ao],(n,[e])=>e6(e.evaluate(n),n.featureState||{})],properties:[sv,[],n=>n.properties()],"geometry-type":[Ao,[],n=>n.geometryType()],id:[eo,[],n=>n.id()],zoom:[Xn,[],n=>n.globals.zoom],pitch:[Xn,[],n=>n.globals.pitch||0],"distance-from-center":[Xn,[],n=>n.distanceFromCenter()],"heatmap-density":[Xn,[],n=>n.globals.heatmapDensity||0],"line-progress":[Xn,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[Xn,[],n=>n.globals.skyRadialProgress||0],accumulated:[eo,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[Xn,hg(Xn),(n,e)=>{let t=0;for(const r of e)t+=r.evaluate(n);return t}],"*":[Xn,hg(Xn),(n,e)=>{let t=1;for(const r of e)t*=r.evaluate(n);return t}],"-":{type:Xn,overloads:[[[Xn,Xn],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[Xn],(n,[e])=>-e.evaluate(n)]]},"/":[Xn,[Xn,Xn],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[Xn,[Xn,Xn],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[Xn,[],()=>Math.LN2],pi:[Xn,[],()=>Math.PI],e:[Xn,[],()=>Math.E],"^":[Xn,[Xn,Xn],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[Xn,[Xn],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[Xn,[Xn],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[Xn,[Xn],(n,[e])=>Math.log(e.evaluate(n))],log2:[Xn,[Xn],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[Xn,[Xn],(n,[e])=>Math.sin(e.evaluate(n))],cos:[Xn,[Xn],(n,[e])=>Math.cos(e.evaluate(n))],tan:[Xn,[Xn],(n,[e])=>Math.tan(e.evaluate(n))],asin:[Xn,[Xn],(n,[e])=>Math.asin(e.evaluate(n))],acos:[Xn,[Xn],(n,[e])=>Math.acos(e.evaluate(n))],atan:[Xn,[Xn],(n,[e])=>Math.atan(e.evaluate(n))],min:[Xn,hg(Xn),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[Xn,hg(Xn),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[Xn,[Xn],(n,[e])=>Math.abs(e.evaluate(n))],round:[Xn,[Xn],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[Xn,[Xn],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[Xn,[Xn],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[Xi,[Ao,eo],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[Xi,[eo],(n,[e])=>n.id()===e.value],"filter-type-==":[Xi,[Ao],(n,[e])=>n.geometryType()===e.value],"filter-<":[Xi,[Ao,eo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Xi,[eo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<r}],"filter->":[Xi,[Ao,eo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>i}],"filter-id->":[Xi,[eo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>r}],"filter-<=":[Xi,[Ao,eo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Xi,[eo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t<=r}],"filter->=":[Xi,[Ao,eo],(n,[e,t])=>{const r=n.properties()[e.value],i=t.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Xi,[eo],(n,[e])=>{const t=n.id(),r=e.value;return typeof t==typeof r&&t>=r}],"filter-has":[Xi,[eo],(n,[e])=>e.value in n.properties()],"filter-has-id":[Xi,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[Xi,[dd(Ao)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[Xi,[dd(eo)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[Xi,[Ao,dd(eo)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[Xi,[Ao,dd(eo)],(n,[e,t])=>Hde(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:Xi,overloads:[[[Xi,Xi],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[hg(Xi),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:Xi,overloads:[[[Xi,Xi],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[hg(Xi),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[Xi,[Xi],(n,[e])=>!e.evaluate(n)],"is-supported-script":[Xi,[Ao],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[Ao,[Ao],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[Ao,[Ao],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[Ao,hg(eo),(n,e)=>e.map(t=>$C(t.evaluate(n))).join("")],"resolved-locale":[Ao,[lM],(n,[e])=>e.evaluate(n).resolvedLocale()]});var PG=TG;function QB(n){return{result:"success",value:n}}function Cy(n){return{result:"error",value:n}}function Zde(n){return n["property-type"]==="data-driven"}function Xde(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function KG(n){return!!n.expression&&n.expression.interpolated}function bk(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":n===null?"null":typeof n}function xk(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Jde(n){return n}function wk(n,e){const t=e.type==="color",r=n.stops&&typeof n.stops[0][0]=="object",i=r||n.property!==void 0,o=r||!i,s=n.type||(KG(e)?"exponential":"interval");if(t&&(n=lG({},n),n.stops&&(n.stops=n.stops.map(C=>[C[0],mu.parse(C[1])])),n.default?n.default=mu.parse(n.default):n.default=mu.parse(e.default)),n.colorSpace&&n.colorSpace!=="rgb"&&!EG[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let a,f,m;if(s==="exponential")a=dL;else if(s==="interval")a=tfe;else if(s==="categorical"){a=efe,f=Object.create(null);for(const C of n.stops)f[C[0]]=C[1];m=typeof n.stops[0][0]}else if(s==="identity")a=nfe;else throw new Error(`Unknown function type "${s}"`);if(r){const C={},B=[];for(let L=0;L<n.stops.length;L++){const Y=n.stops[L],ee=Y[0].zoom;C[ee]===void 0&&(C[ee]={zoom:ee,type:n.type,property:n.property,default:n.default,stops:[]},B.push(ee)),C[ee].stops.push([Y[0].value,Y[1]])}const I=[];for(const L of B)I.push([C[L].zoom,wk(C[L],e)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:Cm.interpolationFactor.bind(void 0,K),zoomStops:I.map(L=>L[0]),evaluate({zoom:L},Y){return dL({stops:I,base:n.base},e,L).evaluate(L,Y)}}}else if(o){const C=s==="exponential"?{name:"exponential",base:n.base!==void 0?n.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:Cm.interpolationFactor.bind(void 0,C),zoomStops:n.stops.map(B=>B[0]),evaluate:({zoom:B})=>a(n,e,B,f,m)}}else return{kind:"source",evaluate(C,B){const I=B&&B.properties?B.properties[n.property]:void 0;return I===void 0?g2(n.default,e.default):a(n,e,I,f,m)}}}function g2(n,e,t){if(n!==void 0)return n;if(e!==void 0)return e;if(t!==void 0)return t}function efe(n,e,t,r,i){const o=typeof t===i?r[t]:void 0;return g2(o,n.default,e.default)}function tfe(n,e,t){if(bk(t)!=="number")return g2(n.default,e.default);const r=n.stops.length;if(r===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[r-1][0])return n.stops[r-1][1];const i=fM(n.stops.map(o=>o[0]),t);return n.stops[i][1]}function dL(n,e,t){const r=n.base!==void 0?n.base:1;if(bk(t)!=="number")return g2(n.default,e.default);const i=n.stops.length;if(i===1||t<=n.stops[0][0])return n.stops[0][1];if(t>=n.stops[i-1][0])return n.stops[i-1][1];const o=fM(n.stops.map(C=>C[0]),t),s=rfe(t,r,n.stops[o][0],n.stops[o+1][0]),a=n.stops[o][1],f=n.stops[o+1][1];let m=vG[e.type]||Jde;if(n.colorSpace&&n.colorSpace!=="rgb"){const C=EG[n.colorSpace];m=(B,I)=>C.reverse(C.interpolate(C.forward(B),C.forward(I),s))}return typeof a.evaluate=="function"?{evaluate(...C){const B=a.evaluate.apply(void 0,C),I=f.evaluate.apply(void 0,C);if(!(B===void 0||I===void 0))return m(B,I,s)}}:m(a,f,s)}function nfe(n,e,t){return e.type==="color"?t=mu.parse(t):e.type==="formatted"?t=hf.fromString(t.toString()):e.type==="resolvedImage"?t=Bm.fromString(t.toString()):bk(t)!==e.type&&(e.type!=="enum"||!e.values[t])&&(t=void 0),g2(t,n.default,e.default)}function rfe(n,e,t,r){const i=r-t,o=n-t;return i===0?0:e===1?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class LG{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new cG,this._defaultValue=t?afe(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,r,i,o,s,a,f){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,i,o,s,a,f){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=f||null;try{const m=this.expression.evaluate(this._evaluator);if(m==null||typeof m=="number"&&m!==m)return this._defaultValue;if(this._enumValues&&!(m in this._enumValues))throw new lA(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(m)} instead.`);return m}catch(m){return this._warningHistory[m.message]||(this._warningHistory[m.message]=!0,typeof console<"u"&&console.warn(m.message)),this._defaultValue}}}function DG(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in PG}function Tw(n,e){const t=new mG(PG,[],e?ofe(e):void 0),r=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?QB(new LG(r,e)):Cy(t.errors)}class $B{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!Ak(t.expression)}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}}class YB{constructor(e,t,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!Ak(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,r,i,o,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,o,s)}evaluate(e,t,r,i,o,s){return this._styleExpression.evaluate(e,t,r,i,o,s)}interpolationFactor(e,t,r){return this.interpolationType?Cm.interpolationFactor(this.interpolationType,e,t,r):0}}function FG(n,e){if(n=Tw(n,e),n.result==="error")return n;const t=n.value.expression,r=dM(t);if(!r&&!Zde(e))return Cy([new fp("","data expressions not supported")]);const i=ck(t,["zoom","pitch","distance-from-center"]);if(!i&&!Xde(e))return Cy([new fp("","zoom expressions not supported")]);const o=i4(t);if(!o&&!i)return Cy([new fp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof fp)return Cy([o]);if(o instanceof Cm&&!KG(e))return Cy([new fp("",'"interpolate" expressions cannot be used with this property')]);if(!o)return QB(r?new $B("constant",n.value):new $B("source",n.value));const s=o instanceof Cm?o.interpolation:void 0;return QB(r?new YB("camera",n.value,o.labels,s):new YB("composite",n.value,o.labels,s))}class pM{constructor(e,t){this._parameters=e,this._specification=t,lG(this,wk(this._parameters,this._specification))}static deserialize(e){return new pM(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function ife(n,e){if(xk(n))return new pM(n,e);if(DG(n)){const t=FG(n,e);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return t.value}else{let t=n;return typeof n=="string"&&e.type==="color"&&(t=mu.parse(n)),{kind:"constant",evaluate:()=>t}}}function i4(n){let e=null;if(n instanceof BG)e=i4(n.result);else if(n instanceof OG){for(const t of n.args)if(e=i4(t),e)break}else(n instanceof gG||n instanceof Cm)&&n.input instanceof t_&&n.input.name==="zoom"&&(e=n);return e instanceof fp||n.eachChild(t=>{const r=i4(t);r instanceof fp?e=r:!e&&r?e=new fp("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&r&&e!==r&&(e=new fp("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function ofe(n){const e={color:_m,string:Ao,number:Xn,enum:Ao,boolean:Xi,formatted:uM,resolvedImage:m2};return n.type==="array"?dd(e[n.value]||eo,n.length):e[n.type]}function afe(n){return n.type==="color"&&(xk(n.default)||Array.isArray(n.default))?new mu(0,0,0,0):n.type==="color"?mu.parse(n.default)||null:n.default===void 0?null:n.default}function jb(n){return typeof n=="object"?["literal",n]:n}function sfe(n,e){let t=n.stops;if(!t)return lfe(n,e);const r=t&&typeof t[0][0]=="object",i=r||n.property!==void 0,o=r||!i;return t=t.map(s=>!i&&e.tokens&&typeof s[1]=="string"?[s[0],hfe(s[1])]:[s[0],jb(s[1])]),r?ufe(n,e,t):o?cfe(n,e,t):qB(n,e,t)}function lfe(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const r=[e.type==="color"?"to-color":e.type,t,jb(n.default)];return e.type==="array"&&r.splice(1,0,e.value,e.length||null),r}}function Mk(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function ufe(n,e,t){const r={},i={},o=[];for(let a=0;a<t.length;a++){const f=t[a],m=f[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:n.type,property:n.property,default:n.default},i[m]=[],o.push(m)),i[m].push([f[0].value,f[1]])}if(Ek({},e)==="exponential"){const a=[Mk(n),["linear"],["zoom"]];for(const f of o){const m=qB(r[f],e,i[f]);uv(a,f,m,!1)}return a}else{const a=["step",["zoom"]];for(const f of o){const m=qB(r[f],e,i[f]);uv(a,f,m,!0)}return Sk(a),a}}function Afe(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function fL(n,e){const t=jb(Afe(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function qB(n,e,t){const r=Ek(n,e),i=["get",n.property];if(r==="categorical"&&typeof t[0][0]=="boolean"){const o=["case"];for(const s of t)o.push(["==",i,s[0]],s[1]);return o.push(fL(n,e)),o}else if(r==="categorical"){const o=["match",i];for(const s of t)uv(o,s[0],s[1],!1);return o.push(fL(n,e)),o}else if(r==="interval"){const o=["step",["number",i]];for(const s of t)uv(o,s[0],s[1],!0);return Sk(o),n.default===void 0?o:["case",["==",["typeof",i],"number"],o,jb(n.default)]}else if(r==="exponential"){const o=n.base!==void 0?n.base:1,s=[Mk(n),o===1?["linear"]:["exponential",o],["number",i]];for(const a of t)uv(s,a[0],a[1],!1);return n.default===void 0?s:["case",["==",["typeof",i],"number"],s,jb(n.default)]}else throw new Error(`Unknown property function type ${r}`)}function cfe(n,e,t,r=["zoom"]){const i=Ek(n,e);let o,s=!1;if(i==="interval")o=["step",r],s=!0;else if(i==="exponential"){const a=n.base!==void 0?n.base:1;o=[Mk(n),a===1?["linear"]:["exponential",a],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const a of t)uv(o,a[0],a[1],s);return Sk(o),o}function Sk(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function uv(n,e,t,r){n.length>3&&e===n[n.length-2]||(r&&n.length===2||n.push(e),n.push(t))}function Ek(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function hfe(n){const e=["concat"],t=/{([^{}]+)}/g;let r=0;for(let i=t.exec(n);i!==null;i=t.exec(n)){const o=n.slice(r,t.lastIndex-i[0].length);r=t.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(e.length===1)return n;if(r<n.length)e.push(n.slice(r));else if(e.length===2)return["to-string",e[1]];return e}function dfe(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function VB(n){if(Array.isArray(n))return n.map(VB);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const t in n)e[t]=VB(n[t]);return e}return dfe(n)}function Ok(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Ok(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function ffe(n,e="fill"){if(n==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Ok(n)||(n=Pw(n));const t=n;let r=!0;try{r=pfe(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(t,null,2)}
        `)}const i=sG[`filter_${e}`],o=Tw(r,i);let s=null;if(o.result==="error")throw new Error(o.value.map(C=>`${C.key}: ${C.message}`).join(", "));s=(C,B,I)=>o.value.evaluate(C,B,{},I);let a=null,f=null;if(r!==t){const C=Tw(t,i);if(C.result==="error")throw new Error(C.value.map(B=>`${B.key}: ${B.message}`).join(", "));a=(B,I,K,L,Y)=>C.value.evaluate(B,I,{},K,void 0,void 0,L,Y),f=!dM(C.value.expression)}s=s;const m=zG(r);return{filter:s,dynamicFilter:a||void 0,needGeometry:m,needFeature:!!f}}function pfe(n){if(!Av(n))return n;let e=VB(n);return UG(e),e=RG(e),e}function RG(n){if(!Array.isArray(n))return n;const e=yfe(n);return e===!0?e:e.map(t=>RG(t))}function UG(n){let e=!1;const t=[];if(n[0]==="case"){for(let r=1;r<n.length-1;r+=2)e=e||Av(n[r]),t.push(n[r+1]);t.push(n[n.length-1])}else if(n[0]==="match"){e=e||Av(n[1]);for(let r=2;r<n.length-1;r+=2)t.push(n[r+1]);t.push(n[n.length-1])}else if(n[0]==="step"){e=e||Av(n[1]);for(let r=1;r<n.length-1;r+=2)t.push(n[r+1])}e&&(n.length=0,n.push("any",...t));for(let r=1;r<n.length;r++)UG(n[r])}function Av(n){if(!Array.isArray(n))return!1;if(mfe(n[0]))return!0;for(let e=1;e<n.length;e++){const t=n[e];if(Av(t))return!0}return!1}function mfe(n){return n==="pitch"||n==="distance-from-center"}const gfe=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function yfe(n){if(gfe.has(n[0]))for(let e=1;e<n.length;e++){const t=n[e];if(Av(t))return!0}return n}function vfe(n,e){return n<e?-1:n>e?1:0}function zG(n){if(!Array.isArray(n))return!1;if(n[0]==="within")return!0;for(let e=1;e<n.length;e++)if(zG(n[e]))return!0;return!1}function Pw(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?t6(n[1],n[2],"=="):e==="!="?v3(t6(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?t6(n[1],n[2],e):e==="any"?_fe(n.slice(1)):e==="all"?["all"].concat(n.slice(1).map(Pw)):e==="none"?["all"].concat(n.slice(1).map(Pw).map(v3)):e==="in"?pL(n[1],n.slice(2)):e==="!in"?v3(pL(n[1],n.slice(2))):e==="has"?mL(n[1]):e==="!has"?v3(mL(n[1])):e==="within"?n:!0}function t6(n,e,t){switch(n){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,n,e]}}function _fe(n){return["any"].concat(n.map(Pw))}function pL(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",n,["literal",e.sort(vfe)]]:["filter-in-small",n,["literal",e]]}}function mL(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function v3(n){return["!",n]}var Cfe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bfe(n,e){const t={};for(const r in n)r!=="ref"&&(t[r]=n[r]);return Cfe.forEach(r=>{r in e&&(t[r]=e[r])}),t}function xfe(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=bfe(n[t],e[n[t].ref]));return n}function wfe(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mfe={};(function(n){var e=function(){var t=function(ee,V,W,ne){for(W=W||{},ne=ee.length;ne--;W[ee[ne]]=V);return W},r=[1,12],i=[1,13],o=[1,9],s=[1,10],a=[1,11],f=[1,14],m=[1,15],C=[14,18,22,24],B=[18,22],I=[22,24],K={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(V,W,ne,ce,ge,fe,H){var X=fe.length-1;switch(ge){case 1:this.$=new String(V.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(V),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=fe[X-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=fe[X-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[fe[X-2],fe[X]];break;case 16:this.$={},this.$[fe[X][0]]=fe[X][1];break;case 17:this.$=fe[X-2],fe[X-2][fe[X][0]]=fe[X][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[fe[X]];break;case 21:this.$=fe[X-2],fe[X-2].push(fe[X]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,12:1,13:2,15:7,16:8,17:f,23:m},{1:[3]},{14:[1,16]},t(C,[2,7]),t(C,[2,8]),t(C,[2,9]),t(C,[2,10]),t(C,[2,11]),t(C,[2,12]),t(C,[2,3]),t(C,[2,4]),t(C,[2,5]),t([14,18,21,22,24],[2,1]),t(C,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:23,15:7,16:8,17:f,23:m,24:[1,21],25:22},{1:[2,6]},t(C,[2,13]),{18:[1,24],22:[1,25]},t(B,[2,16]),{21:[1,26]},t(C,[2,18]),{22:[1,28],24:[1,27]},t(I,[2,20]),t(C,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:30,15:7,16:8,17:f,23:m},t(C,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:s,11:a,13:31,15:7,16:8,17:f,23:m},t(B,[2,17]),t(B,[2,15]),t(I,[2,21])],defaultActions:{16:[2,6]},parseError:function(V,W){if(W.recoverable)this.trace(V);else throw new Error(V)},parse:function(V){var W=this,ne=[0],ce=[null],ge=[],fe=this.table,H="",X=0,Me=0,be=2,Fe=1,Ue=ge.slice.call(arguments,1),me=Object.create(this.lexer),Ve={yy:{}};for(var _e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_e)&&(Ve.yy[_e]=this.yy[_e]);me.setInput(V,Ve.yy),Ve.yy.lexer=me,Ve.yy.parser=this,typeof me.yylloc>"u"&&(me.yylloc={});var Ot=me.yylloc;ge.push(Ot);var St=me.options&&me.options.ranges;typeof Ve.yy.parseError=="function"?this.parseError=Ve.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _t(){var ye;return ye=me.lex()||Fe,typeof ye!="number"&&(ye=W.symbols_[ye]||ye),ye}for(var ft,$e,et,nt,en={},nn,Et,Vt,Jt;;){if($e=ne[ne.length-1],this.defaultActions[$e]?et=this.defaultActions[$e]:((ft===null||typeof ft>"u")&&(ft=_t()),et=fe[$e]&&fe[$e][ft]),typeof et>"u"||!et.length||!et[0]){var Le="";Jt=[];for(nn in fe[$e])this.terminals_[nn]&&nn>be&&Jt.push("'"+this.terminals_[nn]+"'");me.showPosition?Le="Parse error on line "+(X+1)+`:
`+me.showPosition()+`
Expecting `+Jt.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":Le="Parse error on line "+(X+1)+": Unexpected "+(ft==Fe?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(Le,{text:me.match,token:this.terminals_[ft]||ft,line:me.yylineno,loc:Ot,expected:Jt})}if(et[0]instanceof Array&&et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$e+", token: "+ft);switch(et[0]){case 1:ne.push(ft),ce.push(me.yytext),ge.push(me.yylloc),ne.push(et[1]),ft=null,Me=me.yyleng,H=me.yytext,X=me.yylineno,Ot=me.yylloc;break;case 2:if(Et=this.productions_[et[1]][1],en.$=ce[ce.length-Et],en._$={first_line:ge[ge.length-(Et||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(Et||1)].first_column,last_column:ge[ge.length-1].last_column},St&&(en._$.range=[ge[ge.length-(Et||1)].range[0],ge[ge.length-1].range[1]]),nt=this.performAction.apply(en,[H,Me,X,Ve.yy,et[1],ce,ge].concat(Ue)),typeof nt<"u")return nt;Et&&(ne=ne.slice(0,-1*Et*2),ce=ce.slice(0,-1*Et),ge=ge.slice(0,-1*Et)),ne.push(this.productions_[et[1]][0]),ce.push(en.$),ge.push(en._$),Vt=fe[ne[ne.length-2]][ne[ne.length-1]],ne.push(Vt);break;case 3:return!0}}return!0}},L=function(){var ee={EOF:1,parseError:function(W,ne){if(this.yy.parser)this.yy.parser.parseError(W,ne);else throw new Error(W)},setInput:function(V,W){return this.yy=W||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var V=this._input[0];this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V;var W=V.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),V},unput:function(V){var W=V.length,ne=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var ce=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ne.length-1&&(this.yylineno-=ne.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ne?(ne.length===ce.length?this.yylloc.first_column:0)+ce[ce.length-ne.length].length-ne[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(V){this.unput(this.match.slice(V))},pastInput:function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var V=this.match;return V.length<20&&(V+=this._input.substr(0,20-V.length)),(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var V=this.pastInput(),W=new Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+W+"^"},test_match:function(V,W){var ne,ce,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),ce=V[0].match(/(?:\r\n?|\n).*/g),ce&&(this.yylineno+=ce.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ce?ce[ce.length-1].length-ce[ce.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],ne=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ne)return ne;if(this._backtrack){for(var fe in ge)this[fe]=ge[fe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var V,W,ne,ce;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),fe=0;fe<ge.length;fe++)if(ne=this._input.match(this.rules[ge[fe]]),ne&&(!W||ne[0].length>W[0].length)){if(W=ne,ce=fe,this.options.backtrack_lexer){if(V=this.test_match(ne,ge[fe]),V!==!1)return V;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(V=this.test_match(W,ge[ce]),V!==!1?V:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var W=this.next();return W||this.lex()},begin:function(W){this.conditionStack.push(W)},popState:function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},pushState:function(W){this.begin(W)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(W,ne,ce,ge){switch(ce){case 0:break;case 1:return 6;case 2:return ne.yytext=ne.yytext.substr(1,ne.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return ee}();K.lexer=L;function Y(){this.yy={}}return Y.prototype=K,K.Parser=Y,new Y}();typeof wfe<"u"&&(n.parser=e,n.Parser=e.Parser,n.parse=function(){return e.parse.apply(e,arguments)})})(Mfe);const jG={StyleExpression:LG,isExpression:DG,isExpressionFilter:Ok,createExpression:Tw,createPropertyExpression:FG,normalizePropertyExpression:ife,ZoomConstantExpression:$B,ZoomDependentExpression:YB,StylePropertyFunction:pM},NG={convertFunction:sfe,createFunction:wk,isFunction:xk};var WG=typeof Object.assign=="function"?Object.assign:function(n,e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t};function n6(n){return n*Math.PI/180}var Dv=function(){for(var n=[],e=78271.51696402048;n.length<=24;e/=2)n.push(e);return n}();function GG(n,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(n,e);var t=document.createElement("canvas");return t.width=n,t.height=e,t}function Sfe(n,e){for(var t=0,r=e.length;t<r;++t){var i=e[t];if(i<n&&t+1<r){var o=e[t]/e[t+1];return t+Math.log(e[t]/n)/Math.log(o)}}return r-1}var Efe=Array(256).join("");function HB(n,e){if(e>=.05){for(var t="",r=n.split(`
`),i=Efe.slice(0,Math.round(e/.1)),o=0,s=r.length;o<s;++o)o>0&&(t+=`
`),t+=r[o].split("").join(i);return t}return n}var r6;function QG(){return r6||(r6=GG(1,1).getContext("2d")),r6}function dg(n,e){return QG().measureText(n).width+(n.length-1)*e}var ZB={};kB&&Eo(kB,Li.CLEAR,function(){ZB={}});function XB(n,e,t,r){if(n.indexOf(`
`)!==-1){for(var i=n.split(`
`),o=[],s=0,a=i.length;s<a;++s)o.push(XB(i[s],e,t,r));return o.join(`
`)}var f=t+","+e+","+n+","+r,m=ZB[f];if(!m){var C=n.split(" ");if(C.length>1){var B=QG();B.font=e;for(var I=B.measureText("M").width,K=I*t,L="",o=[],s=0,a=C.length;s<a;++s){var Y=C[s],ee=L+(L?" ":"")+Y;dg(ee,r)<=K?L=ee:(L&&o.push(L),L=Y)}L&&o.push(L);for(var s=0,a=o.length;s<a&&a>1;++s){var V=o[s];if(dg(V,r)<K*.35){var W=s>0?dg(o[s-1],r):1/0,ne=s<a-1?dg(o[s+1],r):1/0;o.splice(s,1),a-=1,W<ne?(o[s-1]+=" "+V,s-=1):o[s]=V+" "+o[s]}}for(var s=0,a=o.length-1;s<a;++s){var ce=o[s],ge=o[s+1];if(dg(ce,r)>K*.7&&dg(ge,r)<K*.6){var fe=ce.split(" "),H=fe.pop();dg(H,r)<K*.2&&(o[s]=fe.join(" "),o[s+1]=H+" "+ge),a-=1}}m=o.join(`
`)}else m=n;m=HB(m,r),ZB[f]=m}return m}var Ofe=NG.isFunction,Bfe=NG.convertFunction,Ife=jG.isExpression,kfe=jG.createPropertyExpression,Tfe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Pfe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Kfe=function(n,e){var t=kfe(n,e);if(t.result==="error")throw new Error(t.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return t.value},JB={},Kw={zoom:0},_3,i6;function Ti(n,e,t,r,i,o){var s=n.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var a=o[s];if(!a[t]){var f=(n[e]||JB)[t],m=sG["".concat(e,"_").concat(n.type)][t];f===void 0&&(f=m.default);var C=Ife(f);if(!C&&Ofe(f)&&(f=Bfe(f,m),C=!0),C){var B=Kfe(f,m);a[t]=B.evaluate.bind(B)}else m.type=="color"&&(f=mu.parse(f)),a[t]=function(){return f}}return Kw.zoom=r,a[t](Kw,i)}function Lfe(n,e,t,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),n in i||(i[n]=ffe(e).filter),Kw.zoom=r,i[n](Kw,t)}function t0(n,e){if(n){if(n.a===0||e===0)return;var t=n.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(n.r*255/t)+","+Math.round(n.g*255/t)+","+Math.round(n.b*255/t)+","+t*e+")"}return n}var Dfe=/^([^]*)\{(.*)\}([^]*)$/;function o6(n,e){var t;do if(t=n.match(Dfe),t){var r=e[t[2]]||"";n=t[1]+r+t[3]}while(t);return n}function Ffe(n,e,t,r,i,o,s){if(r===void 0&&(r=Dv),typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");var a,f;if(o){if(typeof Image<"u"){var m=new Image;m.crossOrigin="anonymous",m.onload=function(){a=m,f=[m.width,m.height],n.changed(),m.onload=null},m.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var C=self;C.postMessage({action:"loadImage",src:o}),C.addEventListener("message",function(Ot){Ot.data.action==="imageLoaded"&&Ot.data.src===o&&(a=Ot.data.image,f=[a.width,a.height])})}}for(var B=xfe(e.layers),I={},K=[],L={},Y={},ee={},V={},W,ne=0,ce=B.length;ne<ce;++ne){var ge=B[ne],fe=ge.id;if(typeof t=="string"&&ge.source==t||t.indexOf(fe)!==-1){var H=ge["source-layer"];if(!W){W=ge.source;var X=e.sources[W];if(!X)throw new Error('Source "'.concat(W,'" is not defined'));var Me=X.type;if(Me!=="vector"&&Me!=="geojson")throw new Error('Source "'.concat(W,'" is not of type "vector" or "geojson", but "').concat(Me,'"'))}var be=I[H];be||(be=[],I[H]=be),be.push({layer:ge,index:ne}),K.push(fe)}}var Fe=new CC,Ue=new Uy,me=[],Ve=function(_e,Ot){var St=_e.getProperties(),_t=I[St.layer];if(_t){var ft=r.indexOf(Ot);ft==-1&&(ft=Sfe(Ot,r));for(var $e=Tfe[_e.getGeometry().getType()],et={properties:St,type:$e},nt=-1,en=function(Vt,Jt){var Le=_t[Vt],ye=Le.layer,Te=ye.id,Qe=ye.layout||JB,st=ye.paint||JB;if(Qe.visibility==="none"||"minzoom"in ye&&ft<ye.minzoom||"maxzoom"in ye&&ft>=ye.maxzoom)return"continue";var lt=ye.filter;if(!lt||Lfe(Te,lt,et,ft,V)){var Kt=void 0,Ht=void 0,Wt=void 0,Rn=void 0,nr=void 0,_n=void 0,tr=Le.index;if($e==3&&(ye.type=="fill"||ye.type=="fill-extrusion"))if(Ht=Ti(ye,"paint",ye.type+"-opacity",ft,et,ee),ye.type+"-pattern"in st){var ur=Ti(ye,"paint",ye.type+"-pattern",ft,et,ee);if(ur){var _r=typeof ur=="string"?o6(ur,St):ur.toString();if(a&&i&&i[_r]){++nt,_n=me[nt],(!_n||!_n.getFill()||_n.getStroke()||_n.getText())&&(_n=new bg({fill:new Uy}),me[nt]=_n),Wt=_n.getFill(),_n.setZIndex(tr);var Sr=_r+"."+Ht,fr=Y[Sr];if(!fr){var pr=i[_r],fi=GG(pr.width,pr.height),Pe=fi.getContext("2d");Pe.globalAlpha=Ht,Pe.drawImage(a,pr.x,pr.y,pr.width,pr.height,0,0,pr.width,pr.height),fr=Pe.createPattern(fi,"repeat"),Y[Sr]=fr}Wt.setColor(fr)}}}else Kt=t0(Ti(ye,"paint",ye.type+"-color",ft,et,ee),Ht),ye.type+"-outline-color"in st&&(nr=t0(Ti(ye,"paint",ye.type+"-outline-color",ft,et,ee),Ht)),nr||(nr=Kt),(Kt||nr)&&(++nt,_n=me[nt],(!_n||Kt&&!_n.getFill()||!Kt&&_n.getFill()||nr&&!_n.getStroke()||!nr&&_n.getStroke()||_n.getText())&&(_n=new bg({fill:Kt?new Uy:void 0,stroke:nr?new CC:void 0}),me[nt]=_n),Kt&&(Wt=_n.getFill(),Wt.setColor(Kt)),nr&&(Rn=_n.getStroke(),Rn.setColor(nr),Rn.setWidth(.5)),_n.setZIndex(tr));if($e!=1&&ye.type=="line"){Kt=!("line-pattern"in st)&&"line-color"in st?t0(Ti(ye,"paint","line-color",ft,et,ee),Ti(ye,"paint","line-opacity",ft,et,ee)):void 0;var Q=Ti(ye,"paint","line-width",ft,et,ee);Kt&&Q>0&&(++nt,_n=me[nt],(!_n||!_n.getStroke()||_n.getFill()||_n.getText())&&(_n=new bg({stroke:new CC}),me[nt]=_n),Rn=_n.getStroke(),Rn.setLineCap(Ti(ye,"layout","line-cap",ft,et,ee)),Rn.setLineJoin(Ti(ye,"layout","line-join",ft,et,ee)),Rn.setMiterLimit(Ti(ye,"layout","line-miter-limit",ft,et,ee)),Rn.setColor(Kt),Rn.setWidth(Q),Rn.setLineDash(st["line-dasharray"]?Ti(ye,"paint","line-dasharray",ft,et,ee).map(function(Yr){return Yr*Q}):null),_n.setZIndex(tr))}var oe=!1,Re=null,ut=0,Tt=void 0,jt=void 0,ar=void 0;if(($e==1||$e==2)&&"icon-image"in Qe){var ht=Ti(ye,"layout","icon-image",ft,et,ee);if(ht){Tt=typeof ht=="string"?o6(ht,St):ht.toString();var Ee=void 0;if(a&&i&&i[Tt]){var ve=Ti(ye,"layout","icon-rotation-alignment",ft,et,ee);if($e==2){var p=_e.getGeometry();if(p.getFlatMidpoint||p.getFlatMidpoints){var Ke=p.getExtent(),ze=Math.sqrt(Math.max(Math.pow((Ke[2]-Ke[0])/Ot,2),Math.pow((Ke[3]-Ke[1])/Ot,2)));if(ze>150){var it=p.getType()==="MultiLineString"?p.getFlatMidpoints():p.getFlatMidpoint();i6||(_3=[NaN,NaN],i6=new c1("Point",_3,[],{},null)),Ee=i6,_3[0]=it[0],_3[1]=it[1];var dt=Ti(ye,"layout","symbol-placement",ft,et,ee);if(dt==="line"&&ve==="map")for(var ot=p.getStride(),Ft=p.getFlatCoordinates(),rt=0,mt=Ft.length-ot;rt<mt;rt+=ot){var Bt=Ft[rt],cn=Ft[rt+1],mn=Ft[rt+ot],fn=Ft[rt+ot+1],Cr=Math.min(Bt,mn),rr=Math.min(cn,fn),Mr=Math.max(Bt,mn),oi=Math.max(cn,fn);if(it[0]>=Cr&&it[0]<=Mr&&it[1]>=rr&&it[1]<=oi){ut=Math.atan2(cn-fn,mn-Bt);break}}}}}if($e!==2||Ee){var $r=Ti(ye,"layout","icon-size",ft,et,ee),Un=st["icon-color"]!==void 0?Ti(ye,"paint","icon-color",ft,et,ee):null;if(!Un||Un.a!==0){var Sr=Tt+"."+$r;if(Un!==null&&(Sr+="."+Un),jt=L[Sr],!jt){var On=i[Tt];jt=new LW({color:Un?[Un.r*255,Un.g*255,Un.b*255,Un.a]:void 0,img:a,imgSize:f,size:[On.width,On.height],offset:[On.x,On.y],rotateWithView:ve==="map",scale:$r/On.pixelRatio,displacement:"icon-offset"in Qe?Ti(ye,"layout","icon-offset",ft,et,ee).map(function(ni){return-ni*On.pixelRatio}):void 0}),L[Sr]=jt}}jt&&(++nt,_n=me[nt],(!_n||!_n.getImage()||_n.getFill()||_n.getStroke())&&(_n=new bg,me[nt]=_n),_n.setGeometry(Ee),jt.setRotation(ut+n6(Ti(ye,"layout","icon-rotate",ft,et,ee))),jt.setOpacity(Ti(ye,"paint","icon-opacity",ft,et,ee)),jt.setAnchor(Pfe[Ti(ye,"layout","icon-anchor",ft,et,ee)]),_n.setImage(jt),Re=_n.getText(),_n.setText(void 0),_n.setZIndex(tr),oe=!0,ar=!1)}else ar=!0}}}if($e==1&&ye.type==="circle"){++nt,_n=me[nt],(!_n||!_n.getImage()||_n.getFill()||_n.getStroke())&&(_n=new bg,me[nt]=_n);var Er="circle-radius"in st?Ti(ye,"paint","circle-radius",ft,et,ee):5,ti=t0(Ti(ye,"paint","circle-stroke-color",ft,et,ee),Ti(ye,"paint","circle-stroke-opacity",ft,et,ee)),ji=t0(Ti(ye,"paint","circle-color",ft,et,ee),Ti(ye,"paint","circle-opacity",ft,et,ee)),ei=Ti(ye,"paint","circle-stroke-width",ft,et,ee),Wr=Er+"."+ti+"."+ji+"."+ei;jt=L[Wr],jt||(jt=new IW({radius:Er,stroke:ti&&ei>0?new CC({width:ei,color:ti}):void 0,fill:ji?new Uy({color:ji}):void 0}),L[Wr]=jt),_n.setImage(jt),Re=_n.getText(),_n.setText(void 0),_n.setGeometry(void 0),_n.setZIndex(tr),oe=!0}var Ni=void 0,Ko=void 0,aa,yo,qa,Wi;if("text-field"in Qe){yo=Math.round(Ti(ye,"layout","text-size",ft,et,ee));var Ho=Ti(ye,"layout","text-font",ft,et,ee);aa=Ti(ye,"layout","text-line-height",ft,et,ee),Ko=RB(s?s(Ho):Ho,yo,aa),qa=Ti(ye,"layout","text-letter-spacing",ft,et,ee),Wi=Ti(ye,"layout","text-max-width",ft,et,ee);var Ma=Ti(ye,"layout","text-field",ft,et,ee);typeof Ma=="object"&&Ma.sections?Ma.sections.length===1?Ni=Ma.toString():Ni=Ma.sections.reduce(function(Yr,ni,Sa){var la=ni.fontStack?ni.fontStack.split(","):Ho,mr=RB(s?s(la):la,yo*(ni.scale||1),aa),Fs=ni.text;if(Fs===`
`)return Yr.push(`
`,""),Yr;if($e==2){Yr.push(HB(Fs,qa),mr);return}Fs=XB(Fs,mr,Wi,qa).split(`
`);for(var Ms=0,Hi=Fs.length;Ms<Hi;++Ms)Ms>0&&Yr.push(`
`,""),Yr.push(Fs[Ms],mr);return Yr},[]):Ni=o6(Ma,St).trim(),Ht=Ti(ye,"paint","text-opacity",ft,et,ee)}if(Ni&&Ht&&!ar){oe||(++nt,_n=me[nt],(!_n||!_n.getText()||_n.getFill()||_n.getStroke())&&(_n=new bg,me[nt]=_n),_n.setImage(void 0),_n.setGeometry(void 0)),_n.getText()||_n.setText(Re||new xAe({padding:[2,2,2,2]})),Re=_n.getText();var Gi=Qe["text-transform"];Gi=="uppercase"?Ni=Array.isArray(Ni)?Ni.map(function(ni,Sa){return Sa%2?ni:ni.toUpperCase()}):Ni.toUpperCase():Gi=="lowercase"&&(Ni=Array.isArray(Ni)?Ni.map(function(ni,Sa){return Sa%2?ni:ni.toLowerCase()}):Ni.toLowerCase());var sa=Array.isArray(Ni)?Ni:$e==2?HB(Ni,qa):XB(Ni,Ko,Wi,qa);Re.setText(sa),Re.setFont(Ko),Re.setRotation(n6(Ti(ye,"layout","text-rotate",ft,et,ee)));var Va=Ti(ye,"layout","text-anchor",ft,et,ee),dt=oe||$e==1?"point":Ti(ye,"layout","symbol-placement",ft,et,ee);Re.setPlacement(dt),Re.setOverflow(dt==="point");var ci=Ti(ye,"paint","text-halo-width",ft,et,ee),er=Ti(ye,"layout","text-offset",ft,et,ee),jo=Ti(ye,"paint","text-translate",ft,et,ee),co=0,Qi=0;if(dt=="point"){var Oe="center";Va.indexOf("left")!==-1?(Oe="left",Qi=ci):Va.indexOf("right")!==-1&&(Oe="right",Qi=-ci),Re.setTextAlign(Oe);var Je=Ti(ye,"layout","text-rotation-alignment",ft,et,ee);Re.setRotateWithView(Je=="map")}else Re.setMaxAngle(n6(Ti(ye,"layout","text-max-angle",ft,et,ee))*Ni.length/sa.length),Re.setTextAlign(),Re.setRotateWithView(!1);var rn="middle";Va.indexOf("bottom")==0?(rn="bottom",co=-ci-.5*(aa-1)*yo):Va.indexOf("top")==0&&(rn="top",co=ci+.5*(aa-1)*yo),Re.setTextBaseline(rn),Re.setOffsetX(er[0]*yo+Qi+jo[0]),Re.setOffsetY(er[1]*yo+co+jo[1]),Ue.setColor(t0(Ti(ye,"paint","text-color",ft,et,ee),Ht)),Re.setFill(Ue);var pn=t0(Ti(ye,"paint","text-halo-color",ft,et,ee),Ht);if(pn){Fe.setColor(pn),ci*=2;var Pt=.5*yo;Fe.setWidth(ci<=Pt?ci:Pt),Re.setStroke(Fe)}else Re.setStroke(void 0);var En=Ti(ye,"layout","text-padding",ft,et,ee),Hr=Re.getPadding();En!==Hr[0]&&(Hr[0]=En,Hr[1]=En,Hr[2]=En,Hr[3]=En),_n.setZIndex(tr)}}},nn=0,Et=_t.length;nn<Et;++nn)en(nn);if(nt>-1)return me.length=nt+1,me}};return n.setStyle(Ve),n.set("mapbox-source",W),n.set("mapbox-layers",K),Ve}var $G={exports:{}};(function(){var n;$G.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return n},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},n=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(Bp);var Rfe=$G.exports;const Ufe=wa(Rfe);var gL={},zfe=/font-family: ?([^;]*);/,jfe=/("|')/g,C3;function Nfe(n){if(!C3){C3={};for(var e=document.styleSheets,t=0,r=e.length;t<r;++t){var i=e[t];try{var o=i.rules||i.cssRules;if(o)for(var s=0,a=o.length;s<a;++s){var f=o[s];if(f.type==5){var m=f.cssText.match(zfe);C3[m[1].replace(jfe,"")]=!0}}}catch{}}}return n in C3}var yL={},Wfe=Ufe.getNames();function Gfe(n){var e=n.toString();if(e in yL)return n;for(var t=n.map(function(m){var C=RB(m,1).split(" ");return[C.slice(3).join(" ").replace(/"/g,""),C[1]+C[0]]}),r=0,i=t.length;r<i;++r){var o=t[r],s=o[0];if(!Nfe(s)&&Wfe.indexOf(s)!==-1){var a="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+a+'"]')){var f=document.createElement("link");f.href=a,f.rel="stylesheet",document.head.appendChild(f)}}}return yL[e]=!0,n}var YG=/^(.*)(\?.*)$/;function Lw(n,e){return e&&n.indexOf(".")===0&&(n=e+n),n}function a6(n,e,t){n=Lw(n,e);var r=n.match(YG);return r?r[1]+t+(r.length>2?r[2]:""):n+t}function Qfe(n,e,t,r,i){return new Promise(function(o,s){if(typeof e!="object"&&(e=JSON.parse(e)),e.version!=8)return s(new Error("glStyle version 8 required."));if(!(n instanceof jW||n instanceof oG))return s(new Error("Can only apply to VectorLayer or VectorTileLayer"));var a,f,m,C;function B(){!C&&(!e.sprite||f)?(C=Ffe(n,e,t,i,f,m,Gfe),n.getStyle()?o():s(new Error("Nothing to show for source [".concat(t,"]")))):C?(n.setStyle(C),o()):s(new Error("Something went wrong trying to apply style."))}if(e.sprite){a=window.devicePixelRatio>=1.5?.5:1;var I=a==.5?"@2x":"",K=a6(e.sprite,r,I+".json");fetch(K,{credentials:"same-origin"}).then(function(L){return!L.ok&&I!==""?(K=a6(e.sprite,r,".json"),fetch(K,{credentials:"same-origin"})):L}).then(function(L){if(L.ok)return L.json();s(new Error("Problem fetching sprite from ".concat(K,": ").concat(L.statusText)))}).then(function(L){if(L===void 0)return s(new Error("No sprites found."));f=L,m=a6(e.sprite,r,I+".png"),B()}).catch(function(L){s(new Error("Sprites cannot be loaded: ".concat(K,": ").concat(L.message)))})}else B()})}var e8={};function $fe(n,e){var t={id:e.id,type:e.type},r={};function i(o){var s=e.layout||{},a=e.paint||{};t.paint=a;var f=typeof n.getSource=="function"?n.getSource().getTileGrid().getZForResolution(o):n.getView().getZoom(),m=typeof n.getTargetElement=="function"?n.getTargetElement():void 0,C,B;if(a["background-color"]!==void 0&&(C=Ti(t,"paint","background-color",f,e8,r),m&&(m.style.background=mu.parse(C).toString())),a["background-opacity"]!==void 0&&(B=Ti(t,"paint","background-opacity",f,e8,r),m&&(m.style.opacity=B)),s.visibility=="none"){m&&(m.style.backgroundColor="",m.style.opacity="");return}return t0(C,B)}if(typeof n.getTargetElement=="function")n.getTargetElement()&&i(),n.on(["change:resolution","change:target"],i);else if(typeof n.setBackground=="function")n.setBackground(i);else throw new Error("Unable to apply background.")}function Yfe(n,e){var t;return n.some(function(r){if(r.id==e)return t=r.source,!0}),t}function qG(n){var e=n.bounds;if(e){var t=xB([e[0],e[1]]),r=xB([e[2],e[3]]);return[t[0],t[1],r[0],r[1]]}}function qfe(n,e){n=WG({},n);var t=[e,JSON.stringify(n)].toString(),r=gL[t];return r||(r=new rG({url:n.tiles?void 0:e,tileJSON:n.tiles?n:void 0}),gL[t]=r),new Promise(function(i){var o=r.on("change",function(){var s=r.getState();if(s==="ready"){var a=r.getTileJSON(),f=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(e)for(var m=0,C=f.length;m<C;++m)f[m]=decodeURI(new URL(f[m],e).href);var B=r.getTileGrid(),I=qG(a),K=a.minzoom||0,L=a.maxzoom||22,Y=r.get("ol-source");Y===void 0&&(Y=new aG({attributions:r.getAttributions(),format:new Vse,tileGrid:new p2({origin:B.getOrigin(0),extent:I||B.getExtent(),minZoom:K,resolutions:Dv.slice(0,L+1),tileSize:512}),urls:f}),r.set("ol-source",Y)),Bb(o),i(Y)}else s==="error"&&(r.set("ol-source",null),Bb(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function Vfe(n,e){var t=new oG({declutter:!0,visible:!1});return qfe(n,e).then(function(r){t.setSource(r)}),t}function Hfe(n,e){var t=new wce,r=new rG({transition:0,url:n.tiles?void 0:e,tileJSON:n.tiles?n:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){Bb(i);var s=r.getTileJSON(),a=qG(s),f=r.getTileGrid(),m=n.tileSize||s.tileSize||512,C=s.minzoom||0,B=s.maxzoom||22;r.tileGrid=new p2({origin:f.getOrigin(0),extent:a||f.getExtent(),minZoom:C,resolutions:JI({maxZoom:B,tileSize:m}).getResolutions(),tileSize:m}),t.setSource(r)}else o==="error"&&(Bb(i),t.setSource(void 0))});return r.setTileLoadFunction(function(o,s){if(s.indexOf("{bbox-epsg-3857}")!=-1){var a=r.getTileGrid().getTileCoordExtent(o.getTileCoord());s=s.replace("{bbox-epsg-3857}",a.toString())}var f=o.getImage();f.src=s}),t}var vL=new fse;function Zfe(n,e){var t=n.data,r,i;return typeof t=="string"?i=Lw(t,e):r=vL.readFeatures(t,{featureProjection:"EPSG:3857"}),new jW({declutter:!0,source:new QW({attributions:n.attribution,features:r,format:vL,url:i}),visible:!1})}function _L(n,e,t,r){var i=t.getZoom(),o=Ti(n,"paint","raster-opacity",i,e8,r);e.setOpacity(o)}function CL(n,e,t,r,i,o){o===void 0&&(o="");var s=[],a=e.getView();!a.isDef()&&!a.getRotation()&&!a.getResolutions()&&(a=new hm(WG(a.getProperties(),{maxResolution:Dv[0]})),e.setView(a)),"center"in n&&!a.getCenter()&&a.setCenter(xB(n.center)),"zoom"in n&&a.getZoom()===void 0&&a.setResolution(Dv[0]/Math.pow(2,n.zoom)),(!a.getCenter()||a.getZoom()===void 0)&&a.fit(a.getProjection().getExtent(),{nearest:!0,size:e.getSize()}),n.sprite&&(n.sprite.indexOf("mapbox://")==0?n.sprite=t+"/sprite"+o:n.sprite.indexOf("http")!=0&&(n.sprite=(r?r+i:"")+n.sprite+o));for(var f=n.layers,m=[],C,B,I,K,L,Y,ee=function(ce,ge){C=f[ce];var fe=C.type;if(!(fe=="heatmap"||fe=="hillshade"))if(fe=="background")$fe(e,C);else{if(K=C.source||Yfe(f,C.ref),K!=I){if(m.length&&(s.push(bL(L,m,n,i,e)),m=[]),B=n.sources[K],Y=B.url,Y)if(Y=Lw(Y,i),Y.indexOf("mapbox://")==0){var H=Y.replace("mapbox://","");B.tiles=["a","b","c","d"].map(function(Me){return"https://"+Me+".tiles.mapbox.com/v4/"+H+"/{z}/{x}/{y}."+(B.type=="vector"?"vector.pbf":"png")+o})}else Y.indexOf("/")===0&&r.indexOf("http")===0&&(Y=r+Y);if(B.tiles&&(B.tiles=B.tiles.map(function(Me){return Lw(Me,i)})),B.type=="vector")L=Vfe(B,Y);else if(B.type=="raster"){L=Hfe(B,Y),L.setVisible(C.layout?C.layout.visibility!=="none":!0);var X={};a.on("change:resolution",_L.bind(V,C,L,a,X)),_L(C,L,a,X)}else B.type=="geojson"&&(L=Zfe(B,i));I=K,L&&L.set("mapbox-source",I)}m.push(C.id)}},V=this,W=0,ne=f.length;W<ne;++W)ee(W);return s.push(bL(L,m,n,i,e)),e.set("mapbox-style",n),Promise.all(s)}function Xfe(n,e){var t,r="",i="",o="",s="";if((typeof n=="string"||n instanceof HTMLElement)&&(n=new HI({target:n})),typeof e=="string"){var a=e.match(YG);a&&(i=a[1],r=a.length>2?a[2]:""),t=new Promise(function(f,m){fetch(e,{credentials:"same-origin"}).then(function(C){return C.json()}).then(function(C){var B=document.createElement("A");B.href=e;var I=B.href;s=B.pathname.split("/").slice(0,-1).join("/")+"/",o=I.substr(0,I.indexOf(s)),CL(C,n,i,o,s,r).then(function(){f(n)}).catch(m)}).catch(function(C){m(new Error("Could not load ".concat(e,": ").concat(C.message)))})})}else t=new Promise(function(f,m){CL(e,n).then(function(){f(n)}).catch(m)});return t}function Jfe(n,e){return(typeof n=="string"||n instanceof HTMLElement)&&(n=new HI({target:n})),setTimeout(function(){Xfe(n,e)},0),n}function bL(n,e,t,r,i){for(var o=24,s=0,a=t.layers,f=0,m=a.length;f<m;++f){var C=a[f];e.indexOf(C.id)!==-1&&(o=Math.min("minzoom"in C?C.minzoom:0,o),s=Math.max("maxzoom"in C?C.maxzoom:24,s))}return new Promise(function(B,I){var K=function(){var L=n.getSource();if(!L||L.getState()==="error"){I(new Error("Error accessing data for source "+n.get("mapbox-source")));return}if("getTileGrid"in L){var Y=L.getTileGrid();if(Y){var ee=Y.getMinZoom();(o>0||ee>0)&&n.setMaxResolution(Math.min(Dv[o],Y.getResolution(ee))+1e-9),s<24&&n.setMinResolution(Dv[s]+1e-9)}}L instanceof QW||L instanceof aG?Qfe(n,t,e,r).then(function(){n.setVisible(!0),B()},function(V){I(V)}):B()};n.set("mapbox-layers",e),i.getLayers().getArray().indexOf(n)===-1&&i.addLayer(n),n.getSource()?K():n.once("change:source",K)})}function Or(){var n="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",e="7dfd17e1d8192e9d94618577798e5822b83d8c7d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:11,column:2},end:{line:15,column:3}},1:{start:{line:12,column:4},end:{line:12,column:16}},2:{start:{line:14,column:4},end:{line:14,column:149}},3:{start:{line:14,column:103},end:{line:14,column:133}},4:{start:{line:18,column:24},end:{line:25,column:3}},5:{start:{line:28,column:14},end:{line:28,column:18}},6:{start:{line:30,column:19},end:{line:30,column:23}},7:{start:{line:32,column:4},end:{line:32,column:17}},8:{start:{line:33,column:4},end:{line:38,column:6}},9:{start:{line:39,column:4},end:{line:39,column:67}},10:{start:{line:42,column:4},end:{line:42,column:26}},11:{start:{line:42,column:19},end:{line:42,column:26}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:14},end:{line:112,column:26}},36:{start:{line:113,column:4},end:{line:180,column:9}},37:{start:{line:117,column:22},end:{line:117,column:45}},38:{start:{line:172,column:22},end:{line:172,column:40}},39:{start:{line:183,column:22},end:{line:183,column:62}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:10,column:9},end:{line:10,column:21}},loc:{start:{line:10,column:30},end:{line:16,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:14,column:92},end:{line:14,column:93}},loc:{start:{line:14,column:103},end:{line:14,column:133}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:20,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:21,column:18},end:{line:21,column:19}},loc:{start:{line:21,column:24},end:{line:22,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:19},end:{line:23,column:20}},loc:{start:{line:23,column:25},end:{line:24,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:21},end:{line:40,column:3}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:28},end:{line:45,column:3}},line:41},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:181,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:117,column:15},end:{line:117,column:16}},loc:{start:{line:117,column:22},end:{line:117,column:45}},line:117},15:{name:"(anonymous_15)",decl:{start:{line:172,column:15},end:{line:172,column:16}},loc:{start:{line:172,column:22},end:{line:172,column:40}},line:172}},branchMap:{0:{loc:{start:{line:11,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:15,column:3}},{start:{line:13,column:9},end:{line:15,column:3}}],line:11},1:{loc:{start:{line:11,column:6},end:{line:11,column:34}},type:"binary-expr",locations:[{start:{line:11,column:6},end:{line:11,column:13}},{start:{line:11,column:17},end:{line:11,column:34}}],line:11},2:{loc:{start:{line:42,column:4},end:{line:42,column:26}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:133,column:26},end:{line:133,column:59}},type:"binary-expr",locations:[{start:{line:133,column:26},end:{line:133,column:53}},{start:{line:133,column:57},end:{line:133,column:59}}],line:133},5:{loc:{start:{line:145,column:6},end:{line:167,column:10}},type:"binary-expr",locations:[{start:{line:145,column:6},end:{line:145,column:29}},{start:{line:145,column:49},end:{line:167,column:10}}],line:145}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAoBW,cAwIL,YAxIK;AApBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAEjD,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,MAAM,8BAA8B,MAAM,UAA0D;AAAA,EAClG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAAmC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK,IAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAAuC;AACxD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAY,EAAE,aAAa;AAAA,gBAC5B;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBACZ;AAAA,UAAE,OAAO;AAAA,QAAE;AAAA,QAAE,KAAK,MAAM;AAAA,SAC3B;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,SAAS;AAAA,YAAE;AAAA,aAAC;AAAA,UACtB,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,+BAAC,WAAO;AAAA,cAAE,WAAW;AAAA,YAAE;AAAA,aAAC;AAAA,UACxB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAY,EAAE,UAAU;AAAA,UACxB,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dfd17e1d8192e9d94618577798e5822b83d8c7d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Or=function(){return s},s}Or();function xL(n){return Or().f[0]++,Or().s[0]++,Or().b[1][0]++,!n||(Or().b[1][1]++,n.length<2)?(Or().b[0][0]++,Or().s[1]++,null):(Or().b[0][1]++,Or().s[2]++,q.jsx("span",{className:"maputnik-coords",children:n.map(e=>(Or().f[1]++,Or().s[3]++,String(e).padStart(7,""))).join(", ")}))}class VG extends Sn.Component{constructor(t){Or().f[5]++,Or().s[7]++;super(t);dn(this,"updateStyle");dn(this,"map");dn(this,"container",(Or().s[5]++,null));dn(this,"overlay");dn(this,"popupContainer",(Or().s[6]++,null));dn(this,"closeOverlay",(Or().s[32]++,t=>{Or().f[12]++,Or().s[33]++,t.target.blur(),Or().s[34]++,this.overlay.setPosition(void 0)}));Or().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Or().s[9]++,this.updateStyle=F5.throttle(this._updateStyle.bind(this),200)}_updateStyle(t){if(Or().f[6]++,Or().s[10]++,this.map)Or().b[2][1]++;else{Or().b[2][0]++,Or().s[11]++;return}Or().s[12]++,this.map.getLayers().clear(),Or().s[13]++,Jfe(this.map,t)}componentDidUpdate(t){Or().f[7]++,Or().s[14]++,this.props.mapStyle!==t.mapStyle?(Or().b[3][0]++,Or().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Or().b[3][1]++}componentDidMount(){Or().f[8]++,Or().s[16]++,this.overlay=new rue({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const t=(Or().s[17]++,new HI({target:this.container,overlays:[this.overlay],view:new hm({zoom:1,center:[180,-90]})}));Or().s[18]++,t.on("pointermove",i=>{Or().f[9]++;const o=(Or().s[19]++,IE(i.coordinate));Or().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Or().s[21]++;const r=()=>{Or().f[10]++;const i=(Or().s[22]++,t.getView().getZoom()),o=(Or().s[23]++,IE(t.getView().getCenter()));Or().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Or().s[25]++,r(),Or().s[26]++,t.on("moveend",r),Or().s[27]++,t.on("postrender",i=>{Or().f[11]++;const o=(Or().s[28]++,IE(t.getView().getCenter()));Or().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:t.getView().getRotation().toFixed(2),zoom:t.getView().getZoom().toFixed(2)})}),Or().s[30]++,this.map=t,Or().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){Or().f[13]++;const t=(Or().s[35]++,this.props.t);return Or().s[36]++,q.jsxs("div",{className:"maputnik-ol-container",children:[q.jsxs("div",{ref:r=>(Or().f[14]++,Or().s[37]++,this.popupContainer=r),style:{background:"black"},className:"maputnik-popup",children:[q.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":t("Close popup"),children:""}),q.jsx(sN,{features:(Or().b[4][0]++,this.state.selectedFeatures||(Or().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),q.jsxs("div",{className:"maputnik-ol-zoom",children:[t("Zoom:")," ",this.state.zoom]}),(Or().b[5][0]++,this.props.debugToolbox&&(Or().b[5][1]++,q.jsxs("div",{className:"maputnik-ol-debug",children:[q.jsxs("div",{children:[q.jsxs("label",{children:[t("cursor:")," "]}),q.jsx("span",{children:xL(this.state.cursor)})]}),q.jsxs("div",{children:[q.jsxs("label",{children:[t("center:")," "]}),q.jsx("span",{children:xL(this.state.center)})]}),q.jsxs("div",{children:[q.jsxs("label",{children:[t("rotation:")," "]}),q.jsx("span",{children:this.state.rotation})]})]}))),q.jsx("div",{className:"maputnik-ol",ref:r=>(Or().f[15]++,Or().s[38]++,this.container=r),role:"region","aria-label":t("Map view"),style:{...this.props.style}})]})}}dn(VG,"defaultProps",(Or().s[4]++,{onMapLoaded:()=>{Or().f[2]++},onDataChange:()=>{Or().f[3]++},onLayerSelect:()=>{Or().f[4]++}}));const epe=(Or().s[39]++,zo()(VG));var HG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(HG);var tpe=HG.exports;const Sp=wa(tpe);function Eg(){var n="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",e="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Eg=function(){return s},s}Eg();class npe extends Sn.Component{render(){Eg().f[0]++;const e=(Eg().s[0]++,{width:20,height:20,...this.props.style});return Eg().s[1]++,this.props.isCollapsed?(Eg().b[0][0]++,q.jsx(die,{style:e})):(Eg().b[0][1]++,q.jsx(hie,{style:e}))}}function Ny(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",e="b04bfec534013c327fd210571832bbd2813a944a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ny=function(){return s},s}Ny();class rpe extends Sn.Component{render(){return Ny().f[0]++,Ny().s[0]++,q.jsx("li",{className:"maputnik-layer-list-group",children:q.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:e=>(Ny().f[1]++,Ny().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[q.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),q.jsx("span",{className:"maputnik-space"}),q.jsx(npe,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function Nb(){return Nb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nb.apply(null,arguments)}function ipe(n){if(Array.isArray(n))return n}function ope(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],f=!0,m=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);f=!0);}catch(C){m=!0,i=C}finally{try{if(!f&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(m)throw i}}return a}}function t8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ZG(n,e){if(n){if(typeof n=="string")return t8(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?t8(n,e):void 0}}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(n,e){return ipe(n)||ope(n,e)||ZG(n,e)||ape()}function Fv(n){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(n)}function spe(n,e){if(Fv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JG(n){var e=spe(n,"string");return Fv(e)=="symbol"?e:e+""}function ba(n,e,t){return(e=JG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.forEach(function(i){ba(n,i,t[i])})}return n}function y2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,JG(r.key),r)}}function v2(n,e,t){return e&&lpe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function po(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bk(n,e){if(e&&(Fv(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return po(n)}function Wb(n){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(n)}function n8(n,e){return n8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},n8(n,e)}function Ik(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&n8(n,e)}var upe=function(n,e,t,r,i,o,s,a){if(!n){var f;if(e===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[t,r,i,o,s,a],C=0;f=new Error(e.replace(/%s/g,function(){return m[C++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}},Ape=upe;const h1=wa(Ape);function cpe(n){if(Array.isArray(n))return t8(n)}function hpe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(n){return cpe(n)||hpe(n)||ZG(n)||dpe()}var ppe=function(){function n(){y2(this,n),ba(this,"refs",{})}return v2(n,[{key:"add",value:function(t,r){this.refs[t]||(this.refs[t]=[]),this.refs[t].push(r)}},{key:"remove",value:function(t,r){var i=this.getIndex(t,r);i!==-1&&this.refs[t].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var t=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==t.active.index})}},{key:"getIndex",value:function(t,r){return this.refs[t].indexOf(r)}},{key:"getOrderedRefs",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[t].sort(mpe)}}]),n}();function mpe(n,e){var t=n.node.sortableInfo.index,r=e.node.sortableInfo.index;return t-r}function eQ(n,e){return Object.keys(n).reduce(function(t,r){return e.indexOf(r)===-1&&(t[r]=n[r]),t},{})}var ay={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},tQ=function(){if(typeof window>"u"||typeof document>"u")return"";var n=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],e=(Array.prototype.slice.call(n).join("").match(/-(moz|webkit|ms)-/)||n.OLink===""&&["","o"])[1];switch(e){case"ms":return"ms";default:return e&&e.length?e[0].toUpperCase()+e.substr(1):""}}();function b3(n,e){Object.keys(e).forEach(function(t){n.style[t]=e[t]})}function x3(n,e){n.style["".concat(tQ,"Transform")]=e==null?"":"translate3d(".concat(e.x,"px,").concat(e.y,"px,0)")}function l6(n,e){n.style["".concat(tQ,"TransitionDuration")]=e==null?"":"".concat(e,"ms")}function wC(n,e){for(;n;){if(e(n))return n;n=n.parentNode}return null}function wL(n,e,t){return Math.max(n,Math.min(t,e))}function Wy(n){return n.substr(-2)==="px"?parseFloat(n):0}function gpe(n){var e=window.getComputedStyle(n);return{bottom:Wy(e.marginBottom),left:Wy(e.marginLeft),right:Wy(e.marginRight),top:Wy(e.marginTop)}}function kk(n,e){var t=e.displayName||e.name;return t?"".concat(n,"(").concat(t,")"):n}function u6(n,e){var t=n.getBoundingClientRect();return{top:t.top+e.top,left:t.left+e.left}}function rC(n){return n.touches&&n.touches.length?{x:n.touches[0].pageX,y:n.touches[0].pageY}:n.changedTouches&&n.changedTouches.length?{x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY}:{x:n.pageX,y:n.pageY}}function ype(n){return n.touches&&n.touches.length||n.changedTouches&&n.changedTouches.length}function o4(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(n){var r={left:t.left+n.offsetLeft,top:t.top+n.offsetTop};return n.parentNode===e?r:o4(n.parentNode,e,r)}}function vpe(n,e,t){return n<t&&n>e?n-1:n>t&&n<e?n+1:n}function ML(n){var e=n.lockOffset,t=n.width,r=n.height,i=e,o=e,s="px";if(typeof e=="string"){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);h1(a!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),i=parseFloat(e),o=parseFloat(e),s=a[1]}return h1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",e),s==="%"&&(i=i*t/100,o=o*r/100),{x:i,y:o}}function _pe(n){var e=n.height,t=n.width,r=n.lockOffset,i=Array.isArray(r)?r:[r,r];h1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=XG(i,2),s=o[0],a=o[1];return[ML({height:e,lockOffset:s,width:t}),ML({height:e,lockOffset:a,width:t})]}function Cpe(n){var e=window.getComputedStyle(n),t=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return t.test(e[i])})}function nQ(n){return n instanceof HTMLElement?Cpe(n)?n:nQ(n.parentNode):null}function bpe(n){var e=window.getComputedStyle(n);return e.display==="grid"?{x:Wy(e.gridColumnGap),y:Wy(e.gridRowGap)}:{x:0,y:0}}var fg={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},Og={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function xpe(n){var e="input, textarea, select, canvas, [contenteditable]",t=n.querySelectorAll(e),r=n.cloneNode(!0),i=fpe(r.querySelectorAll(e));return i.forEach(function(o,s){if(o.type!=="file"&&(o.value=t[s].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===Og.Canvas&&t[s].width>0&&t[s].height>0){var a=o.getContext("2d");a.drawImage(t[s],0,0)}}),r}function wpe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Ik(o,i);function o(){var s,a;y2(this,o);for(var f=arguments.length,m=new Array(f),C=0;C<f;C++)m[C]=arguments[C];return a=Bk(this,(s=Wb(o)).call.apply(s,[this].concat(m))),ba(po(po(a)),"wrappedInstance",Wn.createRef()),a}return v2(o,[{key:"componentDidMount",value:function(){var a=z0.findDOMNode(this);a.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return h1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Wn.createElement(n,Nb({ref:a},this.props))}}]),o}(Wn.Component),ba(e,"displayName",kk("sortableHandle",n)),t}function SL(n){return n.sortableHandle!=null}var Mpe=function(){function n(e,t){y2(this,n),this.container=e,this.onScrollCallback=t}return v2(n,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(t){var r=this,i=t.translate,o=t.minTranslate,s=t.maxTranslate,a=t.width,f=t.height,m={x:0,y:0},C={x:1,y:1},B={x:10,y:10},I=this.container,K=I.scrollTop,L=I.scrollLeft,Y=I.scrollHeight,ee=I.scrollWidth,V=I.clientHeight,W=I.clientWidth,ne=K===0,ce=Y-K-V===0,ge=L===0,fe=ee-L-W===0;i.y>=s.y-f/2&&!ce?(m.y=1,C.y=B.y*Math.abs((s.y-f/2-i.y)/f)):i.x>=s.x-a/2&&!fe?(m.x=1,C.x=B.x*Math.abs((s.x-a/2-i.x)/a)):i.y<=o.y+f/2&&!ne?(m.y=-1,C.y=B.y*Math.abs((i.y-f/2-o.y)/f)):i.x<=o.x+a/2&&!ge&&(m.x=-1,C.x=B.x*Math.abs((i.x-a/2-o.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(m.x!==0||m.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var H={left:C.x*m.x,top:C.y*m.y};r.container.scrollTop+=H.top,r.container.scrollLeft+=H.left,r.onScrollCallback(H)},5))}}]),n}();function Spe(n){var e=n.node;return{height:e.offsetHeight,width:e.offsetWidth}}function Epe(n){var e=[Og.Input,Og.Textarea,Og.Select,Og.Option,Og.Button];return!!(e.indexOf(n.target.tagName)!==-1||wC(n.target,function(t){return t.contentEditable==="true"}))}var rQ={axis:jr.oneOf(["x","y","xy"]),contentWindow:jr.any,disableAutoscroll:jr.bool,distance:jr.number,getContainer:jr.func,getHelperDimensions:jr.func,helperClass:jr.string,helperContainer:jr.oneOfType([jr.func,typeof HTMLElement>"u"?jr.any:jr.instanceOf(HTMLElement)]),hideSortableGhost:jr.bool,keyboardSortingTransitionDuration:jr.number,lockAxis:jr.string,lockOffset:jr.oneOfType([jr.number,jr.string,jr.arrayOf(jr.oneOfType([jr.number,jr.string]))]),lockToContainerEdges:jr.bool,onSortEnd:jr.func,onSortMove:jr.func,onSortOver:jr.func,onSortStart:jr.func,pressDelay:jr.number,pressThreshold:jr.number,keyCodes:jr.shape({lift:jr.arrayOf(jr.number),drop:jr.arrayOf(jr.number),cancel:jr.arrayOf(jr.number),up:jr.arrayOf(jr.number),down:jr.arrayOf(jr.number)}),shouldCancelStart:jr.func,transitionDuration:jr.number,updateBeforeSortStart:jr.func,useDragHandle:jr.bool,useWindowAsScrollContainer:jr.bool},iQ={lift:[fg.SPACE],drop:[fg.SPACE],cancel:[fg.ESC],up:[fg.UP,fg.LEFT],down:[fg.DOWN,fg.RIGHT]},Ope={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Spe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:iQ,shouldCancelStart:Epe,transitionDuration:300,useWindowAsScrollContainer:!1},Bpe=Object.keys(rQ);function Ipe(n){h1(!(n.distance&&n.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function kpe(n,e){try{var t=n()}catch(r){return e(!0,r)}return t&&t.then?t.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}var oQ=Wn.createContext({manager:{}});function Tpe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Ik(o,i);function o(s){var a;y2(this,o),a=Bk(this,Wb(o).call(this,s)),ba(po(po(a)),"state",{}),ba(po(po(a)),"handleStart",function(m){var C=a.props,B=C.distance,I=C.shouldCancelStart;if(!(m.button===2||I(m))){a.touched=!0,a.position=rC(m);var K=wC(m.target,function(ne){return ne.sortableInfo!=null});if(K&&K.sortableInfo&&a.nodeIsChild(K)&&!a.state.sorting){var L=a.props.useDragHandle,Y=K.sortableInfo,ee=Y.index,V=Y.collection,W=Y.disabled;if(W||L&&!wC(m.target,SL))return;a.manager.active={collection:V,index:ee},!ype(m)&&m.target.tagName===Og.Anchor&&m.preventDefault(),B||(a.props.pressDelay===0?a.handlePress(m):a.pressTimer=setTimeout(function(){return a.handlePress(m)},a.props.pressDelay))}}}),ba(po(po(a)),"nodeIsChild",function(m){return m.sortableInfo.manager===a.manager}),ba(po(po(a)),"handleMove",function(m){var C=a.props,B=C.distance,I=C.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var K=rC(m),L={x:a.position.x-K.x,y:a.position.y-K.y},Y=Math.abs(L.x)+Math.abs(L.y);a.delta=L,!B&&(!I||Y>=I)?(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0)):B&&Y>=B&&a.manager.isActive()&&a.handlePress(m)}}),ba(po(po(a)),"handleEnd",function(){a.touched=!1,a.cancel()}),ba(po(po(a)),"cancel",function(){var m=a.props.distance,C=a.state.sorting;C||(m||clearTimeout(a.pressTimer),a.manager.active=null)}),ba(po(po(a)),"handlePress",function(m){try{var C=a.manager.getActive(),B=function(){if(C){var I=function(){var be=ge.sortableInfo.index,Fe=gpe(ge),Ue=bpe(a.container),me=a.scrollContainer.getBoundingClientRect(),Ve=Y({index:be,node:ge,collection:fe});if(a.node=ge,a.margin=Fe,a.gridGap=Ue,a.width=Ve.width,a.height=Ve.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=ge.getBoundingClientRect(),a.containerBoundingRect=me,a.index=be,a.newIndex=be,a.axis={x:L.indexOf("x")>=0,y:L.indexOf("y")>=0},a.offsetEdge=o4(ge,a.container),H?a.initialOffset=rC(s6({},m,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top})):a.initialOffset=rC(m),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(xpe(ge)),b3(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-Fe.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-Fe.top,"px"),width:"".concat(a.width,"px")}),H&&a.helper.focus(),V&&(a.sortableGhost=ge,b3(ge,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},H){var _e=ce?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,Ot=_e.top,St=_e.left,_t=_e.width,ft=_e.height,$e=Ot+ft,et=St+_t;a.axis.x&&(a.minTranslate.x=St-a.boundingClientRect.left,a.maxTranslate.x=et-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=Ot-a.boundingClientRect.top,a.maxTranslate.y=$e-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(ce?0:me.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(ce?a.contentWindow.innerWidth:me.left+me.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(ce?0:me.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(ce?a.contentWindow.innerHeight:me.top+me.height)-a.boundingClientRect.top-a.height/2);ee&&ee.split(" ").forEach(function(nt){return a.helper.classList.add(nt)}),a.listenerNode=m.touches?m.target:a.contentWindow,H?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(ay.move.forEach(function(nt){return a.listenerNode.addEventListener(nt,a.handleSortMove,!1)}),ay.end.forEach(function(nt){return a.listenerNode.addEventListener(nt,a.handleSortEnd,!1)})),a.setState({sorting:!0,sortingIndex:be}),ne&&ne({node:ge,index:be,collection:fe,isKeySorting:H,nodes:a.manager.getOrderedRefs(),helper:a.helper},m),H&&a.keyMove(0)},K=a.props,L=K.axis,Y=K.getHelperDimensions,ee=K.helperClass,V=K.hideSortableGhost,W=K.updateBeforeSortStart,ne=K.onSortStart,ce=K.useWindowAsScrollContainer,ge=C.node,fe=C.collection,H=a.manager.isKeySorting,X=function(){if(typeof W=="function"){a._awaitingUpdateBeforeSortStart=!0;var Me=kpe(function(){var be=ge.sortableInfo.index;return Promise.resolve(W({collection:fe,index:be,node:ge,isKeySorting:H},m)).then(function(){})},function(be,Fe){if(a._awaitingUpdateBeforeSortStart=!1,be)throw Fe;return Fe});if(Me&&Me.then)return Me.then(function(){})}}();return X&&X.then?X.then(I):I(X)}}();return Promise.resolve(B&&B.then?B.then(function(){}):void 0)}catch(I){return Promise.reject(I)}}),ba(po(po(a)),"handleSortMove",function(m){var C=a.props.onSortMove;typeof m.preventDefault=="function"&&m.cancelable&&m.preventDefault(),a.updateHelperPosition(m),a.animateNodes(),a.autoscroll(),C&&C(m)}),ba(po(po(a)),"handleSortEnd",function(m){var C=a.props,B=C.hideSortableGhost,I=C.onSortEnd,K=a.manager,L=K.active.collection,Y=K.isKeySorting,ee=a.manager.getOrderedRefs();a.listenerNode&&(Y?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(ay.move.forEach(function(ge){return a.listenerNode.removeEventListener(ge,a.handleSortMove)}),ay.end.forEach(function(ge){return a.listenerNode.removeEventListener(ge,a.handleSortEnd)}))),a.helper.parentNode.removeChild(a.helper),B&&a.sortableGhost&&b3(a.sortableGhost,{opacity:"",visibility:""});for(var V=0,W=ee.length;V<W;V++){var ne=ee[V],ce=ne.node;ne.edgeOffset=null,ne.boundingClientRect=null,x3(ce,null),l6(ce,null),ne.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),typeof I=="function"&&I({collection:L,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:Y,nodes:ee},m),a.touched=!1}),ba(po(po(a)),"autoscroll",function(){var m=a.props.disableAutoscroll,C=a.manager.isKeySorting;if(m){a.autoScroller.clear();return}if(C){var B=s6({},a.translate),I=0,K=0;a.axis.x&&(B.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),I=a.translate.x-B.x),a.axis.y&&(B.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),K=a.translate.y-B.y),a.translate=B,x3(a.helper,a.translate),a.scrollContainer.scrollLeft+=I,a.scrollContainer.scrollTop+=K;return}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}),ba(po(po(a)),"onAutoScroll",function(m){a.translate.x+=m.left,a.translate.y+=m.top,a.animateNodes()}),ba(po(po(a)),"handleKeyDown",function(m){var C=m.keyCode,B=a.props,I=B.shouldCancelStart,K=B.keyCodes,L=K===void 0?{}:K,Y=s6({},iQ,L);a.manager.active&&!a.manager.isKeySorting||!a.manager.active&&(!Y.lift.includes(C)||I(m)||!a.isValidSortingTarget(m))||(m.stopPropagation(),m.preventDefault(),Y.lift.includes(C)&&!a.manager.active?a.keyLift(m):Y.drop.includes(C)&&a.manager.active?a.keyDrop(m):Y.cancel.includes(C)?(a.newIndex=a.manager.active.index,a.keyDrop(m)):Y.up.includes(C)?a.keyMove(-1):Y.down.includes(C)&&a.keyMove(1))}),ba(po(po(a)),"keyLift",function(m){var C=m.target,B=wC(C,function(Y){return Y.sortableInfo!=null}),I=B.sortableInfo,K=I.index,L=I.collection;a.initialFocusedNode=C,a.manager.isKeySorting=!0,a.manager.active={index:K,collection:L},a.handlePress(m)}),ba(po(po(a)),"keyMove",function(m){var C=a.manager.getOrderedRefs(),B=C[C.length-1].node.sortableInfo.index,I=a.newIndex+m,K=a.newIndex;if(!(I<0||I>B)){a.prevIndex=K,a.newIndex=I;var L=vpe(a.newIndex,a.prevIndex,a.index),Y=C.find(function(H){var X=H.node;return X.sortableInfo.index===L}),ee=Y.node,V=a.containerScrollDelta,W=Y.boundingClientRect||u6(ee,V),ne=Y.translate||{x:0,y:0},ce={top:W.top+ne.y-V.top,left:W.left+ne.x-V.left},ge=K<I,fe={x:ge&&a.axis.x?ee.offsetWidth-a.width:0,y:ge&&a.axis.y?ee.offsetHeight-a.height:0};a.handleSortMove({pageX:ce.left+fe.x,pageY:ce.top+fe.y,ignoreTransition:m===0})}}),ba(po(po(a)),"keyDrop",function(m){a.handleSortEnd(m),a.initialFocusedNode&&a.initialFocusedNode.focus()}),ba(po(po(a)),"handleKeyEnd",function(m){a.manager.active&&a.keyDrop(m)}),ba(po(po(a)),"isValidSortingTarget",function(m){var C=a.props.useDragHandle,B=m.target,I=wC(B,function(K){return K.sortableInfo!=null});return I&&I.sortableInfo&&!I.sortableInfo.disabled&&(C?SL(B):B.sortableInfo)});var f=new ppe;return Ipe(s),a.manager=f,a.wrappedInstance=Wn.createRef(),a.sortableContextValue={manager:f},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return v2(o,[{key:"componentDidMount",value:function(){var a=this,f=this.props.useWindowAsScrollContainer,m=this.getContainer();Promise.resolve(m).then(function(C){a.container=C,a.document=a.container.ownerDocument||document;var B=a.props.contentWindow||a.document.defaultView||window;a.contentWindow=typeof B=="function"?B():B,a.scrollContainer=f?a.document.scrollingElement||a.document.documentElement:nQ(a.container)||a.container,a.autoScroller=new Mpe(a.scrollContainer,a.onAutoScroll),Object.keys(a.events).forEach(function(I){return ay[I].forEach(function(K){return a.container.addEventListener(K,a.events[I],!1)})}),a.container.addEventListener("keydown",a.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var a=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(f){return ay[f].forEach(function(m){return a.container.removeEventListener(m,a.events[f])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(a){var f=this.props,m=f.lockAxis,C=f.lockOffset,B=f.lockToContainerEdges,I=f.transitionDuration,K=f.keyboardSortingTransitionDuration,L=K===void 0?I:K,Y=this.manager.isKeySorting,ee=a.ignoreTransition,V=rC(a),W={x:V.x-this.initialOffset.x,y:V.y-this.initialOffset.y};if(W.y-=window.pageYOffset-this.initialWindowScroll.top,W.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=W,B){var ne=_pe({height:this.height,lockOffset:C,width:this.width}),ce=XG(ne,2),ge=ce[0],fe=ce[1],H={x:this.width/2-ge.x,y:this.height/2-ge.y},X={x:this.width/2-fe.x,y:this.height/2-fe.y};W.x=wL(this.minTranslate.x+H.x,this.maxTranslate.x-X.x,W.x),W.y=wL(this.minTranslate.y+H.y,this.maxTranslate.y-X.y,W.y)}m==="x"?W.y=0:m==="y"&&(W.x=0),Y&&L&&!ee&&l6(this.helper,L),x3(this.helper,W)}},{key:"animateNodes",value:function(){var a=this.props,f=a.transitionDuration,m=a.hideSortableGhost,C=a.onSortOver,B=this.containerScrollDelta,I=this.windowScrollDelta,K=this.manager.getOrderedRefs(),L={left:this.offsetEdge.left+this.translate.x+B.left,top:this.offsetEdge.top+this.translate.y+B.top},Y=this.manager.isKeySorting,ee=this.newIndex;this.newIndex=null;for(var V=0,W=K.length;V<W;V++){var ne=K[V].node,ce=ne.sortableInfo.index,ge=ne.offsetWidth,fe=ne.offsetHeight,H={height:this.height>fe?fe/2:this.height/2,width:this.width>ge?ge/2:this.width/2},X=Y&&ce>this.index&&ce<=ee,Me=Y&&ce<this.index&&ce>=ee,be={x:0,y:0},Fe=K[V].edgeOffset;Fe||(Fe=o4(ne,this.container),K[V].edgeOffset=Fe,Y&&(K[V].boundingClientRect=u6(ne,B)));var Ue=V<K.length-1&&K[V+1],me=V>0&&K[V-1];if(Ue&&!Ue.edgeOffset&&(Ue.edgeOffset=o4(Ue.node,this.container),Y&&(Ue.boundingClientRect=u6(Ue.node,B))),ce===this.index){m&&(this.sortableGhost=ne,b3(ne,{opacity:0,visibility:"hidden"}));continue}f&&l6(ne,f),this.axis.x?this.axis.y?Me||ce<this.index&&(L.left+I.left-H.width<=Fe.left&&L.top+I.top<=Fe.top+H.height||L.top+I.top+H.height<=Fe.top)?(be.x=this.width+this.marginOffset.x,Fe.left+be.x>this.containerBoundingRect.width-H.width&&Ue&&(be.x=Ue.edgeOffset.left-Fe.left,be.y=Ue.edgeOffset.top-Fe.top),this.newIndex===null&&(this.newIndex=ce)):(X||ce>this.index&&(L.left+I.left+H.width>=Fe.left&&L.top+I.top+H.height>=Fe.top||L.top+I.top+H.height>=Fe.top+fe))&&(be.x=-(this.width+this.marginOffset.x),Fe.left+be.x<this.containerBoundingRect.left+H.width&&me&&(be.x=me.edgeOffset.left-Fe.left,be.y=me.edgeOffset.top-Fe.top),this.newIndex=ce):X||ce>this.index&&L.left+I.left+H.width>=Fe.left?(be.x=-(this.width+this.marginOffset.x),this.newIndex=ce):(Me||ce<this.index&&L.left+I.left<=Fe.left+H.width)&&(be.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=ce)):this.axis.y&&(X||ce>this.index&&L.top+I.top+H.height>=Fe.top?(be.y=-(this.height+this.marginOffset.y),this.newIndex=ce):(Me||ce<this.index&&L.top+I.top<=Fe.top+H.height)&&(be.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=ce))),x3(ne,be),K[V].translate=be}this.newIndex==null&&(this.newIndex=this.index),Y&&(this.newIndex=ee);var Ve=Y?this.prevIndex:ee;C&&this.newIndex!==Ve&&C({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Ve,isKeySorting:Y,nodes:K,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return h1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var a=this.props.getContainer;return typeof a!="function"?z0.findDOMNode(this):a(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Wn.createElement(oQ.Provider,{value:this.sortableContextValue},Wn.createElement(n,Nb({ref:a},eQ(this.props,Bpe))))}},{key:"helperContainer",get:function(){var a=this.props.helperContainer;return typeof a=="function"?a():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var a=this.props.useWindowAsScrollContainer;return a?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Wn.Component),ba(e,"displayName",kk("sortableList",n)),ba(e,"defaultProps",Ope),ba(e,"propTypes",rQ),t}var aQ={index:jr.number.isRequired,collection:jr.oneOfType([jr.number,jr.string]),disabled:jr.bool},Ppe=Object.keys(aQ);function Kpe(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return t=e=function(i){Ik(o,i);function o(){var s,a;y2(this,o);for(var f=arguments.length,m=new Array(f),C=0;C<f;C++)m[C]=arguments[C];return a=Bk(this,(s=Wb(o)).call.apply(s,[this].concat(m))),ba(po(po(a)),"wrappedInstance",Wn.createRef()),a}return v2(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(a){this.node&&(a.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),a.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),a.collection!==this.props.collection&&(this.unregister(a.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var a=this.props,f=a.collection,m=a.disabled,C=a.index,B=z0.findDOMNode(this);B.sortableInfo={collection:f,disabled:m,index:C,manager:this.context.manager},this.node=B,this.ref={node:B},this.context.manager.add(f,this.ref)}},{key:"unregister",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(a,this.ref)}},{key:"getWrappedInstance",value:function(){return h1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return Wn.createElement(n,Nb({ref:a},eQ(this.props,Ppe)))}}]),o}(Wn.Component),ba(e,"displayName",kk("sortableElement",n)),ba(e,"contextType",oQ),ba(e,"propTypes",aQ),ba(e,"defaultProps",{collection:0}),t}function Mi(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",e="c4894131c5d7f6ef28da960f43f4c830425a38cb",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAoC,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAE7H,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4894131c5d7f6ef28da960f43f4c830425a38cb"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Mi=function(){return s},s}Mi();const Lpe=(Mi().s[0]++,wpe(n=>(Mi().f[0]++,Mi().s[1]++,q.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[q.jsx(aN,{className:"layer-handle__icon",type:n.layerType}),q.jsx("button",{className:"maputnik-layer-list-item-id",children:n.layerId})]}))));class A6 extends Sn.Component{renderIcon(){switch(Mi().f[1]++,Mi().s[2]++,this.props.action){case"duplicate":return Mi().b[0][0]++,Mi().s[3]++,q.jsx(aie,{});case"show":return Mi().b[0][1]++,Mi().s[4]++,q.jsx(oie,{});case"hide":return Mi().b[0][2]++,Mi().s[5]++,q.jsx(iie,{});case"delete":return Mi().b[0][3]++,Mi().s[6]++,q.jsx(Zv,{})}}render(){Mi().f[2]++;const{classBlockName:e,classBlockModifier:t}=(Mi().s[7]++,this.props);let r=(Mi().s[8]++,"");return Mi().s[9]++,e?(Mi().b[1][0]++,Mi().s[10]++,r=`maputnik-layer-list-icon-action__${e}`,Mi().s[11]++,t?(Mi().b[2][0]++,Mi().s[12]++,r+=` maputnik-layer-list-icon-action__${e}--${t}`):Mi().b[2][1]++):Mi().b[1][1]++,Mi().s[13]++,q.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class r8 extends Sn.Component{getChildContext(){return Mi().f[6]++,Mi().s[16]++,{reactIconBase:{size:14}}}render(){Mi().f[7]++;const e=(Mi().s[17]++,this.props.visibility==="visible"?(Mi().b[3][0]++,"show"):(Mi().b[3][1]++,"hide"));return Mi().s[18]++,q.jsxs("li",{id:this.props.id,onClick:t=>(Mi().f[8]++,Mi().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:Sp({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[q.jsx(Lpe,{...this.props}),q.jsx("span",{style:{flexGrow:1}}),q.jsx(A6,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:t=>(Mi().f[9]++,Mi().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),q.jsx(A6,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:t=>(Mi().f[10]++,Mi().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),q.jsx(A6,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:e,classBlockName:"visibility",classBlockModifier:e,onClick:t=>(Mi().f[11]++,Mi().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}dn(r8,"defaultProps",(Mi().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{Mi().f[3]++},onLayerDestroy:()=>{Mi().f[4]++},onLayerVisibilityToggle:()=>{Mi().f[5]++}})),dn(r8,"childContextTypes",(Mi().s[15]++,{reactIconBase:jr.object}));const Dpe=(Mi().s[23]++,Kpe(n=>(Mi().f[12]++,Mi().s[24]++,q.jsx(r8,{...n}))));function Dw(){var n="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",e="522bfc6b8aacbfd03b55d947af2897dc69beb570",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Dw=function(){return s},s}Dw();class ds extends Sn.Component{render(){return Dw().f[0]++,Dw().s[0]++,q.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:Sp("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var sQ=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Fw=sQ.join(","),lQ=typeof Element>"u",d1=lQ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rw=!lQ&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Uw=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",s=o||t&&e&&n(e.parentNode);return s},Fpe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},uQ=function(e,t,r){if(Uw(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Fw));return t&&d1.call(e,Fw)&&i.unshift(e),i=i.filter(r),i},AQ=function n(e,t,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Uw(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),f=a.length?a:s.children,m=n(f,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:s,candidates:m})}else{var C=d1.call(s,Fw);C&&r.filter(s)&&(t||!e.includes(s))&&i.push(s);var B=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),I=!Uw(B,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(B&&I){var K=n(B===!0?s.children:B.children,!0,r);r.flatten?i.push.apply(i,K):i.push({scopeParent:s,candidates:K})}else o.unshift.apply(o,s.children)}}return i},cQ=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},u0=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Fpe(e))&&!cQ(e)?0:e.tabIndex},Rpe=function(e,t){var r=u0(e);return r<0&&t&&!cQ(e)?0:r},Upe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},hQ=function(e){return e.tagName==="INPUT"},zpe=function(e){return hQ(e)&&e.type==="hidden"},jpe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Npe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Wpe=function(e){if(!e.name)return!0;var t=e.form||Rw(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=Npe(i,e.form);return!o||o===e},Gpe=function(e){return hQ(e)&&e.type==="radio"},Qpe=function(e){return Gpe(e)&&!Wpe(e)},$pe=function(e){var t,r=e&&Rw(e),i=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var s,a,f;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!o&&i;){var m,C,B;r=Rw(i),i=(m=r)===null||m===void 0?void 0:m.host,o=!!((C=i)!==null&&C!==void 0&&(B=C.ownerDocument)!==null&&B!==void 0&&B.contains(i))}}return o},EL=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Ype=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=d1.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(d1.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var f=e.parentElement,m=Rw(e);if(f&&!f.shadowRoot&&i(f)===!0)return EL(e);e.assignedSlot?e=e.assignedSlot:!f&&m!==e.ownerDocument?e=m.host:e=f}e=a}if($pe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return EL(e);return!1},qpe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return d1.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},zw=function(e,t){return!(t.disabled||Uw(t)||zpe(t)||Ype(t,e)||jpe(t)||qpe(t))},i8=function(e,t){return!(Qpe(t)||u0(t)<0||!zw(e,t))},Vpe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Hpe=function n(e){var t=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,f=Rpe(a,s),m=s?n(i.candidates):a;f===0?s?t.push.apply(t,m):t.push(a):r.push({documentOrder:o,tabIndex:f,item:i,isScope:s,content:m})}),r.sort(Upe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},dQ=function(e,t){t=t||{};var r;return t.getShadowRoot?r=AQ([e],t.includeContainer,{filter:i8.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Vpe}):r=uQ(e,t.includeContainer,i8.bind(null,t)),Hpe(r)},fQ=function(e,t){t=t||{};var r;return t.getShadowRoot?r=AQ([e],t.includeContainer,{filter:zw.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=uQ(e,t.includeContainer,zw.bind(null,t)),r},xg=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return d1.call(e,Fw)===!1?!1:i8(t,e)},Zpe=sQ.concat("iframe").join(","),a4=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return d1.call(e,Zpe)===!1?!1:zw(t,e)};const Xpe=Object.freeze(Object.defineProperty({__proto__:null,focusable:fQ,getTabIndex:u0,isFocusable:a4,isTabbable:xg,tabbable:dQ},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function OL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function BL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(t),!0).forEach(function(r){Jpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jpe(n,e,t){return e=tme(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eme(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tme(n){var e=eme(n,"string");return typeof e=="symbol"?e:String(e)}var IL={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},nme=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},rme=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},qC=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ime=function(e){return qC(e)&&!e.shiftKey},ome=function(e){return qC(e)&&e.shiftKey},kL=function(e){return setTimeout(e,0)},TL=function(e,t){var r=-1;return e.every(function(i,o){return t(i)?(r=o,!1):!0}),r},iC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},w3=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ame=[],sme=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||ame,o=BL({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ime,isKeyBackward:ome},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,f=function(Ue,me,Ve){return Ue&&Ue[me]!==void 0?Ue[me]:o[Ve||me]},m=function(Ue,me){var Ve=typeof(me==null?void 0:me.composedPath)=="function"?me.composedPath():void 0;return s.containerGroups.findIndex(function(_e){var Ot=_e.container,St=_e.tabbableNodes;return Ot.contains(Ue)||(Ve==null?void 0:Ve.includes(Ot))||St.find(function(_t){return _t===Ue})})},C=function(Ue){var me=o[Ue];if(typeof me=="function"){for(var Ve=arguments.length,_e=new Array(Ve>1?Ve-1:0),Ot=1;Ot<Ve;Ot++)_e[Ot-1]=arguments[Ot];me=me.apply(void 0,_e)}if(me===!0&&(me=void 0),!me){if(me===void 0||me===!1)return me;throw new Error("`".concat(Ue,"` was specified but was not a node, or did not return a node"))}var St=me;if(typeof me=="string"&&(St=r.querySelector(me),!St))throw new Error("`".concat(Ue,"` as selector refers to no known node"));return St},B=function(){var Ue=C("initialFocus");if(Ue===!1)return!1;if(Ue===void 0||!a4(Ue,o.tabbableOptions))if(m(r.activeElement)>=0)Ue=r.activeElement;else{var me=s.tabbableGroups[0],Ve=me&&me.firstTabbableNode;Ue=Ve||C("fallbackFocus")}if(!Ue)throw new Error("Your focus-trap needs to have at least one focusable element");return Ue},I=function(){if(s.containerGroups=s.containers.map(function(Ue){var me=dQ(Ue,o.tabbableOptions),Ve=fQ(Ue,o.tabbableOptions),_e=me.length>0?me[0]:void 0,Ot=me.length>0?me[me.length-1]:void 0,St=Ve.find(function($e){return xg($e)}),_t=Ve.slice().reverse().find(function($e){return xg($e)}),ft=!!me.find(function($e){return u0($e)>0});return{container:Ue,tabbableNodes:me,focusableNodes:Ve,posTabIndexesFound:ft,firstTabbableNode:_e,lastTabbableNode:Ot,firstDomTabbableNode:St,lastDomTabbableNode:_t,nextTabbableNode:function(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,en=me.indexOf(et);return en<0?nt?Ve.slice(Ve.indexOf(et)+1).find(function(nn){return xg(nn)}):Ve.slice(0,Ve.indexOf(et)).reverse().find(function(nn){return xg(nn)}):me[en+(nt?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(Ue){return Ue.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!C("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(Ue){return Ue.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},K=function Fe(Ue){var me=Ue.activeElement;if(me)return me.shadowRoot&&me.shadowRoot.activeElement!==null?Fe(me.shadowRoot):me},L=function Fe(Ue){if(Ue!==!1&&Ue!==K(document)){if(!Ue||!Ue.focus){Fe(B());return}Ue.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=Ue,nme(Ue)&&Ue.select()}},Y=function(Ue){var me=C("setReturnFocus",Ue);return me||(me===!1?!1:Ue)},ee=function(Ue){var me=Ue.target,Ve=Ue.event,_e=Ue.isBackward,Ot=_e===void 0?!1:_e;me=me||w3(Ve),I();var St=null;if(s.tabbableGroups.length>0){var _t=m(me,Ve),ft=_t>=0?s.containerGroups[_t]:void 0;if(_t<0)Ot?St=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:St=s.tabbableGroups[0].firstTabbableNode;else if(Ot){var $e=TL(s.tabbableGroups,function(Vt){var Jt=Vt.firstTabbableNode;return me===Jt});if($e<0&&(ft.container===me||a4(me,o.tabbableOptions)&&!xg(me,o.tabbableOptions)&&!ft.nextTabbableNode(me,!1))&&($e=_t),$e>=0){var et=$e===0?s.tabbableGroups.length-1:$e-1,nt=s.tabbableGroups[et];St=u0(me)>=0?nt.lastTabbableNode:nt.lastDomTabbableNode}else qC(Ve)||(St=ft.nextTabbableNode(me,!1))}else{var en=TL(s.tabbableGroups,function(Vt){var Jt=Vt.lastTabbableNode;return me===Jt});if(en<0&&(ft.container===me||a4(me,o.tabbableOptions)&&!xg(me,o.tabbableOptions)&&!ft.nextTabbableNode(me))&&(en=_t),en>=0){var nn=en===s.tabbableGroups.length-1?0:en+1,Et=s.tabbableGroups[nn];St=u0(me)>=0?Et.firstTabbableNode:Et.firstDomTabbableNode}else qC(Ve)||(St=ft.nextTabbableNode(me))}}else St=C("fallbackFocus");return St},V=function(Ue){var me=w3(Ue);if(!(m(me,Ue)>=0)){if(iC(o.clickOutsideDeactivates,Ue)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}iC(o.allowOutsideClick,Ue)||Ue.preventDefault()}},W=function(Ue){var me=w3(Ue),Ve=m(me,Ue)>=0;if(Ve||me instanceof Document)Ve&&(s.mostRecentlyFocusedNode=me);else{Ue.stopImmediatePropagation();var _e,Ot=!0;if(s.mostRecentlyFocusedNode)if(u0(s.mostRecentlyFocusedNode)>0){var St=m(s.mostRecentlyFocusedNode),_t=s.containerGroups[St].tabbableNodes;if(_t.length>0){var ft=_t.findIndex(function($e){return $e===s.mostRecentlyFocusedNode});ft>=0&&(o.isKeyForward(s.recentNavEvent)?ft+1<_t.length&&(_e=_t[ft+1],Ot=!1):ft-1>=0&&(_e=_t[ft-1],Ot=!1))}}else s.containerGroups.some(function($e){return $e.tabbableNodes.some(function(et){return u0(et)>0})})||(Ot=!1);else Ot=!1;Ot&&(_e=ee({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),L(_e||s.mostRecentlyFocusedNode||B())}s.recentNavEvent=void 0},ne=function(Ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=Ue;var Ve=ee({event:Ue,isBackward:me});Ve&&(qC(Ue)&&Ue.preventDefault(),L(Ve))},ce=function(Ue){if(rme(Ue)&&iC(o.escapeDeactivates,Ue)!==!1){Ue.preventDefault(),a.deactivate();return}(o.isKeyForward(Ue)||o.isKeyBackward(Ue))&&ne(Ue,o.isKeyBackward(Ue))},ge=function(Ue){var me=w3(Ue);m(me,Ue)>=0||iC(o.clickOutsideDeactivates,Ue)||iC(o.allowOutsideClick,Ue)||(Ue.preventDefault(),Ue.stopImmediatePropagation())},fe=function(){if(s.active)return IL.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?kL(function(){L(B())}):L(B()),r.addEventListener("focusin",W,!0),r.addEventListener("mousedown",V,{capture:!0,passive:!1}),r.addEventListener("touchstart",V,{capture:!0,passive:!1}),r.addEventListener("click",ge,{capture:!0,passive:!1}),r.addEventListener("keydown",ce,{capture:!0,passive:!1}),a},H=function(){if(s.active)return r.removeEventListener("focusin",W,!0),r.removeEventListener("mousedown",V,!0),r.removeEventListener("touchstart",V,!0),r.removeEventListener("click",ge,!0),r.removeEventListener("keydown",ce,!0),a},X=function(Ue){var me=Ue.some(function(Ve){var _e=Array.from(Ve.removedNodes);return _e.some(function(Ot){return Ot===s.mostRecentlyFocusedNode})});me&&L(B())},Me=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(X):void 0,be=function(){Me&&(Me.disconnect(),s.active&&!s.paused&&s.containers.map(function(Ue){Me.observe(Ue,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(Ue){if(s.active)return this;var me=f(Ue,"onActivate"),Ve=f(Ue,"onPostActivate"),_e=f(Ue,"checkCanFocusTrap");_e||I(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=r.activeElement,me==null||me();var Ot=function(){_e&&I(),fe(),be(),Ve==null||Ve()};return _e?(_e(s.containers.concat()).then(Ot,Ot),this):(Ot(),this)},deactivate:function(Ue){if(!s.active)return this;var me=BL({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Ue);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,H(),s.active=!1,s.paused=!1,be(),IL.deactivateTrap(i,a);var Ve=f(me,"onDeactivate"),_e=f(me,"onPostDeactivate"),Ot=f(me,"checkCanReturnFocus"),St=f(me,"returnFocus","returnFocusOnDeactivate");Ve==null||Ve();var _t=function(){kL(function(){St&&L(Y(s.nodeFocusedBeforeActivation)),_e==null||_e()})};return St&&Ot?(Ot(Y(s.nodeFocusedBeforeActivation)).then(_t,_t),this):(_t(),this)},pause:function(Ue){if(s.paused||!s.active)return this;var me=f(Ue,"onPause"),Ve=f(Ue,"onPostPause");return s.paused=!0,me==null||me(),H(),be(),Ve==null||Ve(),this},unpause:function(Ue){if(!s.paused||!s.active)return this;var me=f(Ue,"onUnpause"),Ve=f(Ue,"onPostUnpause");return s.paused=!1,me==null||me(),I(),fe(),be(),Ve==null||Ve(),this},updateContainerElements:function(Ue){var me=[].concat(Ue).filter(Boolean);return s.containers=me.map(function(Ve){return typeof Ve=="string"?r.querySelector(Ve):Ve}),s.active&&I(),be(),this}},a.updateContainerElements(e),a};const lme=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:sme},Symbol.toStringTag,{value:"Module"})),ume=G8(lme),Ame=G8(Xpe);function Rv(n){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(n)}function cme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pQ(r.key),r)}}function dme(n,e,t){return e&&hme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function fme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&o8(n,e)}function o8(n,e){return o8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o8(n,e)}function pme(n){var e=gme();return function(){var r=jw(n),i;if(e){var o=jw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mme(this,i)}}function mme(n,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MC(n)}function MC(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jw(n){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jw(n)}function yme(n,e,t){return e=pQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pQ(n){var e=vme(n,"string");return Rv(e)==="symbol"?e:String(e)}function vme(n,e){if(Rv(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Rv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var M3=Wn,hi=ff,_me=ume,Cme=_me.createFocusTrap,bme=Ame,xme=bme.isFocusable,Tk=function(n){fme(t,n);var e=pme(t);function t(r){var i;cme(this,t),i=e.call(this,r),yme(MC(i),"getNodeForOption",function(a){var f,m=(f=this.internalOptions[a])!==null&&f!==void 0?f:this.originalOptions[a];if(typeof m=="function"){for(var C=arguments.length,B=new Array(C>1?C-1:0),I=1;I<C;I++)B[I-1]=arguments[I];m=m.apply(void 0,B)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var K=m;if(typeof m=="string"){var L;if(K=(L=this.getDocument())===null||L===void 0?void 0:L.querySelector(m),!K)throw new Error("`".concat(a,"` as selector refers to no known node"))}return K}),i.handleDeactivate=i.handleDeactivate.bind(MC(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(MC(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(MC(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){i.originalOptions[s]=o[s];continue}i.internalOptions[s]=o[s]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return dme(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var a=i.getReturnFocusNode(),f=!!(i.originalOptions.returnFocusOnDeactivate&&a!==null&&a!==void 0&&a.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!xme(i.outsideClick.target,i.internalOptions.tabbableOptions))),m=i.internalOptions.preventScroll,C=m===void 0?!1:m;f&&a.focus({preventScroll:C}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var i=this.focusTrapElements.some(Boolean);i&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,s=i.active&&!this.props.active,a=!i.paused&&this.props.paused,f=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}a&&this.focusTrap.pause(),f&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?M3.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===M3.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(m){var C=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(m):o.ref&&(o.ref.current=m)),i.focusTrapElements=C||[m]},a=M3.cloneElement(o,{ref:s});return a}return null}}]),t}(M3.Component),oC=typeof Element>"u"?Function:Element;Tk.propTypes={active:hi.bool,paused:hi.bool,focusTrapOptions:hi.shape({document:hi.object,onActivate:hi.func,onPostActivate:hi.func,checkCanFocusTrap:hi.func,onPause:hi.func,onPostPause:hi.func,onUnpause:hi.func,onPostUnpause:hi.func,onDeactivate:hi.func,onPostDeactivate:hi.func,checkCanReturnFocus:hi.func,initialFocus:hi.oneOfType([hi.instanceOf(oC),hi.string,hi.bool,hi.func]),fallbackFocus:hi.oneOfType([hi.instanceOf(oC),hi.string,hi.func]),escapeDeactivates:hi.oneOfType([hi.bool,hi.func]),clickOutsideDeactivates:hi.oneOfType([hi.bool,hi.func]),returnFocusOnDeactivate:hi.bool,setReturnFocus:hi.oneOfType([hi.instanceOf(oC),hi.string,hi.bool,hi.func]),allowOutsideClick:hi.oneOfType([hi.bool,hi.func]),preventScroll:hi.bool,tabbableOptions:hi.shape({displayCheck:hi.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:hi.oneOfType([hi.bool,hi.func])}),trapStack:hi.array,isKeyForward:hi.func,isKeyBackward:hi.func}),containerElements:hi.arrayOf(hi.instanceOf(oC)),children:hi.oneOfType([hi.element,hi.instanceOf(oC)])};Tk.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Cme};var wme=Tk,mQ={exports:{}};(function(n){(function(e){var t=!1,r,i;function o(){if(typeof r<"u")return r;var B=document.documentElement,I=document.createElement("div");return I.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),B.appendChild(I),r=I.offsetWidth-I.clientWidth,B.removeChild(I),r}function s(){return document.documentElement.scrollHeight>window.innerHeight}function a(B){if(!(typeof document>"u"||t)){var I=document.documentElement;i=window.pageYOffset,s()?I.style.width="calc(100% - "+o()+"px)":I.style.width="100%",I.style.position="fixed",I.style.top=-i+"px",I.style.overflow="hidden",t=!0}}function f(){if(!(typeof document>"u"||!t)){var B=document.documentElement;B.style.width="",B.style.position="",B.style.top="",B.style.overflow="",window.scroll(0,i),t=!1}}function m(){if(t){f();return}a()}var C={on:a,off:f,toggle:m};n.exports=C})()})(mQ);var Mme=mQ.exports;function a8(n){"@babel/helpers - typeof";return a8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a8(n)}function gQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yQ(n,e,t){return e&&Sme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function vQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&s8(n,e)}function s8(n,e){return s8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s8(n,e)}function _Q(n){var e=Ome();return function(){var r=Nw(n),i;if(e){var o=Nw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Eme(this,i)}}function Eme(n,e){if(e&&(a8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gy(n)}function Gy(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ome(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nw(n){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nw(n)}function zg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Bg=Wn,Bme=z0,Ime=wme,S3=Mme,Pk=function(n){vQ(t,n);var e=_Q(t);function t(r){var i;if(gQ(this,t),i=e.call(this,r),zg(Gy(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),zg(Gy(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),zg(Gy(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),zg(Gy(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return yQ(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&S3.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?S3.off():!i.scrollDisabled&&this.props.scrollDisabled&&S3.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&S3.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var s in i.underlayStyle)i.underlayStyle.hasOwnProperty(s)&&(o[s]=i.underlayStyle[s]);var a={className:i.underlayClass,style:o};i.underlayClickExits&&(a.onMouseDown=this.checkUnderlayClick);for(var f in this.props.underlayProps)a[f]=this.props.underlayProps[f];var m={};i.includeDefaultStyles&&(m={display:"inline-block",height:"100%",verticalAlign:"middle"});var C={key:"a",style:m},B={};if(i.includeDefaultStyles&&(B={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(B.verticalAlign="middle",B.top=0)),i.dialogStyle)for(var I in i.dialogStyle)i.dialogStyle.hasOwnProperty(I)&&(B[I]=i.dialogStyle[I]);var K={key:"b",ref:(function(V){this.dialogNode=V}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:B};i.titleId?K["aria-labelledby"]=i.titleId:i.titleText&&(K["aria-label"]=i.titleText),i.focusDialog&&(K.tabIndex="-1");for(var L in i)/^(data-|aria-)/.test(L)&&(K[L]=i[L]);var Y=[Bg.createElement("div",K,i.children)];i.verticallyCenter&&Y.unshift(Bg.createElement("div",C));var ee=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(ee.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),ee.escapeDeactivates=i.escapeExits,Bg.createElement(Ime,{focusTrapOptions:ee,paused:i.focusTrapPaused},Bg.createElement("div",a,Y))}}]),t}(Bg.Component);zg(Pk,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function CQ(n,e){if(!window.document)return function(){return null};e=e||{};var t=function(r){vQ(o,r);var i=_Q(o);function o(){var s;gQ(this,o);for(var a=arguments.length,f=new Array(a),m=0;m<a;m++)f[m]=arguments[m];return s=i.call.apply(i,[this].concat(f)),zg(Gy(s),"container",null),s}return yQ(o,[{key:"componentDidMount",value:function(){e.renderTo?this.container=typeof e.renderTo=="string"?document.querySelector(e.renderTo):e.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){e.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:Bme.createPortal(Bg.createElement(n,this.props,this.props.children),this.container)}}]),o}(Bg.Component);return zg(t,"defaultProps",{mounted:!0}),t}var bQ=CQ(Pk);bQ.renderTo=function(n){return CQ(Pk,{renderTo:n})};var kme=bQ;const Tme=wa(kme);function Ql(){var n="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",e="55b511200efca707daa3ccb304d63dc159a8f390",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:12},end:{line:19,column:3}},2:{start:{line:13,column:4},end:{line:15,column:5}},3:{start:{line:14,column:6},end:{line:14,column:36}},4:{start:{line:16,column:4},end:{line:18,column:10}},5:{start:{line:17,column:6},end:{line:17,column:37}},6:{start:{line:21,column:14},end:{line:21,column:26}},7:{start:{line:22,column:4},end:{line:60,column:5}},8:{start:{line:23,column:6},end:{line:57,column:8}},9:{start:{line:59,column:6},end:{line:59,column:19}},10:{start:{line:63,column:14},end:{line:63,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:18},end:{line:19,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:15},end:{line:16,column:16}},loc:{start:{line:16,column:21},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:61,column:3}},line:20}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:13},1:{loc:{start:{line:22,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:60,column:5}},{start:{line:58,column:11},end:{line:60,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AAgDU,SACE,KADF;AAhDV,OAAO,WAAkC;AACzC,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,SAA0B,uBAAuB;AAajD,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAO,EAAE,aAAa;AAAA,sBACtB,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;AAEA,MAAM,QAAQ,gBAAgB,EAAE,aAAa;AAC7C,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55b511200efca707daa3ccb304d63dc159a8f390"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ql=function(){return s},s}Ql();class xQ extends Sn.Component{constructor(){super(...arguments);dn(this,"onClose",(Ql().s[1]++,()=>{Ql().f[0]++,Ql().s[2]++,document.activeElement?(Ql().b[0][0]++,Ql().s[3]++,document.activeElement.blur()):Ql().b[0][1]++,Ql().s[4]++,setTimeout(()=>{Ql().f[1]++,Ql().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){Ql().f[2]++;const t=(Ql().s[6]++,this.props.t);return Ql().s[7]++,this.props.isOpen?(Ql().b[1][0]++,Ql().s[8]++,q.jsx(Tme,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:q.jsxs("div",{className:Sp("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[q.jsxs("header",{className:"maputnik-modal-header",children:[q.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),q.jsx("span",{className:"maputnik-modal-header-space"}),q.jsx("button",{className:"maputnik-modal-header-toggle",title:t("Close modal"),onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:q.jsx(fie,{})})]}),q.jsx("div",{className:"maputnik-modal-scroller",children:q.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(Ql().b[1][1]++,Ql().s[9]++,!1)}}dn(xQ,"defaultProps",(Ql().s[0]++,{underlayClickExits:!0}));const W0=(Ql().s[10]++,zo()(xQ)),Pme=8,Kme={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration. **Note:** this definition is still experimental and is under develoment in maplibre-gl-js.",example:{"sky-color":"#199EF3","sky-horizon-blend":.5,"horizon-color":"#ffffff","horizon-fog-blend":.5,"fog-color":"#0000ff","fog-ground-blend":.5,"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,10,1,12,0]}},projection:{type:"projection",doc:"The projection configuration. **Note:** this definition is still experimental and is under development in maplibre-gl-js.",example:{type:"globe"}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Sources state which data the map should display. Specify the type of source with the `type` property. Adding a source isn't enough to make data appear on the map because sources don't contain styling details like color or width. Layers refer to a source and give it a visual representation. This makes it possible to style the same source in different ways, like differentiating between types of roads in a highways layer.\n\nTiled sources (vector and raster) must specify their details according to the [TileJSON specification](https://github.com/mapbox/tilejson-spec).",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"},"maplibre-tilejson":{type:"vector",url:"http://api.example.com/tilejson.json"},"maplibre-streets":{type:"vector",tiles:["http://a.example.com/tiles/{z}/{x}/{y}.pbf","http://b.example.com/tiles/{z}/{x}/{y}.pbf"],maxzoom:14},"wms-imagery":{type:"raster",tiles:["http://a.example.com/wms?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&layers=example"],tileSize:256}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:`A URL template for loading signed-distance-field glyph sets in PBF format. 
The URL must include:

 - \`{fontstack}\` - When requesting glyphs, this token is replaced with a comma separated list of fonts from a font stack specified in the text-font property of a symbol layer. 

 - \`{range}\` - When requesting glyphs, this token is replaced with a range of 256 Unicode code points. For example, to load glyphs for the Unicode Basic Latin and Basic Latin-1 Supplement blocks, the range would be 0-255. The actual ranges that are loaded are determined at runtime based on what text needs to be displayed.

This property is required if any layer uses the \`text-field\` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).`,example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"A style's `layers` property lists all the layers available in that style. The type of layer is specified by the `type` property, and must be one of `background`, `fill`, `line`, `symbol`, `raster`, `circle`, `fill-extrusion`, `heatmap`, `hillshade`.\n\nExcept for layers of the `background` type, each layer needs to refer to a source. Layers take the data that they get from a source, optionally filter features, and then define how those features are styled.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},Lme={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Dme=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Fme={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Rme={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Ume={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},zme={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js/docs/API/classes/GeoJSONSource/#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},jme={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Nme={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Wme={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Gme=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Qme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},$me={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Yme={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},qme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},Vme={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Hme={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0",android:"https://github.com/maplibre/maplibre-native/issues/251",ios:"https://github.com/maplibre/maplibre-native/issues/251"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2358"},"data-driven styling":{js:"3.3.0",ios:"https://github.com/maplibre/maplibre-native/issues/2358",android:"https://github.com/maplibre/maplibre-native/issues/2358"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0",android:"https://github.com/maplibre/maplibre-native/issues/251",ios:"https://github.com/maplibre/maplibre-native/issues/251"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Zme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},"property-type":"constant"}},Xme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},"property-type":"constant"}},Jme={type:"array",value:"*",doc:"A filter selects specific features from a layer."},e0e={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},t0e={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},n0e={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},r0e={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},i0e={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using `["var", "variable_name"]`.\n\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)',example:{syntax:{method:["string","value","expression"],result:"value"},value:["let","someNumber",500,["interpolate",["linear"],["var","someNumber"],274,"#edf8e9",1551,"#006d2c"]]},group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},var:{doc:"References variable bound using `let`.\n\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)",example:{syntax:{method:["string"],result:"value"},value:["var","density"]},group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},literal:{doc:`Provides a literal array or object value.

 - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)`,example:{syntax:{method:["JSON object or array"],result:"array | object"},value:["literal",["DIN Offc Pro Italic","Arial Unicode MS Regular"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length). If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",example:{syntax:{method:["value","string?","number?"],result:"array"},value:["array",["literal",["a","b","c"]],"string",3]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},at:{doc:"Retrieves an item from an array.",example:{syntax:{method:["value","number"],result:"value"},value:["at",["literal",["a","b","c"]],1]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},in:{doc:`Determines whether an item exists in an array or a substring exists in a string.

 - [Measure distances](https://maplibre.org/maplibre-gl-js/docs/examples/measure/)`,example:{syntax:{method:["value","value"],result:"boolean"},value:["in","$type","Point"]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["value","value","number?"],result:"number"},value:["index-of","foo",["baz","bar","hello","foo","world"]]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.3.0",ios:"6.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["value","number","number?"],result:"value"},value:["slice",["get","name"],0,3]},group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.3.0",ios:"6.0.0"}}},case:{doc:`Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.

 - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)
 - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)`,example:{syntax:{method:["value","value","...","fallback: value"],result:"value"},value:["case",["boolean",["feature-state","hover"],!1],1,.5]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',example:{syntax:{method:["value","value","...","fallback: value"],result:"value"},value:["match",["get","building_type"],"residential","#f00","commercial","#0f0","#000"]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},coalesce:{doc:`Evaluates each expression in turn until the first non-null value is obtained, and returns that value.

 - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)`,example:{syntax:{method:["coalesce","value","fallback"],result:"value"},value:["coalesce",["image",["concat",["get","icon"],"_15"]],["image","marker_15"]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.\n\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)',example:{syntax:{method:["step","number","number","number","..."],result:"number"},value:["step",["get","point_count"],20,100,30,750,40]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.\n\n - [Animate map camera around a point](https://maplibre.org/maplibre-gl-js/docs/examples/animate-camera-around-point/)\n - [Change building color based on zoom level](https://maplibre.org/maplibre-gl-js/docs/examples/change-building-color-based-on-zoom-level/)\n - [Create a heatmap layer](https://maplibre.org/maplibre-gl-js/docs/examples/heatmap-layer/)\n - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"number | array<number> | color"},value:["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"color"},value:["interpolate-hcl",["linear"],["zoom"],15,"#f00",15.05,"#00f"]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',example:{syntax:{method:['["linear"] | ["exponential", base] | ["cubic-bezier", x1, y1, x2, y2]',"number","number","number","..."],result:"color"},value:["interpolate-lab",["linear"],["zoom"],15,"#f00",15.05,"#00f"]},group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",example:{syntax:{method:[],result:"number"},value:["ln2"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},pi:{doc:"Returns the mathematical constant pi.",example:{syntax:{method:[],result:"number"},value:["pi"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},e:{doc:"Returns the mathematical constant e.",example:{syntax:{method:[],result:"number"},value:["e"]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",example:{syntax:{method:["value"],result:"string"},value:["typeof",["get","name"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"string"},value:["string",["get","name"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"number"},value:["number",["get","population"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},boolean:{doc:`Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.

 - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)`,example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"boolean"},value:["boolean",["feature-state","hover"],!1]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"object"},value:["object",["get","some-property"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",example:{syntax:{method:["collator",'{ "case-sensitive": boolean, "diacritic-sensitive": boolean, "locale": string }'],result:"collator"},value:["collator",{"case-sensitive":!0,"diacritic-sensitive":!0,locale:"fr"}]},group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.\n\n - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)\n - [Display and style rich text labels](https://maplibre.org/maplibre-gl-js/docs/examples/display-and-style-rich-text-labels/)',example:{syntax:{method:["value",'{ "text-font": string, "text-color": color, "font-scale": number }',"..."],result:"formatted"},value:["format",["upcase",["get","FacilityName"]],{"font-scale":.8},`
`,{},["downcase",["get","Comments"]],{"font-scale":.6}]},group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.\n\n - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)",example:{syntax:{method:["value"],result:"image"},value:["image","marker_15"]},group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["number",'{ "locale": string, "currency": string, "min-fraction-digits": number, "max-fraction-digits": number }'],result:"string"},value:["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}]},group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.\n\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)',example:{syntax:{method:["value"],result:"string"},value:["to-string",["get","mag"]]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"number"},value:["to-number","someProperty"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",example:{syntax:{method:["value"],result:"boolean"},value:["to-boolean","someProperty"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",example:{syntax:{method:["color"],result:"array"},value:["to-rgba","#ff0000"]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"to-color":{doc:`Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.

 - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)`,example:{syntax:{method:["value","fallback: value","fallback: value","..."],result:"color"},value:["to-color","#edf8e9"]},group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",example:{syntax:{method:["number","number","number"],result:"color"},value:["rgb",255,0,0]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",example:{syntax:{method:["number","number","number","number"],result:"color"},value:["rgba",255,0,0,1]},group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},get:{doc:`Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)
 - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)
 - [Extrude polygons for 3D indoor mapping](https://maplibre.org/maplibre-gl-js/docs/examples/3d-extrusion-floorplan/)`,example:{syntax:{method:["string"],result:"value"},value:["get","someProperty"]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},has:{doc:`Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.

 - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)`,example:{syntax:{method:["string"],result:"boolean"},value:["has","someProperty"]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},length:{doc:"Gets the length of an array or string. In a string, a UTF-16 surrogate pair counts as a single position.",example:{syntax:{method:["array"],result:"number"},value:["length",["get","myArray"]]},group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',example:{syntax:{method:[],result:"value"},value:["properties"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.\n\n - [Create a hover effect](https://maplibre.org/maplibre-gl-js/docs/examples/hover-styles/)",example:{syntax:{method:["string"],result:"value"},value:["feature-state","hover"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",example:{syntax:{method:[],result:"string"},value:["==",["geometry-type"],"Polygon"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},id:{doc:"Gets the feature's id, if it has one.",example:{syntax:{method:[],result:"value"},value:["id"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',example:{syntax:{method:[],result:"number"},value:["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]]},group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",example:{syntax:{method:[],result:"number"},value:["heatmap-density"]},group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",example:{syntax:{method:["number"],result:"number"},value:["line-progress",.5]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",example:{syntax:{method:["string"],result:"value"},value:["accumulated","sum"]},group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["+",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"*":{doc:"Returns the product of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["*",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",example:{syntax:{method:["number","number?"],result:"number"},value:["-",10]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"/":{doc:`Returns the result of floating point division of the first input by the second.

 - [Visualize population density](https://maplibre.org/maplibre-gl-js/docs/examples/visualize-population-density/)`,example:{syntax:{method:["number","number"],result:"number"},value:["/",["get","population"],["get","sq-km"]]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",example:{syntax:{method:["number","number"],result:"number"},value:["%",10,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",example:{syntax:{method:["number","number"],result:"number"},value:["^",2,3]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},sqrt:{doc:"Returns the square root of the input.",example:{syntax:{method:["number"],result:"number"},value:["sqrt",9]},group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["log10",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},ln:{doc:"Returns the natural logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["ln",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",example:{syntax:{method:["number"],result:"number"},value:["log2",8]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},sin:{doc:"Returns the sine of the input.",example:{syntax:{method:["number"],result:"number"},value:["sin",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},cos:{doc:"Returns the cosine of the input.",example:{syntax:{method:["number"],result:"number"},value:["cos",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},tan:{doc:"Returns the tangent of the input.",example:{syntax:{method:["number"],result:"number"},value:["tan",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},asin:{doc:"Returns the arcsine of the input.",example:{syntax:{method:["number"],result:"number"},value:["asin",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},acos:{doc:"Returns the arccosine of the input.",example:{syntax:{method:["number"],result:"number"},value:["acos",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},atan:{doc:"Returns the arctangent of the input.",example:{syntax:{method:["number"],result:"number"},value:["atan",1]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},min:{doc:"Returns the minimum value of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["min",1,2]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},max:{doc:"Returns the maximum value of the inputs.",example:{syntax:{method:["number","number","..."],result:"number"},value:["max",1,2]},group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',example:{syntax:{method:["number"],result:"number"},value:["round",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},abs:{doc:"Returns the absolute value of the input.",example:{syntax:{method:["number"],result:"number"},value:["abs",-1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",example:{syntax:{method:["number"],result:"number"},value:["ceil",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",example:{syntax:{method:["number"],result:"number"},value:["floor",1.5]},group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",example:{syntax:{method:["GeoJSON geometry"],result:"number"},value:["distance",{type:"Point",coordinates:[0,0]}]},group:"Math","sdk-support":{"basic functionality":{js:"4.2.0",android:"9.2.0",ios:"5.9.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Add multiple geometries from one GeoJSON source](https://maplibre.org/maplibre-gl-js/docs/examples/multiple-geometries/)\n - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)\n - [Display buildings in 3D](https://maplibre.org/maplibre-gl-js/docs/examples/3d-buildings/)\n - [Filter symbols by toggling a list](https://maplibre.org/maplibre-gl-js/docs/examples/filter-markers/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["==","$type","Polygon"]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["!=","cluster",!0]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:[">",["get","mag"],2]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["<",["get","mag"],2]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:[">=",["get","mag"],6]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["<=",["get","mag"],6]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.\n\n - [Display HTML clusters with custom properties](https://maplibre.org/maplibre-gl-js/docs/examples/cluster-html/)",example:{syntax:{method:["boolean","boolean","..."],result:"boolean"},value:["all",[">=",["get","mag"],4],["<",["get","mag"],5]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",example:{syntax:{method:["boolean","boolean","..."],result:"boolean"},value:["any",[">=",["get","mag"],4],["<",["get","mag"],5]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.\n\n - [Create and style clusters](https://maplibre.org/maplibre-gl-js/docs/examples/cluster/)",example:{syntax:{method:["value","value","collator?"],result:"boolean"},value:["!",["has","point_count"]]},group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",example:{syntax:{method:["GeoJSON geometry"],result:"boolean"},value:["within",{type:"Polygon",coordinates:[[[0,0],[0,5],[5,5],[5,0],[0,0]]]}]},group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",example:{syntax:{method:["string"],result:"boolean"},value:["is-supported-script",""]},group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:`Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)`,example:{syntax:{method:["string"],result:"string"},value:["upcase",["get","name"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},downcase:{doc:`Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.

 - [Change the case of labels](https://maplibre.org/maplibre-gl-js/docs/examples/change-case-of-labels/)`,example:{syntax:{method:["string"],result:"string"},value:["downcase",["get","name"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},concat:{doc:`Returns a \`string\` consisting of the concatenation of the inputs. Each input is converted to a string as if by \`to-string\`.

 - [Add a generated icon to the map](https://maplibre.org/maplibre-gl-js/docs/examples/add-image-missing-generated/)
 - [Create a time slider](https://maplibre.org/maplibre-gl-js/docs/examples/timeline-animation/)
 - [Use a fallback image](https://maplibre.org/maplibre-gl-js/docs/examples/fallback-image/)
 - [Variable label placement](https://maplibre.org/maplibre-gl-js/docs/examples/variable-label-placement/)`,example:{syntax:{method:["string","string","..."],result:"string"},value:["concat","square-rgb-",["get","color"]]},group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",example:{syntax:{method:["collator"],result:"string"},value:["resolved-locale",["collator",{"case-sensitive":!0,"diacritic-sensitive":!1,locale:"de"}]]},group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0"}}}}},o0e={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}}}},a0e={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color at the horizon."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog. Requires 3D terrain."},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. Where 0 is the map center and 1 is the horizon."},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog color and the horizon color. Where 0 is using the horizon color only and 1 is using the fog color only."},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the the sky color and the horizon color. Where 1 is blending the color at the middle of the sky and 0 is not blending at all and using the sky color only."},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the atmosphere. Where 1 is visible atmosphere and 0 is hidden. It is best to interpolate this expression when using globe projection."}},s0e={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},l0e={type:{type:"enum",doc:"The projection type.",default:"mercator",values:{mercator:{doc:"The Mercator projection."},globe:{doc:"The globe projection."}}}},u0e=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],A0e={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},c0e={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},h0e={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},d0e={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},f0e={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline. \nThe unit is in pixels only for SDF sprites that were created with a blur radius of 8, multiplied by the display density. I.e., the radius needs to be 16 for `@2x` sprites, etc.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},p0e={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},m0e={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},g0e={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},y0e={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},v0e={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},zi={$version:Pme,$root:Kme,sources:Lme,source:Dme,source_vector:Fme,source_raster:Rme,source_raster_dem:Ume,source_geojson:zme,source_video:jme,source_image:Nme,layer:Wme,layout:Gme,layout_background:Qme,layout_fill:$me,layout_circle:Yme,layout_heatmap:qme,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},"property-type":"constant"}},layout_line:Vme,layout_symbol:Hme,layout_raster:Zme,layout_hillshade:Xme,filter:Jme,filter_operator:e0e,geometry_type:t0e,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:n0e,expression:r0e,expression_name:i0e,light:o0e,sky:a0e,terrain:s0e,projection:l0e,paint:u0e,paint_fill:A0e,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:c0e,paint_circle:h0e,paint_heatmap:d0e,paint_symbol:f0e,paint_raster:p0e,paint_hillshade:m0e,paint_background:g0e,transition:y0e,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:v0e};function Po(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",e="3158bd93bbefd1bd0e63d26617da070781685c25",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Po=function(){return s},s}Po();class Kk extends Sn.Component{constructor(t){Po().f[0]++,Po().s[0]++;super(t);dn(this,"onToggleDoc",(Po().s[2]++,t=>{Po().f[1]++,Po().s[3]++,this.setState({open:t},()=>{Po().f[2]++,Po().s[4]++,this.props.onToggleDoc?(Po().b[0][0]++,Po().s[5]++,this.props.onToggleDoc(this.state.open)):Po().b[0][1]++})}));Po().s[1]++,this.state={open:!1}}render(){Po().f[3]++;const{label:t,fieldSpec:r}=(Po().s[6]++,this.props),{doc:i}=(Po().s[7]++,Po().b[1][0]++,r||(Po().b[1][1]++,{}));if(Po().s[8]++,i)return Po().b[2][0]++,Po().s[9]++,q.jsx("label",{className:"maputnik-doc-wrapper",children:q.jsxs("div",{className:"maputnik-doc-target",children:[t,"",q.jsx("button",{"aria-label":this.state.open?(Po().b[3][0]++,"close property documentation"):(Po().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Po().b[4][0]++,"open"):(Po().b[4][1]++,"closed")}`,onClick:()=>(Po().f[4]++,Po().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+t,children:this.state.open?(Po().b[5][0]++,q.jsx(Jre,{})):(Po().b[5][1]++,q.jsx(eie,{}))})]})});if(Po().b[2][1]++,Po().s[11]++,t)return Po().b[6][0]++,Po().s[12]++,q.jsx("label",{className:"maputnik-doc-wrapper",children:q.jsx("div",{className:"maputnik-doc-target",children:t})});Po().b[6][1]++,Po().s[13]++}}function Vo(){var n="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",e="52a1547e724051448ae0a009c4c7c40d9bb9067f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:52},end:{line:12,column:61}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:48,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:49,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38},5:{loc:{start:{line:47,column:6},end:{line:47,column:215}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:12}},{start:{line:47,column:16},end:{line:47,column:30}},{start:{line:47,column:50},end:{line:47,column:215}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAwCM,mBAGM,KAKQ,YARd;AAxCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAkBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,QAAQ,QAAQ,eAAc,IAAI;AAC9C,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,MAED,UAAU,kBACT,oBAAC,SAAI,WAAU,uBACb,8BAAC,OAAE,MAAM,QAAS,QAAO,UAAS,KAAI,cAAc,0BAAe,GACrE;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52a1547e724051448ae0a009c4c7c40d9bb9067f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Vo=function(){return s},s}Vo();const PL=(Vo().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class Lk extends Sn.Component{render(){Vo().f[0]++;const{fieldSpec:e}=(Vo().s[1]++,this.props),{doc:t,values:r,docUrl:i,docUrlLinkText:o}=(Vo().s[2]++,e),s=(Vo().s[3]++,e["sdk-support"]),a=(Vo().s[4]++,Vo().b[0][0]++,!!r&&(Vo().b[0][1]++,!Array.isArray(r)));return Vo().s[5]++,q.jsxs(q.Fragment,{children:[(Vo().b[1][0]++,t&&(Vo().b[1][1]++,q.jsxs("div",{className:"SpecDoc",children:[q.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:t}),(Vo().b[2][0]++,a&&(Vo().b[2][1]++,q.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([f,m])=>(Vo().f[1]++,Vo().s[6]++,q.jsxs("li",{children:[q.jsx("code",{children:JSON.stringify(f)}),q.jsx("div",{children:m.doc})]},f)))})))]}))),(Vo().b[3][0]++,s&&(Vo().b[3][1]++,q.jsx("div",{className:"SpecDoc__sdk-support",children:q.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{}),Object.values(PL).map(f=>(Vo().f[2]++,Vo().s[7]++,q.jsx("th",{children:f},f)))]})}),q.jsx("tbody",{children:Object.entries(s).map(([f,m])=>(Vo().f[3]++,Vo().s[8]++,q.jsxs("tr",{children:[q.jsx("td",{children:f}),Object.keys(PL).map(C=>(Vo().f[4]++,Vo().s[9]++,Object.prototype.hasOwnProperty.call(m,C)?(Vo().b[4][0]++,Vo().s[10]++,q.jsx("td",{children:m[C]},C)):(Vo().b[4][1]++,Vo().s[11]++,q.jsx("td",{children:"no"},C))))]},f)))})]})}))),(Vo().b[5][0]++,i&&(Vo().b[5][1]++,o)&&(Vo().b[5][2]++,q.jsx("div",{className:"SpecDoc__learn-more",children:q.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:o})})))]})}}function qi(){var n="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",e="ca04d739d50d9528a1765863025280bc88ee5e77",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:40,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:39,column:5}},14:{start:{line:38,column:6},end:{line:38,column:29}},15:{start:{line:42,column:4},end:{line:75,column:6}},16:{start:{line:64,column:95},end:{line:64,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:40,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:76,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:64,column:87},end:{line:64,column:88}},loc:{start:{line:64,column:95},end:{line:64,column:113}},line:64}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:54,column:10},end:{line:61,column:14}},type:"binary-expr",locations:[{start:{line:54,column:10},end:{line:54,column:30}},{start:{line:54,column:50},end:{line:61,column:14}}],line:54},6:{loc:{start:{line:62,column:10},end:{line:62,column:134}},type:"binary-expr",locations:[{start:{line:62,column:10},end:{line:62,column:31}},{start:{line:62,column:51},end:{line:62,column:134}}],line:62},7:{loc:{start:{line:65,column:10},end:{line:72,column:11}},type:"binary-expr",locations:[{start:{line:65,column:10},end:{line:65,column:30}},{start:{line:65,column:50},end:{line:72,column:11}}],line:65},8:{loc:{start:{line:69,column:32},end:{line:69,column:64}},type:"cond-expr",locations:[{start:{line:69,column:53},end:{line:69,column:55}},{start:{line:69,column:58},end:{line:69,column:64}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AAgEW,SAWD,KAXC;AAhEX,OAAO,WAAgD;AACvD,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,QAAI,MAAM,YAAY,OAAO,aAAa,KAAK;AAC7C,YAAM,eAAe;AAAA,IACvB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ca04d739d50d9528a1765863025280bc88ee5e77"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return qi=function(){return s},s}qi();class oa extends Sn.Component{constructor(t){qi().f[0]++,qi().s[1]++;super(t);dn(this,"_blockEl",(qi().s[0]++,null));dn(this,"onToggleDoc",(qi().s[6]++,t=>{qi().f[2]++,qi().s[7]++,this.setState({showDoc:t})}));dn(this,"onLabelClick",(qi().s[8]++,t=>{var o;qi().f[3]++;const r=(qi().s[9]++,t.nativeEvent.target),i=(qi().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));qi().s[11]++,qi().b[3][0]++,t.nativeEvent.target.nodeName!=="INPUT"&&(qi().b[3][1]++,!i)?(qi().b[2][0]++,qi().s[12]++,t.stopPropagation()):qi().b[2][1]++,qi().s[13]++,t.nativeEvent.target.nodeName!=="A"?(qi().b[4][0]++,qi().s[14]++,t.preventDefault()):qi().b[4][1]++}));qi().s[2]++,this.state={showDoc:!1}}onChange(t){qi().f[1]++;const r=(qi().s[3]++,t.target.value);if(qi().s[4]++,this.props.onChange)return qi().b[0][0]++,qi().s[5]++,this.props.onChange(r===""?(qi().b[1][0]++,void 0):(qi().b[1][1]++,r));qi().b[0][1]++}render(){return qi().f[4]++,qi().s[15]++,q.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:Sp({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(qi().b[5][0]++,this.props.fieldSpec&&(qi().b[5][1]++,q.jsx("div",{className:"maputnik-input-block-label",children:q.jsx(Kk,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(qi().b[6][0]++,!this.props.fieldSpec&&(qi().b[6][1]++,q.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),q.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),q.jsx("div",{className:"maputnik-input-block-content",ref:t=>(qi().f[5]++,qi().s[16]++,this._blockEl=t),children:this.props.children}),(qi().b[7][0]++,this.props.fieldSpec&&(qi().b[7][1]++,q.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(qi().b[8][0]++,""):(qi().b[8][1]++,"none")},children:q.jsx(Lk,{fieldSpec:this.props.fieldSpec})})))]})}}function iA(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",e="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return iA=function(){return s},s}iA();class x1 extends Sn.Component{render(){iA().f[0]++;let e=(iA().s[0]++,this.props.options);return iA().s[1]++,iA().b[1][0]++,e.length>0&&(iA().b[1][1]++,!Array.isArray(e[0]))?(iA().b[0][0]++,iA().s[2]++,e=e.map(t=>(iA().f[1]++,iA().s[3]++,[t,t]))):iA().b[0][1]++,iA().s[4]++,q.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:t=>(iA().f[2]++,iA().s[5]++,this.props.onChange(t.target.value)),"aria-label":this.props["aria-label"],children:e.map(([t,r])=>(iA().f[3]++,iA().s[6]++,q.jsx("option",{value:t,children:r},t)))})}}function ri(){var n="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",e="ffe977722e3215b5f6718c464b93680839810a41",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:70,column:7}},14:{start:{line:51,column:8},end:{line:56,column:11}},15:{start:{line:55,column:10},end:{line:55,column:71}},16:{start:{line:55,column:34},end:{line:55,column:71}},17:{start:{line:59,column:8},end:{line:62,column:9}},18:{start:{line:60,column:10},end:{line:60,column:44}},19:{start:{line:61,column:10},end:{line:61,column:73}},20:{start:{line:61,column:35},end:{line:61,column:73}},21:{start:{line:65,column:8},end:{line:67,column:9}},22:{start:{line:66,column:10},end:{line:66,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:71,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:57,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:56,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:58,column:14},end:{line:58,column:15}},loc:{start:{line:58,column:20},end:{line:63,column:7}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:64,column:17},end:{line:64,column:18}},loc:{start:{line:64,column:24},end:{line:68,column:7}},line:64}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:55,column:71}},type:"if",locations:[{start:{line:55,column:10},end:{line:55,column:71}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},8:{loc:{start:{line:61,column:10},end:{line:61,column:73}},type:"if",locations:[{start:{line:61,column:10},end:{line:61,column:73}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},9:{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},10:{loc:{start:{line:65,column:12},end:{line:65,column:51}},type:"binary-expr",locations:[{start:{line:65,column:12},end:{line:65,column:28}},{start:{line:65,column:32},end:{line:65,column:51}}],line:65}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ffe977722e3215b5f6718c464b93680839810a41"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ri=function(){return s},s}ri();class xd extends Sn.Component{constructor(e){ri().f[1]++,ri().s[1]++,super(e),ri().s[2]++,this.state={editing:!1,value:(ri().b[0][0]++,e.value||(ri().b[0][1]++,""))}}static getDerivedStateFromProps(e,t){if(ri().f[2]++,ri().s[3]++,t.editing)ri().b[1][1]++;else return ri().b[1][0]++,ri().s[4]++,{value:e.value};return ri().s[5]++,{}}render(){ri().f[3]++;let e,t;return ri().s[6]++,this.props.multi?(ri().b[2][0]++,ri().s[7]++,e="textarea",ri().s[8]++,t=["maputnik-string","maputnik-string--multi"]):(ri().b[2][1]++,ri().s[9]++,e="input",ri().s[10]++,t=["maputnik-string"]),ri().s[11]++,this.props.disabled?(ri().b[3][0]++,ri().s[12]++,t.push("maputnik-string--disabled")):ri().b[3][1]++,ri().s[13]++,Sn.createElement(e,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(ri().b[4][0]++,this.props.spellCheck):(ri().b[4][1]++,e!=="input"),disabled:this.props.disabled,className:t.join(" "),style:this.props.style,value:this.state.value===void 0?(ri().b[5][0]++,""):(ri().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{ri().f[4]++,ri().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{ri().f[5]++,ri().s[15]++,this.props.onInput?(ri().b[6][0]++,ri().s[16]++,this.props.onInput(this.state.value)):ri().b[6][1]++})},onBlur:()=>{ri().f[6]++,ri().s[17]++,this.state.value!==this.props.value?(ri().b[7][0]++,ri().s[18]++,this.setState({editing:!1}),ri().s[19]++,this.props.onChange?(ri().b[8][0]++,ri().s[20]++,this.props.onChange(this.state.value)):ri().b[8][1]++):ri().b[7][1]++},onKeyDown:r=>{ri().f[7]++,ri().s[21]++,ri().b[10][0]++,r.keyCode===13&&(ri().b[10][1]++,this.props.onChange)?(ri().b[9][0]++,ri().s[22]++,this.props.onChange(this.state.value)):ri().b[9][1]++},required:this.props.required})}}dn(xd,"defaultProps",(ri().s[0]++,{onInput:()=>{ri().f[0]++}}));function rf(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",e="7881723dfc9d5af5c18468677e4f429a5a061179",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:9,column:24},end:{line:11,column:3}},1:{start:{line:13,column:14},end:{line:13,column:26}},2:{start:{line:14,column:4},end:{line:50,column:6}},3:{start:{line:53,column:18},end:{line:53,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:51,column:3}},line:12}},branchMap:{0:{loc:{start:{line:22,column:10},end:{line:28,column:11}},type:"binary-expr",locations:[{start:{line:22,column:10},end:{line:22,column:29}},{start:{line:22,column:49},end:{line:28,column:11}}],line:22},1:{loc:{start:{line:29,column:10},end:{line:47,column:11}},type:"binary-expr",locations:[{start:{line:29,column:10},end:{line:29,column:30}},{start:{line:29,column:50},end:{line:47,column:11}}],line:29}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAuBW,SAKH,KALG;AAvBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAUjD,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,MAAM;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QACtD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7881723dfc9d5af5c18468677e4f429a5a061179"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return rf=function(){return s},s}rf();class wQ extends Sn.Component{render(){rf().f[0]++;const e=(rf().s[1]++,this.props.t);return rf().s[2]++,q.jsxs(oa,{label:e("Type"),fieldSpec:zi.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(rf().b[0][0]++,this.props.disabled&&(rf().b[0][1]++,q.jsx(xd,{value:this.props.value,disabled:!0}))),(rf().b[1][0]++,!this.props.disabled&&(rf().b[1][1]++,q.jsx(x1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}dn(wQ,"defaultProps",(rf().s[0]++,{disabled:!1}));const MQ=(rf().s[3]++,zo()(wQ));function Ww(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",e="f6ac2bd12dbef0198dd96da668f75e4659321d69",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAM;AAAA,QAAK,WAAW,OAAO,MAAM;AAAA,QAE/C,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f6ac2bd12dbef0198dd96da668f75e4659321d69"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ww=function(){return s},s}Ww();class SQ extends Sn.Component{render(){return Ww().f[0]++,Ww().s[0]++,q.jsx(oa,{label:"ID",fieldSpec:zi.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:q.jsx(xd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var EQ={exports:{}},_0e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function C0e(n){var e,t,r,i=n.ownerDocument,o=i.body,s=i&&i.documentElement;return e=n.getBoundingClientRect(),t=e.left,r=e.top,t-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:t,top:r}}function OQ(n,e){var t=n["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if(typeof t!="number"){var i=n.document;t=i.documentElement[r],typeof t!="number"&&(t=i.body[r])}return t}function l8(n){return OQ(n)}function u8(n){return OQ(n,!0)}function BQ(n){var e=C0e(n),t=n.ownerDocument,r=t.defaultView||t.parentWindow;return e.left+=l8(r),e.top+=u8(r),e}function b0e(n,e,t){var r="",i=n.ownerDocument;return(t=t||i.defaultView.getComputedStyle(n,null))&&(r=t.getPropertyValue(e)||t[e]),r}var x0e=new RegExp("^("+_0e+")(?!px)[a-z%]+$","i"),w0e=/^(top|right|bottom|left)$/,c6="currentStyle",h6="runtimeStyle",pg="left",M0e="px";function S0e(n,e){var t=n[c6]&&n[c6][e];if(x0e.test(t)&&!w0e.test(e)){var r=n.style,i=r[pg],o=n[h6][pg];n[h6][pg]=n[c6][pg],r[pg]=e==="fontSize"?"1em":t||0,t=r.pixelLeft+M0e,r[pg]=i,n[h6][pg]=o}return t===""?"auto":t}var f1;typeof window<"u"&&(f1=window.getComputedStyle?b0e:S0e);function E0e(n,e){cv(n,"position")==="static"&&(n.style.position="relative");var t=BQ(n),r={},i,o;for(o in e)i=parseFloat(cv(n,o))||0,r[o]=i+e[o]-t[o];cv(n,r)}function Dk(n,e){for(var t=0;t<n.length;t++)e(n[t])}function IQ(n){return f1(n,"boxSizing")==="border-box"}var O0e=["margin","border","padding"],A8=-1,B0e=2,c8=1,I0e=0;function k0e(n,e,t){var r={},i=n.style,o;for(o in e)r[o]=i[o],i[o]=e[o];t.call(n);for(o in e)i[o]=r[o]}function SC(n,e,t){var r=0,i,o,s;for(o=0;o<e.length;o++)if(i=e[o],i)for(s=0;s<t.length;s++){var a;i==="border"?a=i+t[s]+"Width":a=i+t[s],r+=parseFloat(f1(n,a))||0}return r}function s4(n){return n!=null&&n==n.window}var gp={};Dk(["Width","Height"],function(n){gp["doc"+n]=function(e){var t=e.document;return Math.max(t.documentElement["scroll"+n],t.body["scroll"+n],gp["viewport"+n](t))},gp["viewport"+n]=function(e){var t="client"+n,r=e.document,i=r.body,o=r.documentElement,s=o[t];return r.compatMode==="CSS1Compat"&&s||i&&i[t]||s}});function KL(n,e,t){if(s4(n))return e==="width"?gp.viewportWidth(n):gp.viewportHeight(n);if(n.nodeType===9)return e==="width"?gp.docWidth(n):gp.docHeight(n);var r=e==="width"?["Left","Right"]:["Top","Bottom"],i=e==="width"?n.offsetWidth:n.offsetHeight;f1(n);var o=IQ(n),s=0;(i==null||i<=0)&&(i=void 0,s=f1(n,e),(s==null||Number(s)<0)&&(s=n.style[e]||0),s=parseFloat(s)||0),t===void 0&&(t=o?c8:A8);var a=i!==void 0||o,f=i||s;return t===A8?a?f-SC(n,["border","padding"],r):s:a?f+(t===c8?0:t===B0e?-SC(n,["border"],r):SC(n,["margin"],r)):s+SC(n,O0e.slice(t),r)}var T0e={position:"absolute",visibility:"hidden",display:"block"};function LL(n){var e,t=arguments;return n.offsetWidth!==0?e=KL.apply(void 0,t):k0e(n,T0e,function(){e=KL.apply(void 0,t)}),e}Dk(["width","height"],function(n){var e=n.charAt(0).toUpperCase()+n.slice(1);gp["outer"+e]=function(r,i){return r&&LL(r,n,i?I0e:c8)};var t=n==="width"?["Left","Right"]:["Top","Bottom"];gp[n]=function(r,i){if(i!==void 0){if(r){f1(r);var o=IQ(r);return o&&(i+=SC(r,["padding","border"],t)),cv(r,n,i)}return}return r&&LL(r,n,A8)}});function cv(n,e,t){if(typeof e=="object"){for(var r in e)cv(n,r,e[r]);return}if(typeof t<"u")typeof t=="number"&&(t=t+"px"),n.style[e]=t;else return f1(n,e)}function kQ(n,e){for(var t in e)n[t]=e[t];return n}var TQ=EQ.exports={getWindow:function(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow},offset:function(n,e){if(typeof e<"u")E0e(n,e);else return BQ(n)},isWindow:s4,each:Dk,css:cv,clone:function(n){var e={};for(var t in n)e[t]=n[t];var r=n.overflow;if(r)for(t in n)e.overflow[t]=n.overflow[t];return e},mix:kQ,scrollLeft:function(n,e){if(s4(n)){if(e===void 0)return l8(n);window.scrollTo(e,u8(n))}else{if(e===void 0)return n.scrollLeft;n.scrollLeft=e}},scrollTop:function(n,e){if(s4(n)){if(e===void 0)return u8(n);window.scrollTo(l8(n),e)}else{if(e===void 0)return n.scrollTop;n.scrollTop=e}},merge:function(){for(var n={},e=0;e<arguments.length;e++)TQ.mix(n,arguments[e]);return n},viewportWidth:0,viewportHeight:0};kQ(TQ,gp);var P0e=EQ.exports,os=P0e;function K0e(n,e,t){t=t||{},e.nodeType===9&&(e=os.getWindow(e));var r=t.allowHorizontalScroll,i=t.onlyScrollIfNeeded,o=t.alignWithTop,s=t.alignWithLeft;r=r===void 0?!0:r;var a=os.isWindow(e),f=os.offset(n),m=os.outerHeight(n),C=os.outerWidth(n),B,I,K,L,Y,ee,V,W,ne,ce;a?(V=e,ce=os.height(V),ne=os.width(V),W={left:os.scrollLeft(V),top:os.scrollTop(V)},Y={left:f.left-W.left,top:f.top-W.top},ee={left:f.left+C-(W.left+ne),top:f.top+m-(W.top+ce)},L=W):(B=os.offset(e),I=e.clientHeight,K=e.clientWidth,L={left:e.scrollLeft,top:e.scrollTop},Y={left:f.left-(B.left+(parseFloat(os.css(e,"borderLeftWidth"))||0)),top:f.top-(B.top+(parseFloat(os.css(e,"borderTopWidth"))||0))},ee={left:f.left+C-(B.left+K+(parseFloat(os.css(e,"borderRightWidth"))||0)),top:f.top+m-(B.top+I+(parseFloat(os.css(e,"borderBottomWidth"))||0))}),Y.top<0||ee.top>0?o===!0?os.scrollTop(e,L.top+Y.top):o===!1?os.scrollTop(e,L.top+ee.top):Y.top<0?os.scrollTop(e,L.top+Y.top):os.scrollTop(e,L.top+ee.top):i||(o=o===void 0?!0:!!o,o?os.scrollTop(e,L.top+Y.top):os.scrollTop(e,L.top+ee.top)),r&&(Y.left<0||ee.left>0?s===!0?os.scrollLeft(e,L.left+Y.left):s===!1?os.scrollLeft(e,L.left+ee.left):Y.left<0?os.scrollLeft(e,L.left+Y.left):os.scrollLeft(e,L.left+ee.left):i||(s=s===void 0?!0:!!s,s?os.scrollLeft(e,L.left+Y.left):os.scrollLeft(e,L.left+ee.left)))}var L0e=K0e,D0e=L0e,l4=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},F0e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function R0e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function U0e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function z0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Ig=Wn,Gl=ff,j0e=z0,DL=j0e.findDOMNode,N0e=D0e,W0e=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function G0e(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var mM=function(n){z0e(e,n);function e(t){R0e(this,e);var r=U0e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return F0e(e,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,W0e.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;N0e(DL(r),DL(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){e.keyDownHandlers[r.key]?e.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,s){return r.sortItems(o,s,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,s=i.value,a=i.getItemValue,f=o===null?0:o,m=this.getFilteredItems(i),C=0;C<m.length&&!i.isItemSelectable(m[f]);C++)f=(f+1)%m.length;var B=m[f]&&i.isItemSelectable(m[f])?m[f]:null;if(s!==""&&B){var I=a(B),K=I.toLowerCase().indexOf(s.toLowerCase())===0;if(K)return{highlightedIndex:f}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),s=parseInt(o.marginBottom,10)||0,a=parseInt(o.marginLeft,10)||0,f=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+s,menuLeft:i.left+a,menuWidth:i.width+a+f})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(a,f){var m=r.props.renderItem(a,r.state.highlightedIndex===f,{cursor:"default"});return Ig.cloneElement(m,{onMouseEnter:r.props.isItemSelectable(a)?function(){return r.highlightItemFromMouse(f)}:null,onClick:r.props.isItemSelectable(a)?function(){return r.selectItemFromMouse(a)}:null,ref:function(B){return r.refs["item-"+f]=B}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},s=this.props.renderMenu(i,this.props.value,o);return Ig.cloneElement(s,{ref:function(f){return r.refs.menu=f},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=G0e(),this.refs.input.focus();return}var o=void 0,s=this.state.highlightedIndex;if(this.props.selectOnBlur&&s!==null){var a=this.getFilteredItems(this.props),f=a[s],m=this.props.getItemValue(f);o=function(){return i.props.onSelect(m,f)}}this.setState({isOpen:!1,highlightedIndex:null},o);var C=this.props.inputProps.onBlur;C&&C(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,s=o.x,a=o.y;this._scrollOffset=null,window.scrollTo(s,a),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(s,a)},0);return}this.setState({isOpen:!0});var f=this.props.inputProps.onFocus;f&&f(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return Ig.createElement("div",l4({style:l4({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(l4({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&Ig.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),e}(Ig.Component);mM.propTypes={items:Gl.array.isRequired,value:Gl.any,onChange:Gl.func,onSelect:Gl.func,shouldItemRender:Gl.func,isItemSelectable:Gl.func,sortItems:Gl.func,getItemValue:Gl.func.isRequired,renderItem:Gl.func.isRequired,renderMenu:Gl.func,menuStyle:Gl.object,renderInput:Gl.func,inputProps:Gl.object,wrapperProps:Gl.object,wrapperStyle:Gl.object,autoHighlight:Gl.bool,selectOnBlur:Gl.bool,onMenuVisibilityChange:Gl.func,open:Gl.bool,debug:Gl.bool};mM.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(e){return Ig.createElement("input",e)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(e,t,r){return Ig.createElement("div",{style:l4({},r,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};mM.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<t.length;o++){var s=(i+o+1)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var r=this.state.highlightedIndex,i=r===null?t.length:r,o=0;o<t.length;o++){var s=(i-(1+o)+t.length)%t.length;if(this.props.isItemSelectable(t[s])){i=s;break}}i!==t.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(e){var t=this;if(e.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){t.refs.input.select()});else{e.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(i.length,i.length),t.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var Q0e=mM;const $0e=wa(Q0e);function Ui(){var n="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",e="6ef9facf9aeabdae687b5aca973710969d826d60",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ui=function(){return s},s}Ui();const FL=(Ui().s[0]++,140);class r_ extends Sn.Component{constructor(){super(...arguments);dn(this,"state",(Ui().s[1]++,{maxHeight:FL}));dn(this,"autocompleteMenuEl",(Ui().s[2]++,null))}calcMaxHeight(){if(Ui().f[1]++,Ui().s[4]++,this.props.keepMenuWithinWindowBounds){Ui().b[0][0]++;const t=(Ui().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Ui().s[6]++,Math.min(t,FL));Ui().s[7]++,r!=this.state.maxHeight?(Ui().b[1][0]++,Ui().s[8]++,this.setState({maxHeight:r})):Ui().b[1][1]++}else Ui().b[0][1]++}componentDidMount(){Ui().f[2]++,Ui().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Ui().f[3]++,Ui().s[10]++,this.calcMaxHeight()}onChange(t){Ui().f[4]++,Ui().s[11]++,this.props.onChange(t===""?(Ui().b[2][0]++,void 0):(Ui().b[2][1]++,t))}render(){return Ui().f[5]++,Ui().s[12]++,q.jsx("div",{ref:t=>{Ui().f[6]++,Ui().s[13]++,this.autocompleteMenuEl=t},children:q.jsx($0e,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:t=>(Ui().f[7]++,Ui().s[14]++,t[0]),onSelect:t=>(Ui().f[8]++,Ui().s[15]++,this.onChange(t)),onChange:(t,r)=>(Ui().f[9]++,Ui().s[16]++,this.onChange(r)),shouldItemRender:(t,r=(Ui().b[3][0]++,""))=>(Ui().f[10]++,Ui().s[17]++,typeof r=="string"?(Ui().b[4][0]++,Ui().s[18]++,t[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Ui().b[4][1]++,Ui().s[19]++,!1)),renderItem:(t,r)=>(Ui().f[11]++,Ui().s[20]++,q.jsx("div",{className:Sp({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:t[1]},t[0]))})})}}dn(r_,"defaultProps",(Ui().s[3]++,{onChange:()=>{Ui().f[0]++},options:[]}));function ap(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",e="ab049bb75b4ddccd0f9bdd2bba8785d564ca92f6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:12,column:3}},1:{start:{line:14,column:14},end:{line:14,column:26}},2:{start:{line:15,column:4},end:{line:31,column:6}},3:{start:{line:27,column:56},end:{line:27,column:66}},4:{start:{line:34,column:20},end:{line:34,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:14},end:{line:9,column:15}},loc:{start:{line:9,column:20},end:{line:10,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:47},end:{line:27,column:48}},loc:{start:{line:27,column:56},end:{line:27,column:66}},line:27}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA6BM;AA7BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA0B,uBAAuB;AAUjD,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,QAAQ;AAAA,QACjB,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab049bb75b4ddccd0f9bdd2bba8785d564ca92f6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ap=function(){return s},s}ap();class PQ extends Sn.Component{render(){var t;ap().f[1]++;const e=(ap().s[1]++,this.props.t);return ap().s[2]++,q.jsx(oa,{label:e("Source"),fieldSpec:zi.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:q.jsx(r_,{value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceIds)==null?void 0:t.map(r=>(ap().f[2]++,ap().s[3]++,[r,r]))})})}}dn(PQ,"defaultProps",(ap().s[0]++,{onChange:()=>{ap().f[0]++},sourceIds:[]}));const KQ=(ap().s[4]++,zo()(PQ));function sp(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",e="d17faa4f03faf23184e12eb0563d322067d1f63d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:13,column:3}},1:{start:{line:15,column:14},end:{line:15,column:26}},2:{start:{line:16,column:4},end:{line:33,column:6}},3:{start:{line:29,column:59},end:{line:29,column:65}},4:{start:{line:36,column:25},end:{line:36,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:14},end:{line:9,column:15}},loc:{start:{line:9,column:20},end:{line:10,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:34,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:29,column:52},end:{line:29,column:53}},loc:{start:{line:29,column:59},end:{line:29,column:65}},line:29}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA8BM;AA9BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAC9B,SAA0B,uBAAuB;AAUjD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,cAAc;AAAA,QACvB,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17faa4f03faf23184e12eb0563d322067d1f63d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return sp=function(){return s},s}sp();class LQ extends Sn.Component{render(){var t;sp().f[1]++;const e=(sp().s[1]++,this.props.t);return sp().s[2]++,q.jsx(oa,{label:e("Source Layer"),fieldSpec:da.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:q.jsx(r_,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceLayerIds)==null?void 0:t.map(r=>(sp().f[2]++,sp().s[3]++,[r,r]))})})}}dn(LQ,"defaultProps",(sp().s[0]++,{onChange:()=>{sp().f[0]++},sourceLayerIds:[],isFixed:!1}));const DQ=(sp().s[4]++,zo()(LQ));function sr(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",e="7a9f0314912c2a2e8e47cddf3aaf5469476531e0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:11,column:13},end:{line:26,column:3}},1:{start:{line:12,column:26},end:{line:12,column:52}},2:{start:{line:13,column:18},end:{line:16,column:5}},3:{start:{line:17,column:4},end:{line:22,column:5}},4:{start:{line:18,column:6},end:{line:18,column:39}},5:{start:{line:19,column:6},end:{line:21,column:7}},6:{start:{line:20,column:8},end:{line:20,column:59}},7:{start:{line:23,column:4},end:{line:23,column:30}},8:{start:{line:24,column:4},end:{line:24,column:45}},9:{start:{line:25,column:4},end:{line:25,column:35}},10:{start:{line:28,column:4},end:{line:28,column:17}},11:{start:{line:29,column:18},end:{line:32,column:5}},12:{start:{line:33,column:4},end:{line:36,column:5}},13:{start:{line:34,column:6},end:{line:34,column:56}},14:{start:{line:35,column:6},end:{line:35,column:66}},15:{start:{line:37,column:4},end:{line:37,column:23}},16:{start:{line:40,column:20},end:{line:40,column:34}},17:{start:{line:41,column:20},end:{line:41,column:35}},18:{start:{line:42,column:32},end:{line:42,column:56}},19:{start:{line:43,column:32},end:{line:43,column:56}},20:{start:{line:44,column:4},end:{line:51,column:5}},21:{start:{line:48,column:6},end:{line:50,column:9}},22:{start:{line:54,column:22},end:{line:54,column:54}},23:{start:{line:55,column:4},end:{line:55,column:34}},24:{start:{line:58,column:20},end:{line:58,column:22}},25:{start:{line:59,column:18},end:{line:79,column:5}},26:{start:{line:80,column:4},end:{line:85,column:5}},27:{start:{line:81,column:22},end:{line:81,column:30}},28:{start:{line:82,column:6},end:{line:84,column:7}},29:{start:{line:83,column:8},end:{line:83,column:26}},30:{start:{line:86,column:4},end:{line:86,column:19}},31:{start:{line:89,column:14},end:{line:89,column:26}},32:{start:{line:90,column:20},end:{line:90,column:52}},33:{start:{line:91,column:19},end:{line:91,column:61}},34:{start:{line:92,column:4},end:{line:148,column:6}},35:{start:{line:107,column:16},end:{line:107,column:41}},36:{start:{line:116,column:31},end:{line:116,column:57}},37:{start:{line:125,column:31},end:{line:125,column:59}},38:{start:{line:134,column:31},end:{line:134,column:67}},39:{start:{line:151,column:17},end:{line:151,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:13},end:{line:11,column:14}},loc:{start:{line:11,column:19},end:{line:26,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:21},end:{line:38,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:44},end:{line:52,column:3}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:29},end:{line:56,column:3}},line:53},4:{name:"(anonymous_4)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:19},end:{line:87,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:11},end:{line:149,column:3}},line:88},6:{name:"(anonymous_6)",decl:{start:{line:106,column:24},end:{line:106,column:25}},loc:{start:{line:106,column:31},end:{line:108,column:15}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:116,column:24},end:{line:116,column:25}},loc:{start:{line:116,column:31},end:{line:116,column:57}},line:116},8:{name:"(anonymous_8)",decl:{start:{line:125,column:24},end:{line:125,column:25}},loc:{start:{line:125,column:31},end:{line:125,column:59}},line:125},9:{name:"(anonymous_9)",decl:{start:{line:134,column:24},end:{line:134,column:25}},loc:{start:{line:134,column:31},end:{line:134,column:67}},line:134}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:19,column:6},end:{line:21,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:21,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},2:{loc:{start:{line:19,column:10},end:{line:19,column:68}},type:"binary-expr",locations:[{start:{line:19,column:10},end:{line:19,column:38}},{start:{line:19,column:42},end:{line:19,column:68}}],line:19},3:{loc:{start:{line:33,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},4:{loc:{start:{line:44,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},5:{loc:{start:{line:46,column:6},end:{line:46,column:160}},type:"binary-expr",locations:[{start:{line:46,column:6},end:{line:46,column:25}},{start:{line:46,column:29},end:{line:46,column:52}},{start:{line:46,column:56},end:{line:46,column:106}},{start:{line:46,column:110},end:{line:46,column:160}}],line:46},6:{loc:{start:{line:54,column:22},end:{line:54,column:54}},type:"binary-expr",locations:[{start:{line:54,column:22},end:{line:54,column:48}},{start:{line:54,column:52},end:{line:54,column:54}}],line:54},7:{loc:{start:{line:55,column:11},end:{line:55,column:33}},type:"binary-expr",locations:[{start:{line:55,column:11},end:{line:55,column:27}},{start:{line:55,column:31},end:{line:55,column:33}}],line:55},8:{loc:{start:{line:82,column:6},end:{line:84,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:84,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:82},9:{loc:{start:{line:82,column:10},end:{line:82,column:61}},type:"binary-expr",locations:[{start:{line:82,column:10},end:{line:82,column:24}},{start:{line:82,column:28},end:{line:82,column:61}}],line:82},10:{loc:{start:{line:119,column:10},end:{line:127,column:11}},type:"binary-expr",locations:[{start:{line:119,column:10},end:{line:119,column:42}},{start:{line:119,column:62},end:{line:127,column:11}}],line:119},11:{loc:{start:{line:128,column:10},end:{line:136,column:11}},type:"binary-expr",locations:[{start:{line:128,column:10},end:{line:128,column:87}},{start:{line:128,column:107},end:{line:136,column:11}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AA2IM,SACE,KADF;AA3IN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAE7B,SAA0B,uBAAuB;AAkBjD,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAA8B;AACxC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAgD,EAAE,CAAC;AAAA,IACtG;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAAmC,WAA0B;AAE9E,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QACpB,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cAEX,YAAE,WAAW;AAAA;AAAA,UAChB;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7a9f0314912c2a2e8e47cddf3aaf5469476531e0"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return sr=function(){return s},s}sr();class Y0e extends Sn.Component{constructor(t){sr().f[1]++,sr().s[10]++;super(t);dn(this,"addLayer",(sr().s[0]++,()=>{sr().f[0]++;const t=(sr().s[1]++,this.props.layers.slice(0)),r=(sr().s[2]++,{id:this.state.id,type:this.state.type});sr().s[3]++,this.state.type!=="background"?(sr().b[0][0]++,sr().s[4]++,r.source=this.state.source,sr().s[5]++,sr().b[2][0]++,this.state.type!=="raster"&&(sr().b[2][1]++,this.state["source-layer"])?(sr().b[1][0]++,sr().s[6]++,r["source-layer"]=this.state["source-layer"]):sr().b[1][1]++):sr().b[0][1]++,sr().s[7]++,t.push(r),sr().s[8]++,this.props.onLayersChange(t),sr().s[9]++,this.props.onOpenToggle(!1)}));const r=(sr().s[11]++,{type:"fill",id:""});sr().s[12]++,t.sources.length>0?(sr().b[3][0]++,sr().s[13]++,r.source=Object.keys(this.props.sources)[0],sr().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):sr().b[3][1]++,sr().s[15]++,this.state=r}componentDidUpdate(t,r){sr().f[2]++;const i=(sr().s[16]++,r.type),o=(sr().s[17]++,this.state.type),s=(sr().s[18]++,this.getSources(i)),a=(sr().s[19]++,this.getSources(o));sr().s[20]++,sr().b[5][0]++,i!==o&&(sr().b[5][1]++,r.source!=="")&&(sr().b[5][2]++,s.indexOf(r.source)>-1)&&(sr().b[5][3]++,a.indexOf(this.state.source)<0)?(sr().b[4][0]++,sr().s[21]++,this.setState({source:""})):sr().b[4][1]++}getLayersForSource(t){sr().f[3]++;const r=(sr().s[22]++,sr().b[6][0]++,this.props.sources[t]||(sr().b[6][1]++,{}));return sr().s[23]++,sr().b[7][0]++,r.layers||(sr().b[7][1]++,[])}getSources(t){sr().f[4]++;const r=(sr().s[24]++,[]),i=(sr().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});sr().s[26]++;for(const[o,s]of Object.entries(this.props.sources)){const a=(sr().s[27]++,s.type);sr().s[28]++,sr().b[9][0]++,i[a]&&(sr().b[9][1]++,i[a].indexOf(t)>-1)?(sr().b[8][0]++,sr().s[29]++,r.push(o)):sr().b[8][1]++}return sr().s[30]++,r}render(){sr().f[5]++;const t=(sr().s[31]++,this.props.t),r=(sr().s[32]++,this.getSources(this.state.type)),i=(sr().s[33]++,this.getLayersForSource(this.state.source));return sr().s[34]++,q.jsx(W0,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Add Layer"),"data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:q.jsxs("div",{className:"maputnik-add-layer",children:[q.jsx(SQ,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:o=>{sr().f[6]++,sr().s[35]++,this.setState({id:o})}}),q.jsx(MQ,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:o=>(sr().f[7]++,sr().s[36]++,this.setState({type:o}))}),(sr().b[10][0]++,this.state.type!=="background"&&(sr().b[10][1]++,q.jsx(KQ,{sourceIds:r,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:o=>(sr().f[8]++,sr().s[37]++,this.setState({source:o}))}))),(sr().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(sr().b[11][1]++,q.jsx(DQ,{isFixed:!0,sourceLayerIds:i,value:this.state["source-layer"],onChange:o=>(sr().f[9]++,sr().s[38]++,this.setState({"source-layer":o}))}))),q.jsx(ds,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:t("Add Layer")})]})})}}const q0e=(sr().s[39]++,zo()(Y0e));function jg(){var n="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",e="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return jg=function(){return s},s}jg();let RL=(jg().s[0]++,0);function Uv(n=(jg().b[0][0]++,"")){return jg().f[0]++,jg().s[1]++,RL++,jg().s[2]++,n+RL}function si(){var n="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",e="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return si=function(){return s},s}si();function V0e(n,e){si().f[0]++;const t=(si().s[0]++,{...n.paint});si().s[1]++,Object.keys(t).forEach(i=>{si().f[1]++,si().s[2]++,i in da["paint_"+e]?si().b[0][1]++:(si().b[0][0]++,si().s[3]++,delete t[i])});const r=(si().s[4]++,{...n.layout});return si().s[5]++,Object.keys(r).forEach(i=>{si().f[2]++,si().s[6]++,i in da["layout_"+e]?si().b[1][1]++:(si().b[1][0]++,si().s[7]++,delete r[i])}),si().s[8]++,{...n,paint:t,layout:r,type:e}}function H0e(n,e,t,r){if(si().f[3]++,si().s[9]++,r===void 0)if(si().b[2][0]++,si().s[10]++,e){si().b[3][0]++;const i=(si().s[11]++,{...n,[e]:{...n[e]}});return si().s[12]++,delete i[e][t],si().s[13]++,Object.keys(i[e]).length<1?(si().b[4][0]++,si().s[14]++,delete i[e]):si().b[4][1]++,si().s[15]++,i}else{si().b[3][1]++;const i=(si().s[16]++,{...n});return si().s[17]++,delete i[t],si().s[18]++,i}else return si().b[2][1]++,si().s[19]++,e?(si().b[5][0]++,si().s[20]++,{...n,[e]:{...n[e],[t]:r}}):(si().b[5][1]++,si().s[21]++,{...n,[t]:r})}function Qy(n){return si().f[4]++,si().s[22]++,n.replace(" ","-").replace("_","-").split("-")[0]}function Z0e(n,e){si().f[5]++;const t=(si().s[23]++,Qy(n[e].id));let r=(si().s[24]++,e);si().s[25]++;for(let i=(si().s[26]++,e);i>0;i--){const o=(si().s[27]++,Qy(n[i-1].id));if(si().s[28]++,o===t)si().b[6][0]++,si().s[29]++,r=i-1;else return si().b[6][1]++,si().s[30]++,r}return si().s[31]++,r}function Xt(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",e="e544c04a7b56f1c8f5a1b9c28e156fb038263492",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:16,column:3}},1:{start:{line:20,column:4},end:{line:20,column:17}},2:{start:{line:21,column:4},end:{line:21,column:45}},3:{start:{line:22,column:4},end:{line:22,column:48}},4:{start:{line:23,column:4},end:{line:32,column:6}},5:{start:{line:35,column:4},end:{line:44,column:7}},6:{start:{line:46,column:17},end:{line:63,column:3}},7:{start:{line:47,column:14},end:{line:47,column:15}},8:{start:{line:48,column:22},end:{line:48,column:24}},9:{start:{line:49,column:4},end:{line:58,column:7}},10:{start:{line:50,column:26},end:{line:50,column:51}},11:{start:{line:51,column:24},end:{line:51,column:52}},12:{start:{line:52,column:6},end:{line:54,column:7}},13:{start:{line:53,column:8},end:{line:53,column:63}},14:{start:{line:55,column:6},end:{line:57,column:9}},15:{start:{line:56,column:8},end:{line:56,column:17}},16:{start:{line:59,column:4},end:{line:62,column:7}},17:{start:{line:65,column:19},end:{line:65,column:21}},18:{start:{line:66,column:41},end:{line:66,column:50}},19:{start:{line:67,column:4},end:{line:84,column:5}},20:{start:{line:67,column:17},end:{line:67,column:18}},21:{start:{line:68,column:24},end:{line:68,column:44}},22:{start:{line:69,column:28},end:{line:69,column:52}},23:{start:{line:70,column:6},end:{line:73,column:8}},24:{start:{line:74,column:20},end:{line:77,column:7}},25:{start:{line:78,column:6},end:{line:83,column:7}},26:{start:{line:79,column:26},end:{line:79,column:51}},27:{start:{line:80,column:8},end:{line:80,column:30}},28:{start:{line:82,column:8},end:{line:82,column:29}},29:{start:{line:85,column:4},end:{line:85,column:18}},30:{start:{line:88,column:22},end:{line:88,column:50}},31:{start:{line:89,column:22},end:{line:89,column:55}},32:{start:{line:90,column:4},end:{line:94,column:5}},33:{start:{line:91,column:6},end:{line:91,column:68}},34:{start:{line:93,column:6},end:{line:93,column:35}},35:{start:{line:95,column:4},end:{line:97,column:7}},36:{start:{line:100,column:22},end:{line:100,column:78}},37:{start:{line:101,column:4},end:{line:101,column:51}},38:{start:{line:104,column:4},end:{line:106,column:5}},39:{start:{line:105,column:6},end:{line:105,column:18}},40:{start:{line:108,column:18},end:{line:110,column:7}},41:{start:{line:111,column:6},end:{line:115,column:7}},42:{start:{line:112,column:8},end:{line:114,column:10}},43:{start:{line:116,column:6},end:{line:116,column:17}},44:{start:{line:118,column:24},end:{line:121,column:5}},45:{start:{line:123,column:18},end:{line:125,column:7}},46:{start:{line:126,column:6},end:{line:126,column:27}},47:{start:{line:127,column:6},end:{line:127,column:17}},48:{start:{line:129,column:23},end:{line:132,column:5}},49:{start:{line:133,column:25},end:{line:133,column:53}},50:{start:{line:134,column:4},end:{line:134,column:24}},51:{start:{line:137,column:4},end:{line:153,column:5}},52:{start:{line:138,column:31},end:{line:138,column:59}},53:{start:{line:139,column:6},end:{line:152,column:7}},54:{start:{line:140,column:23},end:{line:140,column:44}},55:{start:{line:141,column:24},end:{line:144,column:9}},56:{start:{line:145,column:25},end:{line:150,column:19}},57:{start:{line:146,column:10},end:{line:146,column:37}},58:{start:{line:147,column:10},end:{line:149,column:11}},59:{start:{line:148,column:12},end:{line:148,column:36}},60:{start:{line:151,column:8},end:{line:151,column:33}},61:{start:{line:156,column:22},end:{line:156,column:24}},62:{start:{line:157,column:14},end:{line:157,column:15}},63:{start:{line:158,column:26},end:{line:158,column:46}},64:{start:{line:159,column:4},end:{line:210,column:7}},65:{start:{line:160,column:26},end:{line:160,column:51}},66:{start:{line:161,column:6},end:{line:174,column:7}},67:{start:{line:162,column:36},end:{line:172,column:9}},68:{start:{line:166,column:47},end:{line:166,column:52}},69:{start:{line:173,column:8},end:{line:173,column:28}},70:{start:{line:175,column:6},end:{line:209,column:9}},71:{start:{line:176,column:25},end:{line:176,column:72}},72:{start:{line:177,column:27},end:{line:179,column:10}},73:{start:{line:178,column:10},end:{line:178,column:97}},74:{start:{line:180,column:32},end:{line:180,column:34}},75:{start:{line:181,column:8},end:{line:183,column:9}},76:{start:{line:182,column:10},end:{line:182,column:53}},77:{start:{line:184,column:41},end:{line:206,column:9}},78:{start:{line:207,column:8},end:{line:207,column:33}},79:{start:{line:208,column:8},end:{line:208,column:17}},80:{start:{line:211,column:14},end:{line:211,column:26}},81:{start:{line:212,column:4},end:{line:264,column:6}},82:{start:{line:267,column:27},end:{line:267,column:72}},83:{start:{line:268,column:35},end:{line:268,column:118}},84:{start:{line:268,column:80},end:{line:268,column:117}},85:{start:{line:271,column:4},end:{line:280,column:6}},86:{start:{line:278,column:33},end:{line:278,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:19},end:{line:14,column:20}},loc:{start:{line:14,column:25},end:{line:15,column:5}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:33,column:3}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:25},end:{line:45,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:46,column:17},end:{line:46,column:18}},loc:{start:{line:46,column:23},end:{line:63,column:3}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:49,column:33},end:{line:49,column:34}},loc:{start:{line:49,column:45},end:{line:58,column:5}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:55,column:21},end:{line:55,column:22}},loc:{start:{line:55,column:33},end:{line:57,column:7}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:18},end:{line:86,column:3}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:37},end:{line:98,column:3}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:99,column:2},end:{line:99,column:3}},loc:{start:{line:99,column:32},end:{line:102,column:3}},line:99},9:{name:"(anonymous_9)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:46},end:{line:135,column:3}},line:103},10:{name:"getRequiredProps",decl:{start:{line:107,column:13},end:{line:107,column:29}},loc:{start:{line:107,column:37},end:{line:117,column:5}},line:107},11:{name:"withoutLayers",decl:{start:{line:122,column:13},end:{line:122,column:26}},loc:{start:{line:122,column:34},end:{line:128,column:5}},line:122},12:{name:"(anonymous_12)",decl:{start:{line:136,column:2},end:{line:136,column:3}},loc:{start:{line:136,column:32},end:{line:154,column:3}},line:136},13:{name:"(anonymous_13)",decl:{start:{line:145,column:50},end:{line:145,column:51}},loc:{start:{line:145,column:63},end:{line:150,column:9}},line:145},14:{name:"(anonymous_14)",decl:{start:{line:155,column:2},end:{line:155,column:3}},loc:{start:{line:155,column:11},end:{line:265,column:3}},line:155},15:{name:"(anonymous_15)",decl:{start:{line:159,column:26},end:{line:159,column:27}},loc:{start:{line:159,column:38},end:{line:210,column:5}},line:159},16:{name:"(anonymous_16)",decl:{start:{line:166,column:40},end:{line:166,column:41}},loc:{start:{line:166,column:47},end:{line:166,column:52}},line:166},17:{name:"(anonymous_17)",decl:{start:{line:175,column:21},end:{line:175,column:22}},loc:{start:{line:175,column:44},end:{line:209,column:7}},line:175},18:{name:"(anonymous_18)",decl:{start:{line:177,column:50},end:{line:177,column:51}},loc:{start:{line:177,column:61},end:{line:179,column:9}},line:177},19:{name:"(anonymous_19)",decl:{start:{line:268,column:53},end:{line:268,column:54}},loc:{start:{line:268,column:80},end:{line:268,column:117}},line:268},20:{name:"(anonymous_20)",decl:{start:{line:270,column:2},end:{line:270,column:3}},loc:{start:{line:270,column:11},end:{line:281,column:3}},line:270},21:{name:"(anonymous_21)",decl:{start:{line:278,column:27},end:{line:278,column:28}},loc:{start:{line:278,column:33},end:{line:278,column:38}},line:278}},branchMap:{0:{loc:{start:{line:52,column:6},end:{line:54,column:7}},type:"if",locations:[{start:{line:52,column:6},end:{line:54,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},1:{loc:{start:{line:72,column:8},end:{line:72,column:79}},type:"cond-expr",locations:[{start:{line:72,column:41},end:{line:72,column:75}},{start:{line:72,column:78},end:{line:72,column:79}}],line:72},2:{loc:{start:{line:78,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:78,column:6},end:{line:83,column:7}},{start:{line:81,column:13},end:{line:83,column:7}}],line:78},3:{loc:{start:{line:78,column:10},end:{line:78,column:81}},type:"binary-expr",locations:[{start:{line:78,column:10},end:{line:78,column:23}},{start:{line:78,column:27},end:{line:78,column:81}}],line:78},4:{loc:{start:{line:90,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:94,column:5}},{start:{line:92,column:11},end:{line:94,column:5}}],line:90},5:{loc:{start:{line:101,column:11},end:{line:101,column:50}},type:"cond-expr",locations:[{start:{line:101,column:34},end:{line:101,column:38}},{start:{line:101,column:41},end:{line:101,column:50}}],line:101},6:{loc:{start:{line:104,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},7:{loc:{start:{line:111,column:6},end:{line:115,column:7}},type:"if",locations:[{start:{line:111,column:6},end:{line:115,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:111},8:{loc:{start:{line:133,column:27},end:{line:133,column:52}},type:"binary-expr",locations:[{start:{line:133,column:27},end:{line:133,column:38}},{start:{line:133,column:42},end:{line:133,column:52}}],line:133},9:{loc:{start:{line:137,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:137,column:4},end:{line:153,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:137},10:{loc:{start:{line:139,column:6},end:{line:152,column:7}},type:"if",locations:[{start:{line:139,column:6},end:{line:152,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:139},11:{loc:{start:{line:139,column:10},end:{line:139,column:51}},type:"binary-expr",locations:[{start:{line:139,column:10},end:{line:139,column:26}},{start:{line:139,column:30},end:{line:139,column:51}}],line:139},12:{loc:{start:{line:147,column:10},end:{line:149,column:11}},type:"if",locations:[{start:{line:147,column:10},end:{line:149,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},13:{loc:{start:{line:147,column:14},end:{line:147,column:68}},type:"binary-expr",locations:[{start:{line:147,column:14},end:{line:147,column:32}},{start:{line:147,column:36},end:{line:147,column:68}}],line:147},14:{loc:{start:{line:161,column:6},end:{line:174,column:7}},type:"if",locations:[{start:{line:161,column:6},end:{line:174,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:161},15:{loc:{start:{line:168,column:22},end:{line:168,column:98}},type:"binary-expr",locations:[{start:{line:168,column:22},end:{line:168,column:57}},{start:{line:168,column:61},end:{line:168,column:98}}],line:168},16:{loc:{start:{line:178,column:17},end:{line:178,column:96}},type:"binary-expr",locations:[{start:{line:178,column:17},end:{line:178,column:29}},{start:{line:178,column:33},end:{line:178,column:62}},{start:{line:178,column:66},end:{line:178,column:96}}],line:178},17:{loc:{start:{line:181,column:8},end:{line:183,column:9}},type:"if",locations:[{start:{line:181,column:8},end:{line:183,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:181},18:{loc:{start:{line:188,column:52},end:{line:188,column:153}},type:"binary-expr",locations:[{start:{line:188,column:52},end:{line:188,column:69}},{start:{line:188,column:73},end:{line:188,column:112}},{start:{line:188,column:116},end:{line:188,column:153}}],line:188},19:{loc:{start:{line:189,column:53},end:{line:189,column:105}},type:"binary-expr",locations:[{start:{line:189,column:53},end:{line:189,column:84}},{start:{line:189,column:88},end:{line:189,column:105}}],line:189},20:{loc:{start:{line:197,column:25},end:{line:197,column:43}},type:"binary-expr",locations:[{start:{line:197,column:25},end:{line:197,column:37}},{start:{line:197,column:41},end:{line:197,column:43}}],line:197},21:{loc:{start:{line:241,column:26},end:{line:241,column:96}},type:"cond-expr",locations:[{start:{line:241,column:69},end:{line:241,column:82}},{start:{line:241,column:85},end:{line:241,column:96}}],line:241}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAmNoB,cAoEd,YApEc;AAnNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AACrD,SAA0B,uBAAuB;AAuBjD,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,UAAM,IAAI,KAAK,MAAM;AAErB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAY,EAAE,aAAa;AAAA,QAC3B,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAoC,YAAE,QAAQ,GAAE;AAAA,YAChE,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OACnC,EAAE,UAAU,IAEZ,EAAE,QAAQ;AAAA;AAAA,YAEd,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACT,YAAE,WAAW;AAAA;AAAA,YAChB,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAY,EAAE,aAAa;AAAA,cAE3B,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAQA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AAEvE,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e544c04a7b56f1c8f5a1b9c28e156fb038263492"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Xt=function(){return s},s}Xt();class FQ extends Sn.Component{constructor(t){Xt().f[1]++,Xt().s[1]++;super(t);dn(this,"selectedItemRef");dn(this,"scrollContainerRef");dn(this,"toggleLayers",(Xt().s[6]++,()=>{Xt().f[3]++;let t=(Xt().s[7]++,0);const r=(Xt().s[8]++,{});Xt().s[9]++,this.groupedLayers().forEach(i=>{Xt().f[4]++;const o=(Xt().s[10]++,Qy(i[0].id)),s=(Xt().s[11]++,[o,t].join("-"));Xt().s[12]++,i.length>1?(Xt().b[0][0]++,Xt().s[13]++,r[s]=this.state.areAllGroupsExpanded):Xt().b[0][1]++,Xt().s[14]++,i.forEach(a=>{Xt().f[5]++,Xt().s[15]++,t+=1})}),Xt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));Xt().s[2]++,this.selectedItemRef=Sn.createRef(),Xt().s[3]++,this.scrollContainerRef=Sn.createRef(),Xt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+Uv()},isOpen:{add:!1}}}toggleModal(t){Xt().f[2]++,Xt().s[5]++,this.setState({keys:{...this.state.keys,[t]:+Uv()},isOpen:{...this.state.isOpen,[t]:!this.state.isOpen[t]}})}groupedLayers(){Xt().f[6]++;const t=(Xt().s[17]++,[]),r=(Xt().s[18]++,new Map);Xt().s[19]++;for(let i=(Xt().s[20]++,0);i<this.props.layers.length;i++){const o=(Xt().s[21]++,this.props.layers[i]),s=(Xt().s[22]++,this.props.layers[i-1]);Xt().s[23]++,r.set(o.id,r.has(o.id)?(Xt().b[1][0]++,r.get(o.id)+1):(Xt().b[1][1]++,0));const a=(Xt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(Xt().s[25]++,Xt().b[3][0]++,s&&(Xt().b[3][1]++,Qy(s.id)==Qy(a.id))){Xt().b[2][0]++;const f=(Xt().s[26]++,t[t.length-1]);Xt().s[27]++,f.push(a)}else Xt().b[2][1]++,Xt().s[28]++,t.push([a])}return Xt().s[29]++,t}toggleLayerGroup(t,r){Xt().f[7]++;const i=(Xt().s[30]++,[t,r].join("-")),o=(Xt().s[31]++,{...this.state.collapsedGroups});Xt().s[32]++,i in this.state.collapsedGroups?(Xt().b[4][0]++,Xt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(Xt().b[4][1]++,Xt().s[34]++,o[i]=!1),Xt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(t,r){Xt().f[8]++;const i=(Xt().s[36]++,this.state.collapsedGroups[[t,r].join("-")]);return Xt().s[37]++,i===void 0?(Xt().b[5][0]++,!0):(Xt().b[5][1]++,i)}shouldComponentUpdate(t,r){if(Xt().f[9]++,Xt().s[38]++,this.state!==r)return Xt().b[6][0]++,Xt().s[39]++,!0;Xt().b[6][1]++;function i(m){Xt().f[10]++;const C=(Xt().s[40]++,{id:m.id});return Xt().s[41]++,m.layout?(Xt().b[7][0]++,Xt().s[42]++,C.layout={visibility:m.layout.visibility}):Xt().b[7][1]++,Xt().s[43]++,C}const o=(Xt().s[44]++,UO.isEqual(t.layers.map(i),this.props.layers.map(i)));function s(m){Xt().f[11]++;const C=(Xt().s[45]++,{...m});return Xt().s[46]++,delete C.layers,Xt().s[47]++,C}const a=(Xt().s[48]++,UO.isEqual(s(this.props),s(t))),f=(Xt().s[49]++,Xt().b[8][0]++,!(o&&(Xt().b[8][1]++,a)));return Xt().s[50]++,f}componentDidUpdate(t){if(Xt().f[12]++,Xt().s[51]++,t.selectedLayerIndex!==this.props.selectedLayerIndex){Xt().b[9][0]++;const r=(Xt().s[52]++,this.selectedItemRef.current);if(Xt().s[53]++,Xt().b[11][0]++,r&&(Xt().b[11][1]++,r.node)){Xt().b[10][0]++;const i=(Xt().s[54]++,r.node),o=(Xt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),s=(Xt().s[56]++,new IntersectionObserver(a=>{Xt().f[13]++,Xt().s[57]++,s.unobserve(i),Xt().s[58]++,Xt().b[13][0]++,a.length>0&&(Xt().b[13][1]++,a[0].intersectionRatio<1)?(Xt().b[12][0]++,Xt().s[59]++,i.scrollIntoView()):Xt().b[12][1]++},o));Xt().s[60]++,s.observe(i)}else Xt().b[10][1]++}else Xt().b[9][1]++}render(){Xt().f[14]++;const t=(Xt().s[61]++,[]);let r=(Xt().s[62]++,0);const i=(Xt().s[63]++,this.groupedLayers());Xt().s[64]++,i.forEach(s=>{Xt().f[15]++;const a=(Xt().s[65]++,Qy(s[0].id));if(Xt().s[66]++,s.length>1){Xt().b[14][0]++;const f=(Xt().s[67]++,q.jsx(rpe,{"data-wd-key":[a,r].join("-"),"aria-controls":s.map(m=>(Xt().f[16]++,Xt().s[68]++,m.key)).join(" "),title:a,isActive:(Xt().b[15][0]++,!this.isCollapsed(a,r)||(Xt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,a,r)},`group-${a}-${r}`));Xt().s[69]++,t.push(f)}else Xt().b[14][1]++;Xt().s[70]++,s.forEach((f,m)=>{var L;Xt().f[17]++;const C=(Xt().s[71]++,Z0e(this.props.layers,r)),B=(Xt().s[72]++,this.props.errors.find(Y=>(Xt().f[18]++,Xt().s[73]++,Xt().b[16][0]++,Y.parsed&&(Xt().b[16][1]++,Y.parsed.type==="layer")&&(Xt().b[16][2]++,Y.parsed.data.index==r)))),I=(Xt().s[74]++,{});Xt().s[75]++,r===this.props.selectedLayerIndex?(Xt().b[17][0]++,Xt().s[76]++,I.ref=this.selectedItemRef):Xt().b[17][1]++;const K=(Xt().s[77]++,q.jsx(Dpe,{className:Sp({"maputnik-layer-list-item-collapsed":(Xt().b[18][0]++,s.length>1&&(Xt().b[18][1]++,this.isCollapsed(a,C))&&(Xt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(Xt().b[19][0]++,m==s.length-1&&(Xt().b[19][1]++,s.length>1)),"maputnik-layer-list-item--error":!!B}),index:r,id:f.key,layerId:f.id,layerIndex:r,layerType:f.type,visibility:(Xt().b[20][0]++,f.layout||(Xt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(L=this.props.onLayerDestroy)==null?void 0:L.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...I},f.key));Xt().s[78]++,t.push(K),Xt().s[79]++,r+=1})});const o=(Xt().s[80]++,this.props.t);return Xt().s[81]++,q.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":o("Layers list"),ref:this.scrollContainerRef,children:[q.jsx(q0e,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),q.jsxs("header",{className:"maputnik-layer-list-header",children:[q.jsx("span",{className:"maputnik-layer-list-header-title",children:o("Layers")}),q.jsx("span",{className:"maputnik-space"}),q.jsx("div",{className:"maputnik-default-property",children:q.jsx("div",{className:"maputnik-multibutton",children:q.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(Xt().b[21][0]++,o("Collapse")):(Xt().b[21][1]++,o("Expand"))})})}),q.jsx("div",{className:"maputnik-default-property",children:q.jsx("div",{className:"maputnik-multibutton",children:q.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:o("Add Layer")})})})]}),q.jsx("div",{role:"navigation","aria-label":o("Layers list"),children:q.jsx("ul",{className:"maputnik-layer-list-container",children:t})})]})}}dn(FQ,"defaultProps",(Xt().s[0]++,{onLayerSelect:()=>{Xt().f[0]++}}));const X0e=(Xt().s[82]++,zo()(FQ)),J0e=(Xt().s[83]++,Tpe(n=>(Xt().f[19]++,Xt().s[84]++,q.jsx(X0e,{...n}))));class ege extends Sn.Component{render(){return Xt().f[20]++,Xt().s[85]++,q.jsx(J0e,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(Xt().f[21]++,Xt().s[86]++,!1)})}}var gM={},RQ="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function tge(n,e){gM[n]=e}function nge(n){delete gM[n]}function rge(n,e){var t=gM[n];if(!t)throw new Error("Cannot open "+RQ);t.openMenu(e)}function ige(n,e){var t=gM[n];if(!t)throw new Error("Cannot close "+RQ);t.closeMenu(e)}var UQ={registerManager:tge,unregisterManager:nge,openMenu:rge,closeMenu:ige};function Ds(n){n=n||{};var e=n.keybindings||{};this._settings={keybindings:{next:e.next||{keyCode:40},prev:e.prev||{keyCode:38},first:e.first,last:e.last},wrap:n.wrap,stringSearch:n.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var t,r;for(t in this._settings.keybindings)r=this._settings.keybindings[t],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:t,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],n.members&&this.setMembers(n.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Ds.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Ds.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Ds.prototype._handleKeydownEvent=function(n){var e=this._getActiveElementIndex();if(e!==-1){var t=!1;this._keybindingsLookup.forEach((function(r){if(oge(r.eventMatcher,n))switch(t=!0,n.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),t||this._handleUnboundKey(n)}};Ds.prototype.moveFocusForward=function(){var n=this._getActiveElementIndex(),e;return n<this._members.length-1?e=n+1:this._settings.wrap?e=0:e=n,this.focusNodeAtIndex(e),e};Ds.prototype.moveFocusBack=function(){var n=this._getActiveElementIndex(),e;return n>0?e=n-1:this._settings.wrap?e=this._members.length-1:e=n,this.focusNodeAtIndex(e),e};Ds.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Ds.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Ds.prototype._handleUnboundKey=function(n){if(this._settings.stringSearch){if(this._searchString!==""&&(n.key===" "||n.keyCode===32))return n.preventDefault(),-1;if(!age(n.keyCode)||n.ctrlKey||n.metaKey||n.altKey)return-1;n.preventDefault(),this._addToSearchString(String.fromCharCode(n.keyCode)),this._runStringSearch()}};Ds.prototype._clearSearchString=function(){this._searchString=""};Ds.prototype._addToSearchString=function(n){this._searchString+=n.toLowerCase()};Ds.prototype._startSearchStringRefreshTimer=function(){var n=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){n._clearSearchString()},this._settings.stringSearchDelay)};Ds.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Ds.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Ds.prototype.moveFocusByString=function(n){for(var e,t=0,r=this._members.length;t<r;t++)if(e=this._members[t],!!e.text&&e.text.indexOf(n)===0)return zQ(e.node)};Ds.prototype._findIndexOfNode=function(n){for(var e=0,t=this._members.length;e<t;e++)if(this._members[e].node===n)return e;return-1};Ds.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Ds.prototype.focusNodeAtIndex=function(n){var e=this._members[n];return e&&zQ(e.node),this};Ds.prototype.addMember=function(n,e){var t=n.node||n,r=n.text||t.getAttribute("data-focus-group-text")||t.textContent||"";this._checkNode(t);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:t,text:i};return e!=null?this._members.splice(e,0,o):this._members.push(o),this};Ds.prototype.removeMember=function(n){var e=typeof n=="number"?n:this._findIndexOfNode(n);if(e!==-1)return this._members.splice(e,1),this};Ds.prototype.clearMembers=function(){return this._members=[],this};Ds.prototype.setMembers=function(n){this.clearMembers();for(var e=0,t=n.length;e<t;e++)this.addMember(n[e]);return this};Ds.prototype.getMembers=function(){return this._members};Ds.prototype._checkNode=function(n){if(!n.nodeType||n.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return n};function oge(n,e){for(var t in n)if(e[t]!==void 0&&n[t]!==e[t])return!1;return!0}function age(n){return n>=65&&n<=90}function zQ(n){!n||!n.focus||(n.focus(),n.tagName.toLowerCase()==="input"&&n.select())}var sge=function(e){return new Ds(e)},lge=sge,UL=UQ,uge={wrap:!0,stringSearch:!0},Age={init:function(e){this.updateOptions(e),this.handleBlur=cge.bind(this),this.handleSelection=hge.bind(this),this.handleMenuKey=dge.bind(this),this.focusGroup=lge(uge),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(e){var t=this.options;this.options=e||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&UL.registerManager(this.options.id,this),t&&t.id&&t.id!==this.options.id&&UL.unregisterManager(this.options.id,this)},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleUnboundKey(e)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen&&(e=e||{},e.focusMenu===void 0&&(e.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),e.focusMenu)){var t=this;this.moveFocusTimer=setTimeout(function(){t.focusItem(0)},0)}},closeMenu:function(e){this.isOpen&&(e=e||{},this.isOpen=!1,this.update(),e.focusButton&&this.button.ref.current.focus())},toggleMenu:function(e,t){e=e||{},t=t||{},this.isOpen?this.closeMenu(e):this.openMenu(t)}};function cge(){var n=this;n.blurTimer=setTimeout(function(){if(n.button){var e=n.button.ref.current;if(e){var t=e.ownerDocument.activeElement;if(!(e&&t===e)){var r=n.menu.ref.current;if(r===t){n.focusItem(0);return}r&&r.contains(t)||n.isOpen&&n.closeMenu({focusButton:!1})}}}},0)}function hge(n,e){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(n,e)}function dge(n){if(this.isOpen)switch(n.key){case"Escape":n.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":n.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":n.preventDefault(),this.focusGroup.moveFocusToLast();break}}var fge=function(n){var e=Object.create(Age);return e.init(n),e},pge=Wn,mge=pge.createContext(),yM=mge,E3=ff,vM={refType:E3.oneOfType([E3.func,E3.shape({current:E3.elementType})])},_M=function(n,e,t){t=t||{};for(var r in e)e.hasOwnProperty(r)&&(t[r]||(n[r]=e[r]))};function gge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yge(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function vge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var VC=Wn,sy=ff,_ge=fge,Cge=yM,bge=vM,xge=bge.refType,h8=_M,Gw={children:sy.node.isRequired,forwardedRef:xge,onMenuToggle:sy.func,onSelection:sy.func,closeOnSelection:sy.bool,closeOnBlur:sy.bool,tag:sy.string},zL=function(e){return{onMenuToggle:e.onMenuToggle,onSelection:e.onSelection,closeOnSelection:e.closeOnSelection,closeOnBlur:e.closeOnBlur,id:e.id}},Fk=function(n){vge(e,n);function e(t){gge(this,e);var r=yge(this,n.call(this,t));return r.manager=_ge(zL(t)),r}return e.prototype.componentDidUpdate=function(){this.manager.updateOptions(zL(this.props))},e.prototype.render=function(){var r={};return h8(r,this.props,Gw),VC.createElement(Cge.Provider,{value:this.manager},VC.createElement(this.props.tag,r,this.props.children))},e}(VC.Component);Fk.propTypes=Gw;Fk.defaultProps={tag:"div"};var wge=VC.forwardRef(function(n,e){var t={forwardedRef:e};return h8(t,n,{children:Gw.children,forwardedRef:Gw.forwardedRef}),h8(t,{forwardedRef:e}),VC.createElement(Fk,t,n.children)});function Mge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Sge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var hv=Wn,O3=ff,Ege=yM,Oge=vM,Bge=Oge.refType,u4=_M,HC={ambManager:O3.object.isRequired,children:O3.node.isRequired,disabled:O3.bool,forwardedRef:Bge,tag:O3.string},Ige=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},Rk=function(n){Sge(e,n);function e(){var t,r,i;Mge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=jL(this,n.call.apply(n,[this].concat(s))),r),r.ref=hv.createRef(),r.handleKeyDown=function(f){if(!r.props.disabled){var m=r.props.ambManager;switch(f.key){case"ArrowDown":f.preventDefault(),m.isOpen?m.focusItem(0):m.openMenu();break;case"Enter":case" ":f.preventDefault(),m.toggleMenu();break;case"Escape":m.handleMenuKey(f);break;default:m.handleButtonNonArrowKey(f)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),jL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.button=this},e.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},s={};return u4(s,HC),Ige().indexOf(r.tag)>=0&&delete s.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),u4(o,r,s),u4(o,{ref:this.setRef}),hv.createElement(r.tag,o,r.children)},e}(hv.Component);Rk.propTypes=HC;Rk.defaultProps={tag:"span"};var kge=hv.forwardRef(function(n,e){return hv.createElement(Ege.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return u4(r,n,{ambManager:HC.ambManager,children:HC.children,forwardedRef:HC.forwardedRef}),hv.createElement(Rk,r,n.children)})}),Tge=function(e,t,r){var i=0,o=0,s=!1,a=!1,f=!1;e.addEventListener("click",m,r),e.addEventListener("touchstart",C,r);function m(ee){f||t(ee)}function C(ee){f=!0,!s&&(s=!0,e.addEventListener("touchmove",B,r),e.addEventListener("touchend",I,r),e.addEventListener("touchcancel",K,r),a=!1,i=ee.touches[0].clientX,o=ee.touches[0].clientY)}function B(ee){a||Math.abs(ee.touches[0].clientX-i)<=10&&Math.abs(ee.touches[0].clientY-o)<=10||(a=!0)}function I(ee){s=!1,L(),a||t(ee)}function K(){s=!1,a=!1,i=0,o=0}function L(){e.removeEventListener("touchmove",B,r),e.removeEventListener("touchend",I,r),e.removeEventListener("touchcancel",K,r)}function Y(){e.removeEventListener("click",m,r),e.removeEventListener("touchstart",C,r),L()}return{remove:Y}};function Pge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Kge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var dv=Wn,aC=ff,Lge=Tge,Dge=yM,Fge=vM,Rge=Fge.refType,d8=_M,ZC={ambManager:aC.object.isRequired,children:aC.oneOfType([aC.func,aC.node]).isRequired,forwardedRef:Rge,tag:aC.string},Uk=function(n){Kge(e,n);function e(){var t,r,i;Pge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=NL(this,n.call.apply(n,[this].concat(s))),r),r.ref=dv.createRef(),r.addTapListener=function(){var f=r.ref.current;if(f){var m=f.ownerDocument;m&&(r.tapListener=Lge(m.documentElement,r.handleTap))}},r.handleTap=function(f){r.ref.current.contains(f.target)||r.props.ambManager.button.ref.current.contains(f.target)||r.props.ambManager.closeMenu()},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),NL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.menu=this},e.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},e.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},e.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var s={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(s.onBlur=i.handleBlur),d8(s,r,ZC),d8(s,{ref:this.setRef}),dv.createElement(r.tag,s,o)},e}(dv.Component);Uk.propTypes=ZC;Uk.defaultProps={tag:"div"};var Uge=dv.forwardRef(function(n,e){return dv.createElement(Dge.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return d8(r,n,{ambManager:ZC.ambManager,children:ZC.children,forwardedRef:ZC.forwardedRef}),dv.createElement(Uk,r,n.children)})});function zge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function jge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var fv=Wn,sC=ff,Nge=yM,Wge=vM,Gge=Wge.refType,jQ=_M,XC={ambManager:sC.object.isRequired,children:sC.node.isRequired,forwardedRef:Gge,tag:sC.string,text:sC.string,value:sC.any},zk=function(n){jge(e,n);function e(){var t,r,i;zge(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=(t=(r=WL(this,n.call.apply(n,[this].concat(s))),r),r.ref=fv.createRef(),r.handleKeyDown=function(f){f.key!=="Enter"&&f.key!==" "||r.props.tag==="a"&&r.props.href||(f.preventDefault(),r.selectItem(f))},r.selectItem=function(f){var m=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(m,f)},r.setRef=function(f){r.ref.current=f,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(f):r.props.forwardedRef&&(r.props.forwardedRef.current=f)},t),WL(r,i)}return e.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},e.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return jQ(r,this.props,XC),fv.createElement(this.props.tag,r,this.props.children)},e}(fv.Component);zk.propTypes=XC;zk.defaultProps={tag:"div"};var Qge=fv.forwardRef(function(n,e){return fv.createElement(Nge.Consumer,null,function(t){var r={ambManager:t,forwardedRef:e};return jQ(r,n,{ambManager:XC.ambManager,children:XC.children,forwardedRef:XC.forwardedRef}),fv.createElement(zk,r,n.children)})}),GL=UQ,B3={Wrapper:wge,Button:kge,Menu:Uge,MenuItem:Qge,openMenu:GL.openMenu,closeMenu:GL.closeMenu};function QL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function f8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(t),!0).forEach(function(r){bs(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function bM(n,e,t){return e&&$L(n.prototype,e),t&&$L(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function bs(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ep(){return Ep=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ep.apply(this,arguments)}function jk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p8(n,e)}function Qw(n){return Qw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qw(n)}function p8(n,e){return p8=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},p8(n,e)}function $ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yge(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xM(n,e){if(n==null)return{};var t=Yge(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qge(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(n)}function Nk(n){var e=$ge();return function(){var r=Qw(n),i;if(e){var o=Qw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qge(this,i)}}function Vge(n,e){return Xge(n)||e1e(n,e)||NQ(n,e)||n1e()}function Hge(n){return Zge(n)||Jge(n)||NQ(n)||t1e()}function Zge(n){if(Array.isArray(n))return m8(n)}function Xge(n){if(Array.isArray(n))return n}function Jge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function e1e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,a=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function NQ(n,e){if(n){if(typeof n=="string")return m8(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m8(n,e)}}function m8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function t1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r1e=bM(function n(e){var t=this,r=e.expanded,i=r===void 0?[]:r,o=e.allowMultipleExpanded,s=o===void 0?!1:o,a=e.allowZeroExpanded,f=a===void 0?!1:a;CM(this,n),bs(this,"expanded",void 0),bs(this,"allowMultipleExpanded",void 0),bs(this,"allowZeroExpanded",void 0),bs(this,"toggleExpanded",function(m){if(t.isItemDisabled(m))return t;var C=t.isItemExpanded(m);return C?t.augment({expanded:t.expanded.filter(function(B){return B!==m})}):t.augment({expanded:t.allowMultipleExpanded?[].concat(Hge(t.expanded),[m]):[m]})}),bs(this,"isItemDisabled",function(m){var C=t.isItemExpanded(m),B=t.expanded.length===1;return!!(C&&!t.allowZeroExpanded&&B)}),bs(this,"isItemExpanded",function(m){return t.expanded.indexOf(m)!==-1}),bs(this,"getPanelAttributes",function(m,C){var B=C??t.isItemExpanded(m);return{role:t.allowMultipleExpanded?void 0:"region","aria-hidden":t.allowMultipleExpanded?!B:void 0,"aria-labelledby":t.getButtonId(m),id:t.getPanelId(m),hidden:B?void 0:!0}}),bs(this,"getHeadingAttributes",function(){return{role:"heading"}}),bs(this,"getButtonAttributes",function(m,C){var B=C??t.isItemExpanded(m),I=t.isItemDisabled(m);return{id:t.getButtonId(m),"aria-disabled":I,"aria-expanded":B,"aria-controls":t.getPanelId(m),role:"button",tabIndex:0}}),bs(this,"getPanelId",function(m){return"accordion__panel-".concat(m)}),bs(this,"getButtonId",function(m){return"accordion__heading-".concat(m)}),bs(this,"augment",function(m){return new n(f8({expanded:t.expanded,allowMultipleExpanded:t.allowMultipleExpanded,allowZeroExpanded:t.allowZeroExpanded},m))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=f}),WQ=Wn.createContext(null),GQ=function(n){jk(t,n);var e=Nk(t);function t(){var r;CM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(sf(r),"state",new r1e({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),bs(sf(r),"toggleExpanded",function(a){r.setState(function(f){return f.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),bs(sf(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),bs(sf(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),bs(sf(r),"getPanelAttributes",function(a,f){return r.state.getPanelAttributes(a,f)}),bs(sf(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),bs(sf(r),"getButtonAttributes",function(a,f){return r.state.getButtonAttributes(a,f)}),r}return bM(t,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return Wn.createElement(WQ.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(Wn.PureComponent);bs(GQ,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var QQ=function(n){jk(t,n);var e=Nk(t);function t(){var r;CM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(sf(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return bM(t,[{key:"render",value:function(){return Wn.createElement(WQ.Consumer,null,this.renderChildren)}}]),t}(Wn.PureComponent),i1e=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],o1e=function(e){var t=e.className,r=t===void 0?"accordion":t,i=e.allowMultipleExpanded,o=e.allowZeroExpanded,s=e.onChange,a=e.preExpanded,f=xM(e,i1e);return Wn.createElement(GQ,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},Wn.createElement("div",Ep({"data-accordion-component":"Accordion",className:r},f)))},g8;(function(n){n.Accordion="Accordion",n.AccordionItem="AccordionItem",n.AccordionItemButton="AccordionItemButton",n.AccordionItemHeading="AccordionItemHeading",n.AccordionItemPanel="AccordionItemPanel"})(g8||(g8={}));var $Q=g8,d6=0;function a1e(){var n=d6;return d6=d6+1,"raa-".concat(n)}var s1e=Wn.useId||a1e,l1e=/[\u0009\u000a\u000c\u000d\u0020]/g;function Gb(n){return n===""||l1e.test(n)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(n,'", ASCII whitespaces are forbidden')),!1):!0}var YQ=Wn.createContext(null),u1e=function(e){var t=e.children,r=e.uuid,i=e.accordionContext,o=e.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(m){var C=o??m.isItemExpanded(r),B=m.isItemDisabled(r),I=m.getPanelAttributes(r,o),K=m.getHeadingAttributes(r),L=m.getButtonAttributes(r,o);return Wn.createElement(YQ.Provider,{value:{uuid:r,expanded:C,disabled:B,toggleExpanded:s,panelAttributes:I,headingAttributes:K,buttonAttributes:L}},t)};return Wn.createElement(QQ,null,a)},A1e=function(e){return Wn.createElement(QQ,null,function(t){return Wn.createElement(u1e,Ep({},e,{accordionContext:t}))})},wM=function(e){var t=e.children,r=function(o){return o?t(o):null};return Wn.createElement(YQ.Consumer,null,r)},c1e=["uuid","dangerouslySetExpanded","className","activeClassName"],qQ=function(e){var t=e.uuid,r=e.dangerouslySetExpanded,i=e.className,o=i===void 0?"accordion__item":i,s=e.activeClassName,a=xM(e,c1e),f=Wn.useState(s1e()),m=Vge(f,1),C=m[0],B=t??C,I=function(L){var Y=L.expanded,ee=Y&&s?s:o;return Wn.createElement("div",Ep({"data-accordion-component":"AccordionItem",className:ee},a))};return Gb(B.toString()),a.id&&Gb(a.id),Wn.createElement(A1e,{uuid:B,dangerouslySetExpanded:r},Wn.createElement(wM,null,I))};qQ.displayName=$Q.AccordionItem;function VQ(n){return n&&(n.matches('[data-accordion-component="Accordion"]')?n:VQ(n.parentElement))}function MM(n){var e=VQ(n);return e&&Array.from(e.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function h1e(n){var e=MM(n)||[],t=e[0];t&&t.focus()}function d1e(n){var e=MM(n)||[],t=e[e.length-1];t&&t.focus()}function f1e(n){var e=MM(n)||[],t=e.indexOf(n);if(t!==-1){var r=e[t+1];r&&r.focus()}}function p1e(n){var e=MM(n)||[],t=e.indexOf(n);if(t!==-1){var r=e[t-1];r&&r.focus()}}var tm={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},m1e=["toggleExpanded","className"],g1e=function(e){var t=e.toggleExpanded,r=e.className,i=r===void 0?"accordion__button":r,o=xM(e,m1e),s=function(f){var m=f.key;if((m===tm.ENTER||m===tm.SPACE||m===tm.SPACE_DEPRECATED)&&(f.preventDefault(),t()),f.target instanceof HTMLElement)switch(m){case tm.HOME:{f.preventDefault(),h1e(f.target);break}case tm.END:{f.preventDefault(),d1e(f.target);break}case tm.LEFT:case tm.UP:{f.preventDefault(),p1e(f.target);break}case tm.RIGHT:case tm.DOWN:{f.preventDefault(),f1e(f.target);break}}};return o.id&&Gb(o.id),Wn.createElement("div",Ep({className:i},o,{role:"button",tabIndex:0,onClick:t,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},y1e=function(e){return Wn.createElement(wM,null,function(t){var r=t.toggleExpanded,i=t.buttonAttributes;return Wn.createElement(g1e,Ep({toggleExpanded:r},e,i))})},v1e={className:"accordion__heading","aria-level":3},_1e=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,HQ=function(n){jk(t,n);var e=Nk(t);function t(){var r;CM(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),bs(sf(r),"ref",void 0),bs(sf(r),"setRef",function(a){r.ref=a}),r}return bM(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Wn.createElement("div",Ep({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(_1e)}}]),t}(Wn.PureComponent);bs(HQ,"defaultProps",v1e);var ZQ=function(e){return Wn.createElement(wM,null,function(t){var r=t.headingAttributes;return e.id&&Gb(e.id),Wn.createElement(HQ,Ep({},e,r))})};ZQ.displayName=$Q.AccordionItemHeading;var C1e=["className","region","id"],b1e=function(e){var t=e.className,r=t===void 0?"accordion__panel":t,i=e.region,o=e.id,s=xM(e,C1e),a=function(m){var C=m.panelAttributes;o&&Gb(o);var B=f8(f8({},C),{},{"aria-labelledby":i?C["aria-labelledby"]:void 0});return Wn.createElement("div",Ep({"data-accordion-component":"AccordionItemPanel",className:r},s,B,{role:i?"region":void 0}))};return Wn.createElement(wM,null,a)},f6={exports:{}},YL;function SM(){return YL||(YL=1,function(n,e){(function(t,r){n.exports=r()})(Bp,function(){var t=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),f=o||s||a,m=f&&(o?document.documentMode||6:+(a||s)[1]),C=!a&&/WebKit\//.test(t),B=C&&/Qt\/\d+\.\d+/.test(t),I=!a&&/Chrome\/(\d+)/.exec(t),K=I&&+I[1],L=/Opera\//.test(t),Y=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),V=/PhantomJS/.test(t),W=Y&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),ne=/Android/.test(t),ce=W||ne||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),ge=W||/Mac/.test(r),fe=/\bCrOS\b/.test(t),H=/win/i.test(r),X=L&&t.match(/Version\/(\d*\.\d*)/);X&&(X=Number(X[1])),X&&X>=15&&(L=!1,C=!0);var Me=ge&&(B||L&&(X==null||X<12.11)),be=i||f&&m>=9;function Fe(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var Ue=function(A,g){var M=A.className,w=Fe(g).exec(M);if(w){var k=M.slice(w.index+w[0].length);A.className=M.slice(0,w.index)+(k?w[1]+k:"")}};function me(A){for(var g=A.childNodes.length;g>0;--g)A.removeChild(A.firstChild);return A}function Ve(A,g){return me(A).appendChild(g)}function _e(A,g,M,w){var k=document.createElement(A);if(M&&(k.className=M),w&&(k.style.cssText=w),typeof g=="string")k.appendChild(document.createTextNode(g));else if(g)for(var z=0;z<g.length;++z)k.appendChild(g[z]);return k}function Ot(A,g,M,w){var k=_e(A,g,M,w);return k.setAttribute("role","presentation"),k}var St;document.createRange?St=function(A,g,M,w){var k=document.createRange();return k.setEnd(w||A,M),k.setStart(A,g),k}:St=function(A,g,M){var w=document.body.createTextRange();try{w.moveToElementText(A.parentNode)}catch{return w}return w.collapse(!0),w.moveEnd("character",M),w.moveStart("character",g),w};function _t(A,g){if(g.nodeType==3&&(g=g.parentNode),A.contains)return A.contains(g);do if(g.nodeType==11&&(g=g.host),g==A)return!0;while(g=g.parentNode)}function ft(A){var g=A.ownerDocument||A,M;try{M=A.activeElement}catch{M=g.body||null}for(;M&&M.shadowRoot&&M.shadowRoot.activeElement;)M=M.shadowRoot.activeElement;return M}function $e(A,g){var M=A.className;Fe(g).test(M)||(A.className+=(M?" ":"")+g)}function et(A,g){for(var M=A.split(" "),w=0;w<M.length;w++)M[w]&&!Fe(M[w]).test(g)&&(g+=" "+M[w]);return g}var nt=function(A){A.select()};W?nt=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:f&&(nt=function(A){try{A.select()}catch{}});function en(A){return A.display.wrapper.ownerDocument}function nn(A){return Et(A.display.wrapper)}function Et(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function Vt(A){return en(A).defaultView}function Jt(A){var g=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,g)}}function Le(A,g,M){g||(g={});for(var w in A)A.hasOwnProperty(w)&&(M!==!1||!g.hasOwnProperty(w))&&(g[w]=A[w]);return g}function ye(A,g,M,w,k){g==null&&(g=A.search(/[^\s\u00a0]/),g==-1&&(g=A.length));for(var z=w||0,Z=k||0;;){var ae=A.indexOf("	",z);if(ae<0||ae>=g)return Z+(g-z);Z+=ae-z,Z+=M-Z%M,z=ae+1}}var Te=function(){this.id=null,this.f=null,this.time=0,this.handler=Jt(this.onTimeout,this)};Te.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Te.prototype.set=function(A,g){this.f=g;var M=+new Date+A;(!this.id||M<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=M)};function Qe(A,g){for(var M=0;M<A.length;++M)if(A[M]==g)return M;return-1}var st=50,lt={toString:function(){return"CodeMirror.Pass"}},Kt={scroll:!1},Ht={origin:"*mouse"},Wt={origin:"+move"};function Rn(A,g,M){for(var w=0,k=0;;){var z=A.indexOf("	",w);z==-1&&(z=A.length);var Z=z-w;if(z==A.length||k+Z>=g)return w+Math.min(Z,g-k);if(k+=z-w,k+=M-k%M,w=z+1,k>=g)return w}}var nr=[""];function _n(A){for(;nr.length<=A;)nr.push(tr(nr)+" ");return nr[A]}function tr(A){return A[A.length-1]}function ur(A,g){for(var M=[],w=0;w<A.length;w++)M[w]=g(A[w],w);return M}function _r(A,g,M){for(var w=0,k=M(g);w<A.length&&M(A[w])<=k;)w++;A.splice(w,0,g)}function Sr(){}function fr(A,g){var M;return Object.create?M=Object.create(A):(Sr.prototype=A,M=new Sr),g&&Le(g,M),M}var pr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fi(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||pr.test(A))}function Pe(A,g){return g?g.source.indexOf("\\w")>-1&&fi(A)?!0:g.test(A):fi(A)}function Q(A){for(var g in A)if(A.hasOwnProperty(g)&&A[g])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Re(A){return A.charCodeAt(0)>=768&&oe.test(A)}function ut(A,g,M){for(;(M<0?g>0:g<A.length)&&Re(A.charAt(g));)g+=M;return g}function Tt(A,g,M){for(var w=g>M?-1:1;;){if(g==M)return g;var k=(g+M)/2,z=w<0?Math.ceil(k):Math.floor(k);if(z==g)return A(z)?g:M;A(z)?M=z:g=z+w}}function jt(A,g,M,w){if(!A)return w(g,M,"ltr",0);for(var k=!1,z=0;z<A.length;++z){var Z=A[z];(Z.from<M&&Z.to>g||g==M&&Z.to==g)&&(w(Math.max(Z.from,g),Math.min(Z.to,M),Z.level==1?"rtl":"ltr",z),k=!0)}k||w(g,M,"ltr")}var ar=null;function ht(A,g,M){var w;ar=null;for(var k=0;k<A.length;++k){var z=A[k];if(z.from<g&&z.to>g)return k;z.to==g&&(z.from!=z.to&&M=="before"?w=k:ar=k),z.from==g&&(z.from!=z.to&&M!="before"?w=k:ar=k)}return w??ar}var Ee=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function M(Ce){return Ce<=247?A.charAt(Ce):1424<=Ce&&Ce<=1524?"R":1536<=Ce&&Ce<=1785?g.charAt(Ce-1536):1774<=Ce&&Ce<=2220?"r":8192<=Ce&&Ce<=8203?"w":Ce==8204?"b":"L"}var w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,k=/[stwN]/,z=/[LRr]/,Z=/[Lb1n]/,ae=/[1n]/;function he(Ce,Ze,at){this.level=Ce,this.from=Ze,this.to=at}return function(Ce,Ze){var at=Ze=="ltr"?"L":"R";if(Ce.length==0||Ze=="ltr"&&!w.test(Ce))return!1;for(var Lt=Ce.length,kt=[],sn=0;sn<Lt;++sn)kt.push(M(Ce.charCodeAt(sn)));for(var vn=0,Kn=at;vn<Lt;++vn){var Yn=kt[vn];Yn=="m"?kt[vn]=Kn:Kn=Yn}for(var Zn=0,Gn=at;Zn<Lt;++Zn){var or=kt[Zn];or=="1"&&Gn=="r"?kt[Zn]="n":z.test(or)&&(Gn=or,or=="r"&&(kt[Zn]="R"))}for(var Lr=1,Br=kt[0];Lr<Lt-1;++Lr){var Oi=kt[Lr];Oi=="+"&&Br=="1"&&kt[Lr+1]=="1"?kt[Lr]="1":Oi==","&&Br==kt[Lr+1]&&(Br=="1"||Br=="n")&&(kt[Lr]=Br),Br=Oi}for(var Fo=0;Fo<Lt;++Fo){var va=kt[Fo];if(va==",")kt[Fo]="N";else if(va=="%"){var ha=void 0;for(ha=Fo+1;ha<Lt&&kt[ha]=="%";++ha);for(var Ba=Fo&&kt[Fo-1]=="!"||ha<Lt&&kt[ha]=="1"?"1":"N",rs=Fo;rs<ha;++rs)kt[rs]=Ba;Fo=ha-1}}for(var _a=0,zl=at;_a<Lt;++_a){var Is=kt[_a];zl=="L"&&Is=="1"?kt[_a]="L":z.test(Is)&&(zl=Is)}for(var Ia=0;Ia<Lt;++Ia)if(k.test(kt[Ia])){var za=void 0;for(za=Ia+1;za<Lt&&k.test(kt[za]);++za);for(var ja=(Ia?kt[Ia-1]:at)=="L",ou=(za<Lt?kt[za]:at)=="L",Yd=ja==ou?ja?"L":"R":at,uh=Ia;uh<za;++uh)kt[uh]=Yd;Ia=za-1}for(var _l=[],Cc,Na=0;Na<Lt;)if(Z.test(kt[Na])){var jm=Na;for(++Na;Na<Lt&&Z.test(kt[Na]);++Na);_l.push(new he(0,jm,Na))}else{var bc=Na,td=_l.length,nd=Ze=="rtl"?1:0;for(++Na;Na<Lt&&kt[Na]!="L";++Na);for(var jl=bc;jl<Na;)if(ae.test(kt[jl])){bc<jl&&(_l.splice(td,0,new he(1,bc,jl)),td+=nd);var qf=jl;for(++jl;jl<Na&&ae.test(kt[jl]);++jl);_l.splice(td,0,new he(2,qf,jl)),td+=nd,bc=jl}else++jl;bc<Na&&_l.splice(td,0,new he(1,bc,Na))}return Ze=="ltr"&&(_l[0].level==1&&(Cc=Ce.match(/^\s+/))&&(_l[0].from=Cc[0].length,_l.unshift(new he(0,0,Cc[0].length))),tr(_l).level==1&&(Cc=Ce.match(/\s+$/))&&(tr(_l).to-=Cc[0].length,_l.push(new he(0,Lt-Cc[0].length,Lt)))),Ze=="rtl"?_l.reverse():_l}}();function ve(A,g){var M=A.order;return M==null&&(M=A.order=Ee(A.text,g)),M}var p=[],Ke=function(A,g,M){if(A.addEventListener)A.addEventListener(g,M,!1);else if(A.attachEvent)A.attachEvent("on"+g,M);else{var w=A._handlers||(A._handlers={});w[g]=(w[g]||p).concat(M)}};function ze(A,g){return A._handlers&&A._handlers[g]||p}function it(A,g,M){if(A.removeEventListener)A.removeEventListener(g,M,!1);else if(A.detachEvent)A.detachEvent("on"+g,M);else{var w=A._handlers,k=w&&w[g];if(k){var z=Qe(k,M);z>-1&&(w[g]=k.slice(0,z).concat(k.slice(z+1)))}}}function dt(A,g){var M=ze(A,g);if(M.length)for(var w=Array.prototype.slice.call(arguments,2),k=0;k<M.length;++k)M[k].apply(null,w)}function ot(A,g,M){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),dt(A,M||g.type,A,g),mn(g)||g.codemirrorIgnore}function Ft(A){var g=A._handlers&&A._handlers.cursorActivity;if(g)for(var M=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),w=0;w<g.length;++w)Qe(M,g[w])==-1&&M.push(g[w])}function rt(A,g){return ze(A,g).length>0}function mt(A){A.prototype.on=function(g,M){Ke(this,g,M)},A.prototype.off=function(g,M){it(this,g,M)}}function Bt(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function cn(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function mn(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function fn(A){Bt(A),cn(A)}function Cr(A){return A.target||A.srcElement}function rr(A){var g=A.which;return g==null&&(A.button&1?g=1:A.button&2?g=3:A.button&4&&(g=2)),ge&&A.ctrlKey&&g==1&&(g=3),g}var Mr=function(){if(f&&m<9)return!1;var A=_e("div");return"draggable"in A||"dragDrop"in A}(),oi;function $r(A){if(oi==null){var g=_e("span","");Ve(A,_e("span",[g,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(oi=g.offsetWidth<=1&&g.offsetHeight>2&&!(f&&m<8))}var M=oi?_e("span",""):_e("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return M.setAttribute("cm-text",""),M}var Un;function On(A){if(Un!=null)return Un;var g=Ve(A,document.createTextNode("AA")),M=St(g,0,1).getBoundingClientRect(),w=St(g,1,2).getBoundingClientRect();return me(A),!M||M.left==M.right?!1:Un=w.right-M.right<3}var Er=`

b`.split(/\n/).length!=3?function(A){for(var g=0,M=[],w=A.length;g<=w;){var k=A.indexOf(`
`,g);k==-1&&(k=A.length);var z=A.slice(g,A.charAt(k-1)=="\r"?k-1:k),Z=z.indexOf("\r");Z!=-1?(M.push(z.slice(0,Z)),g+=Z+1):(M.push(z),g=k+1)}return M}:function(A){return A.split(/\r\n?|\n/)},ti=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var g;try{g=A.ownerDocument.selection.createRange()}catch{}return!g||g.parentElement()!=A?!1:g.compareEndPoints("StartToEnd",g)!=0},ji=function(){var A=_e("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),ei=null;function Wr(A){if(ei!=null)return ei;var g=Ve(A,_e("span","x")),M=g.getBoundingClientRect(),w=St(g,0,1).getBoundingClientRect();return ei=Math.abs(M.left-w.left)>1}var Ni={},Ko={};function aa(A,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),Ni[A]=g}function yo(A,g){Ko[A]=g}function qa(A){if(typeof A=="string"&&Ko.hasOwnProperty(A))A=Ko[A];else if(A&&typeof A.name=="string"&&Ko.hasOwnProperty(A.name)){var g=Ko[A.name];typeof g=="string"&&(g={name:g}),A=fr(g,A),A.name=g.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return qa("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return qa("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function Wi(A,g){g=qa(g);var M=Ni[g.name];if(!M)return Wi(A,"text/plain");var w=M(A,g);if(Ho.hasOwnProperty(g.name)){var k=Ho[g.name];for(var z in k)k.hasOwnProperty(z)&&(w.hasOwnProperty(z)&&(w["_"+z]=w[z]),w[z]=k[z])}if(w.name=g.name,g.helperType&&(w.helperType=g.helperType),g.modeProps)for(var Z in g.modeProps)w[Z]=g.modeProps[Z];return w}var Ho={};function Ma(A,g){var M=Ho.hasOwnProperty(A)?Ho[A]:Ho[A]={};Le(g,M)}function Gi(A,g){if(g===!0)return g;if(A.copyState)return A.copyState(g);var M={};for(var w in g){var k=g[w];k instanceof Array&&(k=k.concat([])),M[w]=k}return M}function sa(A,g){for(var M;A.innerMode&&(M=A.innerMode(g),!(!M||M.mode==A));)g=M.state,A=M.mode;return M||{mode:A,state:g}}function Va(A,g,M){return A.startState?A.startState(g,M):!0}var ci=function(A,g,M){this.pos=this.start=0,this.string=A,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=M};ci.prototype.eol=function(){return this.pos>=this.string.length},ci.prototype.sol=function(){return this.pos==this.lineStart},ci.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ci.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ci.prototype.eat=function(A){var g=this.string.charAt(this.pos),M;if(typeof A=="string"?M=g==A:M=g&&(A.test?A.test(g):A(g)),M)return++this.pos,g},ci.prototype.eatWhile=function(A){for(var g=this.pos;this.eat(A););return this.pos>g},ci.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},ci.prototype.skipToEnd=function(){this.pos=this.string.length},ci.prototype.skipTo=function(A){var g=this.string.indexOf(A,this.pos);if(g>-1)return this.pos=g,!0},ci.prototype.backUp=function(A){this.pos-=A},ci.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ye(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},ci.prototype.indentation=function(){return ye(this.string,null,this.tabSize)-(this.lineStart?ye(this.string,this.lineStart,this.tabSize):0)},ci.prototype.match=function(A,g,M){if(typeof A=="string"){var w=function(Z){return M?Z.toLowerCase():Z},k=this.string.substr(this.pos,A.length);if(w(k)==w(A))return g!==!1&&(this.pos+=A.length),!0}else{var z=this.string.slice(this.pos).match(A);return z&&z.index>0?null:(z&&g!==!1&&(this.pos+=z[0].length),z)}},ci.prototype.current=function(){return this.string.slice(this.start,this.pos)},ci.prototype.hideFirstChars=function(A,g){this.lineStart+=A;try{return g()}finally{this.lineStart-=A}},ci.prototype.lookAhead=function(A){var g=this.lineOracle;return g&&g.lookAhead(A)},ci.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function er(A,g){if(g-=A.first,g<0||g>=A.size)throw new Error("There is no line "+(g+A.first)+" in the document.");for(var M=A;!M.lines;)for(var w=0;;++w){var k=M.children[w],z=k.chunkSize();if(g<z){M=k;break}g-=z}return M.lines[g]}function jo(A,g,M){var w=[],k=g.line;return A.iter(g.line,M.line+1,function(z){var Z=z.text;k==M.line&&(Z=Z.slice(0,M.ch)),k==g.line&&(Z=Z.slice(g.ch)),w.push(Z),++k}),w}function co(A,g,M){var w=[];return A.iter(g,M,function(k){w.push(k.text)}),w}function Qi(A,g){var M=g-A.height;if(M)for(var w=A;w;w=w.parent)w.height+=M}function Oe(A){if(A.parent==null)return null;for(var g=A.parent,M=Qe(g.lines,A),w=g.parent;w;g=w,w=w.parent)for(var k=0;w.children[k]!=g;++k)M+=w.children[k].chunkSize();return M+g.first}function Je(A,g){var M=A.first;e:do{for(var w=0;w<A.children.length;++w){var k=A.children[w],z=k.height;if(g<z){A=k;continue e}g-=z,M+=k.chunkSize()}return M}while(!A.lines);for(var Z=0;Z<A.lines.length;++Z){var ae=A.lines[Z],he=ae.height;if(g<he)break;g-=he}return M+Z}function rn(A,g){return g>=A.first&&g<A.first+A.size}function pn(A,g){return String(A.lineNumberFormatter(g+A.firstLineNumber))}function Pt(A,g,M){if(M===void 0&&(M=null),!(this instanceof Pt))return new Pt(A,g,M);this.line=A,this.ch=g,this.sticky=M}function En(A,g){return A.line-g.line||A.ch-g.ch}function Hr(A,g){return A.sticky==g.sticky&&En(A,g)==0}function Yr(A){return Pt(A.line,A.ch)}function ni(A,g){return En(A,g)<0?g:A}function Sa(A,g){return En(A,g)<0?A:g}function la(A,g){return Math.max(A.first,Math.min(g,A.first+A.size-1))}function mr(A,g){if(g.line<A.first)return Pt(A.first,0);var M=A.first+A.size-1;return g.line>M?Pt(M,er(A,M).text.length):Fs(g,er(A,g.line).text.length)}function Fs(A,g){var M=A.ch;return M==null||M>g?Pt(A.line,g):M<0?Pt(A.line,0):A}function Ms(A,g){for(var M=[],w=0;w<g.length;w++)M[w]=mr(A,g[w]);return M}var Hi=function(A,g){this.state=A,this.lookAhead=g},Ha=function(A,g,M,w){this.state=g,this.doc=A,this.line=M,this.maxLookAhead=w||0,this.baseTokens=null,this.baseTokenPos=1};Ha.prototype.lookAhead=function(A){var g=this.doc.getLine(this.line+A);return g!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),g},Ha.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Ha.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ha.fromSaved=function(A,g,M){return g instanceof Hi?new Ha(A,Gi(A.mode,g.state),M,g.lookAhead):new Ha(A,Gi(A.mode,g),M)},Ha.prototype.save=function(A){var g=A!==!1?Gi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Hi(g,this.maxLookAhead):g};function dl(A,g,M,w){var k=[A.state.modeGen],z={};gu(A,g.text,A.doc.mode,M,function(Ce,Ze){return k.push(Ce,Ze)},z,w);for(var Z=M.state,ae=function(Ce){M.baseTokens=k;var Ze=A.state.overlays[Ce],at=1,Lt=0;M.state=!0,gu(A,g.text,Ze.mode,M,function(kt,sn){for(var vn=at;Lt<kt;){var Kn=k[at];Kn>kt&&k.splice(at,1,kt,k[at+1],Kn),at+=2,Lt=Math.min(kt,Kn)}if(sn)if(Ze.opaque)k.splice(vn,at-vn,kt,"overlay "+sn),at=vn+2;else for(;vn<at;vn+=2){var Yn=k[vn+1];k[vn+1]=(Yn?Yn+" ":"")+"overlay "+sn}},z),M.state=Z,M.baseTokens=null,M.baseTokenPos=1},he=0;he<A.state.overlays.length;++he)ae(he);return{styles:k,classes:z.bgClass||z.textClass?z:null}}function to(A,g,M){if(!g.styles||g.styles[0]!=A.state.modeGen){var w=No(A,Oe(g)),k=g.text.length>A.options.maxHighlightLength&&Gi(A.doc.mode,w.state),z=dl(A,g,w);k&&(w.state=k),g.stateAfter=w.save(!k),g.styles=z.styles,z.classes?g.styleClasses=z.classes:g.styleClasses&&(g.styleClasses=null),M===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return g.styles}function No(A,g,M){var w=A.doc,k=A.display;if(!w.mode.startState)return new Ha(w,!0,g);var z=zu(A,g,M),Z=z>w.first&&er(w,z-1).stateAfter,ae=Z?Ha.fromSaved(w,Z,z):new Ha(w,Va(w.mode),z);return w.iter(z,g,function(he){no(A,he.text,ae);var Ce=ae.line;he.stateAfter=Ce==g-1||Ce%5==0||Ce>=k.viewFrom&&Ce<k.viewTo?ae.save():null,ae.nextLine()}),M&&(w.modeFrontier=ae.line),ae}function no(A,g,M,w){var k=A.doc.mode,z=new ci(g,A.options.tabSize,M);for(z.start=z.pos=w||0,g==""&&Rs(k,M.state);!z.eol();)Ka(k,z,M.state),z.start=z.pos}function Rs(A,g){if(A.blankLine)return A.blankLine(g);if(A.innerMode){var M=sa(A,g);if(M.mode.blankLine)return M.mode.blankLine(M.state)}}function Ka(A,g,M,w){for(var k=0;k<10;k++){w&&(w[0]=sa(A,M).mode);var z=A.token(g,M);if(g.pos>g.start)return z}throw new Error("Mode "+A.name+" failed to advance stream.")}var Ea=function(A,g,M){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=g||null,this.state=M};function cA(A,g,M,w){var k=A.doc,z=k.mode,Z;g=mr(k,g);var ae=er(k,g.line),he=No(A,g.line,M),Ce=new ci(ae.text,A.options.tabSize,he),Ze;for(w&&(Ze=[]);(w||Ce.pos<g.ch)&&!Ce.eol();)Ce.start=Ce.pos,Z=Ka(z,Ce,he.state),w&&Ze.push(new Ea(Ce,Z,Gi(k.mode,he.state)));return w?Ze:new Ea(Ce,Z,he.state)}function Xs(A,g){if(A)for(;;){var M=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!M)break;A=A.slice(0,M.index)+A.slice(M.index+M[0].length);var w=M[1]?"bgClass":"textClass";g[w]==null?g[w]=M[2]:new RegExp("(?:^|\\s)"+M[2]+"(?:$|\\s)").test(g[w])||(g[w]+=" "+M[2])}return A}function gu(A,g,M,w,k,z,Z){var ae=M.flattenSpans;ae==null&&(ae=A.options.flattenSpans);var he=0,Ce=null,Ze=new ci(g,A.options.tabSize,w),at,Lt=A.options.addModeClass&&[null];for(g==""&&Xs(Rs(M,w.state),z);!Ze.eol();){if(Ze.pos>A.options.maxHighlightLength?(ae=!1,Z&&no(A,g,w,Ze.pos),Ze.pos=g.length,at=null):at=Xs(Ka(M,Ze,w.state,Lt),z),Lt){var kt=Lt[0].name;kt&&(at="m-"+(at?kt+" "+at:kt))}if(!ae||Ce!=at){for(;he<Ze.start;)he=Math.min(Ze.start,he+5e3),k(he,Ce);Ce=at}Ze.start=Ze.pos}for(;he<Ze.pos;){var sn=Math.min(Ze.pos,he+5e3);k(sn,Ce),he=sn}}function zu(A,g,M){for(var w,k,z=A.doc,Z=M?-1:g-(A.doc.mode.innerMode?1e3:100),ae=g;ae>Z;--ae){if(ae<=z.first)return z.first;var he=er(z,ae-1),Ce=he.stateAfter;if(Ce&&(!M||ae+(Ce instanceof Hi?Ce.lookAhead:0)<=z.modeFrontier))return ae;var Ze=ye(he.text,null,A.options.tabSize);(k==null||w>Ze)&&(k=ae-1,w=Ze)}return k}function hA(A,g){if(A.modeFrontier=Math.min(A.modeFrontier,g),!(A.highlightFrontier<g-10)){for(var M=A.first,w=g-1;w>M;w--){var k=er(A,w).stateAfter;if(k&&(!(k instanceof Hi)||w+k.lookAhead<g)){M=w+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,M)}}var Bo=!1,Io=!1;function yi(){Bo=!0}function Za(){Io=!0}function Oa(A,g,M){this.marker=A,this.from=g,this.to=M}function Xa(A,g){if(A)for(var M=0;M<A.length;++M){var w=A[M];if(w.marker==g)return w}}function yu(A,g){for(var M,w=0;w<A.length;++w)A[w]!=g&&(M||(M=[])).push(A[w]);return M}function ql(A,g,M){var w=M&&window.WeakSet&&(M.markedSpans||(M.markedSpans=new WeakSet));w&&A.markedSpans&&w.has(A.markedSpans)?A.markedSpans.push(g):(A.markedSpans=A.markedSpans?A.markedSpans.concat([g]):[g],w&&w.add(A.markedSpans)),g.marker.attachLine(A)}function Vl(A,g,M){var w;if(A)for(var k=0;k<A.length;++k){var z=A[k],Z=z.marker,ae=z.from==null||(Z.inclusiveLeft?z.from<=g:z.from<g);if(ae||z.from==g&&Z.type=="bookmark"&&(!M||!z.marker.insertLeft)){var he=z.to==null||(Z.inclusiveRight?z.to>=g:z.to>g);(w||(w=[])).push(new Oa(Z,z.from,he?null:z.to))}}return w}function Js(A,g,M){var w;if(A)for(var k=0;k<A.length;++k){var z=A[k],Z=z.marker,ae=z.to==null||(Z.inclusiveRight?z.to>=g:z.to>g);if(ae||z.from==g&&Z.type=="bookmark"&&(!M||z.marker.insertLeft)){var he=z.from==null||(Z.inclusiveLeft?z.from<=g:z.from<g);(w||(w=[])).push(new Oa(Z,he?null:z.from-g,z.to==null?null:z.to-g))}}return w}function Zo(A,g){if(g.full)return null;var M=rn(A,g.from.line)&&er(A,g.from.line).markedSpans,w=rn(A,g.to.line)&&er(A,g.to.line).markedSpans;if(!M&&!w)return null;var k=g.from.ch,z=g.to.ch,Z=En(g.from,g.to)==0,ae=Vl(M,k,Z),he=Js(w,z,Z),Ce=g.text.length==1,Ze=tr(g.text).length+(Ce?k:0);if(ae)for(var at=0;at<ae.length;++at){var Lt=ae[at];if(Lt.to==null){var kt=Xa(he,Lt.marker);kt?Ce&&(Lt.to=kt.to==null?null:kt.to+Ze):Lt.to=k}}if(he)for(var sn=0;sn<he.length;++sn){var vn=he[sn];if(vn.to!=null&&(vn.to+=Ze),vn.from==null){var Kn=Xa(ae,vn.marker);Kn||(vn.from=Ze,Ce&&(ae||(ae=[])).push(vn))}else vn.from+=Ze,Ce&&(ae||(ae=[])).push(vn)}ae&&(ae=Us(ae)),he&&he!=ae&&(he=Us(he));var Yn=[ae];if(!Ce){var Zn=g.text.length-2,Gn;if(Zn>0&&ae)for(var or=0;or<ae.length;++or)ae[or].to==null&&(Gn||(Gn=[])).push(new Oa(ae[or].marker,null,null));for(var Lr=0;Lr<Zn;++Lr)Yn.push(Gn);Yn.push(he)}return Yn}function Us(A){for(var g=0;g<A.length;++g){var M=A[g];M.from!=null&&M.from==M.to&&M.marker.clearWhenEmpty!==!1&&A.splice(g--,1)}return A.length?A:null}function fl(A,g,M){var w=null;if(A.iter(g.line,M.line+1,function(kt){if(kt.markedSpans)for(var sn=0;sn<kt.markedSpans.length;++sn){var vn=kt.markedSpans[sn].marker;vn.readOnly&&(!w||Qe(w,vn)==-1)&&(w||(w=[])).push(vn)}}),!w)return null;for(var k=[{from:g,to:M}],z=0;z<w.length;++z)for(var Z=w[z],ae=Z.find(0),he=0;he<k.length;++he){var Ce=k[he];if(!(En(Ce.to,ae.from)<0||En(Ce.from,ae.to)>0)){var Ze=[he,1],at=En(Ce.from,ae.from),Lt=En(Ce.to,ae.to);(at<0||!Z.inclusiveLeft&&!at)&&Ze.push({from:Ce.from,to:ae.from}),(Lt>0||!Z.inclusiveRight&&!Lt)&&Ze.push({from:ae.to,to:Ce.to}),k.splice.apply(k,Ze),he+=Ze.length-3}}return k}function gr(A){var g=A.markedSpans;if(g){for(var M=0;M<g.length;++M)g[M].marker.detachLine(A);A.markedSpans=null}}function li(A,g){if(g){for(var M=0;M<g.length;++M)g[M].marker.attachLine(A);A.markedSpans=g}}function j(A){return A.inclusiveLeft?-1:0}function le(A){return A.inclusiveRight?1:0}function We(A,g){var M=A.lines.length-g.lines.length;if(M!=0)return M;var w=A.find(),k=g.find(),z=En(w.from,k.from)||j(A)-j(g);if(z)return-z;var Z=En(w.to,k.to)||le(A)-le(g);return Z||g.id-A.id}function xt(A,g){var M=Io&&A.markedSpans,w;if(M)for(var k=void 0,z=0;z<M.length;++z)k=M[z],k.marker.collapsed&&(g?k.from:k.to)==null&&(!w||We(w,k.marker)<0)&&(w=k.marker);return w}function Hn(A){return xt(A,!0)}function bn(A){return xt(A,!1)}function kr(A,g){var M=Io&&A.markedSpans,w;if(M)for(var k=0;k<M.length;++k){var z=M[k];z.marker.collapsed&&(z.from==null||z.from<g)&&(z.to==null||z.to>g)&&(!w||We(w,z.marker)<0)&&(w=z.marker)}return w}function Ur(A,g,M,w,k){var z=er(A,g),Z=Io&&z.markedSpans;if(Z)for(var ae=0;ae<Z.length;++ae){var he=Z[ae];if(he.marker.collapsed){var Ce=he.marker.find(0),Ze=En(Ce.from,M)||j(he.marker)-j(k),at=En(Ce.to,w)||le(he.marker)-le(k);if(!(Ze>=0&&at<=0||Ze<=0&&at>=0)&&(Ze<=0&&(he.marker.inclusiveRight&&k.inclusiveLeft?En(Ce.to,M)>=0:En(Ce.to,M)>0)||Ze>=0&&(he.marker.inclusiveRight&&k.inclusiveLeft?En(Ce.from,w)<=0:En(Ce.from,w)<0)))return!0}}}function yr(A){for(var g;g=Hn(A);)A=g.find(-1,!0).line;return A}function Tr(A){for(var g;g=bn(A);)A=g.find(1,!0).line;return A}function Di(A){for(var g,M;g=bn(A);)A=g.find(1,!0).line,(M||(M=[])).push(A);return M}function ro(A,g){var M=er(A,g),w=yr(M);return M==w?g:Oe(w)}function vi(A,g){if(g>A.lastLine())return g;var M=er(A,g),w;if(!Xr(A,M))return g;for(;w=bn(M);)M=w.find(1,!0).line;return Oe(M)+1}function Xr(A,g){var M=Io&&g.markedSpans;if(M){for(var w=void 0,k=0;k<M.length;++k)if(w=M[k],!!w.marker.collapsed){if(w.from==null)return!0;if(!w.marker.widgetNode&&w.from==0&&w.marker.inclusiveLeft&&ki(A,g,w))return!0}}}function ki(A,g,M){if(M.to==null){var w=M.marker.find(1,!0);return ki(A,w.line,Xa(w.line.markedSpans,M.marker))}if(M.marker.inclusiveRight&&M.to==g.text.length)return!0;for(var k=void 0,z=0;z<g.markedSpans.length;++z)if(k=g.markedSpans[z],k.marker.collapsed&&!k.marker.widgetNode&&k.from==M.to&&(k.to==null||k.to!=M.from)&&(k.marker.inclusiveLeft||M.marker.inclusiveRight)&&ki(A,g,k))return!0}function pi(A){A=yr(A);for(var g=0,M=A.parent,w=0;w<M.lines.length;++w){var k=M.lines[w];if(k==A)break;g+=k.height}for(var z=M.parent;z;M=z,z=M.parent)for(var Z=0;Z<z.children.length;++Z){var ae=z.children[Z];if(ae==M)break;g+=ae.height}return g}function $i(A){if(A.height==0)return 0;for(var g=A.text.length,M,w=A;M=Hn(w);){var k=M.find(0,!0);w=k.from.line,g+=k.from.ch-k.to.ch}for(w=A;M=bn(w);){var z=M.find(0,!0);g-=w.text.length-z.from.ch,w=z.to.line,g+=w.text.length-z.to.ch}return g}function La(A){var g=A.display,M=A.doc;g.maxLine=er(M,M.first),g.maxLineLength=$i(g.maxLine),g.maxLineChanged=!0,M.iter(function(w){var k=$i(w);k>g.maxLineLength&&(g.maxLineLength=k,g.maxLine=w)})}var Ss=function(A,g,M){this.text=A,li(this,g),this.height=M?M(this):1};Ss.prototype.lineNo=function(){return Oe(this)},mt(Ss);function ho(A,g,M,w){A.text=g,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),gr(A),li(A,M);var k=w?w(A):1;k!=A.height&&Qi(A,k)}function Lo(A){A.parent=null,gr(A)}var Pp={},el={};function Sd(A,g){if(!A||/^\s*$/.test(A))return null;var M=g.addModeClass?el:Pp;return M[A]||(M[A]=A.replace(/\S+/g,"cm-$&"))}function dA(A,g){var M=Ot("span",null,null,C?"padding-right: .1px":null),w={pre:Ot("pre",[M],"CodeMirror-line"),content:M,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};g.measure={};for(var k=0;k<=(g.rest?g.rest.length:0);k++){var z=k?g.rest[k-1]:g.line,Z=void 0;w.pos=0,w.addToken=Ed,On(A.display.measure)&&(Z=ve(z,A.doc.direction))&&(w.addToken=Xo(w.addToken,Z)),w.map=[];var ae=g!=A.display.externalMeasured&&Oe(z);Zl(z,w,to(A,z,ae)),z.styleClasses&&(z.styleClasses.bgClass&&(w.bgClass=et(z.styleClasses.bgClass,w.bgClass||"")),z.styleClasses.textClass&&(w.textClass=et(z.styleClasses.textClass,w.textClass||""))),w.map.length==0&&w.map.push(0,0,w.content.appendChild($r(A.display.measure))),k==0?(g.measure.map=w.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(w.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(C){var he=w.content.lastChild;(/\bcm-tab\b/.test(he.className)||he.querySelector&&he.querySelector(".cm-tab"))&&(w.content.className="cm-tab-wrap-hack")}return dt(A,"renderLine",A,g.line,w.pre),w.pre.className&&(w.textClass=et(w.pre.className,w.textClass||"")),w}function zA(A){var g=_e("span","","cm-invalidchar");return g.title="\\u"+A.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function Ed(A,g,M,w,k,z,Z){if(g){var ae=A.splitSpaces?Kp(g,A.trailingSpace):g,he=A.cm.state.specialChars,Ce=!1,Ze;if(!he.test(g))A.col+=g.length,Ze=document.createTextNode(ae),A.map.push(A.pos,A.pos+g.length,Ze),f&&m<9&&(Ce=!0),A.pos+=g.length;else{Ze=document.createDocumentFragment();for(var at=0;;){he.lastIndex=at;var Lt=he.exec(g),kt=Lt?Lt.index-at:g.length-at;if(kt){var sn=document.createTextNode(ae.slice(at,at+kt));f&&m<9?Ze.appendChild(_e("span",[sn])):Ze.appendChild(sn),A.map.push(A.pos,A.pos+kt,sn),A.col+=kt,A.pos+=kt}if(!Lt)break;at+=kt+1;var vn=void 0;if(Lt[0]=="	"){var Kn=A.cm.options.tabSize,Yn=Kn-A.col%Kn;vn=Ze.appendChild(_e("span",_n(Yn),"cm-tab")),vn.setAttribute("role","presentation"),vn.setAttribute("cm-text","	"),A.col+=Yn}else Lt[0]=="\r"||Lt[0]==`
`?(vn=Ze.appendChild(_e("span",Lt[0]=="\r"?"":"","cm-invalidchar")),vn.setAttribute("cm-text",Lt[0]),A.col+=1):(vn=A.cm.options.specialCharPlaceholder(Lt[0]),vn.setAttribute("cm-text",Lt[0]),f&&m<9?Ze.appendChild(_e("span",[vn])):Ze.appendChild(vn),A.col+=1);A.map.push(A.pos,A.pos+1,vn),A.pos++}}if(A.trailingSpace=ae.charCodeAt(g.length-1)==32,M||w||k||Ce||z||Z){var Zn=M||"";w&&(Zn+=w),k&&(Zn+=k);var Gn=_e("span",[Ze],Zn,z);if(Z)for(var or in Z)Z.hasOwnProperty(or)&&or!="style"&&or!="class"&&Gn.setAttribute(or,Z[or]);return A.content.appendChild(Gn)}A.content.appendChild(Ze)}}function Kp(A,g){if(A.length>1&&!/  /.test(A))return A;for(var M=g,w="",k=0;k<A.length;k++){var z=A.charAt(k);z==" "&&M&&(k==A.length-1||A.charCodeAt(k+1)==32)&&(z=""),w+=z,M=z==" "}return w}function Xo(A,g){return function(M,w,k,z,Z,ae,he){k=k?k+" cm-force-border":"cm-force-border";for(var Ce=M.pos,Ze=Ce+w.length;;){for(var at=void 0,Lt=0;Lt<g.length&&(at=g[Lt],!(at.to>Ce&&at.from<=Ce));Lt++);if(at.to>=Ze)return A(M,w,k,z,Z,ae,he);A(M,w.slice(0,at.to-Ce),k,z,null,ae,he),z=null,w=w.slice(at.to-Ce),Ce=at.to}}}function Hl(A,g,M,w){var k=!w&&M.widgetNode;k&&A.map.push(A.pos,A.pos+g,k),!w&&A.cm.display.input.needsContentAttribute&&(k||(k=A.content.appendChild(document.createElement("span"))),k.setAttribute("cm-marker",M.id)),k&&(A.cm.display.input.setUneditable(k),A.content.appendChild(k)),A.pos+=g,A.trailingSpace=!1}function Zl(A,g,M){var w=A.markedSpans,k=A.text,z=0;if(!w){for(var Z=1;Z<M.length;Z+=2)g.addToken(g,k.slice(z,z=M[Z]),Sd(M[Z+1],g.cm.options));return}for(var ae=k.length,he=0,Ce=1,Ze="",at,Lt,kt=0,sn,vn,Kn,Yn,Zn;;){if(kt==he){sn=vn=Kn=Lt="",Zn=null,Yn=null,kt=1/0;for(var Gn=[],or=void 0,Lr=0;Lr<w.length;++Lr){var Br=w[Lr],Oi=Br.marker;if(Oi.type=="bookmark"&&Br.from==he&&Oi.widgetNode)Gn.push(Oi);else if(Br.from<=he&&(Br.to==null||Br.to>he||Oi.collapsed&&Br.to==he&&Br.from==he)){if(Br.to!=null&&Br.to!=he&&kt>Br.to&&(kt=Br.to,vn=""),Oi.className&&(sn+=" "+Oi.className),Oi.css&&(Lt=(Lt?Lt+";":"")+Oi.css),Oi.startStyle&&Br.from==he&&(Kn+=" "+Oi.startStyle),Oi.endStyle&&Br.to==kt&&(or||(or=[])).push(Oi.endStyle,Br.to),Oi.title&&((Zn||(Zn={})).title=Oi.title),Oi.attributes)for(var Fo in Oi.attributes)(Zn||(Zn={}))[Fo]=Oi.attributes[Fo];Oi.collapsed&&(!Yn||We(Yn.marker,Oi)<0)&&(Yn=Br)}else Br.from>he&&kt>Br.from&&(kt=Br.from)}if(or)for(var va=0;va<or.length;va+=2)or[va+1]==kt&&(vn+=" "+or[va]);if(!Yn||Yn.from==he)for(var ha=0;ha<Gn.length;++ha)Hl(g,0,Gn[ha]);if(Yn&&(Yn.from||0)==he){if(Hl(g,(Yn.to==null?ae+1:Yn.to)-he,Yn.marker,Yn.from==null),Yn.to==null)return;Yn.to==he&&(Yn=!1)}}if(he>=ae)break;for(var Ba=Math.min(ae,kt);;){if(Ze){var rs=he+Ze.length;if(!Yn){var _a=rs>Ba?Ze.slice(0,Ba-he):Ze;g.addToken(g,_a,at?at+sn:sn,Kn,he+_a.length==kt?vn:"",Lt,Zn)}if(rs>=Ba){Ze=Ze.slice(Ba-he),he=Ba;break}he=rs,Kn=""}Ze=k.slice(z,z=M[Ce++]),at=Sd(M[Ce++],g.cm.options)}}}function kh(A,g,M){this.line=g,this.rest=Di(g),this.size=this.rest?Oe(tr(this.rest))-M+1:1,this.node=this.text=null,this.hidden=Xr(A,g)}function Rc(A,g,M){for(var w=[],k,z=g;z<M;z=k){var Z=new kh(A.doc,er(A.doc,z),z);k=z+Z.size,w.push(Z)}return w}var jA=null;function Uc(A){jA?jA.ops.push(A):A.ownsGroup=jA={ops:[A],delayedCallbacks:[]}}function Im(A){var g=A.delayedCallbacks,M=0;do{for(;M<g.length;M++)g[M].call(null);for(var w=0;w<A.ops.length;w++){var k=A.ops[w];if(k.cursorActivityHandlers)for(;k.cursorActivityCalled<k.cursorActivityHandlers.length;)k.cursorActivityHandlers[k.cursorActivityCalled++].call(null,k.cm)}}while(M<g.length)}function km(A,g){var M=A.ownsGroup;if(M)try{Im(M)}finally{jA=null,g(M)}}var NA=null;function bo(A,g){var M=ze(A,g);if(M.length){var w=Array.prototype.slice.call(arguments,2),k;jA?k=jA.delayedCallbacks:NA?k=NA:(k=NA=[],setTimeout(Q0,0));for(var z=function(ae){k.push(function(){return M[ae].apply(null,w)})},Z=0;Z<M.length;++Z)z(Z)}}function Q0(){var A=NA;NA=null;for(var g=0;g<A.length;++g)A[g]()}function zc(A,g,M,w){for(var k=0;k<g.changes.length;k++){var z=g.changes[k];z=="text"?Dp(A,g):z=="gutter"?Ph(A,g,M,w):z=="class"?gf(A,g):z=="widget"&&yf(A,g,w)}g.changes=null}function jc(A){return A.node==A.text&&(A.node=_e("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),f&&m<8&&(A.node.style.zIndex=2)),A.node}function Lp(A,g){var M=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(M&&(M+=" CodeMirror-linebackground"),g.background)M?g.background.className=M:(g.background.parentNode.removeChild(g.background),g.background=null);else if(M){var w=jc(g);g.background=w.insertBefore(_e("div",null,M),w.firstChild),A.display.input.setUneditable(g.background)}}function Th(A,g){var M=A.display.externalMeasured;return M&&M.line==g.line?(A.display.externalMeasured=null,g.measure=M.measure,M.built):dA(A,g)}function Dp(A,g){var M=g.text.className,w=Th(A,g);g.text==g.node&&(g.node=w.pre),g.text.parentNode.replaceChild(w.pre,g.text),g.text=w.pre,w.bgClass!=g.bgClass||w.textClass!=g.textClass?(g.bgClass=w.bgClass,g.textClass=w.textClass,gf(A,g)):M&&(g.text.className=M)}function gf(A,g){Lp(A,g),g.line.wrapClass?jc(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var M=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=M||""}function Ph(A,g,M,w){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var k=jc(g);g.gutterBackground=_e("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(A.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px; width: "+w.gutterTotalWidth+"px"),A.display.input.setUneditable(g.gutterBackground),k.insertBefore(g.gutterBackground,g.text)}var z=g.line.gutterMarkers;if(A.options.lineNumbers||z){var Z=jc(g),ae=g.gutter=_e("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px");if(ae.setAttribute("aria-hidden","true"),A.display.input.setUneditable(ae),Z.insertBefore(ae,g.text),g.line.gutterClass&&(ae.className+=" "+g.line.gutterClass),A.options.lineNumbers&&(!z||!z["CodeMirror-linenumbers"])&&(g.lineNumber=ae.appendChild(_e("div",pn(A.options,M),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+w.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),z)for(var he=0;he<A.display.gutterSpecs.length;++he){var Ce=A.display.gutterSpecs[he].className,Ze=z.hasOwnProperty(Ce)&&z[Ce];Ze&&ae.appendChild(_e("div",[Ze],"CodeMirror-gutter-elt","left: "+w.gutterLeft[Ce]+"px; width: "+w.gutterWidth[Ce]+"px"))}}}function yf(A,g,M){g.alignable&&(g.alignable=null);for(var w=Fe("CodeMirror-linewidget"),k=g.node.firstChild,z=void 0;k;k=z)z=k.nextSibling,w.test(k.className)&&g.node.removeChild(k);vu(A,g,M)}function vf(A,g,M,w){var k=Th(A,g);return g.text=g.node=k.pre,k.bgClass&&(g.bgClass=k.bgClass),k.textClass&&(g.textClass=k.textClass),gf(A,g),Ph(A,g,M,w),vu(A,g,w),g.node}function vu(A,g,M){if(zs(A,g.line,g,M,!0),g.rest)for(var w=0;w<g.rest.length;w++)zs(A,g.rest[w],g,M,!1)}function zs(A,g,M,w,k){if(g.widgets)for(var z=jc(M),Z=0,ae=g.widgets;Z<ae.length;++Z){var he=ae[Z],Ce=_e("div",[he.node],"CodeMirror-linewidget"+(he.className?" "+he.className:""));he.handleMouseEvents||Ce.setAttribute("cm-ignore-events","true"),Kh(he,Ce,M,w),A.display.input.setUneditable(Ce),k&&he.above?z.insertBefore(Ce,M.gutter||M.text):z.appendChild(Ce),bo(he,"redraw")}}function Kh(A,g,M,w){if(A.noHScroll){(M.alignable||(M.alignable=[])).push(g);var k=w.wrapperWidth;g.style.left=w.fixedPos+"px",A.coverGutter||(k-=w.gutterTotalWidth,g.style.paddingLeft=w.gutterTotalWidth+"px"),g.style.width=k+"px"}A.coverGutter&&(g.style.zIndex=5,g.style.position="relative",A.noHScroll||(g.style.marginLeft=-w.gutterTotalWidth+"px"))}function ju(A){if(A.height!=null)return A.height;var g=A.doc.cm;if(!g)return 0;if(!_t(document.body,A.node)){var M="position: relative;";A.coverGutter&&(M+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),A.noHScroll&&(M+="width: "+g.display.wrapper.clientWidth+"px;"),Ve(g.display.measure,_e("div",[A.node],null,M))}return A.height=A.node.parentNode.offsetHeight}function Nu(A,g){for(var M=Cr(g);M!=A.wrapper;M=M.parentNode)if(!M||M.nodeType==1&&M.getAttribute("cm-ignore-events")=="true"||M.parentNode==A.sizer&&M!=A.mover)return!0}function Nc(A){return A.lineSpace.offsetTop}function Wu(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function _f(A){if(A.cachedPaddingH)return A.cachedPaddingH;var g=Ve(A.measure,_e("pre","x","CodeMirror-line-like")),M=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,w={left:parseInt(M.paddingLeft),right:parseInt(M.paddingRight)};return!isNaN(w.left)&&!isNaN(w.right)&&(A.cachedPaddingH=w),w}function fA(A){return st-A.display.nativeBarWidth}function Wc(A){return A.display.scroller.clientWidth-fA(A)-A.display.barWidth}function Cf(A){return A.display.scroller.clientHeight-fA(A)-A.display.barHeight}function Gc(A,g,M){var w=A.options.lineWrapping,k=w&&Wc(A);if(!g.measure.heights||w&&g.measure.width!=k){var z=g.measure.heights=[];if(w){g.measure.width=k;for(var Z=g.text.firstChild.getClientRects(),ae=0;ae<Z.length-1;ae++){var he=Z[ae],Ce=Z[ae+1];Math.abs(he.bottom-Ce.bottom)>2&&z.push((he.bottom+Ce.top)/2-M.top)}}z.push(M.bottom-M.top)}}function Fp(A,g,M){if(A.line==g)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var w=0;w<A.rest.length;w++)if(A.rest[w]==g)return{map:A.measure.maps[w],cache:A.measure.caches[w]};for(var k=0;k<A.rest.length;k++)if(Oe(A.rest[k])>M)return{map:A.measure.maps[k],cache:A.measure.caches[k],before:!0}}}function $0(A,g){g=yr(g);var M=Oe(g),w=A.display.externalMeasured=new kh(A.doc,g,M);w.lineN=M;var k=w.built=dA(A,w);return w.text=k.pre,Ve(A.display.lineMeasure,k.pre),w}function Lh(A,g,M,w){return nl(A,tl(A,g),M,w)}function sc(A,g){if(g>=A.display.viewFrom&&g<A.display.viewTo)return A.display.view[pA(A,g)];var M=A.display.externalMeasured;if(M&&g>=M.lineN&&g<M.lineN+M.size)return M}function tl(A,g){var M=Oe(g),w=sc(A,M);w&&!w.text?w=null:w&&w.changes&&(zc(A,w,M,WA(A)),A.curOp.forceUpdate=!0),w||(w=$0(A,g));var k=Fp(w,g,M);return{line:g,view:w,rect:null,map:k.map,cache:k.cache,before:k.before,hasHeights:!1}}function nl(A,g,M,w,k){g.before&&(M=-1);var z=M+(w||""),Z;return g.cache.hasOwnProperty(z)?Z=g.cache[z]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(Gc(A,g.view,g.rect),g.hasHeights=!0),Z=js(A,g,M,w),Z.bogus||(g.cache[z]=Z)),{left:Z.left,right:Z.right,top:k?Z.rtop:Z.top,bottom:k?Z.rbottom:Z.bottom}}var bf={left:0,right:0,top:0,bottom:0};function lc(A,g,M){for(var w,k,z,Z,ae,he,Ce=0;Ce<A.length;Ce+=3)if(ae=A[Ce],he=A[Ce+1],g<ae?(k=0,z=1,Z="left"):g<he?(k=g-ae,z=k+1):(Ce==A.length-3||g==he&&A[Ce+3]>g)&&(z=he-ae,k=z-1,g>=he&&(Z="right")),k!=null){if(w=A[Ce+2],ae==he&&M==(w.insertLeft?"left":"right")&&(Z=M),M=="left"&&k==0)for(;Ce&&A[Ce-2]==A[Ce-3]&&A[Ce-1].insertLeft;)w=A[(Ce-=3)+2],Z="left";if(M=="right"&&k==he-ae)for(;Ce<A.length-3&&A[Ce+3]==A[Ce+4]&&!A[Ce+5].insertLeft;)w=A[(Ce+=3)+2],Z="right";break}return{node:w,start:k,end:z,collapse:Z,coverStart:ae,coverEnd:he}}function Dh(A,g){var M=bf;if(g=="left")for(var w=0;w<A.length&&(M=A[w]).left==M.right;w++);else for(var k=A.length-1;k>=0&&(M=A[k]).left==M.right;k--);return M}function js(A,g,M,w){var k=lc(g.map,M,w),z=k.node,Z=k.start,ae=k.end,he=k.collapse,Ce;if(z.nodeType==3){for(var Ze=0;Ze<4;Ze++){for(;Z&&Re(g.line.text.charAt(k.coverStart+Z));)--Z;for(;k.coverStart+ae<k.coverEnd&&Re(g.line.text.charAt(k.coverStart+ae));)++ae;if(f&&m<9&&Z==0&&ae==k.coverEnd-k.coverStart?Ce=z.parentNode.getBoundingClientRect():Ce=Dh(St(z,Z,ae).getClientRects(),w),Ce.left||Ce.right||Z==0)break;ae=Z,Z=Z-1,he="right"}f&&m<11&&(Ce=_u(A.display.measure,Ce))}else{Z>0&&(he=w="right");var at;A.options.lineWrapping&&(at=z.getClientRects()).length>1?Ce=at[w=="right"?at.length-1:0]:Ce=z.getBoundingClientRect()}if(f&&m<9&&!Z&&(!Ce||!Ce.left&&!Ce.right)){var Lt=z.parentNode.getClientRects()[0];Lt?Ce={left:Lt.left,right:Lt.left+$u(A.display),top:Lt.top,bottom:Lt.bottom}:Ce=bf}for(var kt=Ce.top-g.rect.top,sn=Ce.bottom-g.rect.top,vn=(kt+sn)/2,Kn=g.view.measure.heights,Yn=0;Yn<Kn.length-1&&!(vn<Kn[Yn]);Yn++);var Zn=Yn?Kn[Yn-1]:0,Gn=Kn[Yn],or={left:(he=="right"?Ce.right:Ce.left)-g.rect.left,right:(he=="left"?Ce.left:Ce.right)-g.rect.left,top:Zn,bottom:Gn};return!Ce.left&&!Ce.right&&(or.bogus=!0),A.options.singleCursorHeightPerLine||(or.rtop=kt,or.rbottom=sn),or}function _u(A,g){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Wr(A))return g;var M=screen.logicalXDPI/screen.deviceXDPI,w=screen.logicalYDPI/screen.deviceYDPI;return{left:g.left*M,right:g.right*M,top:g.top*w,bottom:g.bottom*w}}function io(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var g=0;g<A.rest.length;g++)A.measure.caches[g]={}}function xf(A){A.display.externalMeasure=null,me(A.display.lineMeasure);for(var g=0;g<A.display.view.length;g++)io(A.display.view[g])}function Gu(A){xf(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Od(A){return I&&ne?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function Bd(A){return I&&ne?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Qc(A){var g=yr(A),M=g.widgets,w=0;if(M)for(var k=0;k<M.length;++k)M[k].above&&(w+=ju(M[k]));return w}function Cu(A,g,M,w,k){if(!k){var z=Qc(g);M.top+=z,M.bottom+=z}if(w=="line")return M;w||(w="local");var Z=pi(g);if(w=="local"?Z+=Nc(A.display):Z-=A.display.viewOffset,w=="page"||w=="window"){var ae=A.display.lineSpace.getBoundingClientRect();Z+=ae.top+(w=="window"?0:Bd(en(A)));var he=ae.left+(w=="window"?0:Od(en(A)));M.left+=he,M.right+=he}return M.top+=Z,M.bottom+=Z,M}function Dt(A,g,M){if(M=="div")return g;var w=g.left,k=g.top;if(M=="page")w-=Od(en(A)),k-=Bd(en(A));else if(M=="local"||!M){var z=A.display.sizer.getBoundingClientRect();w+=z.left,k+=z.top}var Z=A.display.lineSpace.getBoundingClientRect();return{left:w-Z.left,top:k-Z.top}}function un(A,g,M,w,k){return w||(w=er(A.doc,g.line)),Cu(A,w,Lh(A,w,g.ch,k),M)}function Qt(A,g,M,w,k,z){w=w||er(A.doc,g.line),k||(k=tl(A,w));function Z(sn,vn){var Kn=nl(A,k,sn,vn?"right":"left",z);return vn?Kn.left=Kn.right:Kn.right=Kn.left,Cu(A,w,Kn,M)}var ae=ve(w,A.doc.direction),he=g.ch,Ce=g.sticky;if(he>=w.text.length?(he=w.text.length,Ce="before"):he<=0&&(he=0,Ce="after"),!ae)return Z(Ce=="before"?he-1:he,Ce=="before");function Ze(sn,vn,Kn){var Yn=ae[vn],Zn=Yn.level==1;return Z(Kn?sn-1:sn,Zn!=Kn)}var at=ht(ae,he,Ce),Lt=ar,kt=Ze(he,at,Ce=="before");return Lt!=null&&(kt.other=Ze(he,Lt,Ce!="before")),kt}function Ar(A,g){var M=0;g=mr(A.doc,g),A.options.lineWrapping||(M=$u(A.display)*g.ch);var w=er(A.doc,g.line),k=pi(w)+Nc(A.display);return{left:M,right:M,top:k,bottom:k+w.height}}function ai(A,g,M,w,k){var z=Pt(A,g,M);return z.xRel=k,w&&(z.outside=w),z}function br(A,g,M){var w=A.doc;if(M+=A.display.viewOffset,M<0)return ai(w.first,0,null,-1,-1);var k=Je(w,M),z=w.first+w.size-1;if(k>z)return ai(w.first+w.size-1,er(w,z).text.length,null,1,1);g<0&&(g=0);for(var Z=er(w,k);;){var ae=Id(A,Z,k,g,M),he=kr(Z,ae.ch+(ae.xRel>0||ae.outside>0?1:0));if(!he)return ae;var Ce=he.find(1);if(Ce.line==k)return Ce;Z=er(w,k=Ce.line)}}function fa(A,g,M,w){w-=Qc(g);var k=g.text.length,z=Tt(function(Z){return nl(A,M,Z-1).bottom<=w},k,0);return k=Tt(function(Z){return nl(A,M,Z).top>w},z,k),{begin:z,end:k}}function Do(A,g,M,w){M||(M=tl(A,g));var k=Cu(A,g,nl(A,M,w),"line").top;return fa(A,g,M,k)}function Fh(A,g,M,w){return A.bottom<=M?!1:A.top>M?!0:(w?A.left:A.right)>g}function Id(A,g,M,w,k){k-=pi(g);var z=tl(A,g),Z=Qc(g),ae=0,he=g.text.length,Ce=!0,Ze=ve(g,A.doc.direction);if(Ze){var at=(A.options.lineWrapping?wf:bu)(A,g,M,z,Ze,w,k);Ce=at.level!=1,ae=Ce?at.from:at.to-1,he=Ce?at.to:at.from-1}var Lt=null,kt=null,sn=Tt(function(Lr){var Br=nl(A,z,Lr);return Br.top+=Z,Br.bottom+=Z,Fh(Br,w,k,!1)?(Br.top<=k&&Br.left<=w&&(Lt=Lr,kt=Br),!0):!1},ae,he),vn,Kn,Yn=!1;if(kt){var Zn=w-kt.left<kt.right-w,Gn=Zn==Ce;sn=Lt+(Gn?0:1),Kn=Gn?"after":"before",vn=Zn?kt.left:kt.right}else{!Ce&&(sn==he||sn==ae)&&sn++,Kn=sn==0?"after":sn==g.text.length?"before":nl(A,z,sn-(Ce?1:0)).bottom+Z<=k==Ce?"after":"before";var or=Qt(A,Pt(M,sn,Kn),"line",g,z);vn=or.left,Yn=k<or.top?-1:k>=or.bottom?1:0}return sn=ut(g.text,sn,1),ai(M,sn,Kn,Yn,w-vn)}function bu(A,g,M,w,k,z,Z){var ae=Tt(function(at){var Lt=k[at],kt=Lt.level!=1;return Fh(Qt(A,Pt(M,kt?Lt.to:Lt.from,kt?"before":"after"),"line",g,w),z,Z,!0)},0,k.length-1),he=k[ae];if(ae>0){var Ce=he.level!=1,Ze=Qt(A,Pt(M,Ce?he.from:he.to,Ce?"after":"before"),"line",g,w);Fh(Ze,z,Z,!0)&&Ze.top>Z&&(he=k[ae-1])}return he}function wf(A,g,M,w,k,z,Z){var ae=fa(A,g,w,Z),he=ae.begin,Ce=ae.end;/\s/.test(g.text.charAt(Ce-1))&&Ce--;for(var Ze=null,at=null,Lt=0;Lt<k.length;Lt++){var kt=k[Lt];if(!(kt.from>=Ce||kt.to<=he)){var sn=kt.level!=1,vn=nl(A,w,sn?Math.min(Ce,kt.to)-1:Math.max(he,kt.from)).right,Kn=vn<z?z-vn+1e9:vn-z;(!Ze||at>Kn)&&(Ze=kt,at=Kn)}}return Ze||(Ze=k[k.length-1]),Ze.from<he&&(Ze={from:he,to:Ze.to,level:Ze.level}),Ze.to>Ce&&(Ze={from:Ze.from,to:Ce,level:Ze.level}),Ze}var uc;function Qu(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(uc==null){uc=_e("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)uc.appendChild(document.createTextNode("x")),uc.appendChild(_e("br"));uc.appendChild(document.createTextNode("x"))}Ve(A.measure,uc);var M=uc.offsetHeight/50;return M>3&&(A.cachedTextHeight=M),me(A.measure),M||1}function $u(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var g=_e("span","xxxxxxxxxx"),M=_e("pre",[g],"CodeMirror-line-like");Ve(A.measure,M);var w=g.getBoundingClientRect(),k=(w.right-w.left)/10;return k>2&&(A.cachedCharWidth=k),k||10}function WA(A){for(var g=A.display,M={},w={},k=g.gutters.clientLeft,z=g.gutters.firstChild,Z=0;z;z=z.nextSibling,++Z){var ae=A.display.gutterSpecs[Z].className;M[ae]=z.offsetLeft+z.clientLeft+k,w[ae]=z.clientWidth}return{fixedPos:so(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:M,gutterWidth:w,wrapperWidth:g.wrapper.clientWidth}}function so(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function Mf(A){var g=Qu(A.display),M=A.options.lineWrapping,w=M&&Math.max(5,A.display.scroller.clientWidth/$u(A.display)-3);return function(k){if(Xr(A.doc,k))return 0;var z=0;if(k.widgets)for(var Z=0;Z<k.widgets.length;Z++)k.widgets[Z].height&&(z+=k.widgets[Z].height);return M?z+(Math.ceil(k.text.length/w)||1)*g:z+g}}function Rh(A){var g=A.doc,M=Mf(A);g.iter(function(w){var k=M(w);k!=w.height&&Qi(w,k)})}function Yu(A,g,M,w){var k=A.display;if(!M&&Cr(g).getAttribute("cm-not-content")=="true")return null;var z,Z,ae=k.lineSpace.getBoundingClientRect();try{z=g.clientX-ae.left,Z=g.clientY-ae.top}catch{return null}var he=br(A,z,Z),Ce;if(w&&he.xRel>0&&(Ce=er(A.doc,he.line).text).length==he.ch){var Ze=ye(Ce,Ce.length,A.options.tabSize)-Ce.length;he=Pt(he.line,Math.max(0,Math.round((z-_f(A.display).left)/$u(A.display))-Ze))}return he}function pA(A,g){if(g>=A.display.viewTo||(g-=A.display.viewFrom,g<0))return null;for(var M=A.display.view,w=0;w<M.length;w++)if(g-=M[w].size,g<0)return w}function Es(A,g,M,w){g==null&&(g=A.doc.first),M==null&&(M=A.doc.first+A.doc.size),w||(w=0);var k=A.display;if(w&&M<k.viewTo&&(k.updateLineNumbers==null||k.updateLineNumbers>g)&&(k.updateLineNumbers=g),A.curOp.viewChanged=!0,g>=k.viewTo)Io&&ro(A.doc,g)<k.viewTo&&qu(A);else if(M<=k.viewFrom)Io&&vi(A.doc,M+w)>k.viewFrom?qu(A):(k.viewFrom+=w,k.viewTo+=w);else if(g<=k.viewFrom&&M>=k.viewTo)qu(A);else if(g<=k.viewFrom){var z=Xl(A,M,M+w,1);z?(k.view=k.view.slice(z.index),k.viewFrom=z.lineN,k.viewTo+=w):qu(A)}else if(M>=k.viewTo){var Z=Xl(A,g,g,-1);Z?(k.view=k.view.slice(0,Z.index),k.viewTo=Z.lineN):qu(A)}else{var ae=Xl(A,g,g,-1),he=Xl(A,M,M+w,1);ae&&he?(k.view=k.view.slice(0,ae.index).concat(Rc(A,ae.lineN,he.lineN)).concat(k.view.slice(he.index)),k.viewTo+=w):qu(A)}var Ce=k.externalMeasured;Ce&&(M<Ce.lineN?Ce.lineN+=w:g<Ce.lineN+Ce.size&&(k.externalMeasured=null))}function mA(A,g,M){A.curOp.viewChanged=!0;var w=A.display,k=A.display.externalMeasured;if(k&&g>=k.lineN&&g<k.lineN+k.size&&(w.externalMeasured=null),!(g<w.viewFrom||g>=w.viewTo)){var z=w.view[pA(A,g)];if(z.node!=null){var Z=z.changes||(z.changes=[]);Qe(Z,M)==-1&&Z.push(M)}}}function qu(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Xl(A,g,M,w){var k=pA(A,g),z,Z=A.display.view;if(!Io||M==A.doc.first+A.doc.size)return{index:k,lineN:M};for(var ae=A.display.viewFrom,he=0;he<k;he++)ae+=Z[he].size;if(ae!=g){if(w>0){if(k==Z.length-1)return null;z=ae+Z[k].size-g,k++}else z=ae-g;g+=z,M+=z}for(;ro(A.doc,M)!=M;){if(k==(w<0?0:Z.length-1))return null;M+=w*Z[k-(w<0?1:0)].size,k+=w}return{index:k,lineN:M}}function Uh(A,g,M){var w=A.display,k=w.view;k.length==0||g>=w.viewTo||M<=w.viewFrom?(w.view=Rc(A,g,M),w.viewFrom=g):(w.viewFrom>g?w.view=Rc(A,g,w.viewFrom).concat(w.view):w.viewFrom<g&&(w.view=w.view.slice(pA(A,g))),w.viewFrom=g,w.viewTo<M?w.view=w.view.concat(Rc(A,w.viewTo,M)):w.viewTo>M&&(w.view=w.view.slice(0,pA(A,M)))),w.viewTo=M}function Sf(A){for(var g=A.display.view,M=0,w=0;w<g.length;w++){var k=g[w];!k.hidden&&(!k.node||k.changes)&&++M}return M}function Vu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function kd(A,g){g===void 0&&(g=!0);var M=A.doc,w={},k=w.cursors=document.createDocumentFragment(),z=w.selection=document.createDocumentFragment(),Z=A.options.$customCursor;Z&&(g=!0);for(var ae=0;ae<M.sel.ranges.length;ae++)if(!(!g&&ae==M.sel.primIndex)){var he=M.sel.ranges[ae];if(!(he.from().line>=A.display.viewTo||he.to().line<A.display.viewFrom)){var Ce=he.empty();if(Z){var Ze=Z(A,he);Ze&&Td(A,Ze,k)}else(Ce||A.options.showCursorWhenSelecting)&&Td(A,he.head,k);Ce||cc(A,he,z)}}return w}function Td(A,g,M){var w=Qt(A,g,"div",null,null,!A.options.singleCursorHeightPerLine),k=M.appendChild(_e("div","","CodeMirror-cursor"));if(k.style.left=w.left+"px",k.style.top=w.top+"px",k.style.height=Math.max(0,w.bottom-w.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var z=un(A,g,"div",null,null),Z=z.right-z.left;k.style.width=(Z>0?Z:A.defaultCharWidth())+"px"}if(w.other){var ae=M.appendChild(_e("div","","CodeMirror-cursor CodeMirror-secondarycursor"));ae.style.display="",ae.style.left=w.other.left+"px",ae.style.top=w.other.top+"px",ae.style.height=(w.other.bottom-w.other.top)*.85+"px"}}function Ac(A,g){return A.top-g.top||A.left-g.left}function cc(A,g,M){var w=A.display,k=A.doc,z=document.createDocumentFragment(),Z=_f(A.display),ae=Z.left,he=Math.max(w.sizerWidth,Wc(A)-w.sizer.offsetLeft)-Z.right,Ce=k.direction=="ltr";function Ze(Gn,or,Lr,Br){or<0&&(or=0),or=Math.round(or),Br=Math.round(Br),z.appendChild(_e("div",null,"CodeMirror-selected","position: absolute; left: "+Gn+`px;
                             top: `+or+"px; width: "+(Lr??he-Gn)+`px;
                             height: `+(Br-or)+"px"))}function at(Gn,or,Lr){var Br=er(k,Gn),Oi=Br.text.length,Fo,va;function ha(_a,zl){return un(A,Pt(Gn,_a),"div",Br,zl)}function Ba(_a,zl,Is){var Ia=Do(A,Br,null,_a),za=zl=="ltr"==(Is=="after")?"left":"right",ja=Is=="after"?Ia.begin:Ia.end-(/\s/.test(Br.text.charAt(Ia.end-1))?2:1);return ha(ja,za)[za]}var rs=ve(Br,k.direction);return jt(rs,or||0,Lr??Oi,function(_a,zl,Is,Ia){var za=Is=="ltr",ja=ha(_a,za?"left":"right"),ou=ha(zl-1,za?"right":"left"),Yd=or==null&&_a==0,uh=Lr==null&&zl==Oi,_l=Ia==0,Cc=!rs||Ia==rs.length-1;if(ou.top-ja.top<=3){var Na=(Ce?Yd:uh)&&_l,jm=(Ce?uh:Yd)&&Cc,bc=Na?ae:(za?ja:ou).left,td=jm?he:(za?ou:ja).right;Ze(bc,ja.top,td-bc,ja.bottom)}else{var nd,jl,qf,X0;za?(nd=Ce&&Yd&&_l?ae:ja.left,jl=Ce?he:Ba(_a,Is,"before"),qf=Ce?ae:Ba(zl,Is,"after"),X0=Ce&&uh&&Cc?he:ou.right):(nd=Ce?Ba(_a,Is,"before"):ae,jl=!Ce&&Yd&&_l?he:ja.right,qf=!Ce&&uh&&Cc?ae:ou.left,X0=Ce?Ba(zl,Is,"after"):he),Ze(nd,ja.top,jl-nd,ja.bottom),ja.bottom<ou.top&&Ze(ae,ja.bottom,null,ou.top),Ze(qf,ou.top,X0-qf,ou.bottom)}(!Fo||Ac(ja,Fo)<0)&&(Fo=ja),Ac(ou,Fo)<0&&(Fo=ou),(!va||Ac(ja,va)<0)&&(va=ja),Ac(ou,va)<0&&(va=ou)}),{start:Fo,end:va}}var Lt=g.from(),kt=g.to();if(Lt.line==kt.line)at(Lt.line,Lt.ch,kt.ch);else{var sn=er(k,Lt.line),vn=er(k,kt.line),Kn=yr(sn)==yr(vn),Yn=at(Lt.line,Lt.ch,Kn?sn.text.length+1:null).end,Zn=at(kt.line,Kn?0:null,kt.ch).start;Kn&&(Yn.top<Zn.top-2?(Ze(Yn.right,Yn.top,null,Yn.bottom),Ze(ae,Zn.top,Zn.left,Zn.bottom)):Ze(Yn.right,Yn.top,Zn.left-Yn.right,Yn.bottom)),Yn.bottom<Zn.top&&Ze(ae,Yn.bottom,null,Zn.top)}M.appendChild(z)}function gA(A){if(A.state.focused){var g=A.display;clearInterval(g.blinker);var M=!0;g.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?g.blinker=setInterval(function(){A.hasFocus()||xu(A),g.cursorDiv.style.visibility=(M=!M)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function hc(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||ua(A))}function $c(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&xu(A))},100)}function ua(A,g){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(dt(A,"focus",A,g),A.state.focused=!0,$e(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),C&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),gA(A))}function xu(A,g){A.state.delayingBlurEvent||(A.state.focused&&(dt(A,"blur",A,g),A.state.focused=!1,Ue(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function pl(A){for(var g=A.display,M=g.lineDiv.offsetTop,w=Math.max(0,g.scroller.getBoundingClientRect().top),k=g.lineDiv.getBoundingClientRect().top,z=0,Z=0;Z<g.view.length;Z++){var ae=g.view[Z],he=A.options.lineWrapping,Ce=void 0,Ze=0;if(!ae.hidden){if(k+=ae.line.height,f&&m<8){var at=ae.node.offsetTop+ae.node.offsetHeight;Ce=at-M,M=at}else{var Lt=ae.node.getBoundingClientRect();Ce=Lt.bottom-Lt.top,!he&&ae.text.firstChild&&(Ze=ae.text.firstChild.getBoundingClientRect().right-Lt.left-1)}var kt=ae.line.height-Ce;if((kt>.005||kt<-.005)&&(k<w&&(z-=kt),Qi(ae.line,Ce),dc(ae.line),ae.rest))for(var sn=0;sn<ae.rest.length;sn++)dc(ae.rest[sn]);if(Ze>A.display.sizerWidth){var vn=Math.ceil(Ze/$u(A.display));vn>A.display.maxLineLength&&(A.display.maxLineLength=vn,A.display.maxLine=ae.line,A.display.maxLineChanged=!0)}}}Math.abs(z)>2&&(g.scroller.scrollTop+=z)}function dc(A){if(A.widgets)for(var g=0;g<A.widgets.length;++g){var M=A.widgets[g],w=M.node.parentNode;w&&(M.height=w.offsetHeight)}}function yA(A,g,M){var w=M&&M.top!=null?Math.max(0,M.top):A.scroller.scrollTop;w=Math.floor(w-Nc(A));var k=M&&M.bottom!=null?M.bottom:w+A.wrapper.clientHeight,z=Je(g,w),Z=Je(g,k);if(M&&M.ensure){var ae=M.ensure.from.line,he=M.ensure.to.line;ae<z?(z=ae,Z=Je(g,pi(er(g,ae))+A.wrapper.clientHeight)):Math.min(he,g.lastLine())>=Z&&(z=Je(g,pi(er(g,he))-A.wrapper.clientHeight),Z=he)}return{from:z,to:Math.max(Z,z+1)}}function Ef(A,g){if(!ot(A,"scrollCursorIntoView")){var M=A.display,w=M.sizer.getBoundingClientRect(),k=null,z=M.wrapper.ownerDocument;if(g.top+w.top<0?k=!0:g.bottom+w.top>(z.defaultView.innerHeight||z.documentElement.clientHeight)&&(k=!1),k!=null&&!V){var Z=_e("div","",null,`position: absolute;
                         top: `+(g.top-M.viewOffset-Nc(A.display))+`px;
                         height: `+(g.bottom-g.top+fA(A)+M.barHeight)+`px;
                         left: `+g.left+"px; width: "+Math.max(2,g.right-g.left)+"px;");A.display.lineSpace.appendChild(Z),Z.scrollIntoView(k),A.display.lineSpace.removeChild(Z)}}}function zh(A,g,M,w){w==null&&(w=0);var k;!A.options.lineWrapping&&g==M&&(M=g.sticky=="before"?Pt(g.line,g.ch+1,"before"):g,g=g.ch?Pt(g.line,g.sticky=="before"?g.ch-1:g.ch,"after"):g);for(var z=0;z<5;z++){var Z=!1,ae=Qt(A,g),he=!M||M==g?ae:Qt(A,M);k={left:Math.min(ae.left,he.left),top:Math.min(ae.top,he.top)-w,right:Math.max(ae.left,he.left),bottom:Math.max(ae.bottom,he.bottom)+w};var Ce=jh(A,k),Ze=A.doc.scrollTop,at=A.doc.scrollLeft;if(Ce.scrollTop!=null&&(Nh(A,Ce.scrollTop),Math.abs(A.doc.scrollTop-Ze)>1&&(Z=!0)),Ce.scrollLeft!=null&&(Mu(A,Ce.scrollLeft),Math.abs(A.doc.scrollLeft-at)>1&&(Z=!0)),!Z)break}return k}function Yc(A,g){var M=jh(A,g);M.scrollTop!=null&&Nh(A,M.scrollTop),M.scrollLeft!=null&&Mu(A,M.scrollLeft)}function jh(A,g){var M=A.display,w=Qu(A.display);g.top<0&&(g.top=0);var k=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:M.scroller.scrollTop,z=Cf(A),Z={};g.bottom-g.top>z&&(g.bottom=g.top+z);var ae=A.doc.height+Wu(M),he=g.top<w,Ce=g.bottom>ae-w;if(g.top<k)Z.scrollTop=he?0:g.top;else if(g.bottom>k+z){var Ze=Math.min(g.top,(Ce?ae:g.bottom)-z);Ze!=k&&(Z.scrollTop=Ze)}var at=A.options.fixedGutter?0:M.gutters.offsetWidth,Lt=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:M.scroller.scrollLeft-at,kt=Wc(A)-M.gutters.offsetWidth,sn=g.right-g.left>kt;return sn&&(g.right=g.left+kt),g.left<10?Z.scrollLeft=0:g.left<Lt?Z.scrollLeft=Math.max(0,g.left+at-(sn?0:10)):g.right>kt+Lt-3&&(Z.scrollLeft=g.right+(sn?0:10)-kt),Z}function Pd(A,g){g!=null&&(qc(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+g)}function Yo(A){qc(A);var g=A.getCursor();A.curOp.scrollToPos={from:g,to:g,margin:A.options.cursorScrollMargin}}function pa(A,g,M){(g!=null||M!=null)&&qc(A),g!=null&&(A.curOp.scrollLeft=g),M!=null&&(A.curOp.scrollTop=M)}function Of(A,g){qc(A),A.curOp.scrollToPos=g}function qc(A){var g=A.curOp.scrollToPos;if(g){A.curOp.scrollToPos=null;var M=Ar(A,g.from),w=Ar(A,g.to);wu(A,M,w,g.margin)}}function wu(A,g,M,w){var k=jh(A,{left:Math.min(g.left,M.left),top:Math.min(g.top,M.top)-w,right:Math.max(g.right,M.right),bottom:Math.max(g.bottom,M.bottom)+w});pa(A,k.scrollLeft,k.scrollTop)}function Nh(A,g){Math.abs(A.doc.scrollTop-g)<2||(i||eu(A,{top:g}),Kd(A,g,!0),i&&eu(A),fs(A,100))}function Kd(A,g,M){g=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,g)),!(A.display.scroller.scrollTop==g&&!M)&&(A.doc.scrollTop=g,A.display.scrollbars.setScrollTop(g),A.display.scroller.scrollTop!=g&&(A.display.scroller.scrollTop=g))}function Mu(A,g,M,w){g=Math.max(0,Math.min(g,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((M?g==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-g)<2)&&!w)&&(A.doc.scrollLeft=g,If(A),A.display.scroller.scrollLeft!=g&&(A.display.scroller.scrollLeft=g),A.display.scrollbars.setScrollLeft(g))}function fc(A){var g=A.display,M=g.gutters.offsetWidth,w=Math.round(A.doc.height+Wu(A.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:A.options.fixedGutter?M:0,docHeight:w,scrollHeight:w+fA(A)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:M}}var Jl=function(A,g,M){this.cm=M;var w=this.vert=_e("div",[_e("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),k=this.horiz=_e("div",[_e("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");w.tabIndex=k.tabIndex=-1,A(w),A(k),Ke(w,"scroll",function(){w.clientHeight&&g(w.scrollTop,"vertical")}),Ke(k,"scroll",function(){k.clientWidth&&g(k.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Jl.prototype.update=function(A){var g=A.scrollWidth>A.clientWidth+1,M=A.scrollHeight>A.clientHeight+1,w=A.nativeBarWidth;if(M){this.vert.style.display="block",this.vert.style.bottom=g?w+"px":"0";var k=A.viewHeight-(g?w:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+k)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=M?w+"px":"0",this.horiz.style.left=A.barLeft+"px";var z=A.viewWidth-A.barLeft-(M?w:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+z)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(w==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:M?w:0,bottom:g?w:0}},Jl.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Jl.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Jl.prototype.zeroWidthHack=function(){var A=ge&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Te,this.disableVert=new Te},Jl.prototype.enableZeroWidthBar=function(A,g,M){A.style.visibility="";function w(){var k=A.getBoundingClientRect(),z=M=="vert"?document.elementFromPoint(k.right-1,(k.top+k.bottom)/2):document.elementFromPoint((k.right+k.left)/2,k.bottom-1);z!=A?A.style.visibility="hidden":g.set(1e3,w)}g.set(1e3,w)},Jl.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var vA=function(){};vA.prototype.update=function(){return{bottom:0,right:0}},vA.prototype.setScrollLeft=function(){},vA.prototype.setScrollTop=function(){},vA.prototype.clear=function(){};function Su(A,g){g||(g=fc(A));var M=A.display.barWidth,w=A.display.barHeight;_A(A,g);for(var k=0;k<4&&M!=A.display.barWidth||w!=A.display.barHeight;k++)M!=A.display.barWidth&&A.options.lineWrapping&&pl(A),_A(A,fc(A)),M=A.display.barWidth,w=A.display.barHeight}function _A(A,g){var M=A.display,w=M.scrollbars.update(g);M.sizer.style.paddingRight=(M.barWidth=w.right)+"px",M.sizer.style.paddingBottom=(M.barHeight=w.bottom)+"px",M.heightForcer.style.borderBottom=w.bottom+"px solid transparent",w.right&&w.bottom?(M.scrollbarFiller.style.display="block",M.scrollbarFiller.style.height=w.bottom+"px",M.scrollbarFiller.style.width=w.right+"px"):M.scrollbarFiller.style.display="",w.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(M.gutterFiller.style.display="block",M.gutterFiller.style.height=w.bottom+"px",M.gutterFiller.style.width=g.gutterWidth+"px"):M.gutterFiller.style.display=""}var Hu={native:Jl,null:vA};function Eu(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Ue(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Hu[A.options.scrollbarStyle](function(g){A.display.wrapper.insertBefore(g,A.display.scrollbarFiller),Ke(g,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,M){M=="horizontal"?Mu(A,g):Nh(A,g)},A),A.display.scrollbars.addClass&&$e(A.display.wrapper,A.display.scrollbars.addClass)}var Zu=0;function GA(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Zu,markArrays:null},Uc(A.curOp)}function rl(A){var g=A.curOp;g&&km(g,function(M){for(var w=0;w<M.ops.length;w++)M.ops[w].cm.curOp=null;Vc(M)})}function Vc(A){for(var g=A.ops,M=0;M<g.length;M++)Ld(g[M]);for(var w=0;w<g.length;w++)pc(g[w]);for(var k=0;k<g.length;k++)Tm(g[k]);for(var z=0;z<g.length;z++)je(g[z]);for(var Z=0;Z<g.length;Z++)Hc(g[Z])}function Ld(A){var g=A.cm,M=g.display;Dd(g),A.updateMaxLine&&La(g),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<M.viewFrom||A.scrollToPos.to.line>=M.viewTo)||M.maxLineChanged&&g.options.lineWrapping,A.update=A.mustUpdate&&new ml(g,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function pc(A){A.updatedDisplay=A.mustUpdate&&Gh(A.cm,A.update)}function Tm(A){var g=A.cm,M=g.display;A.updatedDisplay&&pl(g),A.barMeasure=fc(g),M.maxLineChanged&&!g.options.lineWrapping&&(A.adjustWidthTo=Lh(g,M.maxLine,M.maxLine.text.length).left+3,g.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(M.scroller.clientWidth,M.sizer.offsetLeft+A.adjustWidthTo+fA(g)+g.display.barWidth),A.maxScrollLeft=Math.max(0,M.sizer.offsetLeft+A.adjustWidthTo-Wc(g))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=M.input.prepareSelection())}function je(A){var g=A.cm;A.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<g.doc.scrollLeft&&Mu(g,Math.min(g.display.scroller.scrollLeft,A.maxScrollLeft),!0),g.display.maxLineChanged=!1);var M=A.focus&&A.focus==ft(nn(g));A.preparedSelection&&g.display.input.showSelection(A.preparedSelection,M),(A.updatedDisplay||A.startHeight!=g.doc.height)&&Su(g,A.barMeasure),A.updatedDisplay&&mc(g,A.barMeasure),A.selectionChanged&&gA(g),g.state.focused&&A.updateInput&&g.display.input.reset(A.typing),M&&hc(A.cm)}function Hc(A){var g=A.cm,M=g.display,w=g.doc;if(A.updatedDisplay&&Bf(g,A.update),M.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(M.wheelStartX=M.wheelStartY=null),A.scrollTop!=null&&Kd(g,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Mu(g,A.scrollLeft,!0,!0),A.scrollToPos){var k=zh(g,mr(w,A.scrollToPos.from),mr(w,A.scrollToPos.to),A.scrollToPos.margin);Ef(g,k)}var z=A.maybeHiddenMarkers,Z=A.maybeUnhiddenMarkers;if(z)for(var ae=0;ae<z.length;++ae)z[ae].lines.length||dt(z[ae],"hide");if(Z)for(var he=0;he<Z.length;++he)Z[he].lines.length&&dt(Z[he],"unhide");M.wrapper.offsetHeight&&(w.scrollTop=g.display.scroller.scrollTop),A.changeObjs&&dt(g,"changes",g,A.changeObjs),A.update&&A.update.finish()}function Da(A,g){if(A.curOp)return g();GA(A);try{return g()}finally{rl(A)}}function Fi(A,g){return function(){if(A.curOp)return g.apply(A,arguments);GA(A);try{return g.apply(A,arguments)}finally{rl(A)}}}function hn(A){return function(){if(this.curOp)return A.apply(this,arguments);GA(this);try{return A.apply(this,arguments)}finally{rl(this)}}}function ma(A){return function(){var g=this.cm;if(!g||g.curOp)return A.apply(this,arguments);GA(g);try{return A.apply(this,arguments)}finally{rl(g)}}}function fs(A,g){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(g,Jt(Wh,A))}function Wh(A){var g=A.doc;if(!(g.highlightFrontier>=A.display.viewTo)){var M=+new Date+A.options.workTime,w=No(A,g.highlightFrontier),k=[];g.iter(w.line,Math.min(g.first+g.size,A.display.viewTo+500),function(z){if(w.line>=A.display.viewFrom){var Z=z.styles,ae=z.text.length>A.options.maxHighlightLength?Gi(g.mode,w.state):null,he=dl(A,z,w,!0);ae&&(w.state=ae),z.styles=he.styles;var Ce=z.styleClasses,Ze=he.classes;Ze?z.styleClasses=Ze:Ce&&(z.styleClasses=null);for(var at=!Z||Z.length!=z.styles.length||Ce!=Ze&&(!Ce||!Ze||Ce.bgClass!=Ze.bgClass||Ce.textClass!=Ze.textClass),Lt=0;!at&&Lt<Z.length;++Lt)at=Z[Lt]!=z.styles[Lt];at&&k.push(w.line),z.stateAfter=w.save(),w.nextLine()}else z.text.length<=A.options.maxHighlightLength&&no(A,z.text,w),z.stateAfter=w.line%5==0?w.save():null,w.nextLine();if(+new Date>M)return fs(A,A.options.workDelay),!0}),g.highlightFrontier=w.line,g.modeFrontier=Math.max(g.modeFrontier,w.line),k.length&&Da(A,function(){for(var z=0;z<k.length;z++)mA(A,k[z],"text")})}}var ml=function(A,g,M){var w=A.display;this.viewport=g,this.visible=yA(w,A.doc,g),this.editorIsHidden=!w.wrapper.offsetWidth,this.wrapperHeight=w.wrapper.clientHeight,this.wrapperWidth=w.wrapper.clientWidth,this.oldDisplayWidth=Wc(A),this.force=M,this.dims=WA(A),this.events=[]};ml.prototype.signal=function(A,g){rt(A,g)&&this.events.push(arguments)},ml.prototype.finish=function(){for(var A=0;A<this.events.length;A++)dt.apply(null,this.events[A])};function Dd(A){var g=A.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=fA(A)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=fA(A)+"px",g.scrollbarsClipped=!0)}function Pm(A){if(A.hasFocus())return null;var g=ft(nn(A));if(!g||!_t(A.display.lineDiv,g))return null;var M={activeElt:g};if(window.getSelection){var w=Vt(A).getSelection();w.anchorNode&&w.extend&&_t(A.display.lineDiv,w.anchorNode)&&(M.anchorNode=w.anchorNode,M.anchorOffset=w.anchorOffset,M.focusNode=w.focusNode,M.focusOffset=w.focusOffset)}return M}function Si(A){if(!(!A||!A.activeElt||A.activeElt==ft(Et(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&_t(document.body,A.anchorNode)&&_t(document.body,A.focusNode))){var g=A.activeElt.ownerDocument,M=g.defaultView.getSelection(),w=g.createRange();w.setEnd(A.anchorNode,A.anchorOffset),w.collapse(!1),M.removeAllRanges(),M.addRange(w),M.extend(A.focusNode,A.focusOffset)}}function Gh(A,g){var M=A.display,w=A.doc;if(g.editorIsHidden)return qu(A),!1;if(!g.force&&g.visible.from>=M.viewFrom&&g.visible.to<=M.viewTo&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo)&&M.renderedView==M.view&&Sf(A)==0)return!1;Fd(A)&&(qu(A),g.dims=WA(A));var k=w.first+w.size,z=Math.max(g.visible.from-A.options.viewportMargin,w.first),Z=Math.min(k,g.visible.to+A.options.viewportMargin);M.viewFrom<z&&z-M.viewFrom<20&&(z=Math.max(w.first,M.viewFrom)),M.viewTo>Z&&M.viewTo-Z<20&&(Z=Math.min(k,M.viewTo)),Io&&(z=ro(A.doc,z),Z=vi(A.doc,Z));var ae=z!=M.viewFrom||Z!=M.viewTo||M.lastWrapHeight!=g.wrapperHeight||M.lastWrapWidth!=g.wrapperWidth;Uh(A,z,Z),M.viewOffset=pi(er(A.doc,M.viewFrom)),A.display.mover.style.top=M.viewOffset+"px";var he=Sf(A);if(!ae&&he==0&&!g.force&&M.renderedView==M.view&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo))return!1;var Ce=Pm(A);return he>4&&(M.lineDiv.style.display="none"),Rp(A,M.updateLineNumbers,g.dims),he>4&&(M.lineDiv.style.display=""),M.renderedView=M.view,Si(Ce),me(M.cursorDiv),me(M.selectionDiv),M.gutters.style.height=M.sizer.style.minHeight=0,ae&&(M.lastWrapHeight=g.wrapperHeight,M.lastWrapWidth=g.wrapperWidth,fs(A,400)),M.updateLineNumbers=null,!0}function Bf(A,g){for(var M=g.viewport,w=!0;;w=!1){if(!w||!A.options.lineWrapping||g.oldDisplayWidth==Wc(A)){if(M&&M.top!=null&&(M={top:Math.min(A.doc.height+Wu(A.display)-Cf(A),M.top)}),g.visible=yA(A.display,A.doc,M),g.visible.from>=A.display.viewFrom&&g.visible.to<=A.display.viewTo)break}else w&&(g.visible=yA(A.display,A.doc,M));if(!Gh(A,g))break;pl(A);var k=fc(A);Vu(A),Su(A,k),mc(A,k),g.force=!1}g.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(g.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function eu(A,g){var M=new ml(A,g);if(Gh(A,M)){pl(A),Bf(A,M);var w=fc(A);Vu(A),Su(A,w),mc(A,w),M.finish()}}function Rp(A,g,M){var w=A.display,k=A.options.lineNumbers,z=w.lineDiv,Z=z.firstChild;function ae(sn){var vn=sn.nextSibling;return C&&ge&&A.display.currentWheelTarget==sn?sn.style.display="none":sn.parentNode.removeChild(sn),vn}for(var he=w.view,Ce=w.viewFrom,Ze=0;Ze<he.length;Ze++){var at=he[Ze];if(!at.hidden)if(!at.node||at.node.parentNode!=z){var Lt=vf(A,at,Ce,M);z.insertBefore(Lt,Z)}else{for(;Z!=at.node;)Z=ae(Z);var kt=k&&g!=null&&g<=Ce&&at.lineNumber;at.changes&&(Qe(at.changes,"gutter")>-1&&(kt=!1),zc(A,at,Ce,M)),kt&&(me(at.lineNumber),at.lineNumber.appendChild(document.createTextNode(pn(A.options,Ce)))),Z=at.node.nextSibling}Ce+=at.size}for(;Z;)Z=ae(Z)}function Up(A){var g=A.gutters.offsetWidth;A.sizer.style.marginLeft=g+"px",bo(A,"gutterChanged",A)}function mc(A,g){A.display.sizer.style.minHeight=g.docHeight+"px",A.display.heightForcer.style.top=g.docHeight+"px",A.display.gutters.style.height=g.docHeight+A.display.barHeight+fA(A)+"px"}function If(A){var g=A.display,M=g.view;if(!(!g.alignWidgets&&(!g.gutters.firstChild||!A.options.fixedGutter))){for(var w=so(g)-g.scroller.scrollLeft+A.doc.scrollLeft,k=g.gutters.offsetWidth,z=w+"px",Z=0;Z<M.length;Z++)if(!M[Z].hidden){A.options.fixedGutter&&(M[Z].gutter&&(M[Z].gutter.style.left=z),M[Z].gutterBackground&&(M[Z].gutterBackground.style.left=z));var ae=M[Z].alignable;if(ae)for(var he=0;he<ae.length;he++)ae[he].style.left=z}A.options.fixedGutter&&(g.gutters.style.left=w+k+"px")}}function Fd(A){if(!A.options.lineNumbers)return!1;var g=A.doc,M=pn(A.options,g.first+g.size-1),w=A.display;if(M.length!=w.lineNumChars){var k=w.measure.appendChild(_e("div",[_e("div",M)],"CodeMirror-linenumber CodeMirror-gutter-elt")),z=k.firstChild.offsetWidth,Z=k.offsetWidth-z;return w.lineGutter.style.width="",w.lineNumInnerWidth=Math.max(z,w.lineGutter.offsetWidth-Z)+1,w.lineNumWidth=w.lineNumInnerWidth+Z,w.lineNumChars=w.lineNumInnerWidth?M.length:-1,w.lineGutter.style.width=w.lineNumWidth+"px",Up(A.display),!0}return!1}function Ou(A,g){for(var M=[],w=!1,k=0;k<A.length;k++){var z=A[k],Z=null;if(typeof z!="string"&&(Z=z.style,z=z.className),z=="CodeMirror-linenumbers")if(g)w=!0;else continue;M.push({className:z,style:Z})}return g&&!w&&M.push({className:"CodeMirror-linenumbers",style:null}),M}function Rd(A){var g=A.gutters,M=A.gutterSpecs;me(g),A.lineGutter=null;for(var w=0;w<M.length;++w){var k=M[w],z=k.className,Z=k.style,ae=g.appendChild(_e("div",null,"CodeMirror-gutter "+z));Z&&(ae.style.cssText=Z),z=="CodeMirror-linenumbers"&&(A.lineGutter=ae,ae.style.width=(A.lineNumWidth||1)+"px")}g.style.display=M.length?"":"none",Up(A)}function Qh(A){Rd(A.display),Es(A),If(A)}function Km(A,g,M,w){var k=this;this.input=M,k.scrollbarFiller=_e("div",null,"CodeMirror-scrollbar-filler"),k.scrollbarFiller.setAttribute("cm-not-content","true"),k.gutterFiller=_e("div",null,"CodeMirror-gutter-filler"),k.gutterFiller.setAttribute("cm-not-content","true"),k.lineDiv=Ot("div",null,"CodeMirror-code"),k.selectionDiv=_e("div",null,null,"position: relative; z-index: 1"),k.cursorDiv=_e("div",null,"CodeMirror-cursors"),k.measure=_e("div",null,"CodeMirror-measure"),k.lineMeasure=_e("div",null,"CodeMirror-measure"),k.lineSpace=Ot("div",[k.measure,k.lineMeasure,k.selectionDiv,k.cursorDiv,k.lineDiv],null,"position: relative; outline: none");var z=Ot("div",[k.lineSpace],"CodeMirror-lines");k.mover=_e("div",[z],null,"position: relative"),k.sizer=_e("div",[k.mover],"CodeMirror-sizer"),k.sizerWidth=null,k.heightForcer=_e("div",null,null,"position: absolute; height: "+st+"px; width: 1px;"),k.gutters=_e("div",null,"CodeMirror-gutters"),k.lineGutter=null,k.scroller=_e("div",[k.sizer,k.heightForcer,k.gutters],"CodeMirror-scroll"),k.scroller.setAttribute("tabIndex","-1"),k.wrapper=_e("div",[k.scrollbarFiller,k.gutterFiller,k.scroller],"CodeMirror"),I&&K>=105&&(k.wrapper.style.clipPath="inset(0px)"),k.wrapper.setAttribute("translate","no"),f&&m<8&&(k.gutters.style.zIndex=-1,k.scroller.style.paddingRight=0),!C&&!(i&&ce)&&(k.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(k.wrapper):A(k.wrapper)),k.viewFrom=k.viewTo=g.first,k.reportedViewFrom=k.reportedViewTo=g.first,k.view=[],k.renderedView=null,k.externalMeasured=null,k.viewOffset=0,k.lastWrapHeight=k.lastWrapWidth=0,k.updateLineNumbers=null,k.nativeBarWidth=k.barHeight=k.barWidth=0,k.scrollbarsClipped=!1,k.lineNumWidth=k.lineNumInnerWidth=k.lineNumChars=null,k.alignWidgets=!1,k.cachedCharWidth=k.cachedTextHeight=k.cachedPaddingH=null,k.maxLine=null,k.maxLineLength=0,k.maxLineChanged=!1,k.wheelDX=k.wheelDY=k.wheelStartX=k.wheelStartY=null,k.shift=!1,k.selForContextMenu=null,k.activeTouch=null,k.gutterSpecs=Ou(w.gutters,w.lineNumbers),Rd(k),M.init(k)}var CA=0,oo=null;f?oo=-.53:i?oo=15:I?oo=-.7:Y&&(oo=-1/3);function Kl(A){var g=A.wheelDeltaX,M=A.wheelDeltaY;return g==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(g=A.detail),M==null&&A.detail&&A.axis==A.VERTICAL_AXIS?M=A.detail:M==null&&(M=A.wheelDelta),{x:g,y:M}}function kf(A){var g=Kl(A);return g.x*=oo,g.y*=oo,g}function Tf(A,g){I&&K==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var M=Kl(g),w=M.x,k=M.y,z=oo;g.deltaMode===0&&(w=g.deltaX,k=g.deltaY,z=1);var Z=A.display,ae=Z.scroller,he=ae.scrollWidth>ae.clientWidth,Ce=ae.scrollHeight>ae.clientHeight;if(w&&he||k&&Ce){if(k&&ge&&C){e:for(var Ze=g.target,at=Z.view;Ze!=ae;Ze=Ze.parentNode)for(var Lt=0;Lt<at.length;Lt++)if(at[Lt].node==Ze){A.display.currentWheelTarget=Ze;break e}}if(w&&!i&&!L&&z!=null){k&&Ce&&Nh(A,Math.max(0,ae.scrollTop+k*z)),Mu(A,Math.max(0,ae.scrollLeft+w*z)),(!k||k&&Ce)&&Bt(g),Z.wheelStartX=null;return}if(k&&z!=null){var kt=k*z,sn=A.doc.scrollTop,vn=sn+Z.wrapper.clientHeight;kt<0?sn=Math.max(0,sn+kt-50):vn=Math.min(A.doc.height,vn+kt+50),eu(A,{top:sn,bottom:vn})}CA<20&&g.deltaMode!==0&&(Z.wheelStartX==null?(Z.wheelStartX=ae.scrollLeft,Z.wheelStartY=ae.scrollTop,Z.wheelDX=w,Z.wheelDY=k,setTimeout(function(){if(Z.wheelStartX!=null){var Kn=ae.scrollLeft-Z.wheelStartX,Yn=ae.scrollTop-Z.wheelStartY,Zn=Yn&&Z.wheelDY&&Yn/Z.wheelDY||Kn&&Z.wheelDX&&Kn/Z.wheelDX;Z.wheelStartX=Z.wheelStartY=null,Zn&&(oo=(oo*CA+Zn)/(CA+1),++CA)}},200)):(Z.wheelDX+=w,Z.wheelDY+=k))}}var Jo=function(A,g){this.ranges=A,this.primIndex=g};Jo.prototype.primary=function(){return this.ranges[this.primIndex]},Jo.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var M=this.ranges[g],w=A.ranges[g];if(!Hr(M.anchor,w.anchor)||!Hr(M.head,w.head))return!1}return!0},Jo.prototype.deepCopy=function(){for(var A=[],g=0;g<this.ranges.length;g++)A[g]=new lo(Yr(this.ranges[g].anchor),Yr(this.ranges[g].head));return new Jo(A,this.primIndex)},Jo.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},Jo.prototype.contains=function(A,g){g||(g=A);for(var M=0;M<this.ranges.length;M++){var w=this.ranges[M];if(En(g,w.from())>=0&&En(A,w.to())<=0)return M}return-1};var lo=function(A,g){this.anchor=A,this.head=g};lo.prototype.from=function(){return Sa(this.anchor,this.head)},lo.prototype.to=function(){return ni(this.anchor,this.head)},lo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function tu(A,g,M){var w=A&&A.options.selectionsMayTouch,k=g[M];g.sort(function(Lt,kt){return En(Lt.from(),kt.from())}),M=Qe(g,k);for(var z=1;z<g.length;z++){var Z=g[z],ae=g[z-1],he=En(ae.to(),Z.from());if(w&&!Z.empty()?he>0:he>=0){var Ce=Sa(ae.from(),Z.from()),Ze=ni(ae.to(),Z.to()),at=ae.empty()?Z.from()==Z.head:ae.from()==ae.head;z<=M&&--M,g.splice(--z,2,new lo(at?Ze:Ce,at?Ce:Ze))}}return new Jo(g,M)}function Os(A,g){return new Jo([new lo(A,g||A)],0)}function Xu(A){return A.text?Pt(A.from.line+A.text.length-1,tr(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function vr(A,g){if(En(A,g.from)<0)return A;if(En(A,g.to)<=0)return Xu(g);var M=A.line+g.text.length-(g.to.line-g.from.line)-1,w=A.ch;return A.line==g.to.line&&(w+=Xu(g).ch-g.to.ch),Pt(M,w)}function Pr(A,g){for(var M=[],w=0;w<A.sel.ranges.length;w++){var k=A.sel.ranges[w];M.push(new lo(vr(k.anchor,g),vr(k.head,g)))}return tu(A.cm,M,A.sel.primIndex)}function Zc(A,g,M){return A.line==g.line?Pt(M.line,A.ch-g.ch+M.ch):Pt(M.line+(A.line-g.line),A.ch)}function Pf(A,g,M){for(var w=[],k=Pt(A.first,0),z=k,Z=0;Z<g.length;Z++){var ae=g[Z],he=Zc(ae.from,k,z),Ce=Zc(Xu(ae),k,z);if(k=ae.to,z=Ce,M=="around"){var Ze=A.sel.ranges[Z],at=En(Ze.head,Ze.anchor)<0;w[Z]=new lo(at?Ce:he,at?he:Ce)}else w[Z]=new lo(he,he)}return new Jo(w,A.sel.primIndex)}function $h(A){A.doc.mode=Wi(A.options,A.doc.modeOption),Ja(A)}function Ja(A){A.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,fs(A,100),A.state.modeGen++,A.curOp&&Es(A)}function Xc(A,g){return g.from.ch==0&&g.to.ch==0&&tr(g.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function il(A,g,M,w){function k(Zn){return M?M[Zn]:null}function z(Zn,Gn,or){ho(Zn,Gn,or,w),bo(Zn,"change",Zn,g)}function Z(Zn,Gn){for(var or=[],Lr=Zn;Lr<Gn;++Lr)or.push(new Ss(Ce[Lr],k(Lr),w));return or}var ae=g.from,he=g.to,Ce=g.text,Ze=er(A,ae.line),at=er(A,he.line),Lt=tr(Ce),kt=k(Ce.length-1),sn=he.line-ae.line;if(g.full)A.insert(0,Z(0,Ce.length)),A.remove(Ce.length,A.size-Ce.length);else if(Xc(A,g)){var vn=Z(0,Ce.length-1);z(at,at.text,kt),sn&&A.remove(ae.line,sn),vn.length&&A.insert(ae.line,vn)}else if(Ze==at)if(Ce.length==1)z(Ze,Ze.text.slice(0,ae.ch)+Lt+Ze.text.slice(he.ch),kt);else{var Kn=Z(1,Ce.length-1);Kn.push(new Ss(Lt+Ze.text.slice(he.ch),kt,w)),z(Ze,Ze.text.slice(0,ae.ch)+Ce[0],k(0)),A.insert(ae.line+1,Kn)}else if(Ce.length==1)z(Ze,Ze.text.slice(0,ae.ch)+Ce[0]+at.text.slice(he.ch),k(0)),A.remove(ae.line+1,sn);else{z(Ze,Ze.text.slice(0,ae.ch)+Ce[0],k(0)),z(at,Lt+at.text.slice(he.ch),kt);var Yn=Z(1,Ce.length-1);sn>1&&A.remove(ae.line+1,sn-1),A.insert(ae.line+1,Yn)}bo(A,"change",A,g)}function QA(A,g,M){function w(k,z,Z){if(k.linked)for(var ae=0;ae<k.linked.length;++ae){var he=k.linked[ae];if(he.doc!=z){var Ce=Z&&he.sharedHist;M&&!Ce||(g(he.doc,Ce),w(he.doc,k,Ce))}}}w(A,null,!0)}function gc(A,g){if(g.cm)throw new Error("This document is already in use.");A.doc=g,g.cm=A,Rh(A),$h(A),ea(A),A.options.direction=g.direction,A.options.lineWrapping||La(A),A.options.mode=g.modeOption,Es(A)}function ea(A){(A.doc.direction=="rtl"?$e:Ue)(A.display.lineDiv,"CodeMirror-rtl")}function vo(A){Da(A,function(){ea(A),Es(A)})}function Jc(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function gl(A,g){var M={from:Yr(g.from),to:Xu(g),text:jo(A,g.from,g.to)};return zd(A,M,g.from.line,g.to.line+1),QA(A,function(w){return zd(w,M,g.from.line,g.to.line+1)},!0),M}function ol(A){for(;A.length;){var g=tr(A);if(g.ranges)A.pop();else break}}function zp(A,g){if(g)return ol(A.done),tr(A.done);if(A.done.length&&!tr(A.done).ranges)return tr(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),tr(A.done)}function Yh(A,g,M,w){var k=A.history;k.undone.length=0;var z=+new Date,Z,ae;if((k.lastOp==w||k.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&k.lastModTime>z-(A.cm?A.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(Z=zp(k,k.lastOp==w)))ae=tr(Z.changes),En(g.from,g.to)==0&&En(g.from,ae.to)==0?ae.to=Xu(g):Z.changes.push(gl(A,g));else{var he=tr(k.done);for((!he||!he.ranges)&&nu(A.sel,k.done),Z={changes:[gl(A,g)],generation:k.generation},k.done.push(Z);k.done.length>k.undoDepth;)k.done.shift(),k.done[0].ranges||k.done.shift()}k.done.push(M),k.generation=++k.maxGeneration,k.lastModTime=k.lastSelTime=z,k.lastOp=k.lastSelOp=w,k.lastOrigin=k.lastSelOrigin=g.origin,ae||dt(A,"historyAdded")}function Ud(A,g,M,w){var k=g.charAt(0);return k=="*"||k=="+"&&M.ranges.length==w.ranges.length&&M.somethingSelected()==w.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function bA(A,g,M,w){var k=A.history,z=w&&w.origin;M==k.lastSelOp||z&&k.lastSelOrigin==z&&(k.lastModTime==k.lastSelTime&&k.lastOrigin==z||Ud(A,z,tr(k.done),g))?k.done[k.done.length-1]=g:nu(g,k.done),k.lastSelTime=+new Date,k.lastSelOrigin=z,k.lastSelOp=M,w&&w.clearRedo!==!1&&ol(k.undone)}function nu(A,g){var M=tr(g);M&&M.ranges&&M.equals(A)||g.push(A)}function zd(A,g,M,w){var k=g["spans_"+A.id],z=0;A.iter(Math.max(A.first,M),Math.min(A.first+A.size,w),function(Z){Z.markedSpans&&((k||(k=g["spans_"+A.id]={}))[z]=Z.markedSpans),++z})}function jp(A){if(!A)return null;for(var g,M=0;M<A.length;++M)A[M].marker.explicitlyCleared?g||(g=A.slice(0,M)):g&&g.push(A[M]);return g?g.length?g:null:A}function qh(A,g){var M=g["spans_"+A.id];if(!M)return null;for(var w=[],k=0;k<g.text.length;++k)w.push(jp(M[k]));return w}function Kf(A,g){var M=qh(A,g),w=Zo(A,g);if(!M)return w;if(!w)return M;for(var k=0;k<M.length;++k){var z=M[k],Z=w[k];if(z&&Z)e:for(var ae=0;ae<Z.length;++ae){for(var he=Z[ae],Ce=0;Ce<z.length;++Ce)if(z[Ce].marker==he.marker)continue e;z.push(he)}else Z&&(M[k]=Z)}return M}function Ll(A,g,M){for(var w=[],k=0;k<A.length;++k){var z=A[k];if(z.ranges){w.push(M?Jo.prototype.deepCopy.call(z):z);continue}var Z=z.changes,ae=[];w.push({changes:ae});for(var he=0;he<Z.length;++he){var Ce=Z[he],Ze=void 0;if(ae.push({from:Ce.from,to:Ce.to,text:Ce.text}),g)for(var at in Ce)(Ze=at.match(/^spans_(\d+)$/))&&Qe(g,Number(Ze[1]))>-1&&(tr(ae)[at]=Ce[at],delete Ce[at])}}return w}function Fa(A,g,M,w){if(w){var k=A.anchor;if(M){var z=En(g,k)<0;z!=En(M,k)<0?(k=g,g=M):z!=En(g,M)<0&&(g=M)}return new lo(k,g)}else return new lo(M||g,g)}function yc(A,g,M,w,k){k==null&&(k=A.cm&&(A.cm.display.shift||A.extend)),qo(A,new Jo([Fa(A.sel.primary(),g,M,k)],0),w)}function Vh(A,g,M){for(var w=[],k=A.cm&&(A.cm.display.shift||A.extend),z=0;z<A.sel.ranges.length;z++)w[z]=Fa(A.sel.ranges[z],g[z],null,k);var Z=tu(A.cm,w,A.sel.primIndex);qo(A,Z,M)}function Dl(A,g,M,w){var k=A.sel.ranges.slice(0);k[g]=M,qo(A,tu(A.cm,k,A.sel.primIndex),w)}function eh(A,g,M,w){qo(A,Os(g,M),w)}function th(A,g,M){var w={ranges:g.ranges,update:function(k){this.ranges=[];for(var z=0;z<k.length;z++)this.ranges[z]=new lo(mr(A,k[z].anchor),mr(A,k[z].head))},origin:M&&M.origin};return dt(A,"beforeSelectionChange",A,w),A.cm&&dt(A.cm,"beforeSelectionChange",A.cm,w),w.ranges!=g.ranges?tu(A.cm,w.ranges,w.ranges.length-1):g}function xA(A,g,M){var w=A.history.done,k=tr(w);k&&k.ranges?(w[w.length-1]=g,Ra(A,g,M)):qo(A,g,M)}function qo(A,g,M){Ra(A,g,M),bA(A,A.sel,A.cm?A.cm.curOp.id:NaN,M)}function Ra(A,g,M){(rt(A,"beforeSelectionChange")||A.cm&&rt(A.cm,"beforeSelectionChange"))&&(g=th(A,g,M));var w=M&&M.bias||(En(g.primary().head,A.sel.primary().head)<0?-1:1);vc(A,Nd(A,g,w,!0)),!(M&&M.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&Yo(A.cm)}function vc(A,g){g.equals(A.sel)||(A.sel=g,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,Ft(A.cm)),bo(A,"cursorActivity",A))}function jd(A){vc(A,Nd(A,A.sel,null,!1))}function Nd(A,g,M,w){for(var k,z=0;z<g.ranges.length;z++){var Z=g.ranges[z],ae=g.ranges.length==A.sel.ranges.length&&A.sel.ranges[z],he=wA(A,Z.anchor,ae&&ae.anchor,M,w),Ce=Z.head==Z.anchor?he:wA(A,Z.head,ae&&ae.head,M,w);(k||he!=Z.anchor||Ce!=Z.head)&&(k||(k=g.ranges.slice(0,z)),k[z]=new lo(he,Ce))}return k?tu(A.cm,k,g.primIndex):g}function nh(A,g,M,w,k){var z=er(A,g.line);if(z.markedSpans)for(var Z=0;Z<z.markedSpans.length;++Z){var ae=z.markedSpans[Z],he=ae.marker,Ce="selectLeft"in he?!he.selectLeft:he.inclusiveLeft,Ze="selectRight"in he?!he.selectRight:he.inclusiveRight;if((ae.from==null||(Ce?ae.from<=g.ch:ae.from<g.ch))&&(ae.to==null||(Ze?ae.to>=g.ch:ae.to>g.ch))){if(k&&(dt(he,"beforeCursorEnter"),he.explicitlyCleared))if(z.markedSpans){--Z;continue}else break;if(!he.atomic)continue;if(M){var at=he.find(w<0?1:-1),Lt=void 0;if((w<0?Ze:Ce)&&(at=rh(A,at,-w,at&&at.line==g.line?z:null)),at&&at.line==g.line&&(Lt=En(at,M))&&(w<0?Lt<0:Lt>0))return nh(A,at,g,w,k)}var kt=he.find(w<0?-1:1);return(w<0?Ce:Ze)&&(kt=rh(A,kt,w,kt.line==g.line?z:null)),kt?nh(A,kt,g,w,k):null}}return g}function wA(A,g,M,w,k){var z=w||1,Z=nh(A,g,M,z,k)||!k&&nh(A,g,M,z,!0)||nh(A,g,M,-z,k)||!k&&nh(A,g,M,-z,!0);return Z||(A.cantEdit=!0,Pt(A.first,0))}function rh(A,g,M,w){return M<0&&g.ch==0?g.line>A.first?mr(A,Pt(g.line-1)):null:M>0&&g.ch==(w||er(A,g.line)).text.length?g.line<A.first+A.size-1?Pt(g.line+1,0):null:new Pt(g.line,g.ch+M)}function ih(A){A.setSelection(Pt(A.firstLine(),0),Pt(A.lastLine()),Kt)}function Wd(A,g,M){var w={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return w.canceled=!0}};return M&&(w.update=function(k,z,Z,ae){k&&(w.from=mr(A,k)),z&&(w.to=mr(A,z)),Z&&(w.text=Z),ae!==void 0&&(w.origin=ae)}),dt(A,"beforeChange",A,w),A.cm&&dt(A.cm,"beforeChange",A.cm,w),w.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:w.from,to:w.to,text:w.text,origin:w.origin}}function Ju(A,g,M){if(A.cm){if(!A.cm.curOp)return Fi(A.cm,Ju)(A,g,M);if(A.cm.state.suppressEdits)return}if(!((rt(A,"beforeChange")||A.cm&&rt(A.cm,"beforeChange"))&&(g=Wd(A,g,!0),!g))){var w=Bo&&!M&&fl(A,g.from,g.to);if(w)for(var k=w.length-1;k>=0;--k)Np(A,{from:w[k].from,to:w[k].to,text:k?[""]:g.text,origin:g.origin});else Np(A,g)}}function Np(A,g){if(!(g.text.length==1&&g.text[0]==""&&En(g.from,g.to)==0)){var M=Pr(A,g);Yh(A,g,M,A.cm?A.cm.curOp.id:NaN),Hh(A,g,M,Zo(A,g));var w=[];QA(A,function(k,z){!z&&Qe(w,k.history)==-1&&(b(k.history,g),w.push(k.history)),Hh(k,g,null,Zo(k,g))})}}function $A(A,g,M){var w=A.cm&&A.cm.state.suppressEdits;if(!(w&&!M)){for(var k=A.history,z,Z=A.sel,ae=g=="undo"?k.done:k.undone,he=g=="undo"?k.undone:k.done,Ce=0;Ce<ae.length&&(z=ae[Ce],!(M?z.ranges&&!z.equals(A.sel):!z.ranges));Ce++);if(Ce!=ae.length){for(k.lastOrigin=k.lastSelOrigin=null;;)if(z=ae.pop(),z.ranges){if(nu(z,he),M&&!z.equals(A.sel)){qo(A,z,{clearRedo:!1});return}Z=z}else if(w){ae.push(z);return}else break;var Ze=[];nu(Z,he),he.push({changes:Ze,generation:k.generation}),k.generation=z.generation||++k.maxGeneration;for(var at=rt(A,"beforeChange")||A.cm&&rt(A.cm,"beforeChange"),Lt=function(vn){var Kn=z.changes[vn];if(Kn.origin=g,at&&!Wd(A,Kn,!1))return ae.length=0,{};Ze.push(gl(A,Kn));var Yn=vn?Pr(A,Kn):tr(ae);Hh(A,Kn,Yn,Kf(A,Kn)),!vn&&A.cm&&A.cm.scrollIntoView({from:Kn.from,to:Xu(Kn)});var Zn=[];QA(A,function(Gn,or){!or&&Qe(Zn,Gn.history)==-1&&(b(Gn.history,Kn),Zn.push(Gn.history)),Hh(Gn,Kn,null,Kf(Gn,Kn))})},kt=z.changes.length-1;kt>=0;--kt){var sn=Lt(kt);if(sn)return sn.v}}}}function Lf(A,g){if(g!=0&&(A.first+=g,A.sel=new Jo(ur(A.sel.ranges,function(k){return new lo(Pt(k.anchor.line+g,k.anchor.ch),Pt(k.head.line+g,k.head.ch))}),A.sel.primIndex),A.cm)){Es(A.cm,A.first,A.first-g,g);for(var M=A.cm.display,w=M.viewFrom;w<M.viewTo;w++)mA(A.cm,w,"gutter")}}function Hh(A,g,M,w){if(A.cm&&!A.cm.curOp)return Fi(A.cm,Hh)(A,g,M,w);if(g.to.line<A.first){Lf(A,g.text.length-1-(g.to.line-g.from.line));return}if(!(g.from.line>A.lastLine())){if(g.from.line<A.first){var k=g.text.length-1-(A.first-g.from.line);Lf(A,k),g={from:Pt(A.first,0),to:Pt(g.to.line+k,g.to.ch),text:[tr(g.text)],origin:g.origin}}var z=A.lastLine();g.to.line>z&&(g={from:g.from,to:Pt(z,er(A,z).text.length),text:[g.text[0]],origin:g.origin}),g.removed=jo(A,g.from,g.to),M||(M=Pr(A,g)),A.cm?O(A.cm,g,w):il(A,g,w),Ra(A,M,Kt),A.cantEdit&&wA(A,Pt(A.firstLine(),0))&&(A.cantEdit=!1)}}function O(A,g,M){var w=A.doc,k=A.display,z=g.from,Z=g.to,ae=!1,he=z.line;A.options.lineWrapping||(he=Oe(yr(er(w,z.line))),w.iter(he,Z.line+1,function(kt){if(kt==k.maxLine)return ae=!0,!0})),w.sel.contains(g.from,g.to)>-1&&Ft(A),il(w,g,M,Mf(A)),A.options.lineWrapping||(w.iter(he,z.line+g.text.length,function(kt){var sn=$i(kt);sn>k.maxLineLength&&(k.maxLine=kt,k.maxLineLength=sn,k.maxLineChanged=!0,ae=!1)}),ae&&(A.curOp.updateMaxLine=!0)),hA(w,z.line),fs(A,400);var Ce=g.text.length-(Z.line-z.line)-1;g.full?Es(A):z.line==Z.line&&g.text.length==1&&!Xc(A.doc,g)?mA(A,z.line,"text"):Es(A,z.line,Z.line+1,Ce);var Ze=rt(A,"changes"),at=rt(A,"change");if(at||Ze){var Lt={from:z,to:Z,text:g.text,removed:g.removed,origin:g.origin};at&&bo(A,"change",A,Lt),Ze&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Lt)}A.display.selForContextMenu=null}function l(A,g,M,w,k){var z;w||(w=M),En(w,M)<0&&(z=[w,M],M=z[0],w=z[1]),typeof g=="string"&&(g=A.splitLines(g)),Ju(A,{from:M,to:w,text:g,origin:k})}function c(A,g,M,w){M<A.line?A.line+=w:g<A.line&&(A.line=g,A.ch=0)}function v(A,g,M,w){for(var k=0;k<A.length;++k){var z=A[k],Z=!0;if(z.ranges){z.copied||(z=A[k]=z.deepCopy(),z.copied=!0);for(var ae=0;ae<z.ranges.length;ae++)c(z.ranges[ae].anchor,g,M,w),c(z.ranges[ae].head,g,M,w);continue}for(var he=0;he<z.changes.length;++he){var Ce=z.changes[he];if(M<Ce.from.line)Ce.from=Pt(Ce.from.line+w,Ce.from.ch),Ce.to=Pt(Ce.to.line+w,Ce.to.ch);else if(g<=Ce.to.line){Z=!1;break}}Z||(A.splice(0,k+1),k=0)}}function b(A,g){var M=g.from.line,w=g.to.line,k=g.text.length-(w-M)-1;v(A.done,M,w,k),v(A.undone,M,w,k)}function S(A,g,M,w){var k=g,z=g;return typeof g=="number"?z=er(A,la(A,g)):k=Oe(g),k==null?null:(w(z,k)&&A.cm&&mA(A.cm,k,M),z)}function F(A){this.lines=A,this.parent=null;for(var g=0,M=0;M<A.length;++M)A[M].parent=this,g+=A[M].height;this.height=g}F.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,g){for(var M=A,w=A+g;M<w;++M){var k=this.lines[M];this.height-=k.height,Lo(k),bo(k,"delete")}this.lines.splice(A,g)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,g,M){this.height+=M,this.lines=this.lines.slice(0,A).concat(g).concat(this.lines.slice(A));for(var w=0;w<g.length;++w)g[w].parent=this},iterN:function(A,g,M){for(var w=A+g;A<w;++A)if(M(this.lines[A]))return!0}};function R(A){this.children=A;for(var g=0,M=0,w=0;w<A.length;++w){var k=A[w];g+=k.chunkSize(),M+=k.height,k.parent=this}this.size=g,this.height=M,this.parent=null}R.prototype={chunkSize:function(){return this.size},removeInner:function(A,g){this.size-=g;for(var M=0;M<this.children.length;++M){var w=this.children[M],k=w.chunkSize();if(A<k){var z=Math.min(g,k-A),Z=w.height;if(w.removeInner(A,z),this.height-=Z-w.height,k==z&&(this.children.splice(M--,1),w.parent=null),(g-=z)==0)break;A=0}else A-=k}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof F))){var ae=[];this.collapse(ae),this.children=[new F(ae)],this.children[0].parent=this}},collapse:function(A){for(var g=0;g<this.children.length;++g)this.children[g].collapse(A)},insertInner:function(A,g,M){this.size+=g.length,this.height+=M;for(var w=0;w<this.children.length;++w){var k=this.children[w],z=k.chunkSize();if(A<=z){if(k.insertInner(A,g,M),k.lines&&k.lines.length>50){for(var Z=k.lines.length%25+25,ae=Z;ae<k.lines.length;){var he=new F(k.lines.slice(ae,ae+=25));k.height-=he.height,this.children.splice(++w,0,he),he.parent=this}k.lines=k.lines.slice(0,Z),this.maybeSpill()}break}A-=z}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var g=A.children.splice(A.children.length-5,5),M=new R(g);if(A.parent){A.size-=M.size,A.height-=M.height;var k=Qe(A.parent.children,A);A.parent.children.splice(k+1,0,M)}else{var w=new R(A.children);w.parent=A,A.children=[w,M],A=w}M.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,g,M){for(var w=0;w<this.children.length;++w){var k=this.children[w],z=k.chunkSize();if(A<z){var Z=Math.min(g,z-A);if(k.iterN(A,Z,M))return!0;if((g-=Z)==0)break;A=0}else A-=z}}};var G=function(A,g,M){if(M)for(var w in M)M.hasOwnProperty(w)&&(this[w]=M[w]);this.doc=A,this.node=g};G.prototype.clear=function(){var A=this.doc.cm,g=this.line.widgets,M=this.line,w=Oe(M);if(!(w==null||!g)){for(var k=0;k<g.length;++k)g[k]==this&&g.splice(k--,1);g.length||(M.widgets=null);var z=ju(this);Qi(M,Math.max(0,M.height-z)),A&&(Da(A,function(){J(A,M,-z),mA(A,w,"widget")}),bo(A,"lineWidgetCleared",A,this,w))}},G.prototype.changed=function(){var A=this,g=this.height,M=this.doc.cm,w=this.line;this.height=null;var k=ju(this)-g;k&&(Xr(this.doc,w)||Qi(w,w.height+k),M&&Da(M,function(){M.curOp.forceUpdate=!0,J(M,w,k),bo(M,"lineWidgetChanged",M,A,Oe(w))}))},mt(G);function J(A,g,M){pi(g)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&Pd(A,M)}function ue(A,g,M,w){var k=new G(A,M,w),z=A.cm;return z&&k.noHScroll&&(z.display.alignWidgets=!0),S(A,g,"widget",function(Z){var ae=Z.widgets||(Z.widgets=[]);if(k.insertAt==null?ae.push(k):ae.splice(Math.min(ae.length,Math.max(0,k.insertAt)),0,k),k.line=Z,z&&!Xr(A,Z)){var he=pi(Z)<A.scrollTop;Qi(Z,Z.height+ju(k)),he&&Pd(z,k.height),z.curOp.forceUpdate=!0}return!0}),z&&bo(z,"lineWidgetAdded",z,k,typeof g=="number"?g:Oe(g)),k}var re=0,xe=function(A,g){this.lines=[],this.type=g,this.doc=A,this.id=++re};xe.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,g=A&&!A.curOp;if(g&&GA(A),rt(this,"clear")){var M=this.find();M&&bo(this,"clear",M.from,M.to)}for(var w=null,k=null,z=0;z<this.lines.length;++z){var Z=this.lines[z],ae=Xa(Z.markedSpans,this);A&&!this.collapsed?mA(A,Oe(Z),"text"):A&&(ae.to!=null&&(k=Oe(Z)),ae.from!=null&&(w=Oe(Z))),Z.markedSpans=yu(Z.markedSpans,ae),ae.from==null&&this.collapsed&&!Xr(this.doc,Z)&&A&&Qi(Z,Qu(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var he=0;he<this.lines.length;++he){var Ce=yr(this.lines[he]),Ze=$i(Ce);Ze>A.display.maxLineLength&&(A.display.maxLine=Ce,A.display.maxLineLength=Ze,A.display.maxLineChanged=!0)}w!=null&&A&&this.collapsed&&Es(A,w,k+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&jd(A.doc)),A&&bo(A,"markerCleared",A,this,w,k),g&&rl(A),this.parent&&this.parent.clear()}},xe.prototype.find=function(A,g){A==null&&this.type=="bookmark"&&(A=1);for(var M,w,k=0;k<this.lines.length;++k){var z=this.lines[k],Z=Xa(z.markedSpans,this);if(Z.from!=null&&(M=Pt(g?z:Oe(z),Z.from),A==-1))return M;if(Z.to!=null&&(w=Pt(g?z:Oe(z),Z.to),A==1))return w}return M&&{from:M,to:w}},xe.prototype.changed=function(){var A=this,g=this.find(-1,!0),M=this,w=this.doc.cm;!g||!w||Da(w,function(){var k=g.line,z=Oe(g.line),Z=sc(w,z);if(Z&&(io(Z),w.curOp.selectionChanged=w.curOp.forceUpdate=!0),w.curOp.updateMaxLine=!0,!Xr(M.doc,k)&&M.height!=null){var ae=M.height;M.height=null;var he=ju(M)-ae;he&&Qi(k,k.height+he)}bo(w,"markerChanged",w,A)})},xe.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(!g.maybeHiddenMarkers||Qe(g.maybeHiddenMarkers,this)==-1)&&(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},xe.prototype.detachLine=function(A){if(this.lines.splice(Qe(this.lines,A),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},mt(xe);function Be(A,g,M,w,k){if(w&&w.shared)return tt(A,g,M,w,k);if(A.cm&&!A.cm.curOp)return Fi(A.cm,Be)(A,g,M,w,k);var z=new xe(A,k),Z=En(g,M);if(w&&Le(w,z,!1),Z>0||Z==0&&z.clearWhenEmpty!==!1)return z;if(z.replacedWith&&(z.collapsed=!0,z.widgetNode=Ot("span",[z.replacedWith],"CodeMirror-widget"),w.handleMouseEvents||z.widgetNode.setAttribute("cm-ignore-events","true"),w.insertLeft&&(z.widgetNode.insertLeft=!0)),z.collapsed){if(Ur(A,g.line,g,M,z)||g.line!=M.line&&Ur(A,M.line,g,M,z))throw new Error("Inserting collapsed marker partially overlapping an existing one");Za()}z.addToHistory&&Yh(A,{from:g,to:M,origin:"markText"},A.sel,NaN);var ae=g.line,he=A.cm,Ce;if(A.iter(ae,M.line+1,function(at){he&&z.collapsed&&!he.options.lineWrapping&&yr(at)==he.display.maxLine&&(Ce=!0),z.collapsed&&ae!=g.line&&Qi(at,0),ql(at,new Oa(z,ae==g.line?g.ch:null,ae==M.line?M.ch:null),A.cm&&A.cm.curOp),++ae}),z.collapsed&&A.iter(g.line,M.line+1,function(at){Xr(A,at)&&Qi(at,0)}),z.clearOnEnter&&Ke(z,"beforeCursorEnter",function(){return z.clear()}),z.readOnly&&(yi(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),z.collapsed&&(z.id=++re,z.atomic=!0),he){if(Ce&&(he.curOp.updateMaxLine=!0),z.collapsed)Es(he,g.line,M.line+1);else if(z.className||z.startStyle||z.endStyle||z.css||z.attributes||z.title)for(var Ze=g.line;Ze<=M.line;Ze++)mA(he,Ze,"text");z.atomic&&jd(he.doc),bo(he,"markerAdded",he,z)}return z}var De=function(A,g){this.markers=A,this.primary=g;for(var M=0;M<A.length;++M)A[M].parent=this};De.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();bo(this,"clear")}},De.prototype.find=function(A,g){return this.primary.find(A,g)},mt(De);function tt(A,g,M,w,k){w=Le(w),w.shared=!1;var z=[Be(A,g,M,w,k)],Z=z[0],ae=w.widgetNode;return QA(A,function(he){ae&&(w.widgetNode=ae.cloneNode(!0)),z.push(Be(he,mr(he,g),mr(he,M),w,k));for(var Ce=0;Ce<he.linked.length;++Ce)if(he.linked[Ce].isParent)return;Z=tr(z)}),new De(z,Z)}function Xe(A){return A.findMarks(Pt(A.first,0),A.clipPos(Pt(A.lastLine())),function(g){return g.parent})}function Ge(A,g){for(var M=0;M<g.length;M++){var w=g[M],k=w.find(),z=A.clipPos(k.from),Z=A.clipPos(k.to);if(En(z,Z)){var ae=Be(A,z,Z,w.primary,w.primary.type);w.markers.push(ae),ae.parent=w}}}function gt(A){for(var g=function(w){var k=A[w],z=[k.primary.doc];QA(k.primary.doc,function(he){return z.push(he)});for(var Z=0;Z<k.markers.length;Z++){var ae=k.markers[Z];Qe(z,ae.doc)==-1&&(ae.parent=null,k.markers.splice(Z--,1))}},M=0;M<A.length;M++)g(M)}var ct=0,pt=function(A,g,M,w,k){if(!(this instanceof pt))return new pt(A,g,M,w,k);M==null&&(M=0),R.call(this,[new F([new Ss("",null)])]),this.first=M,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=M;var z=Pt(M,0);this.sel=Os(z),this.history=new Jc(null),this.id=++ct,this.modeOption=g,this.lineSep=w,this.direction=k=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),il(this,{from:z,to:z,text:A}),qo(this,Os(z),Kt)};pt.prototype=fr(R.prototype,{constructor:pt,iter:function(A,g,M){M?this.iterN(A-this.first,g-A,M):this.iterN(this.first,this.first+this.size,A)},insert:function(A,g){for(var M=0,w=0;w<g.length;++w)M+=g[w].height;this.insertInner(A-this.first,g,M)},remove:function(A,g){this.removeInner(A-this.first,g)},getValue:function(A){var g=co(this,this.first,this.first+this.size);return A===!1?g:g.join(A||this.lineSeparator())},setValue:ma(function(A){var g=Pt(this.first,0),M=this.first+this.size-1;Ju(this,{from:g,to:Pt(M,er(this,M).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&pa(this.cm,0,0),qo(this,Os(g),Kt)}),replaceRange:function(A,g,M,w){g=mr(this,g),M=M?mr(this,M):g,l(this,A,g,M,w)},getRange:function(A,g,M){var w=jo(this,mr(this,A),mr(this,g));return M===!1?w:M===""?w.join(""):w.join(M||this.lineSeparator())},getLine:function(A){var g=this.getLineHandle(A);return g&&g.text},getLineHandle:function(A){if(rn(this,A))return er(this,A)},getLineNumber:function(A){return Oe(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=er(this,A)),yr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return mr(this,A)},getCursor:function(A){var g=this.sel.primary(),M;return A==null||A=="head"?M=g.head:A=="anchor"?M=g.anchor:A=="end"||A=="to"||A===!1?M=g.to():M=g.from(),M},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ma(function(A,g,M){eh(this,mr(this,typeof A=="number"?Pt(A,g||0):A),null,M)}),setSelection:ma(function(A,g,M){eh(this,mr(this,A),mr(this,g||A),M)}),extendSelection:ma(function(A,g,M){yc(this,mr(this,A),g&&mr(this,g),M)}),extendSelections:ma(function(A,g){Vh(this,Ms(this,A),g)}),extendSelectionsBy:ma(function(A,g){var M=ur(this.sel.ranges,A);Vh(this,Ms(this,M),g)}),setSelections:ma(function(A,g,M){if(A.length){for(var w=[],k=0;k<A.length;k++)w[k]=new lo(mr(this,A[k].anchor),mr(this,A[k].head||A[k].anchor));g==null&&(g=Math.min(A.length-1,this.sel.primIndex)),qo(this,tu(this.cm,w,g),M)}}),addSelection:ma(function(A,g,M){var w=this.sel.ranges.slice(0);w.push(new lo(mr(this,A),mr(this,g||A))),qo(this,tu(this.cm,w,w.length-1),M)}),getSelection:function(A){for(var g=this.sel.ranges,M,w=0;w<g.length;w++){var k=jo(this,g[w].from(),g[w].to());M=M?M.concat(k):k}return A===!1?M:M.join(A||this.lineSeparator())},getSelections:function(A){for(var g=[],M=this.sel.ranges,w=0;w<M.length;w++){var k=jo(this,M[w].from(),M[w].to());A!==!1&&(k=k.join(A||this.lineSeparator())),g[w]=k}return g},replaceSelection:function(A,g,M){for(var w=[],k=0;k<this.sel.ranges.length;k++)w[k]=A;this.replaceSelections(w,g,M||"+input")},replaceSelections:ma(function(A,g,M){for(var w=[],k=this.sel,z=0;z<k.ranges.length;z++){var Z=k.ranges[z];w[z]={from:Z.from(),to:Z.to(),text:this.splitLines(A[z]),origin:M}}for(var ae=g&&g!="end"&&Pf(this,w,g),he=w.length-1;he>=0;he--)Ju(this,w[he]);ae?xA(this,ae):this.cm&&Yo(this.cm)}),undo:ma(function(){$A(this,"undo")}),redo:ma(function(){$A(this,"redo")}),undoSelection:ma(function(){$A(this,"undo",!0)}),redoSelection:ma(function(){$A(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,g=0,M=0,w=0;w<A.done.length;w++)A.done[w].ranges||++g;for(var k=0;k<A.undone.length;k++)A.undone[k].ranges||++M;return{undo:g,redo:M}},clearHistory:function(){var A=this;this.history=new Jc(this.history),QA(this,function(g){return g.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:Ll(this.history.done),undone:Ll(this.history.undone)}},setHistory:function(A){var g=this.history=new Jc(this.history);g.done=Ll(A.done.slice(0),null,!0),g.undone=Ll(A.undone.slice(0),null,!0)},setGutterMarker:ma(function(A,g,M){return S(this,A,"gutter",function(w){var k=w.gutterMarkers||(w.gutterMarkers={});return k[g]=M,!M&&Q(k)&&(w.gutterMarkers=null),!0})}),clearGutter:ma(function(A){var g=this;this.iter(function(M){M.gutterMarkers&&M.gutterMarkers[A]&&S(g,M,"gutter",function(){return M.gutterMarkers[A]=null,Q(M.gutterMarkers)&&(M.gutterMarkers=null),!0})})}),lineInfo:function(A){var g;if(typeof A=="number"){if(!rn(this,A)||(g=A,A=er(this,A),!A))return null}else if(g=Oe(A),g==null)return null;return{line:g,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:ma(function(A,g,M){return S(this,A,g=="gutter"?"gutter":"class",function(w){var k=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(!w[k])w[k]=M;else{if(Fe(M).test(w[k]))return!1;w[k]+=" "+M}return!0})}),removeLineClass:ma(function(A,g,M){return S(this,A,g=="gutter"?"gutter":"class",function(w){var k=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",z=w[k];if(z)if(M==null)w[k]=null;else{var Z=z.match(Fe(M));if(!Z)return!1;var ae=Z.index+Z[0].length;w[k]=z.slice(0,Z.index)+(!Z.index||ae==z.length?"":" ")+z.slice(ae)||null}else return!1;return!0})}),addLineWidget:ma(function(A,g,M){return ue(this,A,g,M)}),removeLineWidget:function(A){A.clear()},markText:function(A,g,M){return Be(this,mr(this,A),mr(this,g),M,M&&M.type||"range")},setBookmark:function(A,g){var M={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return A=mr(this,A),Be(this,A,A,M,"bookmark")},findMarksAt:function(A){A=mr(this,A);var g=[],M=er(this,A.line).markedSpans;if(M)for(var w=0;w<M.length;++w){var k=M[w];(k.from==null||k.from<=A.ch)&&(k.to==null||k.to>=A.ch)&&g.push(k.marker.parent||k.marker)}return g},findMarks:function(A,g,M){A=mr(this,A),g=mr(this,g);var w=[],k=A.line;return this.iter(A.line,g.line+1,function(z){var Z=z.markedSpans;if(Z)for(var ae=0;ae<Z.length;ae++){var he=Z[ae];!(he.to!=null&&k==A.line&&A.ch>=he.to||he.from==null&&k!=A.line||he.from!=null&&k==g.line&&he.from>=g.ch)&&(!M||M(he.marker))&&w.push(he.marker.parent||he.marker)}++k}),w},getAllMarks:function(){var A=[];return this.iter(function(g){var M=g.markedSpans;if(M)for(var w=0;w<M.length;++w)M[w].from!=null&&A.push(M[w].marker)}),A},posFromIndex:function(A){var g,M=this.first,w=this.lineSeparator().length;return this.iter(function(k){var z=k.text.length+w;if(z>A)return g=A,!0;A-=z,++M}),mr(this,Pt(M,g))},indexFromPos:function(A){A=mr(this,A);var g=A.ch;if(A.line<this.first||A.ch<0)return 0;var M=this.lineSeparator().length;return this.iter(this.first,A.line,function(w){g+=w.text.length+M}),g},copy:function(A){var g=new pt(co(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,A&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(A){A||(A={});var g=this.first,M=this.first+this.size;A.from!=null&&A.from>g&&(g=A.from),A.to!=null&&A.to<M&&(M=A.to);var w=new pt(co(this,g,M),A.mode||this.modeOption,g,this.lineSep,this.direction);return A.sharedHist&&(w.history=this.history),(this.linked||(this.linked=[])).push({doc:w,sharedHist:A.sharedHist}),w.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],Ge(w,Xe(this)),w},unlinkDoc:function(A){if(A instanceof xo&&(A=A.doc),this.linked)for(var g=0;g<this.linked.length;++g){var M=this.linked[g];if(M.doc==A){this.linked.splice(g,1),A.unlinkDoc(this),gt(Xe(this));break}}if(A.history==this.history){var w=[A.id];QA(A,function(k){return w.push(k.id)},!0),A.history=new Jc(null),A.history.done=Ll(this.history.done,w),A.history.undone=Ll(this.history.undone,w)}},iterLinkedDocs:function(A){QA(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Er(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ma(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(g){return g.order=null}),this.cm&&vo(this.cm))})}),pt.prototype.eachLine=pt.prototype.iter;var vt=0;function bt(A){var g=this;if(Gt(g),!(ot(g,A)||Nu(g.display,A))){Bt(A),f&&(vt=+new Date);var M=Yu(g,A,!0),w=A.dataTransfer.files;if(!(!M||g.isReadOnly()))if(w&&w.length&&window.FileReader&&window.File)for(var k=w.length,z=Array(k),Z=0,ae=function(){++Z==k&&Fi(g,function(){M=mr(g.doc,M);var kt={from:M,to:M,text:g.doc.splitLines(z.filter(function(sn){return sn!=null}).join(g.doc.lineSeparator())),origin:"paste"};Ju(g.doc,kt),xA(g.doc,Os(mr(g.doc,M),mr(g.doc,Xu(kt))))})()},he=function(kt,sn){if(g.options.allowDropFileTypes&&Qe(g.options.allowDropFileTypes,kt.type)==-1){ae();return}var vn=new FileReader;vn.onerror=function(){return ae()},vn.onload=function(){var Kn=vn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Kn)){ae();return}z[sn]=Kn,ae()},vn.readAsText(kt)},Ce=0;Ce<w.length;Ce++)he(w[Ce],Ce);else{if(g.state.draggingText&&g.doc.sel.contains(M)>-1){g.state.draggingText(A),setTimeout(function(){return g.display.input.focus()},20);return}try{var Ze=A.dataTransfer.getData("Text");if(Ze){var at;if(g.state.draggingText&&!g.state.draggingText.copy&&(at=g.listSelections()),Ra(g.doc,Os(M,M)),at)for(var Lt=0;Lt<at.length;++Lt)l(g.doc,"",at[Lt].anchor,at[Lt].head,"drag");g.replaceSelection(Ze,"around","paste"),g.display.input.focus()}}catch{}}}}function Nt(A,g){if(f&&(!A.state.draggingText||+new Date-vt<100)){fn(g);return}if(!(ot(A,g)||Nu(A.display,g))&&(g.dataTransfer.setData("Text",A.getSelection()),g.dataTransfer.effectAllowed="copyMove",g.dataTransfer.setDragImage&&!Y)){var M=_e("img",null,null,"position: fixed; left: 0; top: 0;");M.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L&&(M.width=M.height=1,A.display.wrapper.appendChild(M),M._top=M.offsetTop),g.dataTransfer.setDragImage(M,0,0),L&&M.parentNode.removeChild(M)}}function Rt(A,g){var M=Yu(A,g);if(M){var w=document.createDocumentFragment();Td(A,M,w),A.display.dragCursor||(A.display.dragCursor=_e("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),Ve(A.display.dragCursor,w)}}function Gt(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function tn(A){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),M=[],w=0;w<g.length;w++){var k=g[w].CodeMirror;k&&M.push(k)}M.length&&M[0].operation(function(){for(var z=0;z<M.length;z++)A(M[z])})}}var In=!1;function Pn(){In||(Fn(),In=!0)}function Fn(){var A;Ke(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,tn($n)},100))}),Ke(window,"blur",function(){return tn(xu)})}function $n(A){var g=A.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,A.setSize()}for(var jn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ei=0;Ei<10;Ei++)jn[Ei+48]=jn[Ei+96]=String(Ei);for(var zr=65;zr<=90;zr++)jn[zr]=String.fromCharCode(zr);for(var Rr=1;Rr<=12;Rr++)jn[Rr+111]=jn[Rr+63235]="F"+Rr;var Kr={};Kr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Kr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Kr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Kr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Kr.default=ge?Kr.macDefault:Kr.pcDefault;function ta(A){var g=A.split(/-(?!$)/);A=g[g.length-1];for(var M,w,k,z,Z=0;Z<g.length-1;Z++){var ae=g[Z];if(/^(cmd|meta|m)$/i.test(ae))z=!0;else if(/^a(lt)?$/i.test(ae))M=!0;else if(/^(c|ctrl|control)$/i.test(ae))w=!0;else if(/^s(hift)?$/i.test(ae))k=!0;else throw new Error("Unrecognized modifier name: "+ae)}return M&&(A="Alt-"+A),w&&(A="Ctrl-"+A),z&&(A="Cmd-"+A),k&&(A="Shift-"+A),A}function _o(A){var g={};for(var M in A)if(A.hasOwnProperty(M)){var w=A[M];if(/^(name|fallthrough|(de|at)tach)$/.test(M))continue;if(w=="..."){delete A[M];continue}for(var k=ur(M.split(" "),ta),z=0;z<k.length;z++){var Z=void 0,ae=void 0;z==k.length-1?(ae=k.join(" "),Z=w):(ae=k.slice(0,z+1).join(" "),Z="...");var he=g[ae];if(!he)g[ae]=Z;else if(he!=Z)throw new Error("Inconsistent bindings for "+ae)}delete A[M]}for(var Ce in g)A[Ce]=g[Ce];return A}function mi(A,g,M,w){g=na(g);var k=g.call?g.call(A,w):g[A];if(k===!1)return"nothing";if(k==="...")return"multi";if(k!=null&&M(k))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return mi(A,g.fallthrough,M,w);for(var z=0;z<g.fallthrough.length;z++){var Z=mi(A,g.fallthrough[z],M,w);if(Z)return Z}}}function ga(A){var g=typeof A=="string"?A:jn[A.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function Aa(A,g,M){var w=A;return g.altKey&&w!="Alt"&&(A="Alt-"+A),(Me?g.metaKey:g.ctrlKey)&&w!="Ctrl"&&(A="Ctrl-"+A),(Me?g.ctrlKey:g.metaKey)&&w!="Mod"&&(A="Cmd-"+A),!M&&g.shiftKey&&w!="Shift"&&(A="Shift-"+A),A}function ko(A,g){if(L&&A.keyCode==34&&A.char)return!1;var M=jn[A.keyCode];return M==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(M=A.code),Aa(M,A,g))}function na(A){return typeof A=="string"?Kr[A]:A}function ps(A,g){for(var M=A.doc.sel.ranges,w=[],k=0;k<M.length;k++){for(var z=g(M[k]);w.length&&En(z.from,tr(w).to)<=0;){var Z=w.pop();if(En(Z.from,z.from)<0){z.from=Z.from;break}}w.push(z)}Da(A,function(){for(var ae=w.length-1;ae>=0;ae--)l(A.doc,"",w[ae].from,w[ae].to,"+delete");Yo(A)})}function yl(A,g,M){var w=ut(A.text,g+M,M);return w<0||w>A.text.length?null:w}function MA(A,g,M){var w=yl(A,g.ch,M);return w==null?null:new Pt(g.line,w,M<0?"after":"before")}function Fl(A,g,M,w,k){if(A){g.doc.direction=="rtl"&&(k=-k);var z=ve(M,g.doc.direction);if(z){var Z=k<0?tr(z):z[0],ae=k<0==(Z.level==1),he=ae?"after":"before",Ce;if(Z.level>0||g.doc.direction=="rtl"){var Ze=tl(g,M);Ce=k<0?M.text.length-1:0;var at=nl(g,Ze,Ce).top;Ce=Tt(function(Lt){return nl(g,Ze,Lt).top==at},k<0==(Z.level==1)?Z.from:Z.to-1,Ce),he=="before"&&(Ce=yl(M,Ce,1))}else Ce=k<0?Z.to:Z.from;return new Pt(w,Ce,he)}}return new Pt(w,k<0?M.text.length:0,k<0?"before":"after")}function ru(A,g,M,w){var k=ve(g,A.doc.direction);if(!k)return MA(g,M,w);M.ch>=g.text.length?(M.ch=g.text.length,M.sticky="before"):M.ch<=0&&(M.ch=0,M.sticky="after");var z=ht(k,M.ch,M.sticky),Z=k[z];if(A.doc.direction=="ltr"&&Z.level%2==0&&(w>0?Z.to>M.ch:Z.from<M.ch))return MA(g,M,w);var ae=function(Yn,Zn){return yl(g,Yn instanceof Pt?Yn.ch:Yn,Zn)},he,Ce=function(Yn){return A.options.lineWrapping?(he=he||tl(A,g),Do(A,g,he,Yn)):{begin:0,end:g.text.length}},Ze=Ce(M.sticky=="before"?ae(M,-1):M.ch);if(A.doc.direction=="rtl"||Z.level==1){var at=Z.level==1==w<0,Lt=ae(M,at?1:-1);if(Lt!=null&&(at?Lt<=Z.to&&Lt<=Ze.end:Lt>=Z.from&&Lt>=Ze.begin)){var kt=at?"before":"after";return new Pt(M.line,Lt,kt)}}var sn=function(Yn,Zn,Gn){for(var or=function(Fo,va){return va?new Pt(M.line,ae(Fo,1),"before"):new Pt(M.line,Fo,"after")};Yn>=0&&Yn<k.length;Yn+=Zn){var Lr=k[Yn],Br=Zn>0==(Lr.level!=1),Oi=Br?Gn.begin:ae(Gn.end,-1);if(Lr.from<=Oi&&Oi<Lr.to||(Oi=Br?Lr.from:ae(Lr.to,-1),Gn.begin<=Oi&&Oi<Gn.end))return or(Oi,Br)}},vn=sn(z+w,w,Ze);if(vn)return vn;var Kn=w>0?Ze.end:ae(Ze.begin,-1);return Kn!=null&&!(w>0&&Kn==g.text.length)&&(vn=sn(w>0?0:k.length-1,w,Ce(Kn)),vn)?vn:null}var YA={selectAll:ih,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),Kt)},killLine:function(A){return ps(A,function(g){if(g.empty()){var M=er(A.doc,g.head.line).text.length;return g.head.ch==M&&g.head.line<A.lastLine()?{from:g.head,to:Pt(g.head.line+1,0)}:{from:g.head,to:Pt(g.head.line,M)}}else return{from:g.from(),to:g.to()}})},deleteLine:function(A){return ps(A,function(g){return{from:Pt(g.from().line,0),to:mr(A.doc,Pt(g.to().line+1,0))}})},delLineLeft:function(A){return ps(A,function(g){return{from:Pt(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(A){return ps(A,function(g){var M=A.charCoords(g.head,"div").top+5,w=A.coordsChar({left:0,top:M},"div");return{from:w,to:g.from()}})},delWrappedLineRight:function(A){return ps(A,function(g){var M=A.charCoords(g.head,"div").top+5,w=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:M},"div");return{from:g.from(),to:w}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Pt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Pt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(g){return Ns(A,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(g){return iu(A,g.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(g){return es(A,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:M},"div")},Wt)},goLineLeft:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5;return A.coordsChar({left:0,top:M},"div")},Wt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(g){var M=A.cursorCoords(g.head,"div").top+5,w=A.coordsChar({left:0,top:M},"div");return w.ch<A.getLine(w.line).search(/\S/)?iu(A,g.head):w},Wt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var g=[],M=A.listSelections(),w=A.options.tabSize,k=0;k<M.length;k++){var z=M[k].from(),Z=ye(A.getLine(z.line),z.ch,w);g.push(_n(w-Z%w))}A.replaceSelections(g)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return Da(A,function(){for(var g=A.listSelections(),M=[],w=0;w<g.length;w++)if(g[w].empty()){var k=g[w].head,z=er(A.doc,k.line).text;if(z){if(k.ch==z.length&&(k=new Pt(k.line,k.ch-1)),k.ch>0)k=new Pt(k.line,k.ch+1),A.replaceRange(z.charAt(k.ch-1)+z.charAt(k.ch-2),Pt(k.line,k.ch-2),k,"+transpose");else if(k.line>A.doc.first){var Z=er(A.doc,k.line-1).text;Z&&(k=new Pt(k.line,1),A.replaceRange(z.charAt(0)+A.doc.lineSeparator()+Z.charAt(Z.length-1),Pt(k.line-1,Z.length-1),k,"+transpose"))}}M.push(new lo(k,k))}A.setSelections(M)})},newlineAndIndent:function(A){return Da(A,function(){for(var g=A.listSelections(),M=g.length-1;M>=0;M--)A.replaceRange(A.doc.lineSeparator(),g[M].anchor,g[M].head,"+input");g=A.listSelections();for(var w=0;w<g.length;w++)A.indentLine(g[w].from().line,null,!0);Yo(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Ns(A,g){var M=er(A.doc,g),w=yr(M);return w!=M&&(g=Oe(w)),Fl(!0,A,w,g,1)}function es(A,g){var M=er(A.doc,g),w=Tr(M);return w!=M&&(g=Oe(w)),Fl(!0,A,M,g,-1)}function iu(A,g){var M=Ns(A,g.line),w=er(A.doc,M.line),k=ve(w,A.doc.direction);if(!k||k[0].level==0){var z=Math.max(M.ch,w.text.search(/\S/)),Z=g.line==M.line&&g.ch<=z&&g.ch;return Pt(M.line,Z?0:z,M.sticky)}return M}function eA(A,g,M){if(typeof g=="string"&&(g=YA[g],!g))return!1;A.display.input.ensurePolled();var w=A.display.shift,k=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),M&&(A.display.shift=!1),k=g(A)!=lt}finally{A.display.shift=w,A.state.suppressEdits=!1}return k}function oh(A,g,M){for(var w=0;w<A.state.keyMaps.length;w++){var k=mi(g,A.state.keyMaps[w],M,A);if(k)return k}return A.options.extraKeys&&mi(g,A.options.extraKeys,M,A)||mi(g,A.options.keyMap,M,A)}var Ws=new Te;function ya(A,g,M,w){var k=A.state.keySeq;if(k){if(ga(g))return"handled";if(/\'$/.test(g)?A.state.keySeq=null:Ws.set(50,function(){A.state.keySeq==k&&(A.state.keySeq=null,A.display.input.reset())}),Bs(A,k+" "+g,M,w))return!0}return Bs(A,g,M,w)}function Bs(A,g,M,w){var k=oh(A,g,w);return k=="multi"&&(A.state.keySeq=g),k=="handled"&&bo(A,"keyHandled",A,g,M),(k=="handled"||k=="multi")&&(Bt(M),gA(A)),!!k}function ts(A,g){var M=ko(g,!0);return M?g.shiftKey&&!A.state.keySeq?ya(A,"Shift-"+M,g,function(w){return eA(A,w,!0)})||ya(A,M,g,function(w){if(typeof w=="string"?/^go[A-Z]/.test(w):w.motion)return eA(A,w)}):ya(A,M,g,function(w){return eA(A,w)}):!1}function Gd(A,g,M){return ya(A,"'"+M+"'",g,function(w){return eA(A,w,!0)})}var Df=null;function Qd(A){var g=this;if(!(A.target&&A.target!=g.display.input.getField())&&(g.curOp.focus=ft(nn(g)),!ot(g,A))){f&&m<11&&A.keyCode==27&&(A.returnValue=!1);var M=A.keyCode;g.display.shift=M==16||A.shiftKey;var w=ts(g,A);L&&(Df=w?M:null,!w&&M==88&&!ji&&(ge?A.metaKey:A.ctrlKey)&&g.replaceSelection("",null,"cut")),i&&!ge&&!w&&M==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),M==18&&!/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)&&vl(g)}}function vl(A){var g=A.display.lineDiv;$e(g,"CodeMirror-crosshair");function M(w){(w.keyCode==18||!w.altKey)&&(Ue(g,"CodeMirror-crosshair"),it(document,"keyup",M),it(document,"mouseover",M))}Ke(document,"keyup",M),Ke(document,"mouseover",M)}function Bu(A){A.keyCode==16&&(this.doc.sel.shift=!1),ot(this,A)}function ah(A){var g=this;if(!(A.target&&A.target!=g.display.input.getField())&&!(Nu(g.display,A)||ot(g,A)||A.ctrlKey&&!A.altKey||ge&&A.metaKey)){var M=A.keyCode,w=A.charCode;if(L&&M==Df){Df=null,Bt(A);return}if(!(L&&(!A.which||A.which<10)&&ts(g,A))){var k=String.fromCharCode(w??M);k!="\b"&&(Gd(g,A,k)||g.display.input.onKeyPress(A))}}}var sh=400,tA=function(A,g,M){this.time=A,this.pos=g,this.button=M};tA.prototype.compare=function(A,g,M){return this.time+sh>A&&En(g,this.pos)==0&&M==this.button};var Rl,SA;function $d(A,g){var M=+new Date;return SA&&SA.compare(M,A,g)?(Rl=SA=null,"triple"):Rl&&Rl.compare(M,A,g)?(SA=new tA(M,A,g),Rl=null,"double"):(Rl=new tA(M,A,g),SA=null,"single")}function Ff(A){var g=this,M=g.display;if(!(ot(g,A)||M.activeTouch&&M.input.supportsTouch())){if(M.input.ensurePolled(),M.shift=A.shiftKey,Nu(M,A)){C||(M.scroller.draggable=!1,setTimeout(function(){return M.scroller.draggable=!0},100));return}if(!Zh(g,A)){var w=Yu(g,A),k=rr(A),z=w?$d(w,k):"single";Vt(g).focus(),k==1&&g.state.selectingText&&g.state.selectingText(A),!(w&&Rf(g,k,w,z,A))&&(k==1?w?zf(g,w,z,A):Cr(A)==M.scroller&&Bt(A):k==2?(w&&yc(g.doc,w),setTimeout(function(){return M.input.focus()},20)):k==3&&(be?g.display.input.onContextMenu(A):$c(g)))}}}function Rf(A,g,M,w,k){var z="Click";return w=="double"?z="Double"+z:w=="triple"&&(z="Triple"+z),z=(g==1?"Left":g==2?"Middle":"Right")+z,ya(A,Aa(z,k),k,function(Z){if(typeof Z=="string"&&(Z=YA[Z]),!Z)return!1;var ae=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),ae=Z(A,M)!=lt}finally{A.state.suppressEdits=!1}return ae})}function Uf(A,g,M){var w=A.getOption("configureMouse"),k=w?w(A,g,M):{};if(k.unit==null){var z=fe?M.shiftKey&&M.metaKey:M.altKey;k.unit=z?"rectangle":g=="single"?"char":g=="double"?"word":"line"}return(k.extend==null||A.doc.extend)&&(k.extend=A.doc.extend||M.shiftKey),k.addNew==null&&(k.addNew=ge?M.metaKey:M.ctrlKey),k.moveOnDrag==null&&(k.moveOnDrag=!(ge?M.altKey:M.ctrlKey)),k}function zf(A,g,M,w){f?setTimeout(Jt(hc,A),0):A.curOp.focus=ft(nn(A));var k=Uf(A,M,w),z=A.doc.sel,Z;A.options.dragDrop&&Mr&&!A.isReadOnly()&&M=="single"&&(Z=z.contains(g))>-1&&(En((Z=z.ranges[Z]).from(),g)<0||g.xRel>0)&&(En(Z.to(),g)>0||g.xRel<0)?O1(A,w,g,k):B1(A,w,g,k)}function O1(A,g,M,w){var k=A.display,z=!1,Z=Fi(A,function(Ce){C&&(k.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:$c(A)),it(k.wrapper.ownerDocument,"mouseup",Z),it(k.wrapper.ownerDocument,"mousemove",ae),it(k.scroller,"dragstart",he),it(k.scroller,"drop",Z),z||(Bt(Ce),w.addNew||yc(A.doc,M,null,null,w.extend),C&&!Y||f&&m==9?setTimeout(function(){k.wrapper.ownerDocument.body.focus({preventScroll:!0}),k.input.focus()},20):k.input.focus())}),ae=function(Ce){z=z||Math.abs(g.clientX-Ce.clientX)+Math.abs(g.clientY-Ce.clientY)>=10},he=function(){return z=!0};C&&(k.scroller.draggable=!0),A.state.draggingText=Z,Z.copy=!w.moveOnDrag,Ke(k.wrapper.ownerDocument,"mouseup",Z),Ke(k.wrapper.ownerDocument,"mousemove",ae),Ke(k.scroller,"dragstart",he),Ke(k.scroller,"drop",Z),A.state.delayingBlurEvent=!0,setTimeout(function(){return k.input.focus()},20),k.scroller.dragDrop&&k.scroller.dragDrop()}function Lm(A,g,M){if(M=="char")return new lo(g,g);if(M=="word")return A.findWordAt(g);if(M=="line")return new lo(Pt(g.line,0),mr(A.doc,Pt(g.line+1,0)));var w=M(A,g);return new lo(w.from,w.to)}function B1(A,g,M,w){f&&$c(A);var k=A.display,z=A.doc;Bt(g);var Z,ae,he=z.sel,Ce=he.ranges;if(w.addNew&&!w.extend?(ae=z.sel.contains(M),ae>-1?Z=Ce[ae]:Z=new lo(M,M)):(Z=z.sel.primary(),ae=z.sel.primIndex),w.unit=="rectangle")w.addNew||(Z=new lo(M,M)),M=Yu(A,g,!0,!0),ae=-1;else{var Ze=Lm(A,M,w.unit);w.extend?Z=Fa(Z,Ze.anchor,Ze.head,w.extend):Z=Ze}w.addNew?ae==-1?(ae=Ce.length,qo(z,tu(A,Ce.concat([Z]),ae),{scroll:!1,origin:"*mouse"})):Ce.length>1&&Ce[ae].empty()&&w.unit=="char"&&!w.extend?(qo(z,tu(A,Ce.slice(0,ae).concat(Ce.slice(ae+1)),0),{scroll:!1,origin:"*mouse"}),he=z.sel):Dl(z,ae,Z,Ht):(ae=0,qo(z,new Jo([Z],0),Ht),he=z.sel);var at=M;function Lt(Gn){if(En(at,Gn)!=0)if(at=Gn,w.unit=="rectangle"){for(var or=[],Lr=A.options.tabSize,Br=ye(er(z,M.line).text,M.ch,Lr),Oi=ye(er(z,Gn.line).text,Gn.ch,Lr),Fo=Math.min(Br,Oi),va=Math.max(Br,Oi),ha=Math.min(M.line,Gn.line),Ba=Math.min(A.lastLine(),Math.max(M.line,Gn.line));ha<=Ba;ha++){var rs=er(z,ha).text,_a=Rn(rs,Fo,Lr);Fo==va?or.push(new lo(Pt(ha,_a),Pt(ha,_a))):rs.length>_a&&or.push(new lo(Pt(ha,_a),Pt(ha,Rn(rs,va,Lr))))}or.length||or.push(new lo(M,M)),qo(z,tu(A,he.ranges.slice(0,ae).concat(or),ae),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Gn)}else{var zl=Z,Is=Lm(A,Gn,w.unit),Ia=zl.anchor,za;En(Is.anchor,Ia)>0?(za=Is.head,Ia=Sa(zl.from(),Is.anchor)):(za=Is.anchor,Ia=ni(zl.to(),Is.head));var ja=he.ranges.slice(0);ja[ae]=jf(A,new lo(mr(z,Ia),za)),qo(z,tu(A,ja,ae),Ht)}}var kt=k.wrapper.getBoundingClientRect(),sn=0;function vn(Gn){var or=++sn,Lr=Yu(A,Gn,!0,w.unit=="rectangle");if(Lr)if(En(Lr,at)!=0){A.curOp.focus=ft(nn(A)),Lt(Lr);var Br=yA(k,z);(Lr.line>=Br.to||Lr.line<Br.from)&&setTimeout(Fi(A,function(){sn==or&&vn(Gn)}),150)}else{var Oi=Gn.clientY<kt.top?-20:Gn.clientY>kt.bottom?20:0;Oi&&setTimeout(Fi(A,function(){sn==or&&(k.scroller.scrollTop+=Oi,vn(Gn))}),50)}}function Kn(Gn){A.state.selectingText=!1,sn=1/0,Gn&&(Bt(Gn),k.input.focus()),it(k.wrapper.ownerDocument,"mousemove",Yn),it(k.wrapper.ownerDocument,"mouseup",Zn),z.history.lastSelOrigin=null}var Yn=Fi(A,function(Gn){Gn.buttons===0||!rr(Gn)?Kn(Gn):vn(Gn)}),Zn=Fi(A,Kn);A.state.selectingText=Zn,Ke(k.wrapper.ownerDocument,"mousemove",Yn),Ke(k.wrapper.ownerDocument,"mouseup",Zn)}function jf(A,g){var M=g.anchor,w=g.head,k=er(A.doc,M.line);if(En(M,w)==0&&M.sticky==w.sticky)return g;var z=ve(k);if(!z)return g;var Z=ht(z,M.ch,M.sticky),ae=z[Z];if(ae.from!=M.ch&&ae.to!=M.ch)return g;var he=Z+(ae.from==M.ch==(ae.level!=1)?0:1);if(he==0||he==z.length)return g;var Ce;if(w.line!=M.line)Ce=(w.line-M.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Ze=ht(z,w.ch,w.sticky),at=Ze-Z||(w.ch-M.ch)*(ae.level==1?-1:1);Ze==he-1||Ze==he?Ce=at<0:Ce=at>0}var Lt=z[he+(Ce?-1:0)],kt=Ce==(Lt.level==1),sn=kt?Lt.from:Lt.to,vn=kt?"after":"before";return M.ch==sn&&M.sticky==vn?g:new lo(new Pt(M.line,sn,vn),w)}function Dm(A,g,M,w){var k,z;if(g.touches)k=g.touches[0].clientX,z=g.touches[0].clientY;else try{k=g.clientX,z=g.clientY}catch{return!1}if(k>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;w&&Bt(g);var Z=A.display,ae=Z.lineDiv.getBoundingClientRect();if(z>ae.bottom||!rt(A,M))return mn(g);z-=ae.top-Z.viewOffset;for(var he=0;he<A.display.gutterSpecs.length;++he){var Ce=Z.gutters.childNodes[he];if(Ce&&Ce.getBoundingClientRect().right>=k){var Ze=Je(A.doc,z),at=A.display.gutterSpecs[he];return dt(A,M,A,Ze,at.className,g),mn(g)}}}function Zh(A,g){return Dm(A,g,"gutterClick",!0)}function Xh(A,g){Nu(A.display,g)||Ul(A,g)||ot(A,g,"contextmenu")||be||A.display.input.onContextMenu(g)}function Ul(A,g){return rt(A,"gutterContextMenu")?Dm(A,g,"gutterContextMenu",!1):!1}function Y0(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Gu(A)}var lh={toString:function(){return"CodeMirror.Init"}},Wp={},Nf={};function q0(A){var g=A.optionHandlers;function M(w,k,z,Z){A.defaults[w]=k,z&&(g[w]=Z?function(ae,he,Ce){Ce!=lh&&z(ae,he,Ce)}:z)}A.defineOption=M,A.Init=lh,M("value","",function(w,k){return w.setValue(k)},!0),M("mode",null,function(w,k){w.doc.modeOption=k,$h(w)},!0),M("indentUnit",2,$h,!0),M("indentWithTabs",!1),M("smartIndent",!0),M("tabSize",4,function(w){Ja(w),Gu(w),Es(w)},!0),M("lineSeparator",null,function(w,k){if(w.doc.lineSep=k,!!k){var z=[],Z=w.doc.first;w.doc.iter(function(he){for(var Ce=0;;){var Ze=he.text.indexOf(k,Ce);if(Ze==-1)break;Ce=Ze+k.length,z.push(Pt(Z,Ze))}Z++});for(var ae=z.length-1;ae>=0;ae--)l(w.doc,k,z[ae],Pt(z[ae].line,z[ae].ch+k.length))}}),M("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(w,k,z){w.state.specialChars=new RegExp(k.source+(k.test("	")?"":"|	"),"g"),z!=lh&&w.refresh()}),M("specialCharPlaceholder",zA,function(w){return w.refresh()},!0),M("electricChars",!0),M("inputStyle",ce?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),M("spellcheck",!1,function(w,k){return w.getInputField().spellcheck=k},!0),M("autocorrect",!1,function(w,k){return w.getInputField().autocorrect=k},!0),M("autocapitalize",!1,function(w,k){return w.getInputField().autocapitalize=k},!0),M("rtlMoveVisually",!H),M("wholeLineUpdateBefore",!0),M("theme","default",function(w){Y0(w),Qh(w)},!0),M("keyMap","default",function(w,k,z){var Z=na(k),ae=z!=lh&&na(z);ae&&ae.detach&&ae.detach(w,Z),Z.attach&&Z.attach(w,ae||null)}),M("extraKeys",null),M("configureMouse",null),M("lineWrapping",!1,I1,!0),M("gutters",[],function(w,k){w.display.gutterSpecs=Ou(k,w.options.lineNumbers),Qh(w)},!0),M("fixedGutter",!0,function(w,k){w.display.gutters.style.left=k?so(w.display)+"px":"0",w.refresh()},!0),M("coverGutterNextToScrollbar",!1,function(w){return Su(w)},!0),M("scrollbarStyle","native",function(w){Eu(w),Su(w),w.display.scrollbars.setScrollTop(w.doc.scrollTop),w.display.scrollbars.setScrollLeft(w.doc.scrollLeft)},!0),M("lineNumbers",!1,function(w,k){w.display.gutterSpecs=Ou(w.options.gutters,k),Qh(w)},!0),M("firstLineNumber",1,Qh,!0),M("lineNumberFormatter",function(w){return w},Qh,!0),M("showCursorWhenSelecting",!1,Vu,!0),M("resetSelectionOnContextMenu",!0),M("lineWiseCopyCut",!0),M("pasteLinesPerSelection",!0),M("selectionsMayTouch",!1),M("readOnly",!1,function(w,k){k=="nocursor"&&(xu(w),w.display.input.blur()),w.display.input.readOnlyChanged(k)}),M("screenReaderLabel",null,function(w,k){k=k===""?null:k,w.display.input.screenReaderLabelChanged(k)}),M("disableInput",!1,function(w,k){k||w.display.input.reset()},!0),M("dragDrop",!0,d_),M("allowDropFileTypes",null),M("cursorBlinkRate",530),M("cursorScrollMargin",0),M("cursorHeight",1,Vu,!0),M("singleCursorHeightPerLine",!0,Vu,!0),M("workTime",100),M("workDelay",100),M("flattenSpans",!0,Ja,!0),M("addModeClass",!1,Ja,!0),M("pollInterval",100),M("undoDepth",200,function(w,k){return w.doc.history.undoDepth=k}),M("historyEventDelay",1250),M("viewportMargin",10,function(w){return w.refresh()},!0),M("maxHighlightLength",1e4,Ja,!0),M("moveInputWithCursor",!0,function(w,k){k||w.display.input.resetPosition()}),M("tabindex",null,function(w,k){return w.display.input.getField().tabIndex=k||""}),M("autofocus",null),M("direction","ltr",function(w,k){return w.doc.setDirection(k)},!0),M("phrases",null)}function d_(A,g,M){var w=M&&M!=lh;if(!g!=!w){var k=A.display.dragFunctions,z=g?Ke:it;z(A.display.scroller,"dragstart",k.start),z(A.display.scroller,"dragenter",k.enter),z(A.display.scroller,"dragover",k.over),z(A.display.scroller,"dragleave",k.leave),z(A.display.scroller,"drop",k.drop)}}function I1(A){A.options.lineWrapping?($e(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Ue(A.display.wrapper,"CodeMirror-wrap"),La(A)),Rh(A),Es(A),Gu(A),setTimeout(function(){return Su(A)},100)}function xo(A,g){var M=this;if(!(this instanceof xo))return new xo(A,g);this.options=g=g?Le(g):{},Le(Wp,g,!1);var w=g.value;typeof w=="string"?w=new pt(w,g.mode,null,g.lineSeparator,g.direction):g.mode&&(w.modeOption=g.mode),this.doc=w;var k=new xo.inputStyles[g.inputStyle](this),z=this.display=new Km(A,w,k,g);z.wrapper.CodeMirror=this,Y0(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Eu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Te,keySeq:null,specialChars:null},g.autofocus&&!ce&&z.input.focus(),f&&m<11&&setTimeout(function(){return M.display.input.reset(!0)},20),Fm(this),Pn(),GA(this),this.curOp.forceUpdate=!0,gc(this,w),g.autofocus&&!ce||this.hasFocus()?setTimeout(function(){M.hasFocus()&&!M.state.focused&&ua(M)},20):xu(this);for(var Z in Nf)Nf.hasOwnProperty(Z)&&Nf[Z](this,g[Z],lh);Fd(this),g.finishInit&&g.finishInit(this);for(var ae=0;ae<Wf.length;++ae)Wf[ae](this);rl(this),C&&g.lineWrapping&&getComputedStyle(z.lineDiv).textRendering=="optimizelegibility"&&(z.lineDiv.style.textRendering="auto")}xo.defaults=Wp,xo.optionHandlers=Nf;function Fm(A){var g=A.display;Ke(g.scroller,"mousedown",Fi(A,Ff)),f&&m<11?Ke(g.scroller,"dblclick",Fi(A,function(he){if(!ot(A,he)){var Ce=Yu(A,he);if(!(!Ce||Zh(A,he)||Nu(A.display,he))){Bt(he);var Ze=A.findWordAt(Ce);yc(A.doc,Ze.anchor,Ze.head)}}})):Ke(g.scroller,"dblclick",function(he){return ot(A,he)||Bt(he)}),Ke(g.scroller,"contextmenu",function(he){return Xh(A,he)}),Ke(g.input.getField(),"contextmenu",function(he){g.scroller.contains(he.target)||Xh(A,he)});var M,w={end:0};function k(){g.activeTouch&&(M=setTimeout(function(){return g.activeTouch=null},1e3),w=g.activeTouch,w.end=+new Date)}function z(he){if(he.touches.length!=1)return!1;var Ce=he.touches[0];return Ce.radiusX<=1&&Ce.radiusY<=1}function Z(he,Ce){if(Ce.left==null)return!0;var Ze=Ce.left-he.left,at=Ce.top-he.top;return Ze*Ze+at*at>20*20}Ke(g.scroller,"touchstart",function(he){if(!ot(A,he)&&!z(he)&&!Zh(A,he)){g.input.ensurePolled(),clearTimeout(M);var Ce=+new Date;g.activeTouch={start:Ce,moved:!1,prev:Ce-w.end<=300?w:null},he.touches.length==1&&(g.activeTouch.left=he.touches[0].pageX,g.activeTouch.top=he.touches[0].pageY)}}),Ke(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)}),Ke(g.scroller,"touchend",function(he){var Ce=g.activeTouch;if(Ce&&!Nu(g,he)&&Ce.left!=null&&!Ce.moved&&new Date-Ce.start<300){var Ze=A.coordsChar(g.activeTouch,"page"),at;!Ce.prev||Z(Ce,Ce.prev)?at=new lo(Ze,Ze):!Ce.prev.prev||Z(Ce,Ce.prev.prev)?at=A.findWordAt(Ze):at=new lo(Pt(Ze.line,0),mr(A.doc,Pt(Ze.line+1,0))),A.setSelection(at.anchor,at.head),A.focus(),Bt(he)}k()}),Ke(g.scroller,"touchcancel",k),Ke(g.scroller,"scroll",function(){g.scroller.clientHeight&&(Nh(A,g.scroller.scrollTop),Mu(A,g.scroller.scrollLeft,!0),dt(A,"scroll",A))}),Ke(g.scroller,"mousewheel",function(he){return Tf(A,he)}),Ke(g.scroller,"DOMMouseScroll",function(he){return Tf(A,he)}),Ke(g.wrapper,"scroll",function(){return g.wrapper.scrollTop=g.wrapper.scrollLeft=0}),g.dragFunctions={enter:function(he){ot(A,he)||fn(he)},over:function(he){ot(A,he)||(Rt(A,he),fn(he))},start:function(he){return Nt(A,he)},drop:Fi(A,bt),leave:function(he){ot(A,he)||Gt(A)}};var ae=g.input.getField();Ke(ae,"keyup",function(he){return Bu.call(A,he)}),Ke(ae,"keydown",Fi(A,Qd)),Ke(ae,"keypress",Fi(A,ah)),Ke(ae,"focus",function(he){return ua(A,he)}),Ke(ae,"blur",function(he){return xu(A,he)})}var Wf=[];xo.defineInitHook=function(A){return Wf.push(A)};function Gf(A,g,M,w){var k=A.doc,z;M==null&&(M="add"),M=="smart"&&(k.mode.indent?z=No(A,g).state:M="prev");var Z=A.options.tabSize,ae=er(k,g),he=ye(ae.text,null,Z);ae.stateAfter&&(ae.stateAfter=null);var Ce=ae.text.match(/^\s*/)[0],Ze;if(!w&&!/\S/.test(ae.text))Ze=0,M="not";else if(M=="smart"&&(Ze=k.mode.indent(z,ae.text.slice(Ce.length),ae.text),Ze==lt||Ze>150)){if(!w)return;M="prev"}M=="prev"?g>k.first?Ze=ye(er(k,g-1).text,null,Z):Ze=0:M=="add"?Ze=he+A.options.indentUnit:M=="subtract"?Ze=he-A.options.indentUnit:typeof M=="number"&&(Ze=he+M),Ze=Math.max(0,Ze);var at="",Lt=0;if(A.options.indentWithTabs)for(var kt=Math.floor(Ze/Z);kt;--kt)Lt+=Z,at+="	";if(Lt<Ze&&(at+=_n(Ze-Lt)),at!=Ce)return l(k,at,Pt(g,0),Pt(g,Ce.length),"+input"),ae.stateAfter=null,!0;for(var sn=0;sn<k.sel.ranges.length;sn++){var vn=k.sel.ranges[sn];if(vn.head.line==g&&vn.head.ch<Ce.length){var Kn=Pt(g,Ce.length);Dl(k,sn,new lo(Kn,Kn));break}}}var al=null;function Jh(A){al=A}function V0(A,g,M,w,k){var z=A.doc;A.display.shift=!1,w||(w=z.sel);var Z=+new Date-200,ae=k=="paste"||A.state.pasteIncoming>Z,he=Er(g),Ce=null;if(ae&&w.ranges.length>1)if(al&&al.text.join(`
`)==g){if(w.ranges.length%al.text.length==0){Ce=[];for(var Ze=0;Ze<al.text.length;Ze++)Ce.push(z.splitLines(al.text[Ze]))}}else he.length==w.ranges.length&&A.options.pasteLinesPerSelection&&(Ce=ur(he,function(Yn){return[Yn]}));for(var at=A.curOp.updateInput,Lt=w.ranges.length-1;Lt>=0;Lt--){var kt=w.ranges[Lt],sn=kt.from(),vn=kt.to();kt.empty()&&(M&&M>0?sn=Pt(sn.line,sn.ch-M):A.state.overwrite&&!ae?vn=Pt(vn.line,Math.min(er(z,vn.line).text.length,vn.ch+tr(he).length)):ae&&al&&al.lineWise&&al.text.join(`
`)==he.join(`
`)&&(sn=vn=Pt(sn.line,0)));var Kn={from:sn,to:vn,text:Ce?Ce[Lt%Ce.length]:he,origin:k||(ae?"paste":A.state.cutIncoming>Z?"cut":"+input")};Ju(A.doc,Kn),bo(A,"inputRead",A,Kn)}g&&!ae&&Rm(A,g),Yo(A),A.curOp.updateInput<2&&(A.curOp.updateInput=at),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function _c(A,g){var M=A.clipboardData&&A.clipboardData.getData("Text");if(M)return A.preventDefault(),!g.isReadOnly()&&!g.options.disableInput&&g.hasFocus()&&Da(g,function(){return V0(g,M,0,null,"paste")}),!0}function Rm(A,g){if(!(!A.options.electricChars||!A.options.smartIndent))for(var M=A.doc.sel,w=M.ranges.length-1;w>=0;w--){var k=M.ranges[w];if(!(k.head.ch>100||w&&M.ranges[w-1].head.line==k.head.line)){var z=A.getModeAt(k.head),Z=!1;if(z.electricChars){for(var ae=0;ae<z.electricChars.length;ae++)if(g.indexOf(z.electricChars.charAt(ae))>-1){Z=Gf(A,k.head.line,"smart");break}}else z.electricInput&&z.electricInput.test(er(A.doc,k.head.line).text.slice(0,k.head.ch))&&(Z=Gf(A,k.head.line,"smart"));Z&&bo(A,"electricInput",A,k.head.line)}}}function Um(A){for(var g=[],M=[],w=0;w<A.doc.sel.ranges.length;w++){var k=A.doc.sel.ranges[w].head.line,z={anchor:Pt(k,0),head:Pt(k+1,0)};M.push(z),g.push(A.getRange(z.anchor,z.head))}return{text:g,ranges:M}}function Gp(A,g,M,w){A.setAttribute("autocorrect",M?"on":"off"),A.setAttribute("autocapitalize",w?"on":"off"),A.setAttribute("spellcheck",!!g)}function Qp(){var A=_e("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),g=_e("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?A.style.width="1000px":A.setAttribute("wrap","off"),W&&(A.style.border="1px solid black"),g}function Qf(A){var g=A.optionHandlers,M=A.helpers={};A.prototype={constructor:A,focus:function(){Vt(this).focus(),this.display.input.focus()},setOption:function(w,k){var z=this.options,Z=z[w];z[w]==k&&w!="mode"||(z[w]=k,g.hasOwnProperty(w)&&Fi(this,g[w])(this,k,Z),dt(this,"optionChange",this,w))},getOption:function(w){return this.options[w]},getDoc:function(){return this.doc},addKeyMap:function(w,k){this.state.keyMaps[k?"push":"unshift"](na(w))},removeKeyMap:function(w){for(var k=this.state.keyMaps,z=0;z<k.length;++z)if(k[z]==w||k[z].name==w)return k.splice(z,1),!0},addOverlay:hn(function(w,k){var z=w.token?w:A.getMode(this.options,w);if(z.startState)throw new Error("Overlays may not be stateful.");_r(this.state.overlays,{mode:z,modeSpec:w,opaque:k&&k.opaque,priority:k&&k.priority||0},function(Z){return Z.priority}),this.state.modeGen++,Es(this)}),removeOverlay:hn(function(w){for(var k=this.state.overlays,z=0;z<k.length;++z){var Z=k[z].modeSpec;if(Z==w||typeof w=="string"&&Z.name==w){k.splice(z,1),this.state.modeGen++,Es(this);return}}}),indentLine:hn(function(w,k,z){typeof k!="string"&&typeof k!="number"&&(k==null?k=this.options.smartIndent?"smart":"prev":k=k?"add":"subtract"),rn(this.doc,w)&&Gf(this,w,k,z)}),indentSelection:hn(function(w){for(var k=this.doc.sel.ranges,z=-1,Z=0;Z<k.length;Z++){var ae=k[Z];if(ae.empty())ae.head.line>z&&(Gf(this,ae.head.line,w,!0),z=ae.head.line,Z==this.doc.sel.primIndex&&Yo(this));else{var he=ae.from(),Ce=ae.to(),Ze=Math.max(z,he.line);z=Math.min(this.lastLine(),Ce.line-(Ce.ch?0:1))+1;for(var at=Ze;at<z;++at)Gf(this,at,w);var Lt=this.doc.sel.ranges;he.ch==0&&k.length==Lt.length&&Lt[Z].from().ch>0&&Dl(this.doc,Z,new lo(he,Lt[Z].to()),Kt)}}}),getTokenAt:function(w,k){return cA(this,w,k)},getLineTokens:function(w,k){return cA(this,Pt(w),k,!0)},getTokenTypeAt:function(w){w=mr(this.doc,w);var k=to(this,er(this.doc,w.line)),z=0,Z=(k.length-1)/2,ae=w.ch,he;if(ae==0)he=k[2];else for(;;){var Ce=z+Z>>1;if((Ce?k[Ce*2-1]:0)>=ae)Z=Ce;else if(k[Ce*2+1]<ae)z=Ce+1;else{he=k[Ce*2+2];break}}var Ze=he?he.indexOf("overlay "):-1;return Ze<0?he:Ze==0?null:he.slice(0,Ze-1)},getModeAt:function(w){var k=this.doc.mode;return k.innerMode?A.innerMode(k,this.getTokenAt(w).state).mode:k},getHelper:function(w,k){return this.getHelpers(w,k)[0]},getHelpers:function(w,k){var z=[];if(!M.hasOwnProperty(k))return z;var Z=M[k],ae=this.getModeAt(w);if(typeof ae[k]=="string")Z[ae[k]]&&z.push(Z[ae[k]]);else if(ae[k])for(var he=0;he<ae[k].length;he++){var Ce=Z[ae[k][he]];Ce&&z.push(Ce)}else ae.helperType&&Z[ae.helperType]?z.push(Z[ae.helperType]):Z[ae.name]&&z.push(Z[ae.name]);for(var Ze=0;Ze<Z._global.length;Ze++){var at=Z._global[Ze];at.pred(ae,this)&&Qe(z,at.val)==-1&&z.push(at.val)}return z},getStateAfter:function(w,k){var z=this.doc;return w=la(z,w??z.first+z.size-1),No(this,w+1,k).state},cursorCoords:function(w,k){var z,Z=this.doc.sel.primary();return w==null?z=Z.head:typeof w=="object"?z=mr(this.doc,w):z=w?Z.from():Z.to(),Qt(this,z,k||"page")},charCoords:function(w,k){return un(this,mr(this.doc,w),k||"page")},coordsChar:function(w,k){return w=Dt(this,w,k||"page"),br(this,w.left,w.top)},lineAtHeight:function(w,k){return w=Dt(this,{top:w,left:0},k||"page").top,Je(this.doc,w+this.display.viewOffset)},heightAtLine:function(w,k,z){var Z=!1,ae;if(typeof w=="number"){var he=this.doc.first+this.doc.size-1;w<this.doc.first?w=this.doc.first:w>he&&(w=he,Z=!0),ae=er(this.doc,w)}else ae=w;return Cu(this,ae,{top:0,left:0},k||"page",z||Z).top+(Z?this.doc.height-pi(ae):0)},defaultTextHeight:function(){return Qu(this.display)},defaultCharWidth:function(){return $u(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(w,k,z,Z,ae){var he=this.display;w=Qt(this,mr(this.doc,w));var Ce=w.bottom,Ze=w.left;if(k.style.position="absolute",k.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(k),he.sizer.appendChild(k),Z=="over")Ce=w.top;else if(Z=="above"||Z=="near"){var at=Math.max(he.wrapper.clientHeight,this.doc.height),Lt=Math.max(he.sizer.clientWidth,he.lineSpace.clientWidth);(Z=="above"||w.bottom+k.offsetHeight>at)&&w.top>k.offsetHeight?Ce=w.top-k.offsetHeight:w.bottom+k.offsetHeight<=at&&(Ce=w.bottom),Ze+k.offsetWidth>Lt&&(Ze=Lt-k.offsetWidth)}k.style.top=Ce+"px",k.style.left=k.style.right="",ae=="right"?(Ze=he.sizer.clientWidth-k.offsetWidth,k.style.right="0px"):(ae=="left"?Ze=0:ae=="middle"&&(Ze=(he.sizer.clientWidth-k.offsetWidth)/2),k.style.left=Ze+"px"),z&&Yc(this,{left:Ze,top:Ce,right:Ze+k.offsetWidth,bottom:Ce+k.offsetHeight})},triggerOnKeyDown:hn(Qd),triggerOnKeyPress:hn(ah),triggerOnKeyUp:Bu,triggerOnMouseDown:hn(Ff),execCommand:function(w){if(YA.hasOwnProperty(w))return YA[w].call(null,this)},triggerElectric:hn(function(w){Rm(this,w)}),findPosH:function(w,k,z,Z){var ae=1;k<0&&(ae=-1,k=-k);for(var he=mr(this.doc,w),Ce=0;Ce<k&&(he=Jr(this.doc,he,ae,z,Z),!he.hitSide);++Ce);return he},moveH:hn(function(w,k){var z=this;this.extendSelectionsBy(function(Z){return z.display.shift||z.doc.extend||Z.empty()?Jr(z.doc,Z.head,w,k,z.options.rtlMoveVisually):w<0?Z.from():Z.to()},Wt)}),deleteH:hn(function(w,k){var z=this.doc.sel,Z=this.doc;z.somethingSelected()?Z.replaceSelection("",null,"+delete"):ps(this,function(ae){var he=Jr(Z,ae.head,w,k,!1);return w<0?{from:he,to:ae.head}:{from:ae.head,to:he}})}),findPosV:function(w,k,z,Z){var ae=1,he=Z;k<0&&(ae=-1,k=-k);for(var Ce=mr(this.doc,w),Ze=0;Ze<k;++Ze){var at=Qt(this,Ce,"div");if(he==null?he=at.left:at.left=he,Ce=$p(this,at,ae,z),Ce.hitSide)break}return Ce},moveV:hn(function(w,k){var z=this,Z=this.doc,ae=[],he=!this.display.shift&&!Z.extend&&Z.sel.somethingSelected();if(Z.extendSelectionsBy(function(Ze){if(he)return w<0?Ze.from():Ze.to();var at=Qt(z,Ze.head,"div");Ze.goalColumn!=null&&(at.left=Ze.goalColumn),ae.push(at.left);var Lt=$p(z,at,w,k);return k=="page"&&Ze==Z.sel.primary()&&Pd(z,un(z,Lt,"div").top-at.top),Lt},Wt),ae.length)for(var Ce=0;Ce<Z.sel.ranges.length;Ce++)Z.sel.ranges[Ce].goalColumn=ae[Ce]}),findWordAt:function(w){var k=this.doc,z=er(k,w.line).text,Z=w.ch,ae=w.ch;if(z){var he=this.getHelper(w,"wordChars");(w.sticky=="before"||ae==z.length)&&Z?--Z:++ae;for(var Ce=z.charAt(Z),Ze=Pe(Ce,he)?function(at){return Pe(at,he)}:/\s/.test(Ce)?function(at){return/\s/.test(at)}:function(at){return!/\s/.test(at)&&!Pe(at)};Z>0&&Ze(z.charAt(Z-1));)--Z;for(;ae<z.length&&Ze(z.charAt(ae));)++ae}return new lo(Pt(w.line,Z),Pt(w.line,ae))},toggleOverwrite:function(w){w!=null&&w==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?$e(this.display.cursorDiv,"CodeMirror-overwrite"):Ue(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ft(nn(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:hn(function(w,k){pa(this,w,k)}),getScrollInfo:function(){var w=this.display.scroller;return{left:w.scrollLeft,top:w.scrollTop,height:w.scrollHeight-fA(this)-this.display.barHeight,width:w.scrollWidth-fA(this)-this.display.barWidth,clientHeight:Cf(this),clientWidth:Wc(this)}},scrollIntoView:hn(function(w,k){w==null?(w={from:this.doc.sel.primary().head,to:null},k==null&&(k=this.options.cursorScrollMargin)):typeof w=="number"?w={from:Pt(w,0),to:null}:w.from==null&&(w={from:w,to:null}),w.to||(w.to=w.from),w.margin=k||0,w.from.line!=null?Of(this,w):wu(this,w.from,w.to,w.margin)}),setSize:hn(function(w,k){var z=this,Z=function(he){return typeof he=="number"||/^\d+$/.test(String(he))?he+"px":he};w!=null&&(this.display.wrapper.style.width=Z(w)),k!=null&&(this.display.wrapper.style.height=Z(k)),this.options.lineWrapping&&xf(this);var ae=this.display.viewFrom;this.doc.iter(ae,this.display.viewTo,function(he){if(he.widgets){for(var Ce=0;Ce<he.widgets.length;Ce++)if(he.widgets[Ce].noHScroll){mA(z,ae,"widget");break}}++ae}),this.curOp.forceUpdate=!0,dt(this,"refresh",this)}),operation:function(w){return Da(this,w)},startOperation:function(){return GA(this)},endOperation:function(){return rl(this)},refresh:hn(function(){var w=this.display.cachedTextHeight;Es(this),this.curOp.forceUpdate=!0,Gu(this),pa(this,this.doc.scrollLeft,this.doc.scrollTop),Up(this.display),(w==null||Math.abs(w-Qu(this.display))>.5||this.options.lineWrapping)&&Rh(this),dt(this,"refresh",this)}),swapDoc:hn(function(w){var k=this.doc;return k.cm=null,this.state.selectingText&&this.state.selectingText(),gc(this,w),Gu(this),this.display.input.reset(),pa(this,w.scrollLeft,w.scrollTop),this.curOp.forceScroll=!0,bo(this,"swapDoc",this,k),k}),phrase:function(w){var k=this.options.phrases;return k&&Object.prototype.hasOwnProperty.call(k,w)?k[w]:w},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},mt(A),A.registerHelper=function(w,k,z){M.hasOwnProperty(w)||(M[w]=A[w]={_global:[]}),M[w][k]=z},A.registerGlobalHelper=function(w,k,z,Z){A.registerHelper(w,k,Z),M[w]._global.push({pred:z,val:Z})}}function Jr(A,g,M,w,k){var z=g,Z=M,ae=er(A,g.line),he=k&&A.direction=="rtl"?-M:M;function Ce(){var Zn=g.line+he;return Zn<A.first||Zn>=A.first+A.size?!1:(g=new Pt(Zn,g.ch,g.sticky),ae=er(A,Zn))}function Ze(Zn){var Gn;if(w=="codepoint"){var or=ae.text.charCodeAt(g.ch+(M>0?0:-1));if(isNaN(or))Gn=null;else{var Lr=M>0?or>=55296&&or<56320:or>=56320&&or<57343;Gn=new Pt(g.line,Math.max(0,Math.min(ae.text.length,g.ch+M*(Lr?2:1))),-M)}}else k?Gn=ru(A.cm,ae,g,M):Gn=MA(ae,g,M);if(Gn==null)if(!Zn&&Ce())g=Fl(k,A.cm,ae,g.line,he);else return!1;else g=Gn;return!0}if(w=="char"||w=="codepoint")Ze();else if(w=="column")Ze(!0);else if(w=="word"||w=="group")for(var at=null,Lt=w=="group",kt=A.cm&&A.cm.getHelper(g,"wordChars"),sn=!0;!(M<0&&!Ze(!sn));sn=!1){var vn=ae.text.charAt(g.ch)||`
`,Kn=Pe(vn,kt)?"w":Lt&&vn==`
`?"n":!Lt||/\s/.test(vn)?null:"p";if(Lt&&!sn&&!Kn&&(Kn="s"),at&&at!=Kn){M<0&&(M=1,Ze(),g.sticky="after");break}if(Kn&&(at=Kn),M>0&&!Ze(!sn))break}var Yn=wA(A,g,z,Z,!0);return Hr(z,Yn)&&(Yn.hitSide=!0),Yn}function $p(A,g,M,w){var k=A.doc,z=g.left,Z;if(w=="page"){var ae=Math.min(A.display.wrapper.clientHeight,Vt(A).innerHeight||k(A).documentElement.clientHeight),he=Math.max(ae-.5*Qu(A.display),3);Z=(M>0?g.bottom:g.top)+M*he}else w=="line"&&(Z=M>0?g.bottom+3:g.top-3);for(var Ce;Ce=br(A,z,Z),!!Ce.outside;){if(M<0?Z<=0:Z>=k.height){Ce.hitSide=!0;break}Z+=M*5}return Ce}var ao=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Te,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ao.prototype.init=function(A){var g=this,M=this,w=M.cm,k=M.div=A.lineDiv;k.contentEditable=!0,Gp(k,w.options.spellcheck,w.options.autocorrect,w.options.autocapitalize);function z(ae){for(var he=ae.target;he;he=he.parentNode){if(he==k)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(he.className))break}return!1}Ke(k,"paste",function(ae){!z(ae)||ot(w,ae)||_c(ae,w)||m<=11&&setTimeout(Fi(w,function(){return g.updateFromDOM()}),20)}),Ke(k,"compositionstart",function(ae){g.composing={data:ae.data,done:!1}}),Ke(k,"compositionupdate",function(ae){g.composing||(g.composing={data:ae.data,done:!1})}),Ke(k,"compositionend",function(ae){g.composing&&(ae.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),Ke(k,"touchstart",function(){return M.forceCompositionEnd()}),Ke(k,"input",function(){g.composing||g.readFromDOMSoon()});function Z(ae){if(!(!z(ae)||ot(w,ae))){if(w.somethingSelected())Jh({lineWise:!1,text:w.getSelections()}),ae.type=="cut"&&w.replaceSelection("",null,"cut");else if(w.options.lineWiseCopyCut){var he=Um(w);Jh({lineWise:!0,text:he.text}),ae.type=="cut"&&w.operation(function(){w.setSelections(he.ranges,0,Kt),w.replaceSelection("",null,"cut")})}else return;if(ae.clipboardData){ae.clipboardData.clearData();var Ce=al.text.join(`
`);if(ae.clipboardData.setData("Text",Ce),ae.clipboardData.getData("Text")==Ce){ae.preventDefault();return}}var Ze=Qp(),at=Ze.firstChild;Gp(at),w.display.lineSpace.insertBefore(Ze,w.display.lineSpace.firstChild),at.value=al.text.join(`
`);var Lt=ft(Et(k));nt(at),setTimeout(function(){w.display.lineSpace.removeChild(Ze),Lt.focus(),Lt==k&&M.showPrimarySelection()},50)}}Ke(k,"copy",Z),Ke(k,"cut",Z)},ao.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},ao.prototype.prepareSelection=function(){var A=kd(this.cm,!1);return A.focus=ft(Et(this.div))==this.div,A},ao.prototype.showSelection=function(A,g){!A||!this.cm.display.view.length||((A.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(A))},ao.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ao.prototype.showPrimarySelection=function(){var A=this.getSelection(),g=this.cm,M=g.doc.sel.primary(),w=M.from(),k=M.to();if(g.display.viewTo==g.display.viewFrom||w.line>=g.display.viewTo||k.line<g.display.viewFrom){A.removeAllRanges();return}var z=ns(g,A.anchorNode,A.anchorOffset),Z=ns(g,A.focusNode,A.focusOffset);if(!(z&&!z.bad&&Z&&!Z.bad&&En(Sa(z,Z),w)==0&&En(ni(z,Z),k)==0)){var ae=g.display.view,he=w.line>=g.display.viewFrom&&ed(g,w)||{node:ae[0].measure.map[2],offset:0},Ce=k.line<g.display.viewTo&&ed(g,k);if(!Ce){var Ze=ae[ae.length-1].measure,at=Ze.maps?Ze.maps[Ze.maps.length-1]:Ze.map;Ce={node:at[at.length-1],offset:at[at.length-2]-at[at.length-3]}}if(!he||!Ce){A.removeAllRanges();return}var Lt=A.rangeCount&&A.getRangeAt(0),kt;try{kt=St(he.node,he.offset,Ce.offset,Ce.node)}catch{}kt&&(!i&&g.state.focused?(A.collapse(he.node,he.offset),kt.collapsed||(A.removeAllRanges(),A.addRange(kt))):(A.removeAllRanges(),A.addRange(kt)),Lt&&A.anchorNode==null?A.addRange(Lt):i&&this.startGracePeriod()),this.rememberSelection()}},ao.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},ao.prototype.showMultipleSelections=function(A){Ve(this.cm.display.cursorDiv,A.cursors),Ve(this.cm.display.selectionDiv,A.selection)},ao.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},ao.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var g=A.getRangeAt(0).commonAncestorContainer;return _t(this.div,g)},ao.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ft(Et(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ao.prototype.blur=function(){this.div.blur()},ao.prototype.getField=function(){return this.div},ao.prototype.supportsTouch=function(){return!0},ao.prototype.receivedFocus=function(){var A=this,g=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):Da(this.cm,function(){return g.cm.curOp.selectionChanged=!0});function M(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,M))}this.polling.set(this.cm.options.pollInterval,M)},ao.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},ao.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),g=this.cm;if(ne&&I&&this.cm.display.gutterSpecs.length&&Ua(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var M=ns(g,A.anchorNode,A.anchorOffset),w=ns(g,A.focusNode,A.focusOffset);M&&w&&Da(g,function(){qo(g.doc,Os(M,w),Kt),(M.bad||w.bad)&&(g.curOp.selectionChanged=!0)})}}},ao.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,g=A.display,M=A.doc.sel.primary(),w=M.from(),k=M.to();if(w.ch==0&&w.line>A.firstLine()&&(w=Pt(w.line-1,er(A.doc,w.line-1).length)),k.ch==er(A.doc,k.line).text.length&&k.line<A.lastLine()&&(k=Pt(k.line+1,0)),w.line<g.viewFrom||k.line>g.viewTo-1)return!1;var z,Z,ae;w.line==g.viewFrom||(z=pA(A,w.line))==0?(Z=Oe(g.view[0].line),ae=g.view[0].node):(Z=Oe(g.view[z].line),ae=g.view[z-1].node.nextSibling);var he=pA(A,k.line),Ce,Ze;if(he==g.view.length-1?(Ce=g.viewTo-1,Ze=g.lineDiv.lastChild):(Ce=Oe(g.view[he+1].line)-1,Ze=g.view[he+1].node.previousSibling),!ae)return!1;for(var at=A.doc.splitLines(H0(A,ae,Ze,Z,Ce)),Lt=jo(A.doc,Pt(Z,0),Pt(Ce,er(A.doc,Ce).text.length));at.length>1&&Lt.length>1;)if(tr(at)==tr(Lt))at.pop(),Lt.pop(),Ce--;else if(at[0]==Lt[0])at.shift(),Lt.shift(),Z++;else break;for(var kt=0,sn=0,vn=at[0],Kn=Lt[0],Yn=Math.min(vn.length,Kn.length);kt<Yn&&vn.charCodeAt(kt)==Kn.charCodeAt(kt);)++kt;for(var Zn=tr(at),Gn=tr(Lt),or=Math.min(Zn.length-(at.length==1?kt:0),Gn.length-(Lt.length==1?kt:0));sn<or&&Zn.charCodeAt(Zn.length-sn-1)==Gn.charCodeAt(Gn.length-sn-1);)++sn;if(at.length==1&&Lt.length==1&&Z==w.line)for(;kt&&kt>w.ch&&Zn.charCodeAt(Zn.length-sn-1)==Gn.charCodeAt(Gn.length-sn-1);)kt--,sn++;at[at.length-1]=Zn.slice(0,Zn.length-sn).replace(/^\u200b+/,""),at[0]=at[0].slice(kt).replace(/\u200b+$/,"");var Lr=Pt(Z,kt),Br=Pt(Ce,Lt.length?tr(Lt).length-sn:0);if(at.length>1||at[0]||En(Lr,Br))return l(A.doc,at,Lr,Br,"+input"),!0},ao.prototype.ensurePolled=function(){this.forceCompositionEnd()},ao.prototype.reset=function(){this.forceCompositionEnd()},ao.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ao.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},ao.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&Da(this.cm,function(){return Es(A.cm)})},ao.prototype.setUneditable=function(A){A.contentEditable="false"},ao.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||Fi(this.cm,V0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},ao.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},ao.prototype.onContextMenu=function(){},ao.prototype.resetPosition=function(){},ao.prototype.needsContentAttribute=!0;function ed(A,g){var M=sc(A,g.line);if(!M||M.hidden)return null;var w=er(A.doc,g.line),k=Fp(M,w,g.line),z=ve(w,A.doc.direction),Z="left";if(z){var ae=ht(z,g.ch);Z=ae%2?"right":"left"}var he=lc(k.map,g.ch,Z);return he.offset=he.collapse=="right"?he.end:he.start,he}function Ua(A){for(var g=A;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function qA(A,g){return g&&(A.bad=!0),A}function H0(A,g,M,w,k){var z="",Z=!1,ae=A.doc.lineSeparator(),he=!1;function Ce(kt){return function(sn){return sn.id==kt}}function Ze(){Z&&(z+=ae,he&&(z+=ae),Z=he=!1)}function at(kt){kt&&(Ze(),z+=kt)}function Lt(kt){if(kt.nodeType==1){var sn=kt.getAttribute("cm-text");if(sn){at(sn);return}var vn=kt.getAttribute("cm-marker"),Kn;if(vn){var Yn=A.findMarks(Pt(w,0),Pt(k+1,0),Ce(+vn));Yn.length&&(Kn=Yn[0].find(0))&&at(jo(A.doc,Kn.from,Kn.to).join(ae));return}if(kt.getAttribute("contenteditable")=="false")return;var Zn=/^(pre|div|p|li|table|br)$/i.test(kt.nodeName);if(!/^br$/i.test(kt.nodeName)&&kt.textContent.length==0)return;Zn&&Ze();for(var Gn=0;Gn<kt.childNodes.length;Gn++)Lt(kt.childNodes[Gn]);/^(pre|p)$/i.test(kt.nodeName)&&(he=!0),Zn&&(Z=!0)}else kt.nodeType==3&&at(kt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Lt(g),g!=M;)g=g.nextSibling,he=!1;return z}function ns(A,g,M){var w;if(g==A.display.lineDiv){if(w=A.display.lineDiv.childNodes[M],!w)return qA(A.clipPos(Pt(A.display.viewTo-1)),!0);g=null,M=0}else for(w=g;;w=w.parentNode){if(!w||w==A.display.lineDiv)return null;if(w.parentNode&&w.parentNode==A.display.lineDiv)break}for(var k=0;k<A.display.view.length;k++){var z=A.display.view[k];if(z.node==w)return zm(z,g,M)}}function zm(A,g,M){var w=A.text.firstChild,k=!1;if(!g||!_t(w,g))return qA(Pt(Oe(A.line),0),!0);if(g==w&&(k=!0,g=w.childNodes[M],M=0,!g)){var z=A.rest?tr(A.rest):A.line;return qA(Pt(Oe(z),z.text.length),k)}var Z=g.nodeType==3?g:null,ae=g;for(!Z&&g.childNodes.length==1&&g.firstChild.nodeType==3&&(Z=g.firstChild,M&&(M=Z.nodeValue.length));ae.parentNode!=w;)ae=ae.parentNode;var he=A.measure,Ce=he.maps;function Ze(Kn,Yn,Zn){for(var Gn=-1;Gn<(Ce?Ce.length:0);Gn++)for(var or=Gn<0?he.map:Ce[Gn],Lr=0;Lr<or.length;Lr+=3){var Br=or[Lr+2];if(Br==Kn||Br==Yn){var Oi=Oe(Gn<0?A.line:A.rest[Gn]),Fo=or[Lr]+Zn;return(Zn<0||Br!=Kn)&&(Fo=or[Lr+(Zn?1:0)]),Pt(Oi,Fo)}}}var at=Ze(Z,ae,M);if(at)return qA(at,k);for(var Lt=ae.nextSibling,kt=Z?Z.nodeValue.length-M:0;Lt;Lt=Lt.nextSibling){if(at=Ze(Lt,Lt.firstChild,0),at)return qA(Pt(at.line,at.ch-kt),k);kt+=Lt.textContent.length}for(var sn=ae.previousSibling,vn=M;sn;sn=sn.previousSibling){if(at=Ze(sn,sn.firstChild,-1),at)return qA(Pt(at.line,at.ch+vn),k);vn+=sn.textContent.length}}var ca=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Te,this.hasSelection=!1,this.composing=null,this.resetting=!1};ca.prototype.init=function(A){var g=this,M=this,w=this.cm;this.createField(A);var k=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),W&&(k.style.width="0px"),Ke(k,"input",function(){f&&m>=9&&g.hasSelection&&(g.hasSelection=null),M.poll()}),Ke(k,"paste",function(Z){ot(w,Z)||_c(Z,w)||(w.state.pasteIncoming=+new Date,M.fastPoll())});function z(Z){if(!ot(w,Z)){if(w.somethingSelected())Jh({lineWise:!1,text:w.getSelections()});else if(w.options.lineWiseCopyCut){var ae=Um(w);Jh({lineWise:!0,text:ae.text}),Z.type=="cut"?w.setSelections(ae.ranges,null,Kt):(M.prevInput="",k.value=ae.text.join(`
`),nt(k))}else return;Z.type=="cut"&&(w.state.cutIncoming=+new Date)}}Ke(k,"cut",z),Ke(k,"copy",z),Ke(A.scroller,"paste",function(Z){if(!(Nu(A,Z)||ot(w,Z))){if(!k.dispatchEvent){w.state.pasteIncoming=+new Date,M.focus();return}var ae=new Event("paste");ae.clipboardData=Z.clipboardData,k.dispatchEvent(ae)}}),Ke(A.lineSpace,"selectstart",function(Z){Nu(A,Z)||Bt(Z)}),Ke(k,"compositionstart",function(){var Z=w.getCursor("from");M.composing&&M.composing.range.clear(),M.composing={start:Z,range:w.markText(Z,w.getCursor("to"),{className:"CodeMirror-composing"})}}),Ke(k,"compositionend",function(){M.composing&&(M.poll(),M.composing.range.clear(),M.composing=null)})},ca.prototype.createField=function(A){this.wrapper=Qp(),this.textarea=this.wrapper.firstChild;var g=this.cm.options;Gp(this.textarea,g.spellcheck,g.autocorrect,g.autocapitalize)},ca.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},ca.prototype.prepareSelection=function(){var A=this.cm,g=A.display,M=A.doc,w=kd(A);if(A.options.moveInputWithCursor){var k=Qt(A,M.sel.primary().head,"div"),z=g.wrapper.getBoundingClientRect(),Z=g.lineDiv.getBoundingClientRect();w.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,k.top+Z.top-z.top)),w.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,k.left+Z.left-z.left))}return w},ca.prototype.showSelection=function(A){var g=this.cm,M=g.display;Ve(M.cursorDiv,A.cursors),Ve(M.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},ca.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var g=this.cm;if(this.resetting=!0,g.somethingSelected()){this.prevInput="";var M=g.getSelection();this.textarea.value=M,g.state.focused&&nt(this.textarea),f&&m>=9&&(this.hasSelection=M)}else A||(this.prevInput=this.textarea.value="",f&&m>=9&&(this.hasSelection=null));this.resetting=!1}},ca.prototype.getField=function(){return this.textarea},ca.prototype.supportsTouch=function(){return!1},ca.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ce||ft(Et(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},ca.prototype.blur=function(){this.textarea.blur()},ca.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ca.prototype.receivedFocus=function(){this.slowPoll()},ca.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},ca.prototype.fastPoll=function(){var A=!1,g=this;g.pollingFast=!0;function M(){var w=g.poll();!w&&!A?(A=!0,g.polling.set(60,M)):(g.pollingFast=!1,g.slowPoll())}g.polling.set(20,M)},ca.prototype.poll=function(){var A=this,g=this.cm,M=this.textarea,w=this.prevInput;if(this.contextMenuPending||this.resetting||!g.state.focused||ti(M)&&!w&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var k=M.value;if(k==w&&!g.somethingSelected())return!1;if(f&&m>=9&&this.hasSelection===k||ge&&/[\uf700-\uf7ff]/.test(k))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var z=k.charCodeAt(0);if(z==8203&&!w&&(w=""),z==8666)return this.reset(),this.cm.execCommand("undo")}for(var Z=0,ae=Math.min(w.length,k.length);Z<ae&&w.charCodeAt(Z)==k.charCodeAt(Z);)++Z;return Da(g,function(){V0(g,k.slice(Z),w.length-Z,null,A.composing?"*compose":null),k.length>1e3||k.indexOf(`
`)>-1?M.value=A.prevInput="":A.prevInput=k,A.composing&&(A.composing.range.clear(),A.composing.range=g.markText(A.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ca.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ca.prototype.onKeyPress=function(){f&&m>=9&&(this.hasSelection=null),this.fastPoll()},ca.prototype.onContextMenu=function(A){var g=this,M=g.cm,w=M.display,k=g.textarea;g.contextMenuPending&&g.contextMenuPending();var z=Yu(M,A),Z=w.scroller.scrollTop;if(!z||L)return;var ae=M.options.resetSelectionOnContextMenu;ae&&M.doc.sel.contains(z)==-1&&Fi(M,qo)(M.doc,Os(z),Kt);var he=k.style.cssText,Ce=g.wrapper.style.cssText,Ze=g.wrapper.offsetParent.getBoundingClientRect();g.wrapper.style.cssText="position: static",k.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Ze.top-5)+"px; left: "+(A.clientX-Ze.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var at;C&&(at=k.ownerDocument.defaultView.scrollY),w.input.focus(),C&&k.ownerDocument.defaultView.scrollTo(null,at),w.input.reset(),M.somethingSelected()||(k.value=g.prevInput=" "),g.contextMenuPending=kt,w.selForContextMenu=M.doc.sel,clearTimeout(w.detectingSelectAll);function Lt(){if(k.selectionStart!=null){var vn=M.somethingSelected(),Kn=""+(vn?k.value:"");k.value="",k.value=Kn,g.prevInput=vn?"":"",k.selectionStart=1,k.selectionEnd=Kn.length,w.selForContextMenu=M.doc.sel}}function kt(){if(g.contextMenuPending==kt&&(g.contextMenuPending=!1,g.wrapper.style.cssText=Ce,k.style.cssText=he,f&&m<9&&w.scrollbars.setScrollTop(w.scroller.scrollTop=Z),k.selectionStart!=null)){(!f||f&&m<9)&&Lt();var vn=0,Kn=function(){w.selForContextMenu==M.doc.sel&&k.selectionStart==0&&k.selectionEnd>0&&g.prevInput==""?Fi(M,ih)(M):vn++<10?w.detectingSelectAll=setTimeout(Kn,500):(w.selForContextMenu=null,w.input.reset())};w.detectingSelectAll=setTimeout(Kn,200)}}if(f&&m>=9&&Lt(),be){fn(A);var sn=function(){it(window,"mouseup",sn),setTimeout(kt,20)};Ke(window,"mouseup",sn)}else setTimeout(kt,50)},ca.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},ca.prototype.setUneditable=function(){},ca.prototype.needsContentAttribute=!1;function Z0(A,g){if(g=g?Le(g):{},g.value=A.value,!g.tabindex&&A.tabIndex&&(g.tabindex=A.tabIndex),!g.placeholder&&A.placeholder&&(g.placeholder=A.placeholder),g.autofocus==null){var M=ft(Et(A));g.autofocus=M==A||A.getAttribute("autofocus")!=null&&M==document.body}function w(){A.value=ae.getValue()}var k;if(A.form&&(Ke(A.form,"submit",w),!g.leaveSubmitMethodAlone)){var z=A.form;k=z.submit;try{var Z=z.submit=function(){w(),z.submit=k,z.submit(),z.submit=Z}}catch{}}g.finishInit=function(he){he.save=w,he.getTextArea=function(){return A},he.toTextArea=function(){he.toTextArea=isNaN,w(),A.parentNode.removeChild(he.getWrapperElement()),A.style.display="",A.form&&(it(A.form,"submit",w),!g.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=k))}},A.style.display="none";var ae=xo(function(he){return A.parentNode.insertBefore(he,A.nextSibling)},g);return ae}function k1(A){A.off=it,A.on=Ke,A.wheelEventPixels=kf,A.Doc=pt,A.splitLines=Er,A.countColumn=ye,A.findColumn=Rn,A.isWordChar=fi,A.Pass=lt,A.signal=dt,A.Line=Ss,A.changeEnd=Xu,A.scrollbarModel=Hu,A.Pos=Pt,A.cmpPos=En,A.modes=Ni,A.mimeModes=Ko,A.resolveMode=qa,A.getMode=Wi,A.modeExtensions=Ho,A.extendMode=Ma,A.copyState=Gi,A.startState=Va,A.innerMode=sa,A.commands=YA,A.keyMap=Kr,A.keyName=ko,A.isModifierKey=ga,A.lookupKey=mi,A.normalizeKeyMap=_o,A.StringStream=ci,A.SharedTextMarker=De,A.TextMarker=xe,A.LineWidget=G,A.e_preventDefault=Bt,A.e_stopPropagation=cn,A.e_stop=fn,A.addClass=$e,A.contains=_t,A.rmClass=Ue,A.keyNames=jn}q0(xo),Qf(xo);var $f="iter insert remove copy getEditor constructor".split(" ");for(var Yf in pt.prototype)pt.prototype.hasOwnProperty(Yf)&&Qe($f,Yf)<0&&(xo.prototype[Yf]=function(A){return function(){return A.apply(this.doc,arguments)}}(pt.prototype[Yf]));return mt(pt),xo.inputStyles={textarea:ca,contenteditable:ao},xo.defineMode=function(A){!xo.defaults.mode&&A!="null"&&(xo.defaults.mode=A),aa.apply(this,arguments)},xo.defineMIME=yo,xo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),xo.defineMIME("text/plain","null"),xo.defineExtension=function(A,g){xo.prototype[A]=g},xo.defineDocExtension=function(A,g){pt.prototype[A]=g},xo.fromTextArea=Z0,k1(xo),xo.version="5.65.16",xo})}(f6)),f6.exports}var x1e=SM();const gh=wa(x1e);(function(n,e){(function(t){t(SM())})(function(t){t.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,a=i.jsonld,f=i.json||a,m=i.trackScope!==!1,C=i.typescript,B=i.wordCharacters||/[\w$\xa1-\uffff]/,I=function(){function Oe(Yr){return{type:Yr,style:"keyword"}}var Je=Oe("keyword a"),rn=Oe("keyword b"),pn=Oe("keyword c"),Pt=Oe("keyword d"),En=Oe("operator"),Hr={type:"atom",style:"atom"};return{if:Oe("if"),while:Je,with:Je,else:rn,do:rn,try:rn,finally:rn,return:Pt,break:Pt,continue:Pt,new:Oe("new"),delete:pn,void:pn,throw:pn,debugger:Oe("debugger"),var:Oe("var"),const:Oe("var"),let:Oe("var"),function:Oe("function"),catch:Oe("catch"),for:Oe("for"),switch:Oe("switch"),case:Oe("case"),default:Oe("default"),in:En,typeof:En,instanceof:En,true:Hr,false:Hr,null:Hr,undefined:Hr,NaN:Hr,Infinity:Hr,this:Oe("this"),class:Oe("class"),super:Oe("atom"),yield:pn,export:Oe("export"),import:Oe("import"),extends:pn,await:pn}}(),K=/[+\-*&%=<>!?|~^@]/,L=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Y(Oe){for(var Je=!1,rn,pn=!1;(rn=Oe.next())!=null;){if(!Je){if(rn=="/"&&!pn)return;rn=="["?pn=!0:pn&&rn=="]"&&(pn=!1)}Je=!Je&&rn=="\\"}}var ee,V;function W(Oe,Je,rn){return ee=Oe,V=rn,Je}function ne(Oe,Je){var rn=Oe.next();if(rn=='"'||rn=="'")return Je.tokenize=ce(rn),Je.tokenize(Oe,Je);if(rn=="."&&Oe.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return W("number","number");if(rn=="."&&Oe.match(".."))return W("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(rn))return W(rn);if(rn=="="&&Oe.eat(">"))return W("=>","operator");if(rn=="0"&&Oe.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return W("number","number");if(/\d/.test(rn))return Oe.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),W("number","number");if(rn=="/")return Oe.eat("*")?(Je.tokenize=ge,ge(Oe,Je)):Oe.eat("/")?(Oe.skipToEnd(),W("comment","comment")):Qi(Oe,Je,1)?(Y(Oe),Oe.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),W("regexp","string-2")):(Oe.eat("="),W("operator","operator",Oe.current()));if(rn=="`")return Je.tokenize=fe,fe(Oe,Je);if(rn=="#"&&Oe.peek()=="!")return Oe.skipToEnd(),W("meta","meta");if(rn=="#"&&Oe.eatWhile(B))return W("variable","property");if(rn=="<"&&Oe.match("!--")||rn=="-"&&Oe.match("->")&&!/\S/.test(Oe.string.slice(0,Oe.start)))return Oe.skipToEnd(),W("comment","comment");if(K.test(rn))return(rn!=">"||!Je.lexical||Je.lexical.type!=">")&&(Oe.eat("=")?(rn=="!"||rn=="=")&&Oe.eat("="):/[<>*+\-|&?]/.test(rn)&&(Oe.eat(rn),rn==">"&&Oe.eat(rn))),rn=="?"&&Oe.eat(".")?W("."):W("operator","operator",Oe.current());if(B.test(rn)){Oe.eatWhile(B);var pn=Oe.current();if(Je.lastType!="."){if(I.propertyIsEnumerable(pn)){var Pt=I[pn];return W(Pt.type,Pt.style,pn)}if(pn=="async"&&Oe.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return W("async","keyword",pn)}return W("variable","variable",pn)}}function ce(Oe){return function(Je,rn){var pn=!1,Pt;if(a&&Je.peek()=="@"&&Je.match(L))return rn.tokenize=ne,W("jsonld-keyword","meta");for(;(Pt=Je.next())!=null&&!(Pt==Oe&&!pn);)pn=!pn&&Pt=="\\";return pn||(rn.tokenize=ne),W("string","string")}}function ge(Oe,Je){for(var rn=!1,pn;pn=Oe.next();){if(pn=="/"&&rn){Je.tokenize=ne;break}rn=pn=="*"}return W("comment","comment")}function fe(Oe,Je){for(var rn=!1,pn;(pn=Oe.next())!=null;){if(!rn&&(pn=="`"||pn=="$"&&Oe.eat("{"))){Je.tokenize=ne;break}rn=!rn&&pn=="\\"}return W("quasi","string-2",Oe.current())}var H="([{}])";function X(Oe,Je){Je.fatArrowAt&&(Je.fatArrowAt=null);var rn=Oe.string.indexOf("=>",Oe.start);if(!(rn<0)){if(C){var pn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Oe.string.slice(Oe.start,rn));pn&&(rn=pn.index)}for(var Pt=0,En=!1,Hr=rn-1;Hr>=0;--Hr){var Yr=Oe.string.charAt(Hr),ni=H.indexOf(Yr);if(ni>=0&&ni<3){if(!Pt){++Hr;break}if(--Pt==0){Yr=="("&&(En=!0);break}}else if(ni>=3&&ni<6)++Pt;else if(B.test(Yr))En=!0;else if(/["'\/`]/.test(Yr))for(;;--Hr){if(Hr==0)return;var Sa=Oe.string.charAt(Hr-1);if(Sa==Yr&&Oe.string.charAt(Hr-2)!="\\"){Hr--;break}}else if(En&&!Pt){++Hr;break}}En&&!Pt&&(Je.fatArrowAt=Hr)}}var Me={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function be(Oe,Je,rn,pn,Pt,En){this.indented=Oe,this.column=Je,this.type=rn,this.prev=Pt,this.info=En,pn!=null&&(this.align=pn)}function Fe(Oe,Je){if(!m)return!1;for(var rn=Oe.localVars;rn;rn=rn.next)if(rn.name==Je)return!0;for(var pn=Oe.context;pn;pn=pn.prev)for(var rn=pn.vars;rn;rn=rn.next)if(rn.name==Je)return!0}function Ue(Oe,Je,rn,pn,Pt){var En=Oe.cc;for(me.state=Oe,me.stream=Pt,me.marked=null,me.cc=En,me.style=Je,Oe.lexical.hasOwnProperty("align")||(Oe.lexical.align=!0);;){var Hr=En.length?En.pop():f?Qe:ye;if(Hr(rn,pn)){for(;En.length&&En[En.length-1].lex;)En.pop()();return me.marked?me.marked:rn=="variable"&&Fe(Oe,pn)?"variable-2":Je}}}var me={state:null,column:null,marked:null,cc:null};function Ve(){for(var Oe=arguments.length-1;Oe>=0;Oe--)me.cc.push(arguments[Oe])}function _e(){return Ve.apply(null,arguments),!0}function Ot(Oe,Je){for(var rn=Je;rn;rn=rn.next)if(rn.name==Oe)return!0;return!1}function St(Oe){var Je=me.state;if(me.marked="def",!!m){if(Je.context){if(Je.lexical.info=="var"&&Je.context&&Je.context.block){var rn=_t(Oe,Je.context);if(rn!=null){Je.context=rn;return}}else if(!Ot(Oe,Je.localVars)){Je.localVars=new et(Oe,Je.localVars);return}}i.globalVars&&!Ot(Oe,Je.globalVars)&&(Je.globalVars=new et(Oe,Je.globalVars))}}function _t(Oe,Je){if(Je)if(Je.block){var rn=_t(Oe,Je.prev);return rn?rn==Je.prev?Je:new $e(rn,Je.vars,!0):null}else return Ot(Oe,Je.vars)?Je:new $e(Je.prev,new et(Oe,Je.vars),!1);else return null}function ft(Oe){return Oe=="public"||Oe=="private"||Oe=="protected"||Oe=="abstract"||Oe=="readonly"}function $e(Oe,Je,rn){this.prev=Oe,this.vars=Je,this.block=rn}function et(Oe,Je){this.name=Oe,this.next=Je}var nt=new et("this",new et("arguments",null));function en(){me.state.context=new $e(me.state.context,me.state.localVars,!1),me.state.localVars=nt}function nn(){me.state.context=new $e(me.state.context,me.state.localVars,!0),me.state.localVars=null}en.lex=nn.lex=!0;function Et(){me.state.localVars=me.state.context.vars,me.state.context=me.state.context.prev}Et.lex=!0;function Vt(Oe,Je){var rn=function(){var pn=me.state,Pt=pn.indented;if(pn.lexical.type=="stat")Pt=pn.lexical.indented;else for(var En=pn.lexical;En&&En.type==")"&&En.align;En=En.prev)Pt=En.indented;pn.lexical=new be(Pt,me.stream.column(),Oe,null,pn.lexical,Je)};return rn.lex=!0,rn}function Jt(){var Oe=me.state;Oe.lexical.prev&&(Oe.lexical.type==")"&&(Oe.indented=Oe.lexical.indented),Oe.lexical=Oe.lexical.prev)}Jt.lex=!0;function Le(Oe){function Je(rn){return rn==Oe?_e():Oe==";"||rn=="}"||rn==")"||rn=="]"?Ve():_e(Je)}return Je}function ye(Oe,Je){return Oe=="var"?_e(Vt("vardef",Je),cn,Le(";"),Jt):Oe=="keyword a"?_e(Vt("form"),lt,ye,Jt):Oe=="keyword b"?_e(Vt("form"),ye,Jt):Oe=="keyword d"?me.stream.match(/^\s*$/,!1)?_e():_e(Vt("stat"),Ht,Le(";"),Jt):Oe=="debugger"?_e(Le(";")):Oe=="{"?_e(Vt("}"),nn,Tt,Jt,Et):Oe==";"?_e():Oe=="if"?(me.state.lexical.info=="else"&&me.state.cc[me.state.cc.length-1]==Jt&&me.state.cc.pop()(),_e(Vt("form"),lt,ye,Jt,oi)):Oe=="function"?_e(Er):Oe=="for"?_e(Vt("form"),nn,$r,ye,Et,Jt):Oe=="class"||C&&Je=="interface"?(me.marked="keyword",_e(Vt("form",Oe=="class"?Oe:Je),Ni,Jt)):Oe=="variable"?C&&Je=="declare"?(me.marked="keyword",_e(ye)):C&&(Je=="module"||Je=="enum"||Je=="type")&&me.stream.match(/^\s*\w/,!1)?(me.marked="keyword",Je=="enum"?_e(er):Je=="type"?_e(ji,Le("operator"),ve,Le(";")):_e(Vt("form"),mn,Le("{"),Vt("}"),Tt,Jt,Jt)):C&&Je=="namespace"?(me.marked="keyword",_e(Vt("form"),Qe,ye,Jt)):C&&Je=="abstract"?(me.marked="keyword",_e(ye)):_e(Vt("stat"),pr):Oe=="switch"?_e(Vt("form"),lt,Le("{"),Vt("}","switch"),nn,Tt,Jt,Jt,Et):Oe=="case"?_e(Qe,Le(":")):Oe=="default"?_e(Le(":")):Oe=="catch"?_e(Vt("form"),en,Te,ye,Jt,Et):Oe=="export"?_e(Vt("stat"),qa,Jt):Oe=="import"?_e(Vt("stat"),Ho,Jt):Oe=="async"?_e(ye):Je=="@"?_e(Qe,ye):Ve(Vt("stat"),Qe,Le(";"),Jt)}function Te(Oe){if(Oe=="(")return _e(ei,Le(")"))}function Qe(Oe,Je){return Kt(Oe,Je,!1)}function st(Oe,Je){return Kt(Oe,Je,!0)}function lt(Oe){return Oe!="("?Ve():_e(Vt(")"),Ht,Le(")"),Jt)}function Kt(Oe,Je,rn){if(me.state.fatArrowAt==me.stream.start){var pn=rn?ur:tr;if(Oe=="(")return _e(en,Vt(")"),Re(ei,")"),Jt,Le("=>"),pn,Et);if(Oe=="variable")return Ve(en,mn,Le("=>"),pn,Et)}var Pt=rn?Rn:Wt;return Me.hasOwnProperty(Oe)?_e(Pt):Oe=="function"?_e(Er,Pt):Oe=="class"||C&&Je=="interface"?(me.marked="keyword",_e(Vt("form"),Wr,Jt)):Oe=="keyword c"||Oe=="async"?_e(rn?st:Qe):Oe=="("?_e(Vt(")"),Ht,Le(")"),Jt,Pt):Oe=="operator"||Oe=="spread"?_e(rn?st:Qe):Oe=="["?_e(Vt("]"),ci,Jt,Pt):Oe=="{"?ut(Pe,"}",null,Pt):Oe=="quasi"?Ve(nr,Pt):Oe=="new"?_e(_r(rn)):_e()}function Ht(Oe){return Oe.match(/[;\}\)\],]/)?Ve():Ve(Qe)}function Wt(Oe,Je){return Oe==","?_e(Ht):Rn(Oe,Je,!1)}function Rn(Oe,Je,rn){var pn=rn==!1?Wt:Rn,Pt=rn==!1?Qe:st;if(Oe=="=>")return _e(en,rn?ur:tr,Et);if(Oe=="operator")return/\+\+|--/.test(Je)||C&&Je=="!"?_e(pn):C&&Je=="<"&&me.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?_e(Vt(">"),Re(ve,">"),Jt,pn):Je=="?"?_e(Qe,Le(":"),Pt):_e(Pt);if(Oe=="quasi")return Ve(nr,pn);if(Oe!=";"){if(Oe=="(")return ut(st,")","call",pn);if(Oe==".")return _e(fi,pn);if(Oe=="[")return _e(Vt("]"),Ht,Le("]"),Jt,pn);if(C&&Je=="as")return me.marked="keyword",_e(ve,pn);if(Oe=="regexp")return me.state.lastType=me.marked="operator",me.stream.backUp(me.stream.pos-me.stream.start-1),_e(Pt)}}function nr(Oe,Je){return Oe!="quasi"?Ve():Je.slice(Je.length-2)!="${"?_e(nr):_e(Ht,_n)}function _n(Oe){if(Oe=="}")return me.marked="string-2",me.state.tokenize=fe,_e(nr)}function tr(Oe){return X(me.stream,me.state),Ve(Oe=="{"?ye:Qe)}function ur(Oe){return X(me.stream,me.state),Ve(Oe=="{"?ye:st)}function _r(Oe){return function(Je){return Je=="."?_e(Oe?fr:Sr):Je=="variable"&&C?_e(rt,Oe?Rn:Wt):Ve(Oe?st:Qe)}}function Sr(Oe,Je){if(Je=="target")return me.marked="keyword",_e(Wt)}function fr(Oe,Je){if(Je=="target")return me.marked="keyword",_e(Rn)}function pr(Oe){return Oe==":"?_e(Jt,ye):Ve(Wt,Le(";"),Jt)}function fi(Oe){if(Oe=="variable")return me.marked="property",_e()}function Pe(Oe,Je){if(Oe=="async")return me.marked="property",_e(Pe);if(Oe=="variable"||me.style=="keyword"){if(me.marked="property",Je=="get"||Je=="set")return _e(Q);var rn;return C&&me.state.fatArrowAt==me.stream.start&&(rn=me.stream.match(/^\s*:\s*/,!1))&&(me.state.fatArrowAt=me.stream.pos+rn[0].length),_e(oe)}else{if(Oe=="number"||Oe=="string")return me.marked=a?"property":me.style+" property",_e(oe);if(Oe=="jsonld-keyword")return _e(oe);if(C&&ft(Je))return me.marked="keyword",_e(Pe);if(Oe=="[")return _e(Qe,jt,Le("]"),oe);if(Oe=="spread")return _e(st,oe);if(Je=="*")return me.marked="keyword",_e(Pe);if(Oe==":")return Ve(oe)}}function Q(Oe){return Oe!="variable"?Ve(oe):(me.marked="property",_e(Er))}function oe(Oe){if(Oe==":")return _e(st);if(Oe=="(")return Ve(Er)}function Re(Oe,Je,rn){function pn(Pt,En){if(rn?rn.indexOf(Pt)>-1:Pt==","){var Hr=me.state.lexical;return Hr.info=="call"&&(Hr.pos=(Hr.pos||0)+1),_e(function(Yr,ni){return Yr==Je||ni==Je?Ve():Ve(Oe)},pn)}return Pt==Je||En==Je?_e():rn&&rn.indexOf(";")>-1?Ve(Oe):_e(Le(Je))}return function(Pt,En){return Pt==Je||En==Je?_e():Ve(Oe,pn)}}function ut(Oe,Je,rn){for(var pn=3;pn<arguments.length;pn++)me.cc.push(arguments[pn]);return _e(Vt(Je,rn),Re(Oe,Je),Jt)}function Tt(Oe){return Oe=="}"?_e():Ve(ye,Tt)}function jt(Oe,Je){if(C){if(Oe==":")return _e(ve);if(Je=="?")return _e(jt)}}function ar(Oe,Je){if(C&&(Oe==":"||Je=="in"))return _e(ve)}function ht(Oe){if(C&&Oe==":")return me.stream.match(/^\s*\w+\s+is\b/,!1)?_e(Qe,Ee,ve):_e(ve)}function Ee(Oe,Je){if(Je=="is")return me.marked="keyword",_e()}function ve(Oe,Je){if(Je=="keyof"||Je=="typeof"||Je=="infer"||Je=="readonly")return me.marked="keyword",_e(Je=="typeof"?st:ve);if(Oe=="variable"||Je=="void")return me.marked="type",_e(Ft);if(Je=="|"||Je=="&")return _e(ve);if(Oe=="string"||Oe=="number"||Oe=="atom")return _e(Ft);if(Oe=="[")return _e(Vt("]"),Re(ve,"]",","),Jt,Ft);if(Oe=="{")return _e(Vt("}"),Ke,Jt,Ft);if(Oe=="(")return _e(Re(ot,")"),p,Ft);if(Oe=="<")return _e(Re(ve,">"),ve);if(Oe=="quasi")return Ve(it,Ft)}function p(Oe){if(Oe=="=>")return _e(ve)}function Ke(Oe){return Oe.match(/[\}\)\]]/)?_e():Oe==","||Oe==";"?_e(Ke):Ve(ze,Ke)}function ze(Oe,Je){if(Oe=="variable"||me.style=="keyword")return me.marked="property",_e(ze);if(Je=="?"||Oe=="number"||Oe=="string")return _e(ze);if(Oe==":")return _e(ve);if(Oe=="[")return _e(Le("variable"),ar,Le("]"),ze);if(Oe=="(")return Ve(ti,ze);if(!Oe.match(/[;\}\)\],]/))return _e()}function it(Oe,Je){return Oe!="quasi"?Ve():Je.slice(Je.length-2)!="${"?_e(it):_e(ve,dt)}function dt(Oe){if(Oe=="}")return me.marked="string-2",me.state.tokenize=fe,_e(it)}function ot(Oe,Je){return Oe=="variable"&&me.stream.match(/^\s*[?:]/,!1)||Je=="?"?_e(ot):Oe==":"?_e(ve):Oe=="spread"?_e(ot):Ve(ve)}function Ft(Oe,Je){if(Je=="<")return _e(Vt(">"),Re(ve,">"),Jt,Ft);if(Je=="|"||Oe=="."||Je=="&")return _e(ve);if(Oe=="[")return _e(ve,Le("]"),Ft);if(Je=="extends"||Je=="implements")return me.marked="keyword",_e(ve);if(Je=="?")return _e(ve,Le(":"),ve)}function rt(Oe,Je){if(Je=="<")return _e(Vt(">"),Re(ve,">"),Jt,Ft)}function mt(){return Ve(ve,Bt)}function Bt(Oe,Je){if(Je=="=")return _e(ve)}function cn(Oe,Je){return Je=="enum"?(me.marked="keyword",_e(er)):Ve(mn,jt,rr,Mr)}function mn(Oe,Je){if(C&&ft(Je))return me.marked="keyword",_e(mn);if(Oe=="variable")return St(Je),_e();if(Oe=="spread")return _e(mn);if(Oe=="[")return ut(Cr,"]");if(Oe=="{")return ut(fn,"}")}function fn(Oe,Je){return Oe=="variable"&&!me.stream.match(/^\s*:/,!1)?(St(Je),_e(rr)):(Oe=="variable"&&(me.marked="property"),Oe=="spread"?_e(mn):Oe=="}"?Ve():Oe=="["?_e(Qe,Le("]"),Le(":"),fn):_e(Le(":"),mn,rr))}function Cr(){return Ve(mn,rr)}function rr(Oe,Je){if(Je=="=")return _e(st)}function Mr(Oe){if(Oe==",")return _e(cn)}function oi(Oe,Je){if(Oe=="keyword b"&&Je=="else")return _e(Vt("form","else"),ye,Jt)}function $r(Oe,Je){if(Je=="await")return _e($r);if(Oe=="(")return _e(Vt(")"),Un,Jt)}function Un(Oe){return Oe=="var"?_e(cn,On):Oe=="variable"?_e(On):Ve(On)}function On(Oe,Je){return Oe==")"?_e():Oe==";"?_e(On):Je=="in"||Je=="of"?(me.marked="keyword",_e(Qe,On)):Ve(Qe,On)}function Er(Oe,Je){if(Je=="*")return me.marked="keyword",_e(Er);if(Oe=="variable")return St(Je),_e(Er);if(Oe=="(")return _e(en,Vt(")"),Re(ei,")"),Jt,ht,ye,Et);if(C&&Je=="<")return _e(Vt(">"),Re(mt,">"),Jt,Er)}function ti(Oe,Je){if(Je=="*")return me.marked="keyword",_e(ti);if(Oe=="variable")return St(Je),_e(ti);if(Oe=="(")return _e(en,Vt(")"),Re(ei,")"),Jt,ht,Et);if(C&&Je=="<")return _e(Vt(">"),Re(mt,">"),Jt,ti)}function ji(Oe,Je){if(Oe=="keyword"||Oe=="variable")return me.marked="type",_e(ji);if(Je=="<")return _e(Vt(">"),Re(mt,">"),Jt)}function ei(Oe,Je){return Je=="@"&&_e(Qe,ei),Oe=="spread"?_e(ei):C&&ft(Je)?(me.marked="keyword",_e(ei)):C&&Oe=="this"?_e(jt,rr):Ve(mn,jt,rr)}function Wr(Oe,Je){return Oe=="variable"?Ni(Oe,Je):Ko(Oe,Je)}function Ni(Oe,Je){if(Oe=="variable")return St(Je),_e(Ko)}function Ko(Oe,Je){if(Je=="<")return _e(Vt(">"),Re(mt,">"),Jt,Ko);if(Je=="extends"||Je=="implements"||C&&Oe==",")return Je=="implements"&&(me.marked="keyword"),_e(C?ve:Qe,Ko);if(Oe=="{")return _e(Vt("}"),aa,Jt)}function aa(Oe,Je){if(Oe=="async"||Oe=="variable"&&(Je=="static"||Je=="get"||Je=="set"||C&&ft(Je))&&me.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return me.marked="keyword",_e(aa);if(Oe=="variable"||me.style=="keyword")return me.marked="property",_e(yo,aa);if(Oe=="number"||Oe=="string")return _e(yo,aa);if(Oe=="[")return _e(Qe,jt,Le("]"),yo,aa);if(Je=="*")return me.marked="keyword",_e(aa);if(C&&Oe=="(")return Ve(ti,aa);if(Oe==";"||Oe==",")return _e(aa);if(Oe=="}")return _e();if(Je=="@")return _e(Qe,aa)}function yo(Oe,Je){if(Je=="!"||Je=="?")return _e(yo);if(Oe==":")return _e(ve,rr);if(Je=="=")return _e(st);var rn=me.state.lexical.prev,pn=rn&&rn.info=="interface";return Ve(pn?ti:Er)}function qa(Oe,Je){return Je=="*"?(me.marked="keyword",_e(Va,Le(";"))):Je=="default"?(me.marked="keyword",_e(Qe,Le(";"))):Oe=="{"?_e(Re(Wi,"}"),Va,Le(";")):Ve(ye)}function Wi(Oe,Je){if(Je=="as")return me.marked="keyword",_e(Le("variable"));if(Oe=="variable")return Ve(st,Wi)}function Ho(Oe){return Oe=="string"?_e():Oe=="("?Ve(Qe):Oe=="."?Ve(Wt):Ve(Ma,Gi,Va)}function Ma(Oe,Je){return Oe=="{"?ut(Ma,"}"):(Oe=="variable"&&St(Je),Je=="*"&&(me.marked="keyword"),_e(sa))}function Gi(Oe){if(Oe==",")return _e(Ma,Gi)}function sa(Oe,Je){if(Je=="as")return me.marked="keyword",_e(Ma)}function Va(Oe,Je){if(Je=="from")return me.marked="keyword",_e(Qe)}function ci(Oe){return Oe=="]"?_e():Ve(Re(st,"]"))}function er(){return Ve(Vt("form"),mn,Le("{"),Vt("}"),Re(jo,"}"),Jt,Jt)}function jo(){return Ve(mn,rr)}function co(Oe,Je){return Oe.lastType=="operator"||Oe.lastType==","||K.test(Je.charAt(0))||/[,.]/.test(Je.charAt(0))}function Qi(Oe,Je,rn){return Je.tokenize==ne&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Je.lastType)||Je.lastType=="quasi"&&/\{\s*$/.test(Oe.string.slice(0,Oe.pos-(rn||0)))}return{startState:function(Oe){var Je={tokenize:ne,lastType:"sof",cc:[],lexical:new be((Oe||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new $e(null,null,!1),indented:Oe||0};return i.globalVars&&typeof i.globalVars=="object"&&(Je.globalVars=i.globalVars),Je},token:function(Oe,Je){if(Oe.sol()&&(Je.lexical.hasOwnProperty("align")||(Je.lexical.align=!1),Je.indented=Oe.indentation(),X(Oe,Je)),Je.tokenize!=ge&&Oe.eatSpace())return null;var rn=Je.tokenize(Oe,Je);return ee=="comment"?rn:(Je.lastType=ee=="operator"&&(V=="++"||V=="--")?"incdec":ee,Ue(Je,rn,ee,V,Oe))},indent:function(Oe,Je){if(Oe.tokenize==ge||Oe.tokenize==fe)return t.Pass;if(Oe.tokenize!=ne)return 0;var rn=Je&&Je.charAt(0),pn=Oe.lexical,Pt;if(!/^\s*else\b/.test(Je))for(var En=Oe.cc.length-1;En>=0;--En){var Hr=Oe.cc[En];if(Hr==Jt)pn=pn.prev;else if(Hr!=oi&&Hr!=Et)break}for(;(pn.type=="stat"||pn.type=="form")&&(rn=="}"||(Pt=Oe.cc[Oe.cc.length-1])&&(Pt==Wt||Pt==Rn)&&!/^[,\.=+\-*:?[\(]/.test(Je));)pn=pn.prev;s&&pn.type==")"&&pn.prev.type=="stat"&&(pn=pn.prev);var Yr=pn.type,ni=rn==Yr;return Yr=="vardef"?pn.indented+(Oe.lastType=="operator"||Oe.lastType==","?pn.info.length+1:0):Yr=="form"&&rn=="{"?pn.indented:Yr=="form"?pn.indented+o:Yr=="stat"?pn.indented+(co(Oe,Je)?s||o:0):pn.info=="switch"&&!ni&&i.doubleIndentSwitch!=!1?pn.indented+(/^(?:case|default)\b/.test(Je)?o:2*o):pn.align?pn.column+(ni?0:1):pn.indented+(ni?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:a,jsonMode:f,expressionAllowed:Qi,skipExpression:function(Oe){Ue(Oe,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(n,e){(function(t){t(SM())})(function(t){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(H,X,Me){var be=document.createElement("div");be.className="CodeMirror-lint-tooltip cm-s-"+H.options.theme,be.appendChild(Me.cloneNode(!0)),H.state.lint.options.selfContain?H.getWrapperElement().appendChild(be):document.body.appendChild(be);function Fe(Ue){if(!be.parentNode)return t.off(document,"mousemove",Fe);var me=Math.max(0,Ue.clientY-be.offsetHeight-5),Ve=Math.max(0,Math.min(Ue.clientX+5,be.ownerDocument.defaultView.innerWidth-be.offsetWidth));be.style.top=me+"px",be.style.left=Ve+"px"}return t.on(document,"mousemove",Fe),Fe(X),be.style.opacity!=null&&(be.style.opacity=1),be}function s(H){H.parentNode&&H.parentNode.removeChild(H)}function a(H){H.parentNode&&(H.style.opacity==null&&s(H),H.style.opacity=0,setTimeout(function(){s(H)},600))}function f(H,X,Me,be){var Fe=o(H,X,Me);function Ue(){t.off(be,"mouseout",Ue),Fe&&(a(Fe),Fe=null)}var me=setInterval(function(){if(Fe)for(var Ve=be;;Ve=Ve.parentNode){if(Ve&&Ve.nodeType==11&&(Ve=Ve.host),Ve==document.body)return;if(!Ve){Ue();break}}if(!Fe)return clearInterval(me)},400);t.on(be,"mouseout",Ue)}function m(H,X,Me){this.marked=[],X instanceof Function&&(X={getAnnotations:X}),(!X||X===!0)&&(X={}),this.options={},this.linterOptions=X.options||{};for(var be in C)this.options[be]=C[be];for(var be in X)C.hasOwnProperty(be)?X[be]!=null&&(this.options[be]=X[be]):X.options||(this.linterOptions[be]=X[be]);this.timeout=null,this.hasGutter=Me,this.onMouseOver=function(Fe){fe(H,Fe)},this.waitingFor=0}var C={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function B(H){var X=H.state.lint;X.hasGutter&&H.clearGutter(r),X.options.highlightLines&&I(H);for(var Me=0;Me<X.marked.length;++Me)X.marked[Me].clear();X.marked.length=0}function I(H){H.eachLine(function(X){var Me=X.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(X.wrapClass);Me&&H.removeLineClass(X,"wrap",Me[0])})}function K(H,X,Me,be,Fe){var Ue=document.createElement("div"),me=Ue;return Ue.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+Me,be&&(me=Ue.appendChild(document.createElement("div")),me.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),Fe!=!1&&t.on(me,"mouseover",function(Ve){f(H,Ve,X,me)}),Ue}function L(H,X){return H=="error"?H:X}function Y(H){for(var X=[],Me=0;Me<H.length;++Me){var be=H[Me],Fe=be.from.line;(X[Fe]||(X[Fe]=[])).push(be)}return X}function ee(H){var X=H.severity;X||(X="error");var Me=document.createElement("div");return Me.className="CodeMirror-lint-message CodeMirror-lint-message-"+X,typeof H.messageHTML<"u"?Me.innerHTML=H.messageHTML:Me.appendChild(document.createTextNode(H.message)),Me}function V(H,X){var Me=H.state.lint,be=++Me.waitingFor;function Fe(){be=-1,H.off("change",Fe)}H.on("change",Fe),X(H.getValue(),function(Ue,me){H.off("change",Fe),Me.waitingFor==be&&(me&&Ue instanceof t&&(Ue=me),H.operation(function(){ne(H,Ue)}))},Me.linterOptions,H)}function W(H){var X=H.state.lint;if(X){var Me=X.options,be=Me.getAnnotations||H.getHelper(t.Pos(0,0),"lint");if(be)if(Me.async||be.async)V(H,be);else{var Fe=be(H.getValue(),X.linterOptions,H);if(!Fe)return;Fe.then?Fe.then(function(Ue){H.operation(function(){ne(H,Ue)})}):H.operation(function(){ne(H,Fe)})}}}function ne(H,X){var Me=H.state.lint;if(Me){var be=Me.options;B(H);for(var Fe=Y(X),Ue=0;Ue<Fe.length;++Ue){var me=Fe[Ue];if(me){for(var Ve=null,_e=Me.hasGutter&&document.createDocumentFragment(),Ot=0;Ot<me.length;++Ot){var St=me[Ot],_t=St.severity;_t||(_t="error"),Ve=L(Ve,_t),be.formatAnnotation&&(St=be.formatAnnotation(St)),Me.hasGutter&&_e.appendChild(ee(St)),St.to&&Me.marked.push(H.markText(St.from,St.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+_t,__annotation:St}))}Me.hasGutter&&H.setGutterMarker(Ue,r,K(H,_e,Ve,me.length>1,be.tooltips)),be.highlightLines&&H.addLineClass(Ue,"wrap",i+Ve)}}be.onUpdateLinting&&be.onUpdateLinting(X,Fe,H)}}function ce(H){var X=H.state.lint;X&&(clearTimeout(X.timeout),X.timeout=setTimeout(function(){W(H)},X.options.delay))}function ge(H,X,Me){for(var be=Me.target||Me.srcElement,Fe=document.createDocumentFragment(),Ue=0;Ue<X.length;Ue++){var me=X[Ue];Fe.appendChild(ee(me))}f(H,Me,Fe,be)}function fe(H,X){var Me=X.target||X.srcElement;if(/\bCodeMirror-lint-mark-/.test(Me.className)){for(var be=Me.getBoundingClientRect(),Fe=(be.left+be.right)/2,Ue=(be.top+be.bottom)/2,me=H.findMarksAt(H.coordsChar({left:Fe,top:Ue},"client")),Ve=[],_e=0;_e<me.length;++_e){var Ot=me[_e].__annotation;Ot&&Ve.push(Ot)}Ve.length&&ge(H,Ve,X)}}t.defineOption("lint",!1,function(H,X,Me){if(Me&&Me!=t.Init&&(B(H),H.state.lint.options.lintOnChange!==!1&&H.off("change",ce),t.off(H.getWrapperElement(),"mouseover",H.state.lint.onMouseOver),clearTimeout(H.state.lint.timeout),delete H.state.lint),X){for(var be=H.getOption("gutters"),Fe=!1,Ue=0;Ue<be.length;++Ue)be[Ue]==r&&(Fe=!0);var me=H.state.lint=new m(H,X,Fe);me.options.lintOnChange&&H.on("change",ce),me.options.tooltips!=!1&&me.options.tooltips!="gutter"&&t.on(H.getWrapperElement(),"mouseover",me.onMouseOver),W(H)}}),t.defineExtension("performLint",function(){W(this)})})})();(function(n,e){(function(t){t(SM())})(function(t){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=t.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function s(I){return I&&I.bracketRegex||/[(){}[\]]/}function a(I,K,L){var Y=I.getLineHandle(K.line),ee=K.ch-1,V=L&&L.afterCursor;V==null&&(V=/(^| )cm-fat-cursor($| )/.test(I.getWrapperElement().className));var W=s(L),ne=!V&&ee>=0&&W.test(Y.text.charAt(ee))&&o[Y.text.charAt(ee)]||W.test(Y.text.charAt(ee+1))&&o[Y.text.charAt(++ee)];if(!ne)return null;var ce=ne.charAt(1)==">"?1:-1;if(L&&L.strict&&ce>0!=(ee==K.ch))return null;var ge=I.getTokenTypeAt(i(K.line,ee+1)),fe=f(I,i(K.line,ee+(ce>0?1:0)),ce,ge,L);return fe==null?null:{from:i(K.line,ee),to:fe&&fe.pos,match:fe&&fe.ch==ne.charAt(0),forward:ce>0}}function f(I,K,L,Y,ee){for(var V=ee&&ee.maxScanLineLength||1e4,W=ee&&ee.maxScanLines||1e3,ne=[],ce=s(ee),ge=L>0?Math.min(K.line+W,I.lastLine()+1):Math.max(I.firstLine()-1,K.line-W),fe=K.line;fe!=ge;fe+=L){var H=I.getLine(fe);if(H){var X=L>0?0:H.length-1,Me=L>0?H.length:-1;if(!(H.length>V))for(fe==K.line&&(X=K.ch-(L<0?1:0));X!=Me;X+=L){var be=H.charAt(X);if(ce.test(be)&&(Y===void 0||(I.getTokenTypeAt(i(fe,X+1))||"")==(Y||""))){var Fe=o[be];if(Fe&&Fe.charAt(1)==">"==L>0)ne.push(be);else if(ne.length)ne.pop();else return{pos:i(fe,X),ch:be}}}}}return fe-L==(L>0?I.lastLine():I.firstLine())?!1:null}function m(I,K,L){for(var Y=I.state.matchBrackets.maxHighlightLineLength||1e3,ee=L&&L.highlightNonMatching,V=[],W=I.listSelections(),ne=0;ne<W.length;ne++){var ce=W[ne].empty()&&a(I,W[ne].head,L);if(ce&&(ce.match||ee!==!1)&&I.getLine(ce.from.line).length<=Y){var ge=ce.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";V.push(I.markText(ce.from,i(ce.from.line,ce.from.ch+1),{className:ge})),ce.to&&I.getLine(ce.to.line).length<=Y&&V.push(I.markText(ce.to,i(ce.to.line,ce.to.ch+1),{className:ge}))}}if(V.length){r&&I.state.focused&&I.focus();var fe=function(){I.operation(function(){for(var H=0;H<V.length;H++)V[H].clear()})};if(K)setTimeout(fe,800);else return fe}}function C(I){I.operation(function(){I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null),I.state.matchBrackets.currentlyHighlighted=m(I,!1,I.state.matchBrackets)})}function B(I){I.state.matchBrackets&&I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(I,K,L){L&&L!=t.Init&&(I.off("cursorActivity",C),I.off("focus",C),I.off("blur",B),B(I)),K&&(I.state.matchBrackets=typeof K=="object"?K:{},I.on("cursorActivity",C),I.on("focus",C),I.on("blur",B))}),t.defineExtension("matchBrackets",function(){m(this,!0)}),t.defineExtension("findMatchingBracket",function(I,K,L){return(L||typeof K=="boolean")&&(L?(L.strict=K,K=L):K=K?{strict:!0}:null),a(this,I,K)}),t.defineExtension("scanForBracket",function(I,K,L,Y){return f(this,I,K,L,Y)})})})();const w1e=/("(?:[^\\"]|\\.)*")|[:,]/g;function XQ(n,e={}){const t=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),r=t===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:i}=e;return function o(s,a,f){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const m=JSON.stringify(s,i);if(m===void 0)return m;const C=r-a.length-f;if(m.length<=C){const B=m.replace(w1e,(I,K)=>K||`${I} `);if(B.length<=C)return B}if(i!=null&&(s=JSON.parse(m),i=void 0),typeof s=="object"&&s!==null){const B=a+t,I=[];let K=0,L,Y;if(Array.isArray(s)){L="[",Y="]";const{length:ee}=s;for(;K<ee;K++)I.push(o(s[K],B,K===ee-1?0:1)||"null")}else{L="{",Y="}";const ee=Object.keys(s),{length:V}=ee;for(;K<V;K++){const W=ee[K],ne=`${JSON.stringify(W)}: `,ce=o(s[W],B,ne.length+(K===V-1?0:1));ce!==void 0&&I.push(ne+ce)}}if(I.length>0)return[L,t+I.join(`,
${B}`),Y].join(`
${a}`)}return m}(n,"",0)}function M1e(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var JQ={};(function(n){var e=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,s,a,f,m,C,B){var I=C.length-1;switch(m){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=C[I-1];case 13:this.$={};break;case 14:this.$=C[I-1];break;case 15:this.$=[C[I-2],C[I]];break;case 16:this.$={},this.$[C[I][0]]=C[I][1];break;case 17:this.$=C[I-2],C[I-2][C[I][0]]=C[I][1];break;case 18:this.$=[];break;case 19:this.$=C[I-1];break;case 20:this.$=[C[I]];break;case 21:this.$=C[I-2],C[I-2].push(C[I]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,s){throw new Error(o)},parse:function(o){var s=this,a=[0],f=[null],m=[],C=this.table,B="",I=0,K=0,L=0,Y=2,ee=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var V=this.lexer.yylloc;m.push(V),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function W(_e){a.length=a.length-2*_e,f.length=f.length-_e,m.length=m.length-_e}function ne(){var _e;return _e=s.lexer.lex()||1,typeof _e!="number"&&(_e=s.symbols_[_e]||_e),_e}for(var ce,ge,fe,H,X,Me={},be,Fe,Ue,me;;){if(fe=a[a.length-1],this.defaultActions[fe]?H=this.defaultActions[fe]:(ce==null&&(ce=ne()),H=C[fe]&&C[fe][ce]),typeof H>"u"||!H.length||!H[0]){if(!L){me=[];for(be in C[fe])this.terminals_[be]&&be>2&&me.push("'"+this.terminals_[be]+"'");var Ve="";this.lexer.showPosition?Ve="Parse error on line "+(I+1)+`:
`+this.lexer.showPosition()+`
Expecting `+me.join(", ")+", got '"+this.terminals_[ce]+"'":Ve="Parse error on line "+(I+1)+": Unexpected "+(ce==1?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(Ve,{text:this.lexer.match,token:this.terminals_[ce]||ce,line:this.lexer.yylineno,loc:V,expected:me})}if(L==3){if(ce==ee)throw new Error(Ve||"Parsing halted.");K=this.lexer.yyleng,B=this.lexer.yytext,I=this.lexer.yylineno,V=this.lexer.yylloc,ce=ne()}for(;!(Y.toString()in C[fe]);){if(fe==0)throw new Error(Ve||"Parsing halted.");W(1),fe=a[a.length-1]}ge=ce,ce=Y,fe=a[a.length-1],H=C[fe]&&C[fe][Y],L=3}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+fe+", token: "+ce);switch(H[0]){case 1:a.push(ce),f.push(this.lexer.yytext),m.push(this.lexer.yylloc),a.push(H[1]),ce=null,ge?(ce=ge,ge=null):(K=this.lexer.yyleng,B=this.lexer.yytext,I=this.lexer.yylineno,V=this.lexer.yylloc,L>0&&L--);break;case 2:if(Fe=this.productions_[H[1]][1],Me.$=f[f.length-Fe],Me._$={first_line:m[m.length-(Fe||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(Fe||1)].first_column,last_column:m[m.length-1].last_column},X=this.performAction.call(Me,B,K,I,this.yy,H[1],f,m),typeof X<"u")return X;Fe&&(a=a.slice(0,-1*Fe*2),f=f.slice(0,-1*Fe),m=m.slice(0,-1*Fe)),a.push(this.productions_[H[1]][0]),f.push(Me.$),m.push(Me._$),Ue=C[a[a.length-2]][a[a.length-1]],a.push(Ue);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(s,a){if(this.yy.parseError)this.yy.parseError(s,a);else throw new Error(s)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var s=o.match(/\n/);return s&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),s=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+s+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,s,a,f,m;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),B=0;B<C.length&&(a=this._input.match(this.rules[C[B]]),!(a&&(!s||a[0].length>s[0].length)&&(s=a,f=B,!this.options.flex)));B++);if(s)return m=s[0].match(/\n.*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-1:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],o=this.performAction.call(this,this.yy,this,C[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return i.options={},i.performAction=function(s,a,f,m){switch(f){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return t.lexer=r,t}();typeof M1e<"u"&&(n.parser=e,n.parse=e.parse.bind(e))})(JQ);const y8=wa(JQ);var e$={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Bp,function(){var t=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(ye,Te){return Te={exports:{}},ye(Te,Te.exports),Te.exports}var i=r(function(ye){function Te(){var Qe=0,st=1,lt=2,Kt=3,Ht=4,Wt=5,Rn=6,nr=7,_n=8,tr=9,ur=10,_r=11,Sr=12,fr=13,pr=14,fi=15,Pe=16,Q=17,oe=0,Re=1,ut=2,Tt=3,jt=4;function ar(p,Ke){return 55296<=p.charCodeAt(Ke)&&p.charCodeAt(Ke)<=56319&&56320<=p.charCodeAt(Ke+1)&&p.charCodeAt(Ke+1)<=57343}function ht(p,Ke){Ke===void 0&&(Ke=0);var ze=p.charCodeAt(Ke);if(55296<=ze&&ze<=56319&&Ke<p.length-1){var it=ze,dt=p.charCodeAt(Ke+1);return 56320<=dt&&dt<=57343?(it-55296)*1024+(dt-56320)+65536:it}if(56320<=ze&&ze<=57343&&Ke>=1){var it=p.charCodeAt(Ke-1),dt=ze;return 55296<=it&&it<=56319?(it-55296)*1024+(dt-56320)+65536:dt}return ze}function Ee(p,Ke,ze){var it=[p].concat(Ke).concat([ze]),dt=it[it.length-2],ot=ze,Ft=it.lastIndexOf(pr);if(Ft>1&&it.slice(1,Ft).every(function(Bt){return Bt==Kt})&&[Kt,fr,Q].indexOf(p)==-1)return ut;var rt=it.lastIndexOf(Ht);if(rt>0&&it.slice(1,rt).every(function(Bt){return Bt==Ht})&&[Sr,Ht].indexOf(dt)==-1)return it.filter(function(Bt){return Bt==Ht}).length%2==1?Tt:jt;if(dt==Qe&&ot==st)return oe;if(dt==lt||dt==Qe||dt==st)return ot==pr&&Ke.every(function(Bt){return Bt==Kt})?ut:Re;if(ot==lt||ot==Qe||ot==st)return Re;if(dt==Rn&&(ot==Rn||ot==nr||ot==tr||ot==ur))return oe;if((dt==tr||dt==nr)&&(ot==nr||ot==_n))return oe;if((dt==ur||dt==_n)&&ot==_n)return oe;if(ot==Kt||ot==fi)return oe;if(ot==Wt)return oe;if(dt==Sr)return oe;var mt=it.indexOf(Kt)!=-1?it.lastIndexOf(Kt)-1:it.length-2;return[fr,Q].indexOf(it[mt])!=-1&&it.slice(mt+1,-1).every(function(Bt){return Bt==Kt})&&ot==pr||dt==fi&&[Pe,Q].indexOf(ot)!=-1?oe:Ke.indexOf(Ht)!=-1?ut:dt==Ht&&ot==Ht?oe:Re}this.nextBreak=function(p,Ke){if(Ke===void 0&&(Ke=0),Ke<0)return 0;if(Ke>=p.length-1)return p.length;for(var ze=ve(ht(p,Ke)),it=[],dt=Ke+1;dt<p.length;dt++)if(!ar(p,dt-1)){var ot=ve(ht(p,dt));if(Ee(ze,it,ot))return dt;it.push(ot)}return p.length},this.splitGraphemes=function(p){for(var Ke=[],ze=0,it;(it=this.nextBreak(p,ze))<p.length;)Ke.push(p.slice(ze,it)),ze=it;return ze<p.length&&Ke.push(p.slice(ze)),Ke},this.iterateGraphemes=function(p){var Ke=0,ze={next:(function(){var it,dt;return(dt=this.nextBreak(p,Ke))<p.length?(it=p.slice(Ke,dt),Ke=dt,{value:it,done:!1}):Ke<p.length?(it=p.slice(Ke),Ke=p.length,{value:it,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(ze[Symbol.iterator]=function(){return ze}),ze},this.countGraphemes=function(p){for(var Ke=0,ze=0,it;(it=this.nextBreak(p,ze))<p.length;)ze=it,Ke++;return ze<p.length&&Ke++,Ke};function ve(p){return 1536<=p&&p<=1541||p==1757||p==1807||p==2274||p==3406||p==69821||70082<=p&&p<=70083||p==72250||72326<=p&&p<=72329||p==73030?Sr:p==13?Qe:p==10?st:0<=p&&p<=9||11<=p&&p<=12||14<=p&&p<=31||127<=p&&p<=159||p==173||p==1564||p==6158||p==8203||8206<=p&&p<=8207||p==8232||p==8233||8234<=p&&p<=8238||8288<=p&&p<=8292||p==8293||8294<=p&&p<=8303||55296<=p&&p<=57343||p==65279||65520<=p&&p<=65528||65529<=p&&p<=65531||113824<=p&&p<=113827||119155<=p&&p<=119162||p==917504||p==917505||917506<=p&&p<=917535||917632<=p&&p<=917759||918e3<=p&&p<=921599?lt:768<=p&&p<=879||1155<=p&&p<=1159||1160<=p&&p<=1161||1425<=p&&p<=1469||p==1471||1473<=p&&p<=1474||1476<=p&&p<=1477||p==1479||1552<=p&&p<=1562||1611<=p&&p<=1631||p==1648||1750<=p&&p<=1756||1759<=p&&p<=1764||1767<=p&&p<=1768||1770<=p&&p<=1773||p==1809||1840<=p&&p<=1866||1958<=p&&p<=1968||2027<=p&&p<=2035||2070<=p&&p<=2073||2075<=p&&p<=2083||2085<=p&&p<=2087||2089<=p&&p<=2093||2137<=p&&p<=2139||2260<=p&&p<=2273||2275<=p&&p<=2306||p==2362||p==2364||2369<=p&&p<=2376||p==2381||2385<=p&&p<=2391||2402<=p&&p<=2403||p==2433||p==2492||p==2494||2497<=p&&p<=2500||p==2509||p==2519||2530<=p&&p<=2531||2561<=p&&p<=2562||p==2620||2625<=p&&p<=2626||2631<=p&&p<=2632||2635<=p&&p<=2637||p==2641||2672<=p&&p<=2673||p==2677||2689<=p&&p<=2690||p==2748||2753<=p&&p<=2757||2759<=p&&p<=2760||p==2765||2786<=p&&p<=2787||2810<=p&&p<=2815||p==2817||p==2876||p==2878||p==2879||2881<=p&&p<=2884||p==2893||p==2902||p==2903||2914<=p&&p<=2915||p==2946||p==3006||p==3008||p==3021||p==3031||p==3072||3134<=p&&p<=3136||3142<=p&&p<=3144||3146<=p&&p<=3149||3157<=p&&p<=3158||3170<=p&&p<=3171||p==3201||p==3260||p==3263||p==3266||p==3270||3276<=p&&p<=3277||3285<=p&&p<=3286||3298<=p&&p<=3299||3328<=p&&p<=3329||3387<=p&&p<=3388||p==3390||3393<=p&&p<=3396||p==3405||p==3415||3426<=p&&p<=3427||p==3530||p==3535||3538<=p&&p<=3540||p==3542||p==3551||p==3633||3636<=p&&p<=3642||3655<=p&&p<=3662||p==3761||3764<=p&&p<=3769||3771<=p&&p<=3772||3784<=p&&p<=3789||3864<=p&&p<=3865||p==3893||p==3895||p==3897||3953<=p&&p<=3966||3968<=p&&p<=3972||3974<=p&&p<=3975||3981<=p&&p<=3991||3993<=p&&p<=4028||p==4038||4141<=p&&p<=4144||4146<=p&&p<=4151||4153<=p&&p<=4154||4157<=p&&p<=4158||4184<=p&&p<=4185||4190<=p&&p<=4192||4209<=p&&p<=4212||p==4226||4229<=p&&p<=4230||p==4237||p==4253||4957<=p&&p<=4959||5906<=p&&p<=5908||5938<=p&&p<=5940||5970<=p&&p<=5971||6002<=p&&p<=6003||6068<=p&&p<=6069||6071<=p&&p<=6077||p==6086||6089<=p&&p<=6099||p==6109||6155<=p&&p<=6157||6277<=p&&p<=6278||p==6313||6432<=p&&p<=6434||6439<=p&&p<=6440||p==6450||6457<=p&&p<=6459||6679<=p&&p<=6680||p==6683||p==6742||6744<=p&&p<=6750||p==6752||p==6754||6757<=p&&p<=6764||6771<=p&&p<=6780||p==6783||6832<=p&&p<=6845||p==6846||6912<=p&&p<=6915||p==6964||6966<=p&&p<=6970||p==6972||p==6978||7019<=p&&p<=7027||7040<=p&&p<=7041||7074<=p&&p<=7077||7080<=p&&p<=7081||7083<=p&&p<=7085||p==7142||7144<=p&&p<=7145||p==7149||7151<=p&&p<=7153||7212<=p&&p<=7219||7222<=p&&p<=7223||7376<=p&&p<=7378||7380<=p&&p<=7392||7394<=p&&p<=7400||p==7405||p==7412||7416<=p&&p<=7417||7616<=p&&p<=7673||7675<=p&&p<=7679||p==8204||8400<=p&&p<=8412||8413<=p&&p<=8416||p==8417||8418<=p&&p<=8420||8421<=p&&p<=8432||11503<=p&&p<=11505||p==11647||11744<=p&&p<=11775||12330<=p&&p<=12333||12334<=p&&p<=12335||12441<=p&&p<=12442||p==42607||42608<=p&&p<=42610||42612<=p&&p<=42621||42654<=p&&p<=42655||42736<=p&&p<=42737||p==43010||p==43014||p==43019||43045<=p&&p<=43046||43204<=p&&p<=43205||43232<=p&&p<=43249||43302<=p&&p<=43309||43335<=p&&p<=43345||43392<=p&&p<=43394||p==43443||43446<=p&&p<=43449||p==43452||p==43493||43561<=p&&p<=43566||43569<=p&&p<=43570||43573<=p&&p<=43574||p==43587||p==43596||p==43644||p==43696||43698<=p&&p<=43700||43703<=p&&p<=43704||43710<=p&&p<=43711||p==43713||43756<=p&&p<=43757||p==43766||p==44005||p==44008||p==44013||p==64286||65024<=p&&p<=65039||65056<=p&&p<=65071||65438<=p&&p<=65439||p==66045||p==66272||66422<=p&&p<=66426||68097<=p&&p<=68099||68101<=p&&p<=68102||68108<=p&&p<=68111||68152<=p&&p<=68154||p==68159||68325<=p&&p<=68326||p==69633||69688<=p&&p<=69702||69759<=p&&p<=69761||69811<=p&&p<=69814||69817<=p&&p<=69818||69888<=p&&p<=69890||69927<=p&&p<=69931||69933<=p&&p<=69940||p==70003||70016<=p&&p<=70017||70070<=p&&p<=70078||70090<=p&&p<=70092||70191<=p&&p<=70193||p==70196||70198<=p&&p<=70199||p==70206||p==70367||70371<=p&&p<=70378||70400<=p&&p<=70401||p==70460||p==70462||p==70464||p==70487||70502<=p&&p<=70508||70512<=p&&p<=70516||70712<=p&&p<=70719||70722<=p&&p<=70724||p==70726||p==70832||70835<=p&&p<=70840||p==70842||p==70845||70847<=p&&p<=70848||70850<=p&&p<=70851||p==71087||71090<=p&&p<=71093||71100<=p&&p<=71101||71103<=p&&p<=71104||71132<=p&&p<=71133||71219<=p&&p<=71226||p==71229||71231<=p&&p<=71232||p==71339||p==71341||71344<=p&&p<=71349||p==71351||71453<=p&&p<=71455||71458<=p&&p<=71461||71463<=p&&p<=71467||72193<=p&&p<=72198||72201<=p&&p<=72202||72243<=p&&p<=72248||72251<=p&&p<=72254||p==72263||72273<=p&&p<=72278||72281<=p&&p<=72283||72330<=p&&p<=72342||72344<=p&&p<=72345||72752<=p&&p<=72758||72760<=p&&p<=72765||p==72767||72850<=p&&p<=72871||72874<=p&&p<=72880||72882<=p&&p<=72883||72885<=p&&p<=72886||73009<=p&&p<=73014||p==73018||73020<=p&&p<=73021||73023<=p&&p<=73029||p==73031||92912<=p&&p<=92916||92976<=p&&p<=92982||94095<=p&&p<=94098||113821<=p&&p<=113822||p==119141||119143<=p&&p<=119145||119150<=p&&p<=119154||119163<=p&&p<=119170||119173<=p&&p<=119179||119210<=p&&p<=119213||119362<=p&&p<=119364||121344<=p&&p<=121398||121403<=p&&p<=121452||p==121461||p==121476||121499<=p&&p<=121503||121505<=p&&p<=121519||122880<=p&&p<=122886||122888<=p&&p<=122904||122907<=p&&p<=122913||122915<=p&&p<=122916||122918<=p&&p<=122922||125136<=p&&p<=125142||125252<=p&&p<=125258||917536<=p&&p<=917631||917760<=p&&p<=917999?Kt:127462<=p&&p<=127487?Ht:p==2307||p==2363||2366<=p&&p<=2368||2377<=p&&p<=2380||2382<=p&&p<=2383||2434<=p&&p<=2435||2495<=p&&p<=2496||2503<=p&&p<=2504||2507<=p&&p<=2508||p==2563||2622<=p&&p<=2624||p==2691||2750<=p&&p<=2752||p==2761||2763<=p&&p<=2764||2818<=p&&p<=2819||p==2880||2887<=p&&p<=2888||2891<=p&&p<=2892||p==3007||3009<=p&&p<=3010||3014<=p&&p<=3016||3018<=p&&p<=3020||3073<=p&&p<=3075||3137<=p&&p<=3140||3202<=p&&p<=3203||p==3262||3264<=p&&p<=3265||3267<=p&&p<=3268||3271<=p&&p<=3272||3274<=p&&p<=3275||3330<=p&&p<=3331||3391<=p&&p<=3392||3398<=p&&p<=3400||3402<=p&&p<=3404||3458<=p&&p<=3459||3536<=p&&p<=3537||3544<=p&&p<=3550||3570<=p&&p<=3571||p==3635||p==3763||3902<=p&&p<=3903||p==3967||p==4145||4155<=p&&p<=4156||4182<=p&&p<=4183||p==4228||p==6070||6078<=p&&p<=6085||6087<=p&&p<=6088||6435<=p&&p<=6438||6441<=p&&p<=6443||6448<=p&&p<=6449||6451<=p&&p<=6456||6681<=p&&p<=6682||p==6741||p==6743||6765<=p&&p<=6770||p==6916||p==6965||p==6971||6973<=p&&p<=6977||6979<=p&&p<=6980||p==7042||p==7073||7078<=p&&p<=7079||p==7082||p==7143||7146<=p&&p<=7148||p==7150||7154<=p&&p<=7155||7204<=p&&p<=7211||7220<=p&&p<=7221||p==7393||7410<=p&&p<=7411||p==7415||43043<=p&&p<=43044||p==43047||43136<=p&&p<=43137||43188<=p&&p<=43203||43346<=p&&p<=43347||p==43395||43444<=p&&p<=43445||43450<=p&&p<=43451||43453<=p&&p<=43456||43567<=p&&p<=43568||43571<=p&&p<=43572||p==43597||p==43755||43758<=p&&p<=43759||p==43765||44003<=p&&p<=44004||44006<=p&&p<=44007||44009<=p&&p<=44010||p==44012||p==69632||p==69634||p==69762||69808<=p&&p<=69810||69815<=p&&p<=69816||p==69932||p==70018||70067<=p&&p<=70069||70079<=p&&p<=70080||70188<=p&&p<=70190||70194<=p&&p<=70195||p==70197||70368<=p&&p<=70370||70402<=p&&p<=70403||p==70463||70465<=p&&p<=70468||70471<=p&&p<=70472||70475<=p&&p<=70477||70498<=p&&p<=70499||70709<=p&&p<=70711||70720<=p&&p<=70721||p==70725||70833<=p&&p<=70834||p==70841||70843<=p&&p<=70844||p==70846||p==70849||71088<=p&&p<=71089||71096<=p&&p<=71099||p==71102||71216<=p&&p<=71218||71227<=p&&p<=71228||p==71230||p==71340||71342<=p&&p<=71343||p==71350||71456<=p&&p<=71457||p==71462||72199<=p&&p<=72200||p==72249||72279<=p&&p<=72280||p==72343||p==72751||p==72766||p==72873||p==72881||p==72884||94033<=p&&p<=94078||p==119142||p==119149?Wt:4352<=p&&p<=4447||43360<=p&&p<=43388?Rn:4448<=p&&p<=4519||55216<=p&&p<=55238?nr:4520<=p&&p<=4607||55243<=p&&p<=55291?_n:p==44032||p==44060||p==44088||p==44116||p==44144||p==44172||p==44200||p==44228||p==44256||p==44284||p==44312||p==44340||p==44368||p==44396||p==44424||p==44452||p==44480||p==44508||p==44536||p==44564||p==44592||p==44620||p==44648||p==44676||p==44704||p==44732||p==44760||p==44788||p==44816||p==44844||p==44872||p==44900||p==44928||p==44956||p==44984||p==45012||p==45040||p==45068||p==45096||p==45124||p==45152||p==45180||p==45208||p==45236||p==45264||p==45292||p==45320||p==45348||p==45376||p==45404||p==45432||p==45460||p==45488||p==45516||p==45544||p==45572||p==45600||p==45628||p==45656||p==45684||p==45712||p==45740||p==45768||p==45796||p==45824||p==45852||p==45880||p==45908||p==45936||p==45964||p==45992||p==46020||p==46048||p==46076||p==46104||p==46132||p==46160||p==46188||p==46216||p==46244||p==46272||p==46300||p==46328||p==46356||p==46384||p==46412||p==46440||p==46468||p==46496||p==46524||p==46552||p==46580||p==46608||p==46636||p==46664||p==46692||p==46720||p==46748||p==46776||p==46804||p==46832||p==46860||p==46888||p==46916||p==46944||p==46972||p==47e3||p==47028||p==47056||p==47084||p==47112||p==47140||p==47168||p==47196||p==47224||p==47252||p==47280||p==47308||p==47336||p==47364||p==47392||p==47420||p==47448||p==47476||p==47504||p==47532||p==47560||p==47588||p==47616||p==47644||p==47672||p==47700||p==47728||p==47756||p==47784||p==47812||p==47840||p==47868||p==47896||p==47924||p==47952||p==47980||p==48008||p==48036||p==48064||p==48092||p==48120||p==48148||p==48176||p==48204||p==48232||p==48260||p==48288||p==48316||p==48344||p==48372||p==48400||p==48428||p==48456||p==48484||p==48512||p==48540||p==48568||p==48596||p==48624||p==48652||p==48680||p==48708||p==48736||p==48764||p==48792||p==48820||p==48848||p==48876||p==48904||p==48932||p==48960||p==48988||p==49016||p==49044||p==49072||p==49100||p==49128||p==49156||p==49184||p==49212||p==49240||p==49268||p==49296||p==49324||p==49352||p==49380||p==49408||p==49436||p==49464||p==49492||p==49520||p==49548||p==49576||p==49604||p==49632||p==49660||p==49688||p==49716||p==49744||p==49772||p==49800||p==49828||p==49856||p==49884||p==49912||p==49940||p==49968||p==49996||p==50024||p==50052||p==50080||p==50108||p==50136||p==50164||p==50192||p==50220||p==50248||p==50276||p==50304||p==50332||p==50360||p==50388||p==50416||p==50444||p==50472||p==50500||p==50528||p==50556||p==50584||p==50612||p==50640||p==50668||p==50696||p==50724||p==50752||p==50780||p==50808||p==50836||p==50864||p==50892||p==50920||p==50948||p==50976||p==51004||p==51032||p==51060||p==51088||p==51116||p==51144||p==51172||p==51200||p==51228||p==51256||p==51284||p==51312||p==51340||p==51368||p==51396||p==51424||p==51452||p==51480||p==51508||p==51536||p==51564||p==51592||p==51620||p==51648||p==51676||p==51704||p==51732||p==51760||p==51788||p==51816||p==51844||p==51872||p==51900||p==51928||p==51956||p==51984||p==52012||p==52040||p==52068||p==52096||p==52124||p==52152||p==52180||p==52208||p==52236||p==52264||p==52292||p==52320||p==52348||p==52376||p==52404||p==52432||p==52460||p==52488||p==52516||p==52544||p==52572||p==52600||p==52628||p==52656||p==52684||p==52712||p==52740||p==52768||p==52796||p==52824||p==52852||p==52880||p==52908||p==52936||p==52964||p==52992||p==53020||p==53048||p==53076||p==53104||p==53132||p==53160||p==53188||p==53216||p==53244||p==53272||p==53300||p==53328||p==53356||p==53384||p==53412||p==53440||p==53468||p==53496||p==53524||p==53552||p==53580||p==53608||p==53636||p==53664||p==53692||p==53720||p==53748||p==53776||p==53804||p==53832||p==53860||p==53888||p==53916||p==53944||p==53972||p==54e3||p==54028||p==54056||p==54084||p==54112||p==54140||p==54168||p==54196||p==54224||p==54252||p==54280||p==54308||p==54336||p==54364||p==54392||p==54420||p==54448||p==54476||p==54504||p==54532||p==54560||p==54588||p==54616||p==54644||p==54672||p==54700||p==54728||p==54756||p==54784||p==54812||p==54840||p==54868||p==54896||p==54924||p==54952||p==54980||p==55008||p==55036||p==55064||p==55092||p==55120||p==55148||p==55176?tr:44033<=p&&p<=44059||44061<=p&&p<=44087||44089<=p&&p<=44115||44117<=p&&p<=44143||44145<=p&&p<=44171||44173<=p&&p<=44199||44201<=p&&p<=44227||44229<=p&&p<=44255||44257<=p&&p<=44283||44285<=p&&p<=44311||44313<=p&&p<=44339||44341<=p&&p<=44367||44369<=p&&p<=44395||44397<=p&&p<=44423||44425<=p&&p<=44451||44453<=p&&p<=44479||44481<=p&&p<=44507||44509<=p&&p<=44535||44537<=p&&p<=44563||44565<=p&&p<=44591||44593<=p&&p<=44619||44621<=p&&p<=44647||44649<=p&&p<=44675||44677<=p&&p<=44703||44705<=p&&p<=44731||44733<=p&&p<=44759||44761<=p&&p<=44787||44789<=p&&p<=44815||44817<=p&&p<=44843||44845<=p&&p<=44871||44873<=p&&p<=44899||44901<=p&&p<=44927||44929<=p&&p<=44955||44957<=p&&p<=44983||44985<=p&&p<=45011||45013<=p&&p<=45039||45041<=p&&p<=45067||45069<=p&&p<=45095||45097<=p&&p<=45123||45125<=p&&p<=45151||45153<=p&&p<=45179||45181<=p&&p<=45207||45209<=p&&p<=45235||45237<=p&&p<=45263||45265<=p&&p<=45291||45293<=p&&p<=45319||45321<=p&&p<=45347||45349<=p&&p<=45375||45377<=p&&p<=45403||45405<=p&&p<=45431||45433<=p&&p<=45459||45461<=p&&p<=45487||45489<=p&&p<=45515||45517<=p&&p<=45543||45545<=p&&p<=45571||45573<=p&&p<=45599||45601<=p&&p<=45627||45629<=p&&p<=45655||45657<=p&&p<=45683||45685<=p&&p<=45711||45713<=p&&p<=45739||45741<=p&&p<=45767||45769<=p&&p<=45795||45797<=p&&p<=45823||45825<=p&&p<=45851||45853<=p&&p<=45879||45881<=p&&p<=45907||45909<=p&&p<=45935||45937<=p&&p<=45963||45965<=p&&p<=45991||45993<=p&&p<=46019||46021<=p&&p<=46047||46049<=p&&p<=46075||46077<=p&&p<=46103||46105<=p&&p<=46131||46133<=p&&p<=46159||46161<=p&&p<=46187||46189<=p&&p<=46215||46217<=p&&p<=46243||46245<=p&&p<=46271||46273<=p&&p<=46299||46301<=p&&p<=46327||46329<=p&&p<=46355||46357<=p&&p<=46383||46385<=p&&p<=46411||46413<=p&&p<=46439||46441<=p&&p<=46467||46469<=p&&p<=46495||46497<=p&&p<=46523||46525<=p&&p<=46551||46553<=p&&p<=46579||46581<=p&&p<=46607||46609<=p&&p<=46635||46637<=p&&p<=46663||46665<=p&&p<=46691||46693<=p&&p<=46719||46721<=p&&p<=46747||46749<=p&&p<=46775||46777<=p&&p<=46803||46805<=p&&p<=46831||46833<=p&&p<=46859||46861<=p&&p<=46887||46889<=p&&p<=46915||46917<=p&&p<=46943||46945<=p&&p<=46971||46973<=p&&p<=46999||47001<=p&&p<=47027||47029<=p&&p<=47055||47057<=p&&p<=47083||47085<=p&&p<=47111||47113<=p&&p<=47139||47141<=p&&p<=47167||47169<=p&&p<=47195||47197<=p&&p<=47223||47225<=p&&p<=47251||47253<=p&&p<=47279||47281<=p&&p<=47307||47309<=p&&p<=47335||47337<=p&&p<=47363||47365<=p&&p<=47391||47393<=p&&p<=47419||47421<=p&&p<=47447||47449<=p&&p<=47475||47477<=p&&p<=47503||47505<=p&&p<=47531||47533<=p&&p<=47559||47561<=p&&p<=47587||47589<=p&&p<=47615||47617<=p&&p<=47643||47645<=p&&p<=47671||47673<=p&&p<=47699||47701<=p&&p<=47727||47729<=p&&p<=47755||47757<=p&&p<=47783||47785<=p&&p<=47811||47813<=p&&p<=47839||47841<=p&&p<=47867||47869<=p&&p<=47895||47897<=p&&p<=47923||47925<=p&&p<=47951||47953<=p&&p<=47979||47981<=p&&p<=48007||48009<=p&&p<=48035||48037<=p&&p<=48063||48065<=p&&p<=48091||48093<=p&&p<=48119||48121<=p&&p<=48147||48149<=p&&p<=48175||48177<=p&&p<=48203||48205<=p&&p<=48231||48233<=p&&p<=48259||48261<=p&&p<=48287||48289<=p&&p<=48315||48317<=p&&p<=48343||48345<=p&&p<=48371||48373<=p&&p<=48399||48401<=p&&p<=48427||48429<=p&&p<=48455||48457<=p&&p<=48483||48485<=p&&p<=48511||48513<=p&&p<=48539||48541<=p&&p<=48567||48569<=p&&p<=48595||48597<=p&&p<=48623||48625<=p&&p<=48651||48653<=p&&p<=48679||48681<=p&&p<=48707||48709<=p&&p<=48735||48737<=p&&p<=48763||48765<=p&&p<=48791||48793<=p&&p<=48819||48821<=p&&p<=48847||48849<=p&&p<=48875||48877<=p&&p<=48903||48905<=p&&p<=48931||48933<=p&&p<=48959||48961<=p&&p<=48987||48989<=p&&p<=49015||49017<=p&&p<=49043||49045<=p&&p<=49071||49073<=p&&p<=49099||49101<=p&&p<=49127||49129<=p&&p<=49155||49157<=p&&p<=49183||49185<=p&&p<=49211||49213<=p&&p<=49239||49241<=p&&p<=49267||49269<=p&&p<=49295||49297<=p&&p<=49323||49325<=p&&p<=49351||49353<=p&&p<=49379||49381<=p&&p<=49407||49409<=p&&p<=49435||49437<=p&&p<=49463||49465<=p&&p<=49491||49493<=p&&p<=49519||49521<=p&&p<=49547||49549<=p&&p<=49575||49577<=p&&p<=49603||49605<=p&&p<=49631||49633<=p&&p<=49659||49661<=p&&p<=49687||49689<=p&&p<=49715||49717<=p&&p<=49743||49745<=p&&p<=49771||49773<=p&&p<=49799||49801<=p&&p<=49827||49829<=p&&p<=49855||49857<=p&&p<=49883||49885<=p&&p<=49911||49913<=p&&p<=49939||49941<=p&&p<=49967||49969<=p&&p<=49995||49997<=p&&p<=50023||50025<=p&&p<=50051||50053<=p&&p<=50079||50081<=p&&p<=50107||50109<=p&&p<=50135||50137<=p&&p<=50163||50165<=p&&p<=50191||50193<=p&&p<=50219||50221<=p&&p<=50247||50249<=p&&p<=50275||50277<=p&&p<=50303||50305<=p&&p<=50331||50333<=p&&p<=50359||50361<=p&&p<=50387||50389<=p&&p<=50415||50417<=p&&p<=50443||50445<=p&&p<=50471||50473<=p&&p<=50499||50501<=p&&p<=50527||50529<=p&&p<=50555||50557<=p&&p<=50583||50585<=p&&p<=50611||50613<=p&&p<=50639||50641<=p&&p<=50667||50669<=p&&p<=50695||50697<=p&&p<=50723||50725<=p&&p<=50751||50753<=p&&p<=50779||50781<=p&&p<=50807||50809<=p&&p<=50835||50837<=p&&p<=50863||50865<=p&&p<=50891||50893<=p&&p<=50919||50921<=p&&p<=50947||50949<=p&&p<=50975||50977<=p&&p<=51003||51005<=p&&p<=51031||51033<=p&&p<=51059||51061<=p&&p<=51087||51089<=p&&p<=51115||51117<=p&&p<=51143||51145<=p&&p<=51171||51173<=p&&p<=51199||51201<=p&&p<=51227||51229<=p&&p<=51255||51257<=p&&p<=51283||51285<=p&&p<=51311||51313<=p&&p<=51339||51341<=p&&p<=51367||51369<=p&&p<=51395||51397<=p&&p<=51423||51425<=p&&p<=51451||51453<=p&&p<=51479||51481<=p&&p<=51507||51509<=p&&p<=51535||51537<=p&&p<=51563||51565<=p&&p<=51591||51593<=p&&p<=51619||51621<=p&&p<=51647||51649<=p&&p<=51675||51677<=p&&p<=51703||51705<=p&&p<=51731||51733<=p&&p<=51759||51761<=p&&p<=51787||51789<=p&&p<=51815||51817<=p&&p<=51843||51845<=p&&p<=51871||51873<=p&&p<=51899||51901<=p&&p<=51927||51929<=p&&p<=51955||51957<=p&&p<=51983||51985<=p&&p<=52011||52013<=p&&p<=52039||52041<=p&&p<=52067||52069<=p&&p<=52095||52097<=p&&p<=52123||52125<=p&&p<=52151||52153<=p&&p<=52179||52181<=p&&p<=52207||52209<=p&&p<=52235||52237<=p&&p<=52263||52265<=p&&p<=52291||52293<=p&&p<=52319||52321<=p&&p<=52347||52349<=p&&p<=52375||52377<=p&&p<=52403||52405<=p&&p<=52431||52433<=p&&p<=52459||52461<=p&&p<=52487||52489<=p&&p<=52515||52517<=p&&p<=52543||52545<=p&&p<=52571||52573<=p&&p<=52599||52601<=p&&p<=52627||52629<=p&&p<=52655||52657<=p&&p<=52683||52685<=p&&p<=52711||52713<=p&&p<=52739||52741<=p&&p<=52767||52769<=p&&p<=52795||52797<=p&&p<=52823||52825<=p&&p<=52851||52853<=p&&p<=52879||52881<=p&&p<=52907||52909<=p&&p<=52935||52937<=p&&p<=52963||52965<=p&&p<=52991||52993<=p&&p<=53019||53021<=p&&p<=53047||53049<=p&&p<=53075||53077<=p&&p<=53103||53105<=p&&p<=53131||53133<=p&&p<=53159||53161<=p&&p<=53187||53189<=p&&p<=53215||53217<=p&&p<=53243||53245<=p&&p<=53271||53273<=p&&p<=53299||53301<=p&&p<=53327||53329<=p&&p<=53355||53357<=p&&p<=53383||53385<=p&&p<=53411||53413<=p&&p<=53439||53441<=p&&p<=53467||53469<=p&&p<=53495||53497<=p&&p<=53523||53525<=p&&p<=53551||53553<=p&&p<=53579||53581<=p&&p<=53607||53609<=p&&p<=53635||53637<=p&&p<=53663||53665<=p&&p<=53691||53693<=p&&p<=53719||53721<=p&&p<=53747||53749<=p&&p<=53775||53777<=p&&p<=53803||53805<=p&&p<=53831||53833<=p&&p<=53859||53861<=p&&p<=53887||53889<=p&&p<=53915||53917<=p&&p<=53943||53945<=p&&p<=53971||53973<=p&&p<=53999||54001<=p&&p<=54027||54029<=p&&p<=54055||54057<=p&&p<=54083||54085<=p&&p<=54111||54113<=p&&p<=54139||54141<=p&&p<=54167||54169<=p&&p<=54195||54197<=p&&p<=54223||54225<=p&&p<=54251||54253<=p&&p<=54279||54281<=p&&p<=54307||54309<=p&&p<=54335||54337<=p&&p<=54363||54365<=p&&p<=54391||54393<=p&&p<=54419||54421<=p&&p<=54447||54449<=p&&p<=54475||54477<=p&&p<=54503||54505<=p&&p<=54531||54533<=p&&p<=54559||54561<=p&&p<=54587||54589<=p&&p<=54615||54617<=p&&p<=54643||54645<=p&&p<=54671||54673<=p&&p<=54699||54701<=p&&p<=54727||54729<=p&&p<=54755||54757<=p&&p<=54783||54785<=p&&p<=54811||54813<=p&&p<=54839||54841<=p&&p<=54867||54869<=p&&p<=54895||54897<=p&&p<=54923||54925<=p&&p<=54951||54953<=p&&p<=54979||54981<=p&&p<=55007||55009<=p&&p<=55035||55037<=p&&p<=55063||55065<=p&&p<=55091||55093<=p&&p<=55119||55121<=p&&p<=55147||55149<=p&&p<=55175||55177<=p&&p<=55203?ur:p==9757||p==9977||9994<=p&&p<=9997||p==127877||127938<=p&&p<=127940||p==127943||127946<=p&&p<=127948||128066<=p&&p<=128067||128070<=p&&p<=128080||p==128110||128112<=p&&p<=128120||p==128124||128129<=p&&p<=128131||128133<=p&&p<=128135||p==128170||128372<=p&&p<=128373||p==128378||p==128400||128405<=p&&p<=128406||128581<=p&&p<=128583||128587<=p&&p<=128591||p==128675||128692<=p&&p<=128694||p==128704||p==128716||129304<=p&&p<=129308||129310<=p&&p<=129311||p==129318||129328<=p&&p<=129337||129341<=p&&p<=129342||129489<=p&&p<=129501?fr:127995<=p&&p<=127999?pr:p==8205?fi:p==9792||p==9794||9877<=p&&p<=9878||p==9992||p==10084||p==127752||p==127806||p==127859||p==127891||p==127908||p==127912||p==127979||p==127981||p==128139||128187<=p&&p<=128188||p==128295||p==128300||p==128488||p==128640||p==128658?Pe:128102<=p&&p<=128105?Q:_r}return this}ye.exports&&(ye.exports=Te)}),o=new i,s=function(Te,Qe,st){for(var lt=o.iterateGraphemes(Te.substring(Qe)),Kt="",Ht=0;Ht<st-Qe;Ht++){var Wt=lt.next();if(Kt+=Wt.value,Wt.done)break}return Kt},a=function(ye,Te,Qe,st,lt,Kt,Ht){return{start:{line:ye,column:Te,offset:Qe},end:{line:st,column:lt,offset:Kt},source:Ht||null}},f=r(function(ye,Te){(function(Qe,st){ye.exports=st()})(t,function(){var Qe="",st,lt=Kt;function Kt(ur,_r){if(typeof ur!="string")throw new TypeError("expected a string");if(_r===1)return ur;if(_r===2)return ur+ur;var Sr=ur.length*_r;if(st!==ur||typeof st>"u")st=ur,Qe="";else if(Qe.length>=Sr)return Qe.substr(0,Sr);for(;Sr>Qe.length&&_r>1;)_r&1&&(Qe+=ur),_r>>=1,ur+=ur;return Qe+=ur,Qe=Qe.substr(0,Sr),Qe}var Ht=function(_r,Sr,fr){if(_r==null||Sr==null)return _r;var pr=String(_r),fi=typeof Sr=="number"?Sr:parseInt(Sr,10);if(isNaN(fi)||!isFinite(fi))return pr;var Pe=pr.length;if(Pe>=fi)return pr;var Q=String(fr);Q===""&&(Q=" ");for(var oe=fi-Pe;Q.length<oe;)Q+=Q;var Re=Q.length>oe?Q.substr(0,oe):Q;return Re+pr},Wt=Object.assign||function(ur){for(var _r=1;_r<arguments.length;_r++){var Sr=arguments[_r];for(var fr in Sr)Object.prototype.hasOwnProperty.call(Sr,fr)&&(ur[fr]=Sr[fr])}return ur};function Rn(ur,_r,Sr,fr){var pr=String(_r),fi=Ht(pr,Sr," "),Pe=lt(" ",fr.tabSize);return fi+" | "+ur.replace(/\t/g,Pe)}function nr(ur,_r,Sr,fr,pr){return ur.slice(_r,Sr).map(function(fi,Pe){return Rn(fi,_r+Pe+1,fr,pr)}).join(`
`)}var _n={extraLines:2,tabSize:4},tr=function(_r,Sr,fr,pr){pr=Wt({},_n,pr);var fi=_r.split(/\r\n?|\n|\f/),Pe=Math.max(1,Sr-pr.extraLines)-1,Q=Math.min(Sr+pr.extraLines,fi.length),oe=String(Q).length,Re=nr(fi,Pe,Sr,oe,pr),ut=Rn(fi[Sr-1].substring(0,fr-1),Sr,oe,pr),Tt=lt(" ",ut.length)+"^",jt=nr(fi,Sr,Q,oe,pr);return[Re,Tt,jt].filter(Boolean).join(`
`)};return tr})}),m=new Error().stack,C=function(ye){var Te=Object.create(SyntaxError.prototype);return Object.assign(Te,ye,{name:"SyntaxError"}),Object.defineProperty(Te,"stack",{get:function(){return m?m.replace(/^(.+\n){1,3}/,String(Te)+`
`):""}}),Te},B=function(ye,Te,Qe,st,lt){throw C({message:st?ye+`
`+f(Te,st,lt):ye,rawMessage:ye,source:Qe,line:st,column:lt})},I={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Te){for(var Qe=arguments.length,st=Array(Qe>1?Qe-1:0),lt=1;lt<Qe;lt++)st[lt-1]=arguments[lt];return"Unexpected token <"+Te+"> at "+st.filter(Boolean).join(":")}},K={unexpectedSymbol:function(Te){for(var Qe=arguments.length,st=Array(Qe>1?Qe-1:0),lt=1;lt<Qe;lt++)st[lt-1]=arguments[lt];return"Unexpected symbol <"+Te+"> at "+st.filter(Boolean).join(":")}},L={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},Y={"{":L.LEFT_BRACE,"}":L.RIGHT_BRACE,"[":L.LEFT_BRACKET,"]":L.RIGHT_BRACKET,":":L.COLON,",":L.COMMA},ee={true:L.TRUE,false:L.FALSE,null:L.NULL},V={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},W={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},ne={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ce(ye){return ye>="1"&&ye<="9"}function ge(ye){return ye>="0"&&ye<="9"}function fe(ye){return ge(ye)||ye>="a"&&ye<="f"||ye>="A"&&ye<="F"}function H(ye){return ye==="e"||ye==="E"}function X(ye,Te,Qe,st){var lt=ye.charAt(Te);if(lt==="\r")Te++,Qe++,st=1,ye.charAt(Te)===`
`&&Te++;else if(lt===`
`)Te++,Qe++,st=1;else if(lt==="	"||lt===" ")Te++,st++;else return null;return{index:Te,line:Qe,column:st}}function Me(ye,Te,Qe,st){var lt=ye.charAt(Te);return lt in Y?{type:Y[lt],line:Qe,column:st+1,index:Te+1,value:null}:null}function be(ye,Te,Qe,st){for(var lt in ee)if(ee.hasOwnProperty(lt)&&ye.substr(Te,lt.length)===lt)return{type:ee[lt],line:Qe,column:st+lt.length,index:Te+lt.length,value:lt};return null}function Fe(ye,Te,Qe,st){for(var lt=Te,Kt=V._START_;Te<ye.length;){var Ht=ye.charAt(Te);switch(Kt){case V._START_:{if(Ht==='"')Te++,Kt=V.START_QUOTE_OR_CHAR;else return null;break}case V.START_QUOTE_OR_CHAR:{if(Ht==="\\")Te++,Kt=V.ESCAPE;else{if(Ht==='"')return Te++,{type:L.STRING,line:Qe,column:st+Te-lt,index:Te,value:ye.slice(lt,Te)};Te++}break}case V.ESCAPE:{if(Ht in W){if(Te++,Ht==="u")for(var Wt=0;Wt<4;Wt++){var Rn=ye.charAt(Te);if(Rn&&fe(Rn))Te++;else return null}Kt=V.START_QUOTE_OR_CHAR}else return null;break}}}}function Ue(ye,Te,Qe,st){var lt=Te,Kt=Te,Ht=ne._START_;e:for(;Te<ye.length;){var Wt=ye.charAt(Te);switch(Ht){case ne._START_:{if(Wt==="-")Ht=ne.MINUS;else if(Wt==="0")Kt=Te+1,Ht=ne.ZERO;else if(ce(Wt))Kt=Te+1,Ht=ne.DIGIT;else return null;break}case ne.MINUS:{if(Wt==="0")Kt=Te+1,Ht=ne.ZERO;else if(ce(Wt))Kt=Te+1,Ht=ne.DIGIT;else return null;break}case ne.ZERO:{if(Wt===".")Ht=ne.POINT;else if(H(Wt))Ht=ne.EXP;else break e;break}case ne.DIGIT:{if(ge(Wt))Kt=Te+1;else if(Wt===".")Ht=ne.POINT;else if(H(Wt))Ht=ne.EXP;else break e;break}case ne.POINT:{if(ge(Wt))Kt=Te+1,Ht=ne.DIGIT_FRACTION;else break e;break}case ne.DIGIT_FRACTION:{if(ge(Wt))Kt=Te+1;else if(H(Wt))Ht=ne.EXP;else break e;break}case ne.EXP:{if(Wt==="+"||Wt==="-")Ht=ne.EXP_DIGIT_OR_SIGN;else if(ge(Wt))Kt=Te+1,Ht=ne.EXP_DIGIT_OR_SIGN;else break e;break}case ne.EXP_DIGIT_OR_SIGN:{if(ge(Wt))Kt=Te+1;else break e;break}}Te++}return Kt>0?{type:L.NUMBER,line:Qe,column:st+Kt-lt,index:Kt,value:ye.slice(lt,Kt)}:null}var me=function(Te,Qe){for(var st=1,lt=1,Kt=0,Ht=[];Kt<Te.length;){var Wt=[Te,Kt,st,lt],Rn=X.apply(void 0,Wt);if(Rn){Kt=Rn.index,st=Rn.line,lt=Rn.column;continue}var nr=Me.apply(void 0,Wt)||be.apply(void 0,Wt)||Fe.apply(void 0,Wt)||Ue.apply(void 0,Wt);if(nr){var _n={type:nr.type,value:nr.value,loc:a(st,lt,Kt,nr.line,nr.column,nr.index,Qe.source)};Ht.push(_n),Kt=nr.index,st=nr.line,lt=nr.column}else B(K.unexpectedSymbol(s(Te,Kt,Kt+1),Qe.source,st,lt),Te,Qe.source,st,lt)}return Ht},Ve={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},_e={_START_:0,KEY:1,COLON:2},Ot={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},St={loc:!0,source:null};function _t(ye,Te,Qe){var st=Te.length>0?Te[Te.length-1].loc.end:{line:1,column:1};B(I.unexpectedEnd(),ye,Qe.source,st.line,st.column)}function ft(ye){for(var Te=0,Qe=0;Qe<4;Qe++)Te=Te*16+parseInt(ye[Qe],16);return String.fromCharCode(Te)}var $e={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},et=['"',"\\","/"];function nt(ye){for(var Te="",Qe=0;Qe<ye.length;Qe++){var st=ye.charAt(Qe);if(st==="\\"){Qe++;var lt=ye.charAt(Qe);if(lt==="u")Te+=ft(ye.substr(Qe+1,4)),Qe+=4;else if(et.indexOf(lt)!==-1)Te+=lt;else if(lt in $e)Te+=$e[lt];else break}else Te+=st}return Te}function en(ye,Te,Qe,st){for(var lt=void 0,Kt={type:"Object",children:[]},Ht=Ve._START_;Qe<Te.length;){var Wt=Te[Qe];switch(Ht){case Ve._START_:{if(Wt.type===L.LEFT_BRACE)lt=Wt,Ht=Ve.OPEN_OBJECT,Qe++;else return null;break}case Ve.OPEN_OBJECT:{if(Wt.type===L.RIGHT_BRACE)return st.loc&&(Kt.loc=a(lt.loc.start.line,lt.loc.start.column,lt.loc.start.offset,Wt.loc.end.line,Wt.loc.end.column,Wt.loc.end.offset,st.source)),{value:Kt,index:Qe+1};var Rn=nn(ye,Te,Qe,st);Kt.children.push(Rn.value),Ht=Ve.PROPERTY,Qe=Rn.index;break}case Ve.PROPERTY:{if(Wt.type===L.RIGHT_BRACE)return st.loc&&(Kt.loc=a(lt.loc.start.line,lt.loc.start.column,lt.loc.start.offset,Wt.loc.end.line,Wt.loc.end.column,Wt.loc.end.offset,st.source)),{value:Kt,index:Qe+1};Wt.type===L.COMMA?(Ht=Ve.COMMA,Qe++):B(I.unexpectedToken(s(ye,Wt.loc.start.offset,Wt.loc.end.offset),st.source,Wt.loc.start.line,Wt.loc.start.column),ye,st.source,Wt.loc.start.line,Wt.loc.start.column);break}case Ve.COMMA:{var nr=nn(ye,Te,Qe,st);nr?(Qe=nr.index,Kt.children.push(nr.value),Ht=Ve.PROPERTY):B(I.unexpectedToken(s(ye,Wt.loc.start.offset,Wt.loc.end.offset),st.source,Wt.loc.start.line,Wt.loc.start.column),ye,st.source,Wt.loc.start.line,Wt.loc.start.column);break}}}_t(ye,Te,st)}function nn(ye,Te,Qe,st){for(var lt=void 0,Kt={type:"Property",key:null,value:null},Ht=_e._START_;Qe<Te.length;){var Wt=Te[Qe];switch(Ht){case _e._START_:{if(Wt.type===L.STRING){var Rn={type:"Identifier",value:nt(ye.slice(Wt.loc.start.offset+1,Wt.loc.end.offset-1)),raw:Wt.value};st.loc&&(Rn.loc=Wt.loc),lt=Wt,Kt.key=Rn,Ht=_e.KEY,Qe++}else return null;break}case _e.KEY:{Wt.type===L.COLON?(Ht=_e.COLON,Qe++):B(I.unexpectedToken(s(ye,Wt.loc.start.offset,Wt.loc.end.offset),st.source,Wt.loc.start.line,Wt.loc.start.column),ye,st.source,Wt.loc.start.line,Wt.loc.start.column);break}case _e.COLON:{var nr=Jt(ye,Te,Qe,st);return Kt.value=nr.value,st.loc&&(Kt.loc=a(lt.loc.start.line,lt.loc.start.column,lt.loc.start.offset,nr.value.loc.end.line,nr.value.loc.end.column,nr.value.loc.end.offset,st.source)),{value:Kt,index:nr.index}}}}}function Et(ye,Te,Qe,st){for(var lt=void 0,Kt={type:"Array",children:[]},Ht=Ot._START_,Wt=void 0;Qe<Te.length;)switch(Wt=Te[Qe],Ht){case Ot._START_:{if(Wt.type===L.LEFT_BRACKET)lt=Wt,Ht=Ot.OPEN_ARRAY,Qe++;else return null;break}case Ot.OPEN_ARRAY:{if(Wt.type===L.RIGHT_BRACKET)return st.loc&&(Kt.loc=a(lt.loc.start.line,lt.loc.start.column,lt.loc.start.offset,Wt.loc.end.line,Wt.loc.end.column,Wt.loc.end.offset,st.source)),{value:Kt,index:Qe+1};var Rn=Jt(ye,Te,Qe,st);Qe=Rn.index,Kt.children.push(Rn.value),Ht=Ot.VALUE;break}case Ot.VALUE:{if(Wt.type===L.RIGHT_BRACKET)return st.loc&&(Kt.loc=a(lt.loc.start.line,lt.loc.start.column,lt.loc.start.offset,Wt.loc.end.line,Wt.loc.end.column,Wt.loc.end.offset,st.source)),{value:Kt,index:Qe+1};Wt.type===L.COMMA?(Ht=Ot.COMMA,Qe++):B(I.unexpectedToken(s(ye,Wt.loc.start.offset,Wt.loc.end.offset),st.source,Wt.loc.start.line,Wt.loc.start.column),ye,st.source,Wt.loc.start.line,Wt.loc.start.column);break}case Ot.COMMA:{var nr=Jt(ye,Te,Qe,st);Qe=nr.index,Kt.children.push(nr.value),Ht=Ot.VALUE;break}}_t(ye,Te,st)}function Vt(ye,Te,Qe,st){var lt=Te[Qe],Kt=null;switch(lt.type){case L.STRING:{Kt=nt(ye.slice(lt.loc.start.offset+1,lt.loc.end.offset-1));break}case L.NUMBER:{Kt=Number(lt.value);break}case L.TRUE:{Kt=!0;break}case L.FALSE:{Kt=!1;break}case L.NULL:{Kt=null;break}default:return null}var Ht={type:"Literal",value:Kt,raw:lt.value};return st.loc&&(Ht.loc=lt.loc),{value:Ht,index:Qe+1}}function Jt(ye,Te,Qe,st){var lt=Te[Qe],Kt=Vt.apply(void 0,arguments)||en.apply(void 0,arguments)||Et.apply(void 0,arguments);if(Kt)return Kt;B(I.unexpectedToken(s(ye,lt.loc.start.offset,lt.loc.end.offset),st.source,lt.loc.start.line,lt.loc.start.column),ye,st.source,lt.loc.start.line,lt.loc.start.column)}var Le=function(ye,Te){Te=Object.assign({},St,Te);var Qe=me(ye,Te);Qe.length===0&&_t(ye,Qe,Te);var st=Jt(ye,Qe,0,Te);if(st.index===Qe.length)return st.value;var lt=Qe[st.index];B(I.unexpectedToken(s(ye,lt.loc.start.offset,lt.loc.end.offset),Te.source,lt.loc.start.line,lt.loc.start.column),ye,Te.source,lt.loc.start.line,lt.loc.start.column)};return Le})})(e$);var S1e=e$.exports;const E1e=wa(S1e);function kn(){var n="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",e="a994e12e3e6547813b669a430e6cb42da5d99bba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return kn=function(){return s},s}kn();kn().s[0]++;gh.defineMode("mgl",(n,e)=>(kn().f[0]++,kn().s[1]++,gh.modes.javascript({...n,json:!0},e)));kn().s[2]++;gh.registerHelper("lint","json",n=>{kn().f[1]++;const e=(kn().s[3]++,[]);kn().s[4]++,y8.parser.parseError=(t,r)=>{kn().f[2]++;const i=(kn().s[5]++,r.loc);kn().s[6]++,e.push({from:gh.Pos(i.first_line-1,i.first_column),to:gh.Pos(i.last_line-1,i.last_column),message:t})},kn().s[7]++;try{kn().s[8]++,y8.parse(n)}catch{}return kn().s[9]++,e});kn().s[10]++;gh.registerHelper("lint","mgl",(n,e,t)=>{kn().f[3]++;const r=(kn().s[11]++,[]),{parser:i}=(kn().s[12]++,y8),{context:o}=(kn().s[13]++,e);kn().s[14]++,i.parseError=(C,B)=>{kn().f[4]++;const I=(kn().s[15]++,B.loc);kn().s[16]++,r.push({from:gh.Pos(I.first_line-1,I.first_column),to:gh.Pos(I.last_line-1,I.last_column),message:C})},kn().s[17]++;try{kn().s[18]++,i.parse(n)}catch{}if(kn().s[19]++,r.length>0)return kn().b[0][0]++,kn().s[20]++,r;kn().b[0][1]++;const s=(kn().s[21]++,E1e(n)),a=(kn().s[22]++,JSON.parse(n));function f(C,B){if(kn().f[5]++,kn().s[23]++,C){if(kn().b[1][1]++,kn().s[25]++,B.length<1)return kn().b[2][0]++,kn().s[26]++,C;if(kn().b[2][1]++,kn().s[27]++,C.children){kn().b[3][1]++;const I=(kn().s[29]++,B[0]);let K;return kn().s[30]++,I.match(/^[0-9]+$/)?(kn().b[4][0]++,kn().s[31]++,K=C.children[B[0]]):(kn().b[4][1]++,kn().s[32]++,K=C.children.find(L=>(kn().f[6]++,kn().s[33]++,kn().b[5][0]++,L.key&&(kn().b[5][1]++,L.key.type==="Identifier")&&(kn().b[5][2]++,L.key.value===I))),kn().s[34]++,K?(kn().b[6][0]++,kn().s[35]++,K=K.value):kn().b[6][1]++),kn().s[36]++,f(K,B.slice(1))}else{kn().b[3][0]++,kn().s[28]++;return}}else{kn().b[1][0]++,kn().s[24]++;return}}let m=(kn().s[37]++,null);if(kn().s[38]++,o==="layer"){kn().b[7][0]++;const C=(kn().s[39]++,wd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[a]}));kn().s[40]++,C?(kn().b[8][0]++,kn().s[41]++,m={result:"error",value:C.filter(B=>(kn().f[7]++,kn().s[42]++,!B.message.match(/^layers\[0\]: source ".*" not found$/))).map(B=>{kn().f[8]++;const I=(kn().s[43]++,B.message.replace(/^layers\[0\]./,"").split(":"));return kn().s[44]++,{name:"",key:I[0],message:I[1]}})}):kn().b[8][1]++}else if(kn().b[7][1]++,kn().s[45]++,o==="expression")kn().b[9][0]++,kn().s[46]++,m=Cre.createExpression(a,e.spec);else throw kn().b[9][1]++,kn().s[47]++,new Error(`Invalid context ${o}`);if(kn().s[48]++,(m==null?void 0:m.result)==="error"){kn().b[10][0]++;const C=(kn().s[49]++,m.value);kn().s[50]++,C.forEach(B=>{kn().f[9]++;const{key:I,message:K}=(kn().s[51]++,B);if(kn().s[52]++,I)if(kn().b[11][1]++,kn().s[56]++,I){kn().b[12][0]++;const L=(kn().s[57]++,I.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),Y=(kn().s[58]++,f(s,L));if(kn().s[59]++,Y)kn().b[13][1]++;else{kn().b[13][0]++,kn().s[60]++,console.warn("Something went wrong parsing error:",B),kn().s[61]++;return}const{loc:ee}=(kn().s[62]++,Y),{start:V,end:W}=(kn().s[63]++,ee);kn().s[64]++,r.push({from:gh.Pos(V.line-1,V.column),to:gh.Pos(W.line-1,W.column),message:K})}else kn().b[12][1]++;else{kn().b[11][0]++;const L=(kn().s[53]++,t.getLineHandle(t.lastLine())),Y=(kn().s[54]++,{from:gh.Pos(t.firstLine(),0),to:gh.Pos(t.lastLine(),L.text.length),message:K});kn().s[55]++,r.push(Y)}})}else kn().b[10][1]++;return kn().s[65]++,r});function zn(){var n="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",e="da44fe7250311daecfc0a96e15b8409621007dbc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:14,column:24},end:{line:29,column:3}},1:{start:{line:19,column:6},end:{line:19,column:65}},2:{start:{line:32,column:8},end:{line:32,column:12}},3:{start:{line:33,column:22},end:{line:33,column:27}},4:{start:{line:35,column:4},end:{line:35,column:17}},5:{start:{line:36,column:4},end:{line:36,column:32}},6:{start:{line:37,column:4},end:{line:41,column:6}},7:{start:{line:44,column:4},end:{line:60,column:7}},8:{start:{line:61,column:4},end:{line:61,column:42}},9:{start:{line:62,column:4},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:38}},11:{start:{line:65,column:18},end:{line:67,column:3}},12:{start:{line:66,column:4},end:{line:66,column:31}},13:{start:{line:68,column:12},end:{line:74,column:3}},14:{start:{line:69,column:4},end:{line:69,column:49}},15:{start:{line:69,column:28},end:{line:69,column:49}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:82,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:77,column:47}},20:{start:{line:77,column:27},end:{line:77,column:47}},21:{start:{line:78,column:4},end:{line:81,column:7}},22:{start:{line:84,column:4},end:{line:84,column:43}},23:{start:{line:85,column:4},end:{line:85,column:41}},24:{start:{line:86,column:4},end:{line:86,column:39}},25:{start:{line:89,column:4},end:{line:94,column:5}},26:{start:{line:90,column:6},end:{line:90,column:36}},27:{start:{line:91,column:6},end:{line:93,column:8}},28:{start:{line:96,column:13},end:{line:123,column:3}},29:{start:{line:97,column:4},end:{line:103,column:5}},30:{start:{line:98,column:6},end:{line:98,column:37}},31:{start:{line:99,column:6},end:{line:101,column:9}},32:{start:{line:102,column:6},end:{line:102,column:13}},33:{start:{line:104,column:20},end:{line:104,column:40}},34:{start:{line:105,column:4},end:{line:119,column:5}},35:{start:{line:107,column:6},end:{line:112,column:7}},36:{start:{line:108,column:8},end:{line:108,column:42}},37:{start:{line:110,column:8},end:{line:110,column:19}},38:{start:{line:111,column:8},end:{line:111,column:27}},39:{start:{line:113,column:6},end:{line:118,column:7}},40:{start:{line:114,column:8},end:{line:114,column:35}},41:{start:{line:116,column:8},end:{line:116,column:66}},42:{start:{line:116,column:33},end:{line:116,column:66}},43:{start:{line:117,column:8},end:{line:117,column:61}},44:{start:{line:117,column:36},end:{line:117,column:61}},45:{start:{line:120,column:4},end:{line:122,column:7}},46:{start:{line:125,column:14},end:{line:125,column:26}},47:{start:{line:126,column:28},end:{line:126,column:38}},48:{start:{line:127,column:18},end:{line:127,column:20}},49:{start:{line:128,column:4},end:{line:130,column:5}},50:{start:{line:129,column:6},end:{line:129,column:45}},51:{start:{line:131,column:4},end:{line:145,column:9}},52:{start:{line:141,column:23},end:{line:141,column:36}},53:{start:{line:148,column:18},end:{line:148,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:24},end:{line:20,column:5}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:22,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:18},end:{line:24,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:25,column:19},end:{line:25,column:20}},loc:{start:{line:25,column:25},end:{line:26,column:5}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:27,column:17},end:{line:27,column:18}},loc:{start:{line:27,column:23},end:{line:28,column:5}},line:27},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:21},end:{line:42,column:3}},line:34},6:{name:"(anonymous_6)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:22},end:{line:64,column:3}},line:43},7:{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:3}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:68,column:12},end:{line:68,column:13}},loc:{start:{line:68,column:18},end:{line:74,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:82,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:25},end:{line:87,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:32},end:{line:95,column:3}},line:88},12:{name:"(anonymous_12)",decl:{start:{line:96,column:13},end:{line:96,column:14}},loc:{start:{line:96,column:21},end:{line:123,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:124,column:2},end:{line:124,column:3}},loc:{start:{line:124,column:11},end:{line:146,column:3}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:141,column:15},end:{line:141,column:16}},loc:{start:{line:141,column:23},end:{line:141,column:36}},line:141}},branchMap:{0:{loc:{start:{line:46,column:12},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:46,column:12},end:{line:46,column:27}},{start:{line:46,column:31},end:{line:48,column:7}}],line:46},1:{loc:{start:{line:54,column:12},end:{line:56,column:7}},type:"binary-expr",locations:[{start:{line:54,column:12},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:56,column:7}}],line:54},2:{loc:{start:{line:69,column:4},end:{line:69,column:49}},type:"if",locations:[{start:{line:69,column:4},end:{line:69,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},3:{loc:{start:{line:77,column:4},end:{line:77,column:47}},type:"if",locations:[{start:{line:77,column:4},end:{line:77,column:47}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:89},5:{loc:{start:{line:89,column:8},end:{line:89,column:69}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:29}},{start:{line:89,column:33},end:{line:89,column:69}}],line:89},6:{loc:{start:{line:97,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:103,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:97},7:{loc:{start:{line:105,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:105,column:4},end:{line:119,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:105},8:{loc:{start:{line:113,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:113,column:6},end:{line:118,column:7}},{start:{line:115,column:13},end:{line:118,column:7}}],line:113},9:{loc:{start:{line:113,column:10},end:{line:113,column:41}},type:"binary-expr",locations:[{start:{line:113,column:10},end:{line:113,column:13}},{start:{line:113,column:17},end:{line:113,column:41}}],line:113},10:{loc:{start:{line:116,column:8},end:{line:116,column:66}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:66}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},11:{loc:{start:{line:117,column:8},end:{line:117,column:61}},type:"if",locations:[{start:{line:117,column:8},end:{line:117,column:61}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},12:{loc:{start:{line:128,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:128,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAyKQ,SACQ,KADR;AAzKR,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AACrC,SAAS,OAAwB,uBAAuB;AAExD,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA2BP,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM,OAAQ,MAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM,YAAa,MAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,0BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GACxF,+BAAC,SAAM,GAAM;AAAA;AAAA,QACL,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"da44fe7250311daecfc0a96e15b8409621007dbc"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return zn=function(){return s},s}zn();class t$ extends Sn.Component{constructor(t){zn().f[5]++,zn().s[4]++;super(t);dn(this,"_keyEvent");dn(this,"_doc");dn(this,"_el",(zn().s[2]++,null));dn(this,"_cancelNextChange",(zn().s[3]++,!1));dn(this,"onPointerDown",(zn().s[11]++,()=>{zn().f[7]++,zn().s[12]++,this._keyEvent="pointer"}));dn(this,"onFocus",(zn().s[13]++,()=>{zn().f[8]++,zn().s[14]++,this.props.onFocus?(zn().b[2][0]++,zn().s[15]++,this.props.onFocus()):zn().b[2][1]++,zn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));dn(this,"onBlur",(zn().s[17]++,()=>{zn().f[9]++,zn().s[18]++,this._keyEvent="keyboard",zn().s[19]++,this.props.onBlur?(zn().b[3][0]++,zn().s[20]++,this.props.onBlur()):zn().b[3][1]++,zn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));dn(this,"onChange",(zn().s[28]++,t=>{if(zn().f[12]++,zn().s[29]++,this._cancelNextChange){zn().b[6][0]++,zn().s[30]++,this._cancelNextChange=!1,zn().s[31]++,this.setState({prevValue:this._doc.getValue()}),zn().s[32]++;return}else zn().b[6][1]++;const r=(zn().s[33]++,this._doc.getValue());if(zn().s[34]++,this.state.prevValue!==r){zn().b[7][0]++;let i,o;zn().s[35]++;try{zn().s[36]++,i=JSON.parse(r)}catch(s){zn().s[37]++,o=s,zn().s[38]++,console.warn(s)}zn().s[39]++,zn().b[9][0]++,o&&(zn().b[9][1]++,this.props.onJSONInvalid)?(zn().b[8][0]++,zn().s[40]++,this.props.onJSONInvalid()):(zn().b[8][1]++,zn().s[41]++,this.props.onChange?(zn().b[10][0]++,zn().s[42]++,this.props.onChange(i)):zn().b[10][1]++,zn().s[43]++,this.props.onJSONValid?(zn().b[11][0]++,zn().s[44]++,this.props.onJSONValid()):zn().b[11][1]++)}else zn().b[7][1]++;zn().s[45]++,this.setState({prevValue:r})}));zn().s[5]++,this._keyEvent="keyboard",zn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){zn().f[6]++,zn().s[7]++,this._doc=gh(this._el,{value:this.props.getValue(this.props.layer),mode:(zn().b[0][0]++,this.props.mode||(zn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(zn().b[1][0]++,this.props.lint||(zn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),zn().s[8]++,this._doc.on("change",this.onChange),zn().s[9]++,this._doc.on("focus",this.onFocus),zn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){zn().f[10]++,zn().s[22]++,this._doc.off("change",this.onChange),zn().s[23]++,this._doc.off("focus",this.onFocus),zn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(t){zn().f[11]++,zn().s[25]++,zn().b[5][0]++,!this.state.isEditing&&(zn().b[5][1]++,t.layer!==this.props.layer)?(zn().b[4][0]++,zn().s[26]++,this._cancelNextChange=!0,zn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):zn().b[4][1]++}render(){zn().f[13]++;const t=(zn().s[46]++,this.props.t),{showMessage:r}=(zn().s[47]++,this.state),i=(zn().s[48]++,{});return zn().s[49]++,this.props.maxHeight?(zn().b[12][0]++,zn().s[50]++,i.maxHeight=this.props.maxHeight):zn().b[12][1]++,zn().s[51]++,q.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[q.jsx("div",{className:Sp("JSONEditor__message",{"JSONEditor__message--on":r}),children:q.jsxs(S0,{t,children:["Press ",q.jsx("kbd",{children:"ESC"})," to lose focus"]})}),q.jsx("div",{className:Sp("codemirror-container",this.props.className),ref:o=>(zn().f[14]++,zn().s[52]++,this._el=o),style:i})]})}}dn(t$,"defaultProps",(zn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:t=>(zn().f[0]++,zn().s[1]++,XQ(t,{indent:2,maxLength:40})),onFocus:()=>{zn().f[1]++},onBlur:()=>{zn().f[2]++},onJSONInvalid:()=>{zn().f[3]++},onJSONValid:()=>{zn().f[4]++}}));const O1e=(zn().s[53]++,zo()(t$));function $w(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",e="60f4cd40e505c4a9f8de1078b77716b10a4a4264",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $w=function(){return s},s}$w();class Wk extends Sn.Component{render(){return $w().f[0]++,$w().s[0]++,q.jsx(O1e,{...this.props})}}var Qb="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",B1e="M7,10L12,15L17,10H7Z",I1e="M7,15L12,10L17,15H7Z",Gk="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function Zg(){var n="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",e="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Zg=function(){return s},s}Zg();const Qk=(Zg().s[0]++,["all","any","none"]);Zg().s[1]++;const k1e=(Zg().s[2]++,Object.keys(zi.filter_operator.values).filter(n=>(Zg().f[0]++,Zg().s[3]++,Qk.indexOf(n)<0)));function qr(){var n="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",e="d18e3b448d830733ac17bcacd45f7c08e364baa2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:8,column:25}},1:{start:{line:8,column:16},end:{line:8,column:25}},2:{start:{line:9,column:2},end:{line:9,column:25}},3:{start:{line:9,column:16},end:{line:9,column:25}},4:{start:{line:10,column:2},end:{line:10,column:23}},5:{start:{line:13,column:19},end:{line:13,column:40}},6:{start:{line:14,column:2},end:{line:16,column:3}},7:{start:{line:15,column:4},end:{line:15,column:13}},8:{start:{line:17,column:2},end:{line:23,column:3}},9:{start:{line:18,column:4},end:{line:18,column:16}},10:{start:{line:19,column:9},end:{line:23,column:3}},11:{start:{line:20,column:4},end:{line:20,column:17}},12:{start:{line:22,column:4},end:{line:22,column:13}},13:{start:{line:26,column:2},end:{line:26,column:21}},14:{start:{line:27,column:2},end:{line:27,column:22}},15:{start:{line:28,column:2},end:{line:28,column:11}},16:{start:{line:31,column:24},end:{line:33,column:3}},17:{start:{line:35,column:20},end:{line:35,column:76}},18:{start:{line:36,column:4},end:{line:40,column:5}},19:{start:{line:37,column:6},end:{line:37,column:43}},20:{start:{line:38,column:11},end:{line:40,column:5}},21:{start:{line:39,column:6},end:{line:39,column:47}},22:{start:{line:41,column:4},end:{line:41,column:35}},23:{start:{line:44,column:14},end:{line:44,column:31}},24:{start:{line:45,column:21},end:{line:45,column:25}},25:{start:{line:46,column:25},end:{line:46,column:29}},26:{start:{line:47,column:23},end:{line:47,column:33}},27:{start:{line:48,column:4},end:{line:75,column:9}},28:{start:{line:54,column:72},end:{line:54,column:92}},29:{start:{line:55,column:41},end:{line:55,column:104}},30:{start:{line:63,column:37},end:{line:63,column:100}},31:{start:{line:72,column:27},end:{line:72,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:11,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:12,column:9},end:{line:12,column:21}},loc:{start:{line:12,column:25},end:{line:24,column:1}},line:12},2:{name:"parseFilter",decl:{start:{line:25,column:9},end:{line:25,column:20}},loc:{start:{line:25,column:24},end:{line:29,column:1}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:58},end:{line:42,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:76,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:54,column:58},end:{line:54,column:59}},loc:{start:{line:54,column:72},end:{line:54,column:92}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:55,column:20},end:{line:55,column:21}},loc:{start:{line:55,column:41},end:{line:55,column:104}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:63,column:20},end:{line:63,column:21}},loc:{start:{line:63,column:37},end:{line:63,column:100}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:27},end:{line:72,column:89}},line:72}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:25}},type:"if",locations:[{start:{line:8,column:2},end:{line:8,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:25}},type:"if",locations:[{start:{line:9,column:2},end:{line:9,column:25}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},2:{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},3:{loc:{start:{line:17,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:23,column:3}},{start:{line:19,column:9},end:{line:23,column:3}}],line:17},4:{loc:{start:{line:19,column:9},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:9},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},5:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:38,column:11},end:{line:40,column:5}}],line:36},6:{loc:{start:{line:36,column:8},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:26}},{start:{line:36,column:30},end:{line:36,column:49}}],line:36},7:{loc:{start:{line:38,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},8:{loc:{start:{line:67,column:6},end:{line:74,column:10}},type:"binary-expr",locations:[{start:{line:67,column:6},end:{line:67,column:27}},{start:{line:67,column:47},end:{line:74,column:10}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM,GAAI,QAAO;AACrB,MAAI,MAAM,CAAW,EAAG,QAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d18e3b448d830733ac17bcacd45f7c08e364baa2"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return qr=function(){return s},s}qr();function T1e(n){return qr().f[0]++,qr().s[0]++,n===""?(qr().b[0][0]++,qr().s[1]++,n):(qr().b[0][1]++,qr().s[2]++,isNaN(n)?(qr().b[1][0]++,qr().s[3]++,n):(qr().b[1][1]++,qr().s[4]++,parseFloat(n)))}function P1e(n){qr().f[1]++;const e=(qr().s[5]++,typeof n=="string");if(qr().s[6]++,e)qr().b[2][1]++;else return qr().b[2][0]++,qr().s[7]++,n;return qr().s[8]++,n.match(/^\s*true\s*$/)?(qr().b[3][0]++,qr().s[9]++,!0):(qr().b[3][1]++,qr().s[10]++,n.match(/^\s*false\s*$/)?(qr().b[4][0]++,qr().s[11]++,!1):(qr().b[4][1]++,qr().s[12]++,n))}function K1e(n){return qr().f[2]++,qr().s[13]++,n=T1e(n),qr().s[14]++,n=P1e(n),qr().s[15]++,n}class n$ extends Sn.Component{onFilterPartChanged(e,t,r){qr().f[3]++;let i=(qr().s[17]++,[e,t,...r.map(K1e)]);qr().s[18]++,qr().b[6][0]++,e==="has"||(qr().b[6][1]++,e==="!has")?(qr().b[5][0]++,qr().s[19]++,i=[e,t]):(qr().b[5][1]++,qr().s[20]++,r.length===0?(qr().b[7][0]++,qr().s[21]++,i=[e,t,""]):qr().b[7][1]++),qr().s[22]++,this.props.onChange(i)}render(){qr().f[4]++;const e=(qr().s[23]++,this.props.filter),t=(qr().s[24]++,e[0]),r=(qr().s[25]++,e[1]),i=(qr().s[26]++,e.slice(2));return qr().s[27]++,q.jsxs("div",{className:"maputnik-filter-editor-single",children:[q.jsx("div",{className:"maputnik-filter-editor-property",children:q.jsx(r_,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(qr().f[5]++,qr().s[28]++,[o,o])),onChange:o=>(qr().f[6]++,qr().s[29]++,this.onFilterPartChanged(t,o,i))})}),q.jsx("div",{className:"maputnik-filter-editor-operator",children:q.jsx(x1,{"aria-label":"function",value:t,onChange:o=>(qr().f[7]++,qr().s[30]++,this.onFilterPartChanged(o,r,i)),options:k1e})}),(qr().b[8][0]++,i.length>0&&(qr().b[8][1]++,q.jsx("div",{className:"maputnik-filter-editor-args",children:q.jsx(xd,{"aria-label":"value",value:i.join(","),onChange:o=>(qr().f[8]++,qr().s[31]++,this.onFilterPartChanged(t,r,o.split(",")))})})))]})}}dn(n$,"defaultProps",(qr().s[16]++,{properties:{}}));function pv(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",e="cef1671f65ba48cf49a518a548a597faa051d67d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:20,column:9}},2:{start:{line:23,column:26},end:{line:23,column:70}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:21,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAYW,SAOD,KAPC;AAZX,OAAO,WAAkC;AACzC,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAMjD,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,qBAAqB;AAAA,UAE9B,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cef1671f65ba48cf49a518a548a597faa051d67d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return pv=function(){return s},s}pv();class L1e extends Sn.Component{render(){pv().f[0]++;const e=(pv().s[0]++,this.props.t);return pv().s[1]++,q.jsxs("div",{className:"maputnik-filter-editor-block",children:[q.jsx("div",{className:"maputnik-filter-editor-block-action",children:q.jsx(ds,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:e("Delete filter block"),children:q.jsx(Zv,{})})}),q.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}const D1e=(pv().s[2]++,zo()(L1e));var F1e=1/0,R1e="[object Symbol]",$k="\\ud800-\\udfff",r$="\\u0300-\\u036f\\ufe20-\\ufe23",i$="\\u20d0-\\u20f0",o$="\\ufe0e\\ufe0f",U1e="["+$k+"]",v8="["+r$+i$+"]",_8="\\ud83c[\\udffb-\\udfff]",z1e="(?:"+v8+"|"+_8+")",a$="[^"+$k+"]",s$="(?:\\ud83c[\\udde6-\\uddff]){2}",l$="[\\ud800-\\udbff][\\udc00-\\udfff]",u$="\\u200d",A$=z1e+"?",c$="["+o$+"]?",j1e="(?:"+u$+"(?:"+[a$,s$,l$].join("|")+")"+c$+A$+")*",N1e=c$+A$+j1e,W1e="(?:"+[a$+v8+"?",v8,s$,l$,U1e].join("|")+")",G1e=RegExp(_8+"(?="+_8+")|"+W1e+N1e,"g"),Q1e=RegExp("["+u$+$k+r$+i$+o$+"]"),$1e=typeof window=="object"&&window&&window.Object===Object&&window,Y1e=typeof self=="object"&&self&&self.Object===Object&&self,q1e=$1e||Y1e||Function("return this")();function V1e(n){return n.split("")}function h$(n){return Q1e.test(n)}function H1e(n){return h$(n)?Z1e(n):V1e(n)}function Z1e(n){return n.match(G1e)||[]}var X1e=Object.prototype,J1e=X1e.toString,qL=q1e.Symbol,VL=qL?qL.prototype:void 0,HL=VL?VL.toString:void 0;function eye(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+e];return o}function tye(n){if(typeof n=="string")return n;if(oye(n))return HL?HL.call(n):"";var e=n+"";return e=="0"&&1/n==-F1e?"-0":e}function nye(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:eye(n,e,t)}function rye(n){return function(e){e=d$(e);var t=h$(e)?H1e(e):void 0,r=t?t[0]:e.charAt(0),i=t?nye(t,1).join(""):e.slice(1);return r[n]()+i}}function iye(n){return!!n&&typeof n=="object"}function oye(n){return typeof n=="symbol"||iye(n)&&J1e.call(n)==R1e}function d$(n){return n==null?"":tye(n)}function aye(n){return sye(d$(n).toLowerCase())}var sye=rye("toUpperCase"),lye=aye;const Yk=wa(lye);function rp(){var n="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",e="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return rp=function(){return s},s}rp();function EM(n){rp().f[0]++;let e;const t=(rp().s[0]++,n.split("-"));return rp().s[1]++,t.length>1?(rp().b[0][0]++,rp().s[2]++,e=n.split("-").slice(1).join(" ")):(rp().b[0][1]++,rp().s[3]++,e=n),rp().s[4]++,Yk(e)}function Ki(){var n="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",e="550aede3b5713892add5bda71ec153770e1b1129",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:11,column:24},end:{line:17,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:22,column:6}},3:{start:{line:24,column:18},end:{line:28,column:3}},4:{start:{line:25,column:4},end:{line:27,column:7}},5:{start:{line:29,column:16},end:{line:33,column:3}},6:{start:{line:30,column:4},end:{line:32,column:7}},7:{start:{line:35,column:64},end:{line:35,column:74}},8:{start:{line:36,column:26},end:{line:36,column:36}},9:{start:{line:37,column:25},end:{line:37,column:52}},10:{start:{line:38,column:42},end:{line:60,column:8}},11:{start:{line:61,column:21},end:{line:61,column:83}},12:{start:{line:62,column:23},end:{line:62,column:39}},13:{start:{line:63,column:26},end:{line:63,column:40}},14:{start:{line:64,column:24},end:{line:64,column:26}},15:{start:{line:66,column:6},end:{line:66,column:65}},16:{start:{line:68,column:4},end:{line:79,column:5}},17:{start:{line:69,column:6},end:{line:69,column:52}},18:{start:{line:71,column:6},end:{line:75,column:9}},19:{start:{line:72,column:8},end:{line:72,column:45}},20:{start:{line:74,column:8},end:{line:74,column:39}},21:{start:{line:76,column:6},end:{line:78,column:7}},22:{start:{line:77,column:8},end:{line:77,column:37}},23:{start:{line:80,column:4},end:{line:110,column:6}},24:{start:{line:113,column:27},end:{line:113,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:13},end:{line:13,column:14}},loc:{start:{line:13,column:19},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:18},end:{line:16,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:23,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:24,column:18},end:{line:24,column:19}},loc:{start:{line:24,column:28},end:{line:28,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:29,column:16},end:{line:29,column:17}},loc:{start:{line:29,column:22},end:{line:33,column:3}},line:29},5:{name:"(anonymous_5)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:11},end:{line:111,column:3}},line:34},6:{name:"getValue",decl:{start:{line:65,column:13},end:{line:65,column:21}},loc:{start:{line:65,column:28},end:{line:67,column:5}},line:65},7:{name:"(anonymous_7)",decl:{start:{line:71,column:36},end:{line:71,column:37}},loc:{start:{line:71,column:55},end:{line:73,column:7}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:73,column:17},end:{line:73,column:18}},loc:{start:{line:73,column:36},end:{line:75,column:7}},line:73}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:52}},type:"cond-expr",locations:[{start:{line:37,column:35},end:{line:37,column:45}},{start:{line:37,column:48},end:{line:37,column:52}}],line:37},1:{loc:{start:{line:39,column:6},end:{line:49,column:7}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:23}},{start:{line:39,column:43},end:{line:49,column:7}}],line:39},2:{loc:{start:{line:61,column:21},end:{line:61,column:83}},type:"cond-expr",locations:[{start:{line:61,column:44},end:{line:61,column:53}},{start:{line:61,column:56},end:{line:61,column:83}}],line:61},3:{loc:{start:{line:68,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:79,column:5}},{start:{line:70,column:11},end:{line:79,column:5}}],line:68},4:{loc:{start:{line:76,column:6},end:{line:78,column:7}},type:"if",locations:[{start:{line:76,column:6},end:{line:78,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA6DM,mBASM,KATN;AA7DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAC5B,SAA0B,uBAAuB;AAEjD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,MAAM,mCAAmC,MAAM,UAAoE;AAAA,EACjH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAY,OAAwC;AAClD,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC/D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAO,EAAE,wBAAwB;AAAA,UAEjC,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAO,EAAE,mBAAmB;AAAA,UAE5B,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,EAAE,mBAAmB,KAAK,MAAM,SAAS,CAAC;AAAA,QACjD,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,qBAAqB,gBAAgB,EAAE,0BAA0B;AACvE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"550aede3b5713892add5bda71ec153770e1b1129"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ki=function(){return s},s}Ki();class f$ extends Sn.Component{constructor(t){Ki().f[2]++,Ki().s[1]++;super(t);dn(this,"onJSONInvalid",(Ki().s[3]++,t=>{Ki().f[3]++,Ki().s[4]++,this.setState({jsonError:!0})}));dn(this,"onJSONValid",(Ki().s[5]++,()=>{Ki().f[4]++,Ki().s[6]++,this.setState({jsonError:!1})}));Ki().s[2]++,this.state={jsonError:!1}}render(){Ki().f[5]++;const{t,errors:r,fieldName:i,fieldType:o,value:s,canUndo:a}=(Ki().s[7]++,this.props),{jsonError:f}=(Ki().s[8]++,this.state),m=(Ki().s[9]++,a?(Ki().b[0][0]++,!a()):(Ki().b[0][1]++,!0)),C=(Ki().s[10]++,q.jsxs(q.Fragment,{children:[(Ki().b[1][0]++,this.props.onUndo&&(Ki().b[1][1]++,q.jsx(ds,{onClick:this.props.onUndo,disabled:m,className:"maputnik-delete-stop",title:t("Revert from expression"),children:q.jsx(sie,{})},"undo_action"))),q.jsx(ds,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:t("Delete expression"),children:q.jsx(Zv,{})},"delete_action")]})),B=(Ki().s[11]++,o===void 0?(Ki().b[2][0]++,i):(Ki().b[2][1]++,`${o}.${i}`)),I=(Ki().s[12]++,r[B]),K=(Ki().s[13]++,`${B}[`),L=(Ki().s[14]++,[]);function Y(ee){return Ki().f[6]++,Ki().s[15]++,XQ(ee,{indent:2,maxLength:38})}return Ki().s[16]++,f?(Ki().b[3][0]++,Ki().s[17]++,L.push({message:"Invalid JSON"})):(Ki().b[3][1]++,Ki().s[18]++,Object.entries(r).filter(([ee,V])=>(Ki().f[7]++,Ki().s[19]++,ee.startsWith(K))).forEach(([ee,V])=>(Ki().f[8]++,Ki().s[20]++,L.push(V))),Ki().s[21]++,I?(Ki().b[4][0]++,Ki().s[22]++,L.push(I)):Ki().b[4][1]++),Ki().s[23]++,q.jsx(oa,{error:L,fieldSpec:this.props.fieldSpec,label:t(EM(this.props.fieldName)),action:C,wideMode:!0,children:q.jsx(Wk,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:s,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:Y,onChange:this.props.onChange})})}}dn(f$,"defaultProps",(Ki().s[0]++,{errors:{},onFocus:()=>{Ki().f[0]++},onBlur:()=>{Ki().f[1]++}}));const p$=(Ki().s[24]++,zo()(f$));function yn(){var n="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",e="10bf63b3f71adfa5066d0aecd6eaecbe45ada76f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:17,column:17},end:{line:17,column:40}},1:{start:{line:18,column:2},end:{line:20,column:3}},2:{start:{line:19,column:4},end:{line:19,column:18}},3:{start:{line:21,column:20},end:{line:21,column:29}},4:{start:{line:22,column:16},end:{line:22,column:31}},5:{start:{line:23,column:2},end:{line:26,column:3}},6:{start:{line:24,column:4},end:{line:24,column:24}},7:{start:{line:25,column:4},end:{line:25,column:32}},8:{start:{line:27,column:2},end:{line:27,column:35}},9:{start:{line:30,column:2},end:{line:30,column:65}},10:{start:{line:33,column:2},end:{line:54,column:4}},11:{start:{line:56,column:19},end:{line:60,column:1}},12:{start:{line:62,column:2},end:{line:64,column:3}},13:{start:{line:63,column:4},end:{line:63,column:16}},14:{start:{line:65,column:21},end:{line:65,column:42}},15:{start:{line:66,column:2},end:{line:66,column:38}},16:{start:{line:69,column:2},end:{line:69,column:52}},17:{start:{line:72,column:2},end:{line:74,column:3}},18:{start:{line:73,column:4},end:{line:73,column:97}},19:{start:{line:73,column:38},end:{line:73,column:59}},20:{start:{line:73,column:75},end:{line:73,column:84}},21:{start:{line:75,column:2},end:{line:75,column:15}},22:{start:{line:78,column:24},end:{line:80,column:3}},23:{start:{line:82,column:4},end:{line:82,column:17}},24:{start:{line:83,column:4},end:{line:86,column:6}},25:{start:{line:90,column:22},end:{line:90,column:58}},26:{start:{line:91,column:4},end:{line:91,column:35}},27:{start:{line:92,column:4},end:{line:92,column:35}},28:{start:{line:95,column:22},end:{line:95,column:58}},29:{start:{line:96,column:4},end:{line:96,column:39}},30:{start:{line:97,column:4},end:{line:97,column:35}},31:{start:{line:99,column:18},end:{line:103,column:3}},32:{start:{line:100,column:26},end:{line:100,column:62}},33:{start:{line:101,column:4},end:{line:101,column:43}},34:{start:{line:102,column:4},end:{line:102,column:39}},35:{start:{line:104,column:16},end:{line:108,column:3}},36:{start:{line:105,column:4},end:{line:107,column:7}},37:{start:{line:109,column:15},end:{line:113,column:3}},38:{start:{line:110,column:4},end:{line:112,column:7}},39:{start:{line:114,column:19},end:{line:120,column:3}},40:{start:{line:115,column:19},end:{line:115,column:46}},41:{start:{line:116,column:4},end:{line:116,column:47}},42:{start:{line:117,column:4},end:{line:119,column:7}},43:{start:{line:122,column:32},end:{line:122,column:75}},44:{start:{line:123,column:4},end:{line:136,column:5}},45:{start:{line:124,column:6},end:{line:127,column:8}},46:{start:{line:128,column:11},end:{line:136,column:5}},47:{start:{line:129,column:6},end:{line:131,column:8}},48:{start:{line:133,column:6},end:{line:135,column:8}},49:{start:{line:139,column:26},end:{line:139,column:36}},50:{start:{line:140,column:36},end:{line:140,column:46}},51:{start:{line:141,column:22},end:{line:143,column:5}},52:{start:{line:144,column:26},end:{line:144,column:33}},53:{start:{line:145,column:36},end:{line:145,column:112}},54:{start:{line:146,column:4},end:{line:271,column:5}},55:{start:{line:147,column:6},end:{line:160,column:11}},56:{start:{line:161,column:11},end:{line:271,column:5}},57:{start:{line:162,column:21},end:{line:162,column:48}},58:{start:{line:163,column:26},end:{line:163,column:35}},59:{start:{line:164,column:22},end:{line:164,column:37}},60:{start:{line:165,column:38},end:{line:173,column:10}},61:{start:{line:174,column:27},end:{line:187,column:8}},62:{start:{line:175,column:22},end:{line:175,column:50}},63:{start:{line:176,column:8},end:{line:186,column:29}},64:{start:{line:188,column:6},end:{line:240,column:11}},65:{start:{line:199,column:33},end:{line:199,column:63}},66:{start:{line:242,column:25},end:{line:242,column:35}},67:{start:{line:243,column:6},end:{line:270,column:11}},68:{start:{line:248,column:14},end:{line:248,column:59}},69:{start:{line:249,column:14},end:{line:249,column:49}},70:{start:{line:274,column:21},end:{line:274,column:60}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:16,column:9},end:{line:16,column:24}},loc:{start:{line:16,column:32},end:{line:28,column:1}},line:16},1:{name:"migrateFilter",decl:{start:{line:29,column:9},end:{line:29,column:22}},loc:{start:{line:29,column:31},end:{line:31,column:1}},line:29},2:{name:"createStyleFromFilter",decl:{start:{line:32,column:9},end:{line:32,column:30}},loc:{start:{line:32,column:39},end:{line:55,column:1}},line:32},3:{name:"checkIfSimpleFilter",decl:{start:{line:61,column:9},end:{line:61,column:28}},loc:{start:{line:61,column:37},end:{line:67,column:1}},line:61},4:{name:"hasCombiningFilter",decl:{start:{line:68,column:9},end:{line:68,column:27}},loc:{start:{line:68,column:36},end:{line:70,column:1}},line:68},5:{name:"hasNestedCombiningFilter",decl:{start:{line:71,column:9},end:{line:71,column:33}},loc:{start:{line:71,column:42},end:{line:76,column:1}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:73,column:31},end:{line:73,column:32}},loc:{start:{line:73,column:38},end:{line:73,column:59}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:73,column:68},end:{line:73,column:69}},loc:{start:{line:73,column:75},end:{line:73,column:84}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:21},end:{line:87,column:3}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:42},end:{line:93,column:3}},line:89},10:{name:"(anonymous_10)",decl:{start:{line:94,column:2},end:{line:94,column:3}},loc:{start:{line:94,column:30},end:{line:98,column:3}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:99,column:18},end:{line:99,column:19}},loc:{start:{line:99,column:24},end:{line:103,column:3}},line:99},12:{name:"(anonymous_12)",decl:{start:{line:104,column:16},end:{line:104,column:17}},loc:{start:{line:104,column:25},end:{line:108,column:3}},line:104},13:{name:"(anonymous_13)",decl:{start:{line:109,column:15},end:{line:109,column:16}},loc:{start:{line:109,column:21},end:{line:113,column:3}},line:109},14:{name:"(anonymous_14)",decl:{start:{line:114,column:19},end:{line:114,column:20}},loc:{start:{line:114,column:25},end:{line:120,column:3}},line:114},15:{name:"(anonymous_15)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:48},end:{line:137,column:3}},line:121},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:272,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:174,column:39},end:{line:174,column:40}},loc:{start:{line:174,column:51},end:{line:187,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:199,column:26},end:{line:199,column:27}},loc:{start:{line:199,column:33},end:{line:199,column:63}},line:199},19:{name:"(anonymous_19)",decl:{start:{line:247,column:22},end:{line:247,column:23}},loc:{start:{line:247,column:28},end:{line:250,column:13}},line:247}},branchMap:{0:{loc:{start:{line:17,column:17},end:{line:17,column:40}},type:"binary-expr",locations:[{start:{line:17,column:17},end:{line:17,column:29}},{start:{line:17,column:33},end:{line:17,column:40}}],line:17},1:{loc:{start:{line:18,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:23,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:26,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:62,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:62,column:2},end:{line:64,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},4:{loc:{start:{line:62,column:6},end:{line:62,column:59}},type:"binary-expr",locations:[{start:{line:62,column:6},end:{line:62,column:25}},{start:{line:62,column:29},end:{line:62,column:59}}],line:62},5:{loc:{start:{line:72,column:2},end:{line:74,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:74,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},6:{loc:{start:{line:123,column:4},end:{line:136,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:136,column:5}},{start:{line:128,column:11},end:{line:136,column:5}}],line:123},7:{loc:{start:{line:123,column:8},end:{line:123,column:66}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:28}},{start:{line:123,column:32},end:{line:123,column:66}}],line:123},8:{loc:{start:{line:128,column:11},end:{line:136,column:5}},type:"if",locations:[{start:{line:128,column:11},end:{line:136,column:5}},{start:{line:132,column:11},end:{line:136,column:5}}],line:128},9:{loc:{start:{line:128,column:15},end:{line:128,column:73}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:34}},{start:{line:128,column:38},end:{line:128,column:73}}],line:128},10:{loc:{start:{line:145,column:36},end:{line:145,column:112}},type:"binary-expr",locations:[{start:{line:145,column:36},end:{line:145,column:55}},{start:{line:145,column:59},end:{line:145,column:112}}],line:145},11:{loc:{start:{line:146,column:4},end:{line:271,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:271,column:5}},{start:{line:161,column:11},end:{line:271,column:5}}],line:146},12:{loc:{start:{line:161,column:11},end:{line:271,column:5}},type:"if",locations:[{start:{line:161,column:11},end:{line:271,column:5}},{start:{line:241,column:11},end:{line:271,column:5}}],line:161},13:{loc:{start:{line:185,column:10},end:{line:185,column:119}},type:"binary-expr",locations:[{start:{line:185,column:10},end:{line:185,column:15}},{start:{line:185,column:35},end:{line:185,column:119}}],line:185},14:{loc:{start:{line:235,column:30},end:{line:235,column:62}},type:"cond-expr",locations:[{start:{line:235,column:51},end:{line:235,column:53}},{start:{line:235,column:56},end:{line:235,column:62}}],line:235},15:{loc:{start:{line:258,column:8},end:{line:269,column:12}},type:"binary-expr",locations:[{start:{line:258,column:8},end:{line:258,column:38}},{start:{line:258,column:58},end:{line:269,column:12}}],line:258}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AAgMQ,SAsDA,UAtDA,KAGA,YAHA;AAhMR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAC/B,SAA0B,uBAAuB;AAGjD,SAAS,gBAAgB,OAAuF;AAC9G,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAAkC;AAC7C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,MAAM,wBAAwB,MAAM;AAC9D,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,MAAM,wBAAwB,OAAO;AACnE,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,EAAC,IAAI,KAAK;AACzB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OACE,YAAE,mCAAmC,GACxC;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAO,EAAE,uBAAuB;AAAA,YAEhC;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cACC,EAAE,uBAAuB;AAAA;AAAA;AAAA,QAC5B;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAO,EAAE,uBAAuB;AAAA,UAChC,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO,EAAE,QAAQ;AAAA,YACjB,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS;AAAA,kBACP,CAAC,OAAO,EAAE,sBAAsB,CAAC;AAAA,kBACjC,CAAC,QAAQ,EAAE,mBAAmB,CAAC;AAAA,kBAC/B,CAAC,OAAO,EAAE,oBAAoB,CAAC;AAAA,gBACjC;AAAA;AAAA,YACF;AAAA;AAAA,UAbI;AAAA,QAcN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA,kBAAE,EAAE,YAAY;AAAA;AAAA;AAAA,YACxB;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBACZ;AAAA,YAAE,qCAAqC;AAAA,UACvC;AAAA,UACD;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cAET,YAAE,0BAA0B;AAAA;AAAA,UAC/B;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"10bf63b3f71adfa5066d0aecd6eaecbe45ada76f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return yn=function(){return s},s}yn();function Xm(n){yn().f[0]++;const e=(yn().s[0]++,yn().b[0][0]++,n.filter||(yn().b[0][1]++,["all"]));if(yn().s[1]++,Array.isArray(e))yn().b[1][1]++;else return yn().b[1][0]++,yn().s[2]++,e;let t=(yn().s[3]++,e[0]),r=(yn().s[4]++,e.slice(1));return yn().s[5]++,Qk.indexOf(t)<0?(yn().b[2][0]++,yn().s[6]++,t="all",yn().s[7]++,r=[e.slice(0)]):yn().b[2][1]++,yn().s[8]++,[t,...r]}function uye(n){return yn().f[1]++,yn().s[9]++,_re(Aye(n)).layers[0].filter}function Aye(n){return yn().f[2]++,yn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:n}]}}const cye=(yn().s[11]++,["all","any","none"]);function ZL(n){if(yn().f[3]++,yn().s[12]++,yn().b[4][0]++,n.length===1&&(yn().b[4][1]++,cye.includes(n[0])))return yn().b[3][0]++,yn().s[13]++,!0;yn().b[3][1]++;const e=(yn().s[14]++,UC(n));return yn().s[15]++,!F5.isEqual(e,n)}function XL(n){return yn().f[4]++,yn().s[16]++,Qk.indexOf(n[0])>=0}function hye(n){return yn().f[5]++,yn().s[17]++,XL(n)?(yn().b[5][0]++,yn().s[18]++,n.slice(1).map(e=>(yn().f[6]++,yn().s[19]++,XL(e))).filter(e=>(yn().f[7]++,yn().s[20]++,e==!0)).length>0):(yn().b[5][1]++,yn().s[21]++,!1)}class m$ extends Sn.Component{constructor(t){yn().f[8]++,yn().s[23]++;super(t);dn(this,"addFilterItem",(yn().s[31]++,()=>{yn().f[11]++;const t=(yn().s[32]++,Xm(this.props).slice(0));yn().s[33]++,t.push(["==","name",""]),yn().s[34]++,this.props.onChange(t)}));dn(this,"onToggleDoc",(yn().s[35]++,t=>{yn().f[12]++,yn().s[36]++,this.setState({showDoc:t})}));dn(this,"makeFilter",(yn().s[37]++,()=>{yn().f[13]++,yn().s[38]++,this.setState({displaySimpleFilter:!0})}));dn(this,"makeExpression",(yn().s[39]++,()=>{yn().f[14]++;const t=(yn().s[40]++,Xm(this.props));yn().s[41]++,this.props.onChange(uye(t)),yn().s[42]++,this.setState({displaySimpleFilter:!1})}));yn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:ZL(Xm(t))}}onFilterPartChanged(t,r){yn().f[9]++;const i=(yn().s[25]++,Xm(this.props).slice(0));yn().s[26]++,i[t]=r,yn().s[27]++,this.props.onChange(i)}deleteFilterItem(t){yn().f[10]++;const r=(yn().s[28]++,Xm(this.props).slice(0));yn().s[29]++,r.splice(t+1,1),yn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(t,r){yn().f[15]++;const i=(yn().s[43]++,ZL(Xm(t)));return yn().s[44]++,yn().b[7][0]++,!i&&(yn().b[7][1]++,r.displaySimpleFilter===!0)?(yn().b[6][0]++,yn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(yn().b[6][1]++,yn().s[46]++,yn().b[9][0]++,i&&(yn().b[9][1]++,r.displaySimpleFilter===!1)?(yn().b[8][0]++,yn().s[47]++,{valueIsSimpleFilter:!0}):(yn().b[8][1]++,yn().s[48]++,{valueIsSimpleFilter:!1}))}render(){yn().f[16]++;const{errors:t,t:r}=(yn().s[49]++,this.props),{displaySimpleFilter:i}=(yn().s[50]++,this.state),o=(yn().s[51]++,{doc:da.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),s=(yn().s[52]++,["all"]),a=(yn().s[53]++,yn().b[10][0]++,i&&(yn().b[10][1]++,hye(Xm(this.props))));if(yn().s[54]++,a)return yn().b[11][0]++,yn().s[55]++,q.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[q.jsx("p",{children:r("Nested filters are not supported.")}),q.jsxs(ds,{onClick:this.makeExpression,title:r("Convert to expression"),children:[q.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Qb})}),r("Upgrade to expression")]})]});if(yn().b[11][1]++,yn().s[56]++,i){yn().b[12][0]++;const f=(yn().s[57]++,Xm(this.props)),m=(yn().s[58]++,f[0]),C=(yn().s[59]++,f.slice(1)),B=(yn().s[60]++,q.jsx("div",{children:q.jsx(ds,{onClick:this.makeExpression,title:r("Convert to expression"),className:"maputnik-make-zoom-function",children:q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Qb})})})})),I=(yn().s[61]++,C.map((K,L)=>{yn().f[17]++;const Y=(yn().s[62]++,t[`filter[${L+1}]`]);return yn().s[63]++,q.jsxs("div",{children:[q.jsx(D1e,{onDelete:this.deleteFilterItem.bind(this,L),children:q.jsx(n$,{properties:this.props.properties,filter:K,onChange:this.onFilterPartChanged.bind(this,L+1)})},L),(yn().b[13][0]++,Y&&(yn().b[13][1]++,q.jsx("div",{className:"maputnik-inline-error",children:Y.message},"error")))]},`block-${L}`)}));return yn().s[64]++,q.jsxs(q.Fragment,{children:[q.jsx(oa,{fieldSpec:o,label:r("Filter"),action:B,children:q.jsx(x1,{value:m,onChange:K=>(yn().f[18]++,yn().s[65]++,this.onFilterPartChanged(0,K)),options:[["all",r("every filter matches")],["none",r("no filter matches")],["any",r("any filter matches")]]})},"top"),I,q.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:q.jsxs(ds,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Gk})})," ",r("Add filter")]})},"buttons"),q.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(yn().b[14][0]++,""):(yn().b[14][1]++,"none")},children:q.jsx(Lk,{fieldSpec:o})},"doc")]})}else{yn().b[12][1]++;const{filter:f}=(yn().s[66]++,this.props);return yn().s[67]++,q.jsxs(q.Fragment,{children:[q.jsx(p$,{onDelete:()=>{yn().f[19]++,yn().s[68]++,this.setState({displaySimpleFilter:!0}),yn().s[69]++,this.props.onChange(s)},fieldName:"filter",fieldSpec:o,value:f,errors:t,onChange:this.props.onChange}),(yn().b[15][0]++,this.state.valueIsSimpleFilter&&(yn().b[15][1]++,q.jsxs("div",{className:"maputnik-expr-infobox",children:[r("You've entered an old style filter.")," ",q.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:r("Switch to filter editor.")})]})))]})}}}dn(m$,"defaultProps",(yn().s[22]++,{filter:["all"]}));const dye=(yn().s[70]++,zo()(m$));var OM={},Ys={},_2={},fye=typeof window=="object"&&window&&window.Object===Object&&window,g$=fye,pye=g$,mye=typeof self=="object"&&self&&self.Object===Object&&self,gye=pye||mye||Function("return this")(),mf=gye,yye=mf,vye=yye.Symbol,C2=vye,JL=C2,y$=Object.prototype,_ye=y$.hasOwnProperty,Cye=y$.toString,lC=JL?JL.toStringTag:void 0;function bye(n){var e=_ye.call(n,lC),t=n[lC];try{n[lC]=void 0;var r=!0}catch{}var i=Cye.call(n);return r&&(e?n[lC]=t:delete n[lC]),i}var xye=bye,wye=Object.prototype,Mye=wye.toString;function Sye(n){return Mye.call(n)}var Eye=Sye,eD=C2,Oye=xye,Bye=Eye,Iye="[object Null]",kye="[object Undefined]",tD=eD?eD.toStringTag:void 0;function Tye(n){return n==null?n===void 0?kye:Iye:tD&&tD in Object(n)?Oye(n):Bye(n)}var w1=Tye,Pye=Array.isArray,Ih=Pye;function Kye(n){return n!=null&&typeof n=="object"}var Tp=Kye,Lye=w1,Dye=Ih,Fye=Tp,Rye="[object String]";function Uye(n){return typeof n=="string"||!Dye(n)&&Fye(n)&&Lye(n)==Rye}var zye=Uye;function jye(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var f=s[n?a:++i];if(t(o[f],f,o)===!1)break}return e}}var Nye=jye,Wye=Nye,Gye=Wye(),v$=Gye;function Qye(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var $ye=Qye,Yye=w1,qye=Tp,Vye="[object Arguments]";function Hye(n){return qye(n)&&Yye(n)==Vye}var Zye=Hye,nD=Zye,Xye=Tp,_$=Object.prototype,Jye=_$.hasOwnProperty,eve=_$.propertyIsEnumerable,tve=nD(function(){return arguments}())?nD:function(n){return Xye(n)&&Jye.call(n,"callee")&&!eve.call(n,"callee")},qk=tve,Yw={exports:{}};function nve(){return!1}var rve=nve;Yw.exports;(function(n,e){var t=mf,r=rve,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?t.Buffer:void 0,f=a?a.isBuffer:void 0,m=f||r;n.exports=m})(Yw,Yw.exports);var BM=Yw.exports,ive=9007199254740991,ove=/^(?:0|[1-9]\d*)$/;function ave(n,e){var t=typeof n;return e=e??ive,!!e&&(t=="number"||t!="symbol"&&ove.test(n))&&n>-1&&n%1==0&&n<e}var Vk=ave,sve=9007199254740991;function lve(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=sve}var Hk=lve,uve=w1,Ave=Hk,cve=Tp,hve="[object Arguments]",dve="[object Array]",fve="[object Boolean]",pve="[object Date]",mve="[object Error]",gve="[object Function]",yve="[object Map]",vve="[object Number]",_ve="[object Object]",Cve="[object RegExp]",bve="[object Set]",xve="[object String]",wve="[object WeakMap]",Mve="[object ArrayBuffer]",Sve="[object DataView]",Eve="[object Float32Array]",Ove="[object Float64Array]",Bve="[object Int8Array]",Ive="[object Int16Array]",kve="[object Int32Array]",Tve="[object Uint8Array]",Pve="[object Uint8ClampedArray]",Kve="[object Uint16Array]",Lve="[object Uint32Array]",Cs={};Cs[Eve]=Cs[Ove]=Cs[Bve]=Cs[Ive]=Cs[kve]=Cs[Tve]=Cs[Pve]=Cs[Kve]=Cs[Lve]=!0;Cs[hve]=Cs[dve]=Cs[Mve]=Cs[fve]=Cs[Sve]=Cs[pve]=Cs[mve]=Cs[gve]=Cs[yve]=Cs[vve]=Cs[_ve]=Cs[Cve]=Cs[bve]=Cs[xve]=Cs[wve]=!1;function Dve(n){return cve(n)&&Ave(n.length)&&!!Cs[uve(n)]}var Fve=Dve;function Rve(n){return function(e){return n(e)}}var Zk=Rve,qw={exports:{}};qw.exports;(function(n,e){var t=g$,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(qw,qw.exports);var Xk=qw.exports,Uve=Fve,zve=Zk,rD=Xk,iD=rD&&rD.isTypedArray,jve=iD?zve(iD):Uve,Jk=jve,Nve=$ye,Wve=qk,Gve=Ih,Qve=BM,$ve=Vk,Yve=Jk,qve=Object.prototype,Vve=qve.hasOwnProperty;function Hve(n,e){var t=Gve(n),r=!t&&Wve(n),i=!t&&!r&&Qve(n),o=!t&&!r&&!i&&Yve(n),s=t||r||i||o,a=s?Nve(n.length,String):[],f=a.length;for(var m in n)(e||Vve.call(n,m))&&!(s&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||$ve(m,f)))&&a.push(m);return a}var C$=Hve,Zve=Object.prototype;function Xve(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Zve;return n===t}var eT=Xve;function Jve(n,e){return function(t){return n(e(t))}}var b$=Jve,e_e=b$,t_e=e_e(Object.keys,Object),n_e=t_e,r_e=eT,i_e=n_e,o_e=Object.prototype,a_e=o_e.hasOwnProperty;function s_e(n){if(!r_e(n))return i_e(n);var e=[];for(var t in Object(n))a_e.call(n,t)&&t!="constructor"&&e.push(t);return e}var l_e=s_e;function u_e(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Md=u_e,A_e=w1,c_e=Md,h_e="[object AsyncFunction]",d_e="[object Function]",f_e="[object GeneratorFunction]",p_e="[object Proxy]";function m_e(n){if(!c_e(n))return!1;var e=A_e(n);return e==d_e||e==f_e||e==h_e||e==p_e}var tT=m_e,g_e=tT,y_e=Hk;function v_e(n){return n!=null&&y_e(n.length)&&!g_e(n)}var i_=v_e,__e=C$,C_e=l_e,b_e=i_;function x_e(n){return b_e(n)?__e(n):C_e(n)}var b2=x_e,w_e=v$,M_e=b2;function S_e(n,e){return n&&w_e(n,e,M_e)}var x$=S_e;function E_e(n){return n}var IM=E_e,O_e=IM;function B_e(n){return typeof n=="function"?n:O_e}var w$=B_e,I_e=x$,k_e=w$;function T_e(n,e){return n&&I_e(n,k_e(e))}var nT=T_e,P_e=b$,K_e=P_e(Object.getPrototypeOf,Object),rT=K_e,L_e=w1,D_e=rT,F_e=Tp,R_e="[object Object]",U_e=Function.prototype,z_e=Object.prototype,M$=U_e.toString,j_e=z_e.hasOwnProperty,N_e=M$.call(Object);function W_e(n){if(!F_e(n)||L_e(n)!=R_e)return!1;var e=D_e(n);if(e===null)return!0;var t=j_e.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&M$.call(t)==N_e}var S$=W_e;function G_e(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var E$=G_e;function Q_e(){this.__data__=[],this.size=0}var $_e=Q_e;function Y_e(n,e){return n===e||n!==n&&e!==e}var x2=Y_e,q_e=x2;function V_e(n,e){for(var t=n.length;t--;)if(q_e(n[t][0],e))return t;return-1}var kM=V_e,H_e=kM,Z_e=Array.prototype,X_e=Z_e.splice;function J_e(n){var e=this.__data__,t=H_e(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():X_e.call(e,t,1),--this.size,!0}var eCe=J_e,tCe=kM;function nCe(n){var e=this.__data__,t=tCe(e,n);return t<0?void 0:e[t][1]}var rCe=nCe,iCe=kM;function oCe(n){return iCe(this.__data__,n)>-1}var aCe=oCe,sCe=kM;function lCe(n,e){var t=this.__data__,r=sCe(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var uCe=lCe,ACe=$_e,cCe=eCe,hCe=rCe,dCe=aCe,fCe=uCe;function o_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}o_.prototype.clear=ACe;o_.prototype.delete=cCe;o_.prototype.get=hCe;o_.prototype.has=dCe;o_.prototype.set=fCe;var TM=o_,pCe=TM;function mCe(){this.__data__=new pCe,this.size=0}var gCe=mCe;function yCe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var vCe=yCe;function _Ce(n){return this.__data__.get(n)}var CCe=_Ce;function bCe(n){return this.__data__.has(n)}var xCe=bCe,wCe=mf,MCe=wCe["__core-js_shared__"],SCe=MCe,p6=SCe,oD=function(){var n=/[^.]+$/.exec(p6&&p6.keys&&p6.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ECe(n){return!!oD&&oD in n}var OCe=ECe,BCe=Function.prototype,ICe=BCe.toString;function kCe(n){if(n!=null){try{return ICe.call(n)}catch{}try{return n+""}catch{}}return""}var O$=kCe,TCe=tT,PCe=OCe,KCe=Md,LCe=O$,DCe=/[\\^$.*+?()[\]{}|]/g,FCe=/^\[object .+?Constructor\]$/,RCe=Function.prototype,UCe=Object.prototype,zCe=RCe.toString,jCe=UCe.hasOwnProperty,NCe=RegExp("^"+zCe.call(jCe).replace(DCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WCe(n){if(!KCe(n)||PCe(n))return!1;var e=TCe(n)?NCe:FCe;return e.test(LCe(n))}var GCe=WCe;function QCe(n,e){return n==null?void 0:n[e]}var $Ce=QCe,YCe=GCe,qCe=$Ce;function VCe(n,e){var t=qCe(n,e);return YCe(t)?t:void 0}var M1=VCe,HCe=M1,ZCe=mf,XCe=HCe(ZCe,"Map"),iT=XCe,JCe=M1,ebe=JCe(Object,"create"),PM=ebe,aD=PM;function tbe(){this.__data__=aD?aD(null):{},this.size=0}var nbe=tbe;function rbe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var ibe=rbe,obe=PM,abe="__lodash_hash_undefined__",sbe=Object.prototype,lbe=sbe.hasOwnProperty;function ube(n){var e=this.__data__;if(obe){var t=e[n];return t===abe?void 0:t}return lbe.call(e,n)?e[n]:void 0}var Abe=ube,cbe=PM,hbe=Object.prototype,dbe=hbe.hasOwnProperty;function fbe(n){var e=this.__data__;return cbe?e[n]!==void 0:dbe.call(e,n)}var pbe=fbe,mbe=PM,gbe="__lodash_hash_undefined__";function ybe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=mbe&&e===void 0?gbe:e,this}var vbe=ybe,_be=nbe,Cbe=ibe,bbe=Abe,xbe=pbe,wbe=vbe;function a_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}a_.prototype.clear=_be;a_.prototype.delete=Cbe;a_.prototype.get=bbe;a_.prototype.has=xbe;a_.prototype.set=wbe;var Mbe=a_,sD=Mbe,Sbe=TM,Ebe=iT;function Obe(){this.size=0,this.__data__={hash:new sD,map:new(Ebe||Sbe),string:new sD}}var Bbe=Obe;function Ibe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var kbe=Ibe,Tbe=kbe;function Pbe(n,e){var t=n.__data__;return Tbe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var KM=Pbe,Kbe=KM;function Lbe(n){var e=Kbe(this,n).delete(n);return this.size-=e?1:0,e}var Dbe=Lbe,Fbe=KM;function Rbe(n){return Fbe(this,n).get(n)}var Ube=Rbe,zbe=KM;function jbe(n){return zbe(this,n).has(n)}var Nbe=jbe,Wbe=KM;function Gbe(n,e){var t=Wbe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Qbe=Gbe,$be=Bbe,Ybe=Dbe,qbe=Ube,Vbe=Nbe,Hbe=Qbe;function s_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s_.prototype.clear=$be;s_.prototype.delete=Ybe;s_.prototype.get=qbe;s_.prototype.has=Vbe;s_.prototype.set=Hbe;var oT=s_,Zbe=TM,Xbe=iT,Jbe=oT,e2e=200;function t2e(n,e){var t=this.__data__;if(t instanceof Zbe){var r=t.__data__;if(!Xbe||r.length<e2e-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Jbe(r)}return t.set(n,e),this.size=t.size,this}var n2e=t2e,r2e=TM,i2e=gCe,o2e=vCe,a2e=CCe,s2e=xCe,l2e=n2e;function l_(n){var e=this.__data__=new r2e(n);this.size=e.size}l_.prototype.clear=i2e;l_.prototype.delete=o2e;l_.prototype.get=a2e;l_.prototype.has=s2e;l_.prototype.set=l2e;var LM=l_,u2e="__lodash_hash_undefined__";function A2e(n){return this.__data__.set(n,u2e),this}var c2e=A2e;function h2e(n){return this.__data__.has(n)}var d2e=h2e,f2e=oT,p2e=c2e,m2e=d2e;function Vw(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new f2e;++e<t;)this.add(n[e])}Vw.prototype.add=Vw.prototype.push=p2e;Vw.prototype.has=m2e;var g2e=Vw;function y2e(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var v2e=y2e;function _2e(n,e){return n.has(e)}var C2e=_2e,b2e=g2e,x2e=v2e,w2e=C2e,M2e=1,S2e=2;function E2e(n,e,t,r,i,o){var s=t&M2e,a=n.length,f=e.length;if(a!=f&&!(s&&f>a))return!1;var m=o.get(n),C=o.get(e);if(m&&C)return m==e&&C==n;var B=-1,I=!0,K=t&S2e?new b2e:void 0;for(o.set(n,e),o.set(e,n);++B<a;){var L=n[B],Y=e[B];if(r)var ee=s?r(Y,L,B,e,n,o):r(L,Y,B,n,e,o);if(ee!==void 0){if(ee)continue;I=!1;break}if(K){if(!x2e(e,function(V,W){if(!w2e(K,W)&&(L===V||i(L,V,t,r,o)))return K.push(W)})){I=!1;break}}else if(!(L===Y||i(L,Y,t,r,o))){I=!1;break}}return o.delete(n),o.delete(e),I}var B$=E2e,O2e=mf,B2e=O2e.Uint8Array,I$=B2e;function I2e(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var k2e=I2e;function T2e(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var P2e=T2e,lD=C2,uD=I$,K2e=x2,L2e=B$,D2e=k2e,F2e=P2e,R2e=1,U2e=2,z2e="[object Boolean]",j2e="[object Date]",N2e="[object Error]",W2e="[object Map]",G2e="[object Number]",Q2e="[object RegExp]",$2e="[object Set]",Y2e="[object String]",q2e="[object Symbol]",V2e="[object ArrayBuffer]",H2e="[object DataView]",AD=lD?lD.prototype:void 0,m6=AD?AD.valueOf:void 0;function Z2e(n,e,t,r,i,o,s){switch(t){case H2e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case V2e:return!(n.byteLength!=e.byteLength||!o(new uD(n),new uD(e)));case z2e:case j2e:case G2e:return K2e(+n,+e);case N2e:return n.name==e.name&&n.message==e.message;case Q2e:case Y2e:return n==e+"";case W2e:var a=D2e;case $2e:var f=r&R2e;if(a||(a=F2e),n.size!=e.size&&!f)return!1;var m=s.get(n);if(m)return m==e;r|=U2e,s.set(n,e);var C=L2e(a(n),a(e),r,i,o,s);return s.delete(n),C;case q2e:if(m6)return m6.call(n)==m6.call(e)}return!1}var X2e=Z2e;function J2e(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var k$=J2e,exe=k$,txe=Ih;function nxe(n,e,t){var r=e(n);return txe(n)?r:exe(r,t(n))}var T$=nxe;function rxe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}var ixe=rxe;function oxe(){return[]}var P$=oxe,axe=ixe,sxe=P$,lxe=Object.prototype,uxe=lxe.propertyIsEnumerable,cD=Object.getOwnPropertySymbols,Axe=cD?function(n){return n==null?[]:(n=Object(n),axe(cD(n),function(e){return uxe.call(n,e)}))}:sxe,aT=Axe,cxe=T$,hxe=aT,dxe=b2;function fxe(n){return cxe(n,dxe,hxe)}var K$=fxe,hD=K$,pxe=1,mxe=Object.prototype,gxe=mxe.hasOwnProperty;function yxe(n,e,t,r,i,o){var s=t&pxe,a=hD(n),f=a.length,m=hD(e),C=m.length;if(f!=C&&!s)return!1;for(var B=f;B--;){var I=a[B];if(!(s?I in e:gxe.call(e,I)))return!1}var K=o.get(n),L=o.get(e);if(K&&L)return K==e&&L==n;var Y=!0;o.set(n,e),o.set(e,n);for(var ee=s;++B<f;){I=a[B];var V=n[I],W=e[I];if(r)var ne=s?r(W,V,I,e,n,o):r(V,W,I,n,e,o);if(!(ne===void 0?V===W||i(V,W,t,r,o):ne)){Y=!1;break}ee||(ee=I=="constructor")}if(Y&&!ee){var ce=n.constructor,ge=e.constructor;ce!=ge&&"constructor"in n&&"constructor"in e&&!(typeof ce=="function"&&ce instanceof ce&&typeof ge=="function"&&ge instanceof ge)&&(Y=!1)}return o.delete(n),o.delete(e),Y}var vxe=yxe,_xe=M1,Cxe=mf,bxe=_xe(Cxe,"DataView"),xxe=bxe,wxe=M1,Mxe=mf,Sxe=wxe(Mxe,"Promise"),Exe=Sxe,Oxe=M1,Bxe=mf,Ixe=Oxe(Bxe,"Set"),kxe=Ixe,Txe=M1,Pxe=mf,Kxe=Txe(Pxe,"WeakMap"),Lxe=Kxe,C8=xxe,b8=iT,x8=Exe,w8=kxe,M8=Lxe,L$=w1,u_=O$,dD="[object Map]",Dxe="[object Object]",fD="[object Promise]",pD="[object Set]",mD="[object WeakMap]",gD="[object DataView]",Fxe=u_(C8),Rxe=u_(b8),Uxe=u_(x8),zxe=u_(w8),jxe=u_(M8),wg=L$;(C8&&wg(new C8(new ArrayBuffer(1)))!=gD||b8&&wg(new b8)!=dD||x8&&wg(x8.resolve())!=fD||w8&&wg(new w8)!=pD||M8&&wg(new M8)!=mD)&&(wg=function(n){var e=L$(n),t=e==Dxe?n.constructor:void 0,r=t?u_(t):"";if(r)switch(r){case Fxe:return gD;case Rxe:return dD;case Uxe:return fD;case zxe:return pD;case jxe:return mD}return e});var DM=wg,g6=LM,Nxe=B$,Wxe=X2e,Gxe=vxe,yD=DM,vD=Ih,_D=BM,Qxe=Jk,$xe=1,CD="[object Arguments]",bD="[object Array]",I3="[object Object]",Yxe=Object.prototype,xD=Yxe.hasOwnProperty;function qxe(n,e,t,r,i,o){var s=vD(n),a=vD(e),f=s?bD:yD(n),m=a?bD:yD(e);f=f==CD?I3:f,m=m==CD?I3:m;var C=f==I3,B=m==I3,I=f==m;if(I&&_D(n)){if(!_D(e))return!1;s=!0,C=!1}if(I&&!C)return o||(o=new g6),s||Qxe(n)?Nxe(n,e,t,r,i,o):Wxe(n,e,f,t,r,i,o);if(!(t&$xe)){var K=C&&xD.call(n,"__wrapped__"),L=B&&xD.call(e,"__wrapped__");if(K||L){var Y=K?n.value():n,ee=L?e.value():e;return o||(o=new g6),i(Y,ee,t,r,o)}}return I?(o||(o=new g6),Gxe(n,e,t,r,i,o)):!1}var Vxe=qxe,Hxe=Vxe,wD=Tp;function D$(n,e,t,r,i){return n===e?!0:n==null||e==null||!wD(n)&&!wD(e)?n!==n&&e!==e:Hxe(n,e,t,r,D$,i)}var F$=D$,Zxe=LM,Xxe=F$,Jxe=1,e3e=2;function t3e(n,e,t,r){var i=t.length,o=i,s=!r;if(n==null)return!o;for(n=Object(n);i--;){var a=t[i];if(s&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<o;){a=t[i];var f=a[0],m=n[f],C=a[1];if(s&&a[2]){if(m===void 0&&!(f in n))return!1}else{var B=new Zxe;if(r)var I=r(m,C,f,n,e,B);if(!(I===void 0?Xxe(C,m,Jxe|e3e,r,B):I))return!1}}return!0}var n3e=t3e,r3e=Md;function i3e(n){return n===n&&!r3e(n)}var R$=i3e,o3e=R$,a3e=b2;function s3e(n){for(var e=a3e(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,o3e(i)]}return e}var l3e=s3e;function u3e(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var U$=u3e,A3e=n3e,c3e=l3e,h3e=U$;function d3e(n){var e=c3e(n);return e.length==1&&e[0][2]?h3e(e[0][0],e[0][1]):function(t){return t===n||A3e(t,n,e)}}var f3e=d3e,p3e=w1,m3e=Tp,g3e="[object Symbol]";function y3e(n){return typeof n=="symbol"||m3e(n)&&p3e(n)==g3e}var FM=y3e,v3e=Ih,_3e=FM,C3e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b3e=/^\w*$/;function x3e(n,e){if(v3e(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||_3e(n)?!0:b3e.test(n)||!C3e.test(n)||e!=null&&n in Object(e)}var sT=x3e,z$=oT,w3e="Expected a function";function lT(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(w3e);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(lT.Cache||z$),t}lT.Cache=z$;var M3e=lT,S3e=M3e,E3e=500;function O3e(n){var e=S3e(n,function(r){return t.size===E3e&&t.clear(),r}),t=e.cache;return e}var B3e=O3e,I3e=B3e,k3e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T3e=/\\(\\)?/g,P3e=I3e(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(k3e,function(t,r,i,o){e.push(i?o.replace(T3e,"$1"):r||t)}),e}),K3e=P3e,MD=C2,L3e=E$,D3e=Ih,F3e=FM,R3e=1/0,SD=MD?MD.prototype:void 0,ED=SD?SD.toString:void 0;function j$(n){if(typeof n=="string")return n;if(D3e(n))return L3e(n,j$)+"";if(F3e(n))return ED?ED.call(n):"";var e=n+"";return e=="0"&&1/n==-R3e?"-0":e}var U3e=j$,z3e=U3e;function j3e(n){return n==null?"":z3e(n)}var N3e=j3e,W3e=Ih,G3e=sT,Q3e=K3e,$3e=N3e;function Y3e(n,e){return W3e(n)?n:G3e(n,e)?[n]:Q3e($3e(n))}var N$=Y3e,q3e=FM,V3e=1/0;function H3e(n){if(typeof n=="string"||q3e(n))return n;var e=n+"";return e=="0"&&1/n==-V3e?"-0":e}var RM=H3e,Z3e=N$,X3e=RM;function J3e(n,e){e=Z3e(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[X3e(e[t++])];return t&&t==r?n:void 0}var W$=J3e,e4e=W$;function t4e(n,e,t){var r=n==null?void 0:e4e(n,e);return r===void 0?t:r}var n4e=t4e;function r4e(n,e){return n!=null&&e in Object(n)}var i4e=r4e,o4e=N$,a4e=qk,s4e=Ih,l4e=Vk,u4e=Hk,A4e=RM;function c4e(n,e,t){e=o4e(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=A4e(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&u4e(i)&&l4e(s,i)&&(s4e(n)||a4e(n)))}var h4e=c4e,d4e=i4e,f4e=h4e;function p4e(n,e){return n!=null&&f4e(n,e,d4e)}var m4e=p4e,g4e=F$,y4e=n4e,v4e=m4e,_4e=sT,C4e=R$,b4e=U$,x4e=RM,w4e=1,M4e=2;function S4e(n,e){return _4e(n)&&C4e(e)?b4e(x4e(n),e):function(t){var r=y4e(t,n);return r===void 0&&r===e?v4e(t,n):g4e(e,r,w4e|M4e)}}var E4e=S4e;function O4e(n){return function(e){return e==null?void 0:e[n]}}var B4e=O4e,I4e=W$;function k4e(n){return function(e){return I4e(e,n)}}var T4e=k4e,P4e=B4e,K4e=T4e,L4e=sT,D4e=RM;function F4e(n){return L4e(n)?P4e(D4e(n)):K4e(n)}var R4e=F4e,U4e=f3e,z4e=E4e,j4e=IM,N4e=Ih,W4e=R4e;function G4e(n){return typeof n=="function"?n:n==null?j4e:typeof n=="object"?N4e(n)?z4e(n[0],n[1]):U4e(n):W4e(n)}var Q4e=G4e,$4e=i_;function Y4e(n,e){return function(t,r){if(t==null)return t;if(!$4e(t))return n(t,r);for(var i=t.length,o=e?i:-1,s=Object(t);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return t}}var q4e=Y4e,V4e=x$,H4e=q4e,Z4e=H4e(V4e),G$=Z4e,X4e=G$,J4e=i_;function ewe(n,e){var t=-1,r=J4e(n)?Array(n.length):[];return X4e(n,function(i,o,s){r[++t]=e(i,o,s)}),r}var twe=ewe,nwe=E$,rwe=Q4e,iwe=twe,owe=Ih;function awe(n,e){var t=owe(n)?nwe:iwe;return t(n,rwe(e))}var swe=awe;Object.defineProperty(_2,"__esModule",{value:!0});_2.flattenNames=void 0;var lwe=zye,uwe=UM(lwe),Awe=nT,cwe=UM(Awe),hwe=S$,dwe=UM(hwe),fwe=swe,pwe=UM(fwe);function UM(n){return n&&n.__esModule?n:{default:n}}var mwe=_2.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,pwe.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,dwe.default)(r)?(0,cwe.default)(r,function(i,o){i===!0&&t.push(o),t.push(o+"-"+i)}):(0,uwe.default)(r)&&t.push(r)}),t};_2.default=mwe;var w2={};function gwe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var Q$=gwe,ywe=M1,vwe=function(){try{var n=ywe(Object,"defineProperty");return n({},"",{}),n}catch{}}(),$$=vwe,OD=$$;function _we(n,e,t){e=="__proto__"&&OD?OD(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var uT=_we,Cwe=uT,bwe=x2,xwe=Object.prototype,wwe=xwe.hasOwnProperty;function Mwe(n,e,t){var r=n[e];(!(wwe.call(n,e)&&bwe(r,t))||t===void 0&&!(e in n))&&Cwe(n,e,t)}var Y$=Mwe,Swe=Y$,Ewe=uT;function Owe(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],f=r?r(t[a],n[a],a,t,n):void 0;f===void 0&&(f=n[a]),i?Ewe(t,a,f):Swe(t,a,f)}return t}var M2=Owe,Bwe=M2,Iwe=b2;function kwe(n,e){return n&&Bwe(e,Iwe(e),n)}var Twe=kwe;function Pwe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Kwe=Pwe,Lwe=Md,Dwe=eT,Fwe=Kwe,Rwe=Object.prototype,Uwe=Rwe.hasOwnProperty;function zwe(n){if(!Lwe(n))return Fwe(n);var e=Dwe(n),t=[];for(var r in n)r=="constructor"&&(e||!Uwe.call(n,r))||t.push(r);return t}var jwe=zwe,Nwe=C$,Wwe=jwe,Gwe=i_;function Qwe(n){return Gwe(n)?Nwe(n,!0):Wwe(n)}var S2=Qwe,$we=M2,Ywe=S2;function qwe(n,e){return n&&$we(e,Ywe(e),n)}var Vwe=qwe,Hw={exports:{}};Hw.exports;(function(n,e){var t=mf,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function f(m,C){if(C)return m.slice();var B=m.length,I=a?a(B):new m.constructor(B);return m.copy(I),I}n.exports=f})(Hw,Hw.exports);var q$=Hw.exports;function Hwe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var V$=Hwe,Zwe=M2,Xwe=aT;function Jwe(n,e){return Zwe(n,Xwe(n),e)}var e5e=Jwe,t5e=k$,n5e=rT,r5e=aT,i5e=P$,o5e=Object.getOwnPropertySymbols,a5e=o5e?function(n){for(var e=[];n;)t5e(e,r5e(n)),n=n5e(n);return e}:i5e,H$=a5e,s5e=M2,l5e=H$;function u5e(n,e){return s5e(n,l5e(n),e)}var A5e=u5e,c5e=T$,h5e=H$,d5e=S2;function f5e(n){return c5e(n,d5e,h5e)}var p5e=f5e,m5e=Object.prototype,g5e=m5e.hasOwnProperty;function y5e(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&g5e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var v5e=y5e,BD=I$;function _5e(n){var e=new n.constructor(n.byteLength);return new BD(e).set(new BD(n)),e}var AT=_5e,C5e=AT;function b5e(n,e){var t=e?C5e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var x5e=b5e,w5e=/\w*$/;function M5e(n){var e=new n.constructor(n.source,w5e.exec(n));return e.lastIndex=n.lastIndex,e}var S5e=M5e,ID=C2,kD=ID?ID.prototype:void 0,TD=kD?kD.valueOf:void 0;function E5e(n){return TD?Object(TD.call(n)):{}}var O5e=E5e,B5e=AT;function I5e(n,e){var t=e?B5e(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Z$=I5e,k5e=AT,T5e=x5e,P5e=S5e,K5e=O5e,L5e=Z$,D5e="[object Boolean]",F5e="[object Date]",R5e="[object Map]",U5e="[object Number]",z5e="[object RegExp]",j5e="[object Set]",N5e="[object String]",W5e="[object Symbol]",G5e="[object ArrayBuffer]",Q5e="[object DataView]",$5e="[object Float32Array]",Y5e="[object Float64Array]",q5e="[object Int8Array]",V5e="[object Int16Array]",H5e="[object Int32Array]",Z5e="[object Uint8Array]",X5e="[object Uint8ClampedArray]",J5e="[object Uint16Array]",eMe="[object Uint32Array]";function tMe(n,e,t){var r=n.constructor;switch(e){case G5e:return k5e(n);case D5e:case F5e:return new r(+n);case Q5e:return T5e(n,t);case $5e:case Y5e:case q5e:case V5e:case H5e:case Z5e:case X5e:case J5e:case eMe:return L5e(n,t);case R5e:return new r;case U5e:case N5e:return new r(n);case z5e:return P5e(n);case j5e:return new r;case W5e:return K5e(n)}}var nMe=tMe,rMe=Md,PD=Object.create,iMe=function(){function n(){}return function(e){if(!rMe(e))return{};if(PD)return PD(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),oMe=iMe,aMe=oMe,sMe=rT,lMe=eT;function uMe(n){return typeof n.constructor=="function"&&!lMe(n)?aMe(sMe(n)):{}}var X$=uMe,AMe=DM,cMe=Tp,hMe="[object Map]";function dMe(n){return cMe(n)&&AMe(n)==hMe}var fMe=dMe,pMe=fMe,mMe=Zk,KD=Xk,LD=KD&&KD.isMap,gMe=LD?mMe(LD):pMe,yMe=gMe,vMe=DM,_Me=Tp,CMe="[object Set]";function bMe(n){return _Me(n)&&vMe(n)==CMe}var xMe=bMe,wMe=xMe,MMe=Zk,DD=Xk,FD=DD&&DD.isSet,SMe=FD?MMe(FD):wMe,EMe=SMe,OMe=LM,BMe=Q$,IMe=Y$,kMe=Twe,TMe=Vwe,PMe=q$,KMe=V$,LMe=e5e,DMe=A5e,FMe=K$,RMe=p5e,UMe=DM,zMe=v5e,jMe=nMe,NMe=X$,WMe=Ih,GMe=BM,QMe=yMe,$Me=Md,YMe=EMe,qMe=b2,VMe=S2,HMe=1,ZMe=2,XMe=4,J$="[object Arguments]",JMe="[object Array]",eSe="[object Boolean]",tSe="[object Date]",nSe="[object Error]",eY="[object Function]",rSe="[object GeneratorFunction]",iSe="[object Map]",oSe="[object Number]",tY="[object Object]",aSe="[object RegExp]",sSe="[object Set]",lSe="[object String]",uSe="[object Symbol]",ASe="[object WeakMap]",cSe="[object ArrayBuffer]",hSe="[object DataView]",dSe="[object Float32Array]",fSe="[object Float64Array]",pSe="[object Int8Array]",mSe="[object Int16Array]",gSe="[object Int32Array]",ySe="[object Uint8Array]",vSe="[object Uint8ClampedArray]",_Se="[object Uint16Array]",CSe="[object Uint32Array]",us={};us[J$]=us[JMe]=us[cSe]=us[hSe]=us[eSe]=us[tSe]=us[dSe]=us[fSe]=us[pSe]=us[mSe]=us[gSe]=us[iSe]=us[oSe]=us[tY]=us[aSe]=us[sSe]=us[lSe]=us[uSe]=us[ySe]=us[vSe]=us[_Se]=us[CSe]=!0;us[nSe]=us[eY]=us[ASe]=!1;function A4(n,e,t,r,i,o){var s,a=e&HMe,f=e&ZMe,m=e&XMe;if(t&&(s=i?t(n,r,i,o):t(n)),s!==void 0)return s;if(!$Me(n))return n;var C=WMe(n);if(C){if(s=zMe(n),!a)return KMe(n,s)}else{var B=UMe(n),I=B==eY||B==rSe;if(GMe(n))return PMe(n,a);if(B==tY||B==J$||I&&!i){if(s=f||I?{}:NMe(n),!a)return f?DMe(n,TMe(s,n)):LMe(n,kMe(s,n))}else{if(!us[B])return i?n:{};s=jMe(n,B,a)}}o||(o=new OMe);var K=o.get(n);if(K)return K;o.set(n,s),YMe(n)?n.forEach(function(ee){s.add(A4(ee,e,t,ee,n,o))}):QMe(n)&&n.forEach(function(ee,V){s.set(V,A4(ee,e,t,V,n,o))});var L=m?f?RMe:FMe:f?VMe:qMe,Y=C?void 0:L(n);return BMe(Y||n,function(ee,V){Y&&(V=ee,ee=n[V]),IMe(s,V,A4(ee,e,t,V,n,o))}),s}var bSe=A4,xSe=bSe,wSe=1,MSe=4;function SSe(n){return xSe(n,wSe|MSe)}var ESe=SSe;Object.defineProperty(w2,"__esModule",{value:!0});w2.mergeClasses=void 0;var OSe=nT,BSe=nY(OSe),ISe=ESe,kSe=nY(ISe),TSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function nY(n){return n&&n.__esModule?n:{default:n}}var PSe=w2.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,kSe.default)(e.default)||{};return t.map(function(i){var o=e[i];return o&&(0,BSe.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=TSe({},r[a],o[a])}),i}),r};w2.default=PSe;var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.autoprefix=void 0;var KSe=nT,RD=DSe(KSe),LSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function DSe(n){return n&&n.__esModule?n:{default:n}}var FSe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},RSe=E2.autoprefix=function(e){var t={};return(0,RD.default)(e,function(r,i){var o={};(0,RD.default)(r,function(s,a){var f=FSe[a];f?o=LSe({},o,f(s)):o[a]=s}),t[i]=o}),t};E2.default=RSe;var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.hover=void 0;var USe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zSe=Wn,y6=jSe(zSe);function jSe(n){return n&&n.__esModule?n:{default:n}}function NSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function UD(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function WSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var GSe=O2.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){WSe(i,r);function i(){var o,s,a,f;NSe(this,i);for(var m=arguments.length,C=Array(m),B=0;B<m;B++)C[B]=arguments[B];return f=(s=(a=UD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return y6.default.createElement(t,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},y6.default.createElement(e,USe({},a.props,a.state)))},s),UD(a,f)}return i}(y6.default.Component)};O2.default=GSe;var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.active=void 0;var QSe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$Se=Wn,v6=YSe($Se);function YSe(n){return n&&n.__esModule?n:{default:n}}function qSe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zD(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function VSe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var HSe=B2.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){VSe(i,r);function i(){var o,s,a,f;qSe(this,i);for(var m=arguments.length,C=Array(m),B=0;B<m;B++)C[B]=arguments[B];return f=(s=(a=zD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return v6.default.createElement(t,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},v6.default.createElement(e,QSe({},a.props,a.state)))},s),zD(a,f)}return i}(v6.default.Component)};B2.default=HSe;var cT={};Object.defineProperty(cT,"__esModule",{value:!0});var ZSe=function(e,t){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};cT.default=ZSe;Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ReactCSS=Ys.loop=Ys.handleActive=Ys.handleHover=Ys.hover=void 0;var XSe=_2,JSe=A_(XSe),eEe=w2,tEe=A_(eEe),nEe=E2,rEe=A_(nEe),iEe=O2,rY=A_(iEe),oEe=B2,aEe=A_(oEe),sEe=cT,lEe=A_(sEe);function A_(n){return n&&n.__esModule?n:{default:n}}Ys.hover=rY.default;Ys.handleHover=rY.default;Ys.handleActive=aEe.default;Ys.loop=lEe.default;var uEe=Ys.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=(0,JSe.default)(r),s=(0,tEe.default)(e,o);return(0,rEe.default)(s)};Ys.default=uEe;var AEe=uT,cEe=x2;function hEe(n,e,t){(t!==void 0&&!cEe(n[e],t)||t===void 0&&!(e in n))&&AEe(n,e,t)}var iY=hEe,dEe=i_,fEe=Tp;function pEe(n){return fEe(n)&&dEe(n)}var mEe=pEe;function gEe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var oY=gEe,yEe=M2,vEe=S2;function _Ee(n){return yEe(n,vEe(n))}var CEe=_Ee,jD=iY,bEe=q$,xEe=Z$,wEe=V$,MEe=X$,ND=qk,WD=Ih,SEe=mEe,EEe=BM,OEe=tT,BEe=Md,IEe=S$,kEe=Jk,GD=oY,TEe=CEe;function PEe(n,e,t,r,i,o,s){var a=GD(n,t),f=GD(e,t),m=s.get(f);if(m){jD(n,t,m);return}var C=o?o(a,f,t+"",n,e,s):void 0,B=C===void 0;if(B){var I=WD(f),K=!I&&EEe(f),L=!I&&!K&&kEe(f);C=f,I||K||L?WD(a)?C=a:SEe(a)?C=wEe(a):K?(B=!1,C=bEe(f,!0)):L?(B=!1,C=xEe(f,!0)):C=[]:IEe(f)||ND(f)?(C=a,ND(a)?C=TEe(a):(!BEe(a)||OEe(a))&&(C=MEe(f))):B=!1}B&&(s.set(f,C),i(C,f,r,o,s),s.delete(f)),jD(n,t,C)}var KEe=PEe,LEe=LM,DEe=iY,FEe=v$,REe=KEe,UEe=Md,zEe=S2,jEe=oY;function aY(n,e,t,r,i){n!==e&&FEe(e,function(o,s){if(i||(i=new LEe),UEe(o))REe(n,e,s,t,aY,r,i);else{var a=r?r(jEe(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),DEe(n,s,a)}},zEe)}var NEe=aY;function WEe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var GEe=WEe,QEe=GEe,QD=Math.max;function $Ee(n,e,t){return e=QD(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=QD(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),QEe(n,this,a)}}var YEe=$Ee;function qEe(n){return function(){return n}}var VEe=qEe,HEe=VEe,$D=$$,ZEe=IM,XEe=$D?function(n,e){return $D(n,"toString",{configurable:!0,enumerable:!1,value:HEe(e),writable:!0})}:ZEe,JEe=XEe,e6e=800,t6e=16,n6e=Date.now;function r6e(n){var e=0,t=0;return function(){var r=n6e(),i=t6e-(r-t);if(t=r,i>0){if(++e>=e6e)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var i6e=r6e,o6e=JEe,a6e=i6e,s6e=a6e(o6e),l6e=s6e,u6e=IM,A6e=YEe,c6e=l6e;function h6e(n,e){return c6e(A6e(n,e,u6e),n+"")}var d6e=h6e,f6e=x2,p6e=i_,m6e=Vk,g6e=Md;function y6e(n,e,t){if(!g6e(t))return!1;var r=typeof e;return(r=="number"?p6e(t)&&m6e(e,t.length):r=="string"&&e in t)?f6e(t[e],n):!1}var v6e=y6e,_6e=d6e,C6e=v6e;function b6e(n){return _6e(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&C6e(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var x6e=b6e,w6e=NEe,M6e=x6e,S6e=M6e(function(n,e,t){w6e(n,e,t)}),sY=S6e,hT={},I2={},dT={};Object.defineProperty(dT,"__esModule",{value:!0});dT.calculateChange=function(e,t,r,i,o){var s=o.clientWidth,a=o.clientHeight,f=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,m=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,C=f-(o.getBoundingClientRect().left+window.pageXOffset),B=m-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var I=void 0;if(B<0?I=0:B>a?I=1:I=Math.round(B*100/a)/100,t.a!==I)return{h:t.h,s:t.s,l:t.l,a:I,source:"rgb"}}else{var K=void 0;if(C<0?K=0:C>s?K=1:K=Math.round(C*100/s)/100,i!==K)return{h:t.h,s:t.s,l:t.l,a:K,source:"rgb"}}return null};var S1={},zM={};Object.defineProperty(zM,"__esModule",{value:!0});var _6={},E6e=zM.render=function(e,t,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=t,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};zM.get=function(e,t,r,i){var o=e+"-"+t+"-"+r+(i?"-server":"");if(_6[o])return _6[o];var s=E6e(e,t,r,i);return _6[o]=s,s};Object.defineProperty(S1,"__esModule",{value:!0});S1.Checkboard=void 0;var YD=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lY=Wn,qD=uY(lY),O6e=Ys,B6e=uY(O6e),I6e=zM,k6e=T6e(I6e);function T6e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function uY(n){return n&&n.__esModule?n:{default:n}}var AY=S1.Checkboard=function(e){var t=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,f=e.children,m=(0,B6e.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+k6e.get(t,r,i,o.canvas)+") center left"}}});return(0,lY.isValidElement)(f)?qD.default.cloneElement(f,YD({},f.props,{style:YD({},f.props.style,m.grid)})):qD.default.createElement("div",{style:m.grid})};AY.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};S1.default=AY;Object.defineProperty(I2,"__esModule",{value:!0});I2.Alpha=void 0;var P6e=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},K6e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),S8=Wn,Jm=fT(S8),L6e=Ys,D6e=fT(L6e),F6e=dT,R6e=j6e(F6e),U6e=S1,z6e=fT(U6e);function j6e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function fT(n){return n&&n.__esModule?n:{default:n}}function N6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function VD(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function W6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var G6e=I2.Alpha=function(n){W6e(e,n);function e(){var t,r,i,o;N6e(this,e);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=VD(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(m){var C=R6e.calculateChange(m,i.props.hsl,i.props.direction,i.props.a,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),VD(i,o)}return K6e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,D6e.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:P6e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Jm.default.createElement("div",{style:o.alpha},Jm.default.createElement("div",{style:o.checkboard},Jm.default.createElement(z6e.default,{renderers:this.props.renderers})),Jm.default.createElement("div",{style:o.gradient}),Jm.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Jm.default.createElement("div",{style:o.pointer},this.props.pointer?Jm.default.createElement(this.props.pointer,this.props):Jm.default.createElement("div",{style:o.slider}))))}}]),e}(S8.PureComponent||S8.Component);I2.default=G6e;var k2={};Object.defineProperty(k2,"__esModule",{value:!0});k2.EditableInput=void 0;var Q6e=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),E8=Wn,C6=cY(E8),$6e=Ys,Y6e=cY($6e);function cY(n){return n&&n.__esModule?n:{default:n}}function q6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function V6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H6e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Z6e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var X6e=1,hY=38,J6e=40,eOe=[hY,J6e],tOe=function(e){return eOe.indexOf(e)>-1},nOe=function(e){return Number(String(e).replace(/%/g,""))},rOe=1,iOe=k2.EditableInput=function(n){Z6e(e,n);function e(t){V6e(this,e);var r=H6e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=nOe(i.target.value);if(!isNaN(o)&&tOe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===hY?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},r.inputId="rc-editable-input-"+rOe++,r}return Q6e(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return q6e({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||X6e}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,Y6e.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return C6.default.createElement("div",{style:i.wrap},C6.default.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?C6.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(E8.PureComponent||E8.Component);k2.default=iOe;var T2={},pT={};Object.defineProperty(pT,"__esModule",{value:!0});pT.calculateChange=function(e,t,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,m=a-(i.getBoundingClientRect().left+window.pageXOffset),C=f-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var B=void 0;if(C<0)B=359;else if(C>s)B=0;else{var I=-(C*100/s)+100;B=360*I/100}if(r.h!==B)return{h:B,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var K=void 0;if(m<0)K=0;else if(m>o)K=359;else{var L=m*100/o;K=360*L/100}if(r.h!==K)return{h:K,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(T2,"__esModule",{value:!0});T2.Hue=void 0;var oOe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),O8=Wn,ly=dY(O8),aOe=Ys,sOe=dY(aOe),lOe=pT,uOe=AOe(lOe);function AOe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function dY(n){return n&&n.__esModule?n:{default:n}}function cOe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function hOe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var dOe=T2.Hue=function(n){hOe(e,n);function e(){var t,r,i,o;cOe(this,e);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=HD(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.handleChange=function(m){var C=uOe.calculateChange(m,i.props.direction,i.props.hsl,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),HD(i,o)}return oOe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,sOe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return ly.default.createElement("div",{style:s.hue},ly.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ly.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),ly.default.createElement("div",{style:s.pointer},this.props.pointer?ly.default.createElement(this.props.pointer,this.props):ly.default.createElement("div",{style:s.slider}))))}}]),e}(O8.PureComponent||O8.Component);T2.default=dOe;var P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.Raised=void 0;var fOe=Wn,b6=jM(fOe),pOe=ff,k3=jM(pOe),mOe=Ys,gOe=jM(mOe),yOe=sY,vOe=jM(yOe);function jM(n){return n&&n.__esModule?n:{default:n}}var mT=P2.Raised=function(e){var t=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,f=(0,gOe.default)((0,vOe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+t*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":t===1});return b6.default.createElement("div",{style:f.wrap},b6.default.createElement("div",{style:f.bg}),b6.default.createElement("div",{style:f.content},o))};mT.propTypes={background:k3.default.string,zDepth:k3.default.oneOf([0,1,2,3,4,5]),radius:k3.default.number,styles:k3.default.object};mT.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};P2.default=mT;var K2={},_Oe=mf,COe=function(){return _Oe.Date.now()},bOe=COe,xOe=/\s/;function wOe(n){for(var e=n.length;e--&&xOe.test(n.charAt(e)););return e}var MOe=wOe,SOe=MOe,EOe=/^\s+/;function OOe(n){return n&&n.slice(0,SOe(n)+1).replace(EOe,"")}var BOe=OOe,IOe=BOe,ZD=Md,kOe=FM,XD=NaN,TOe=/^[-+]0x[0-9a-f]+$/i,POe=/^0b[01]+$/i,KOe=/^0o[0-7]+$/i,LOe=parseInt;function DOe(n){if(typeof n=="number")return n;if(kOe(n))return XD;if(ZD(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ZD(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=IOe(n);var t=POe.test(n);return t||KOe.test(n)?LOe(n.slice(2),t?2:8):TOe.test(n)?XD:+n}var FOe=DOe,ROe=Md,x6=bOe,JD=FOe,UOe="Expected a function",zOe=Math.max,jOe=Math.min;function NOe(n,e,t){var r,i,o,s,a,f,m=0,C=!1,B=!1,I=!0;if(typeof n!="function")throw new TypeError(UOe);e=JD(e)||0,ROe(t)&&(C=!!t.leading,B="maxWait"in t,o=B?zOe(JD(t.maxWait)||0,e):o,I="trailing"in t?!!t.trailing:I);function K(fe){var H=r,X=i;return r=i=void 0,m=fe,s=n.apply(X,H),s}function L(fe){return m=fe,a=setTimeout(V,e),C?K(fe):s}function Y(fe){var H=fe-f,X=fe-m,Me=e-H;return B?jOe(Me,o-X):Me}function ee(fe){var H=fe-f,X=fe-m;return f===void 0||H>=e||H<0||B&&X>=o}function V(){var fe=x6();if(ee(fe))return W(fe);a=setTimeout(V,Y(fe))}function W(fe){return a=void 0,I&&r?K(fe):(r=i=void 0,s)}function ne(){a!==void 0&&clearTimeout(a),m=0,r=f=i=a=void 0}function ce(){return a===void 0?s:W(x6())}function ge(){var fe=x6(),H=ee(fe);if(r=arguments,i=this,f=fe,H){if(a===void 0)return L(f);if(B)return clearTimeout(a),a=setTimeout(V,e),K(f)}return a===void 0&&(a=setTimeout(V,e)),s}return ge.cancel=ne,ge.flush=ce,ge}var fY=NOe,WOe=fY,GOe=Md,QOe="Expected a function";function $Oe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(QOe);return GOe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),WOe(n,e,{leading:r,maxWait:e,trailing:i})}var YOe=$Oe,gT={};Object.defineProperty(gT,"__esModule",{value:!0});gT.calculateChange=function(e,t,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,m=a-(r.getBoundingClientRect().left+window.pageXOffset),C=f-(r.getBoundingClientRect().top+window.pageYOffset);m<0?m=0:m>o&&(m=o),C<0?C=0:C>s&&(C=s);var B=m/o,I=1-C/s;return{h:t.h,s:B,v:I,a:t.a,source:"hsv"}};Object.defineProperty(K2,"__esModule",{value:!0});K2.Saturation=void 0;var qOe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),B8=Wn,mg=yT(B8),VOe=Ys,HOe=yT(VOe),ZOe=YOe,XOe=yT(ZOe),JOe=gT,eBe=tBe(JOe);function tBe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function yT(n){return n&&n.__esModule?n:{default:n}}function nBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rBe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function iBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var oBe=K2.Saturation=function(n){iBe(e,n);function e(t){nBe(this,e);var r=rBe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,eBe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,XOe.default)(function(i,o,s){i(o,s)},50),r}return qOe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,f=i.pointer,m=i.circle,C=(0,HOe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:f,circle:m}},{custom:!!this.props.style});return mg.default.createElement("div",{style:C.color,ref:function(I){return r.container=I},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},mg.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),mg.default.createElement("div",{style:C.white,className:"saturation-white"},mg.default.createElement("div",{style:C.black,className:"saturation-black"}),mg.default.createElement("div",{style:C.pointer},this.props.pointer?mg.default.createElement(this.props.pointer,this.props):mg.default.createElement("div",{style:C.circle}))))}}]),e}(B8.PureComponent||B8.Component);K2.default=oBe;var L2={},ec={},aBe=Q$,sBe=G$,lBe=w$,uBe=Ih;function ABe(n,e){var t=uBe(n)?aBe:sBe;return t(n,lBe(e))}var cBe=ABe,hBe=cBe,pY={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Bp,function(){function t(Le){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},t(Le)}var r=/^\s+/,i=/\s+$/;function o(Le,ye){if(Le=Le||"",ye=ye||{},Le instanceof o)return Le;if(!(this instanceof o))return new o(Le,ye);var Te=s(Le);this._originalInput=Le,this._r=Te.r,this._g=Te.g,this._b=Te.b,this._a=Te.a,this._roundA=Math.round(100*this._a)/100,this._format=ye.format||Te.format,this._gradientType=ye.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Te.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ye=this.toRgb();return(ye.r*299+ye.g*587+ye.b*114)/1e3},getLuminance:function(){var ye=this.toRgb(),Te,Qe,st,lt,Kt,Ht;return Te=ye.r/255,Qe=ye.g/255,st=ye.b/255,Te<=.03928?lt=Te/12.92:lt=Math.pow((Te+.055)/1.055,2.4),Qe<=.03928?Kt=Qe/12.92:Kt=Math.pow((Qe+.055)/1.055,2.4),st<=.03928?Ht=st/12.92:Ht=Math.pow((st+.055)/1.055,2.4),.2126*lt+.7152*Kt+.0722*Ht},setAlpha:function(ye){return this._a=Ve(ye),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var ye=C(this._r,this._g,this._b);return{h:ye.h*360,s:ye.s,v:ye.v,a:this._a}},toHsvString:function(){var ye=C(this._r,this._g,this._b),Te=Math.round(ye.h*360),Qe=Math.round(ye.s*100),st=Math.round(ye.v*100);return this._a==1?"hsv("+Te+", "+Qe+"%, "+st+"%)":"hsva("+Te+", "+Qe+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var ye=f(this._r,this._g,this._b);return{h:ye.h*360,s:ye.s,l:ye.l,a:this._a}},toHslString:function(){var ye=f(this._r,this._g,this._b),Te=Math.round(ye.h*360),Qe=Math.round(ye.s*100),st=Math.round(ye.l*100);return this._a==1?"hsl("+Te+", "+Qe+"%, "+st+"%)":"hsla("+Te+", "+Qe+"%, "+st+"%, "+this._roundA+")"},toHex:function(ye){return I(this._r,this._g,this._b,ye)},toHexString:function(ye){return"#"+this.toHex(ye)},toHex8:function(ye){return K(this._r,this._g,this._b,this._a,ye)},toHex8String:function(ye){return"#"+this.toHex8(ye)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(_e(this._r,255)*100)+"%",g:Math.round(_e(this._g,255)*100)+"%",b:Math.round(_e(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(_e(this._r,255)*100)+"%, "+Math.round(_e(this._g,255)*100)+"%, "+Math.round(_e(this._b,255)*100)+"%)":"rgba("+Math.round(_e(this._r,255)*100)+"%, "+Math.round(_e(this._g,255)*100)+"%, "+Math.round(_e(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ue[I(this._r,this._g,this._b,!0)]||!1},toFilter:function(ye){var Te="#"+L(this._r,this._g,this._b,this._a),Qe=Te,st=this._gradientType?"GradientType = 1, ":"";if(ye){var lt=o(ye);Qe="#"+L(lt._r,lt._g,lt._b,lt._a)}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+Te+",endColorstr="+Qe+")"},toString:function(ye){var Te=!!ye;ye=ye||this._format;var Qe=!1,st=this._a<1&&this._a>=0,lt=!Te&&st&&(ye==="hex"||ye==="hex6"||ye==="hex3"||ye==="hex4"||ye==="hex8"||ye==="name");return lt?ye==="name"&&this._a===0?this.toName():this.toRgbString():(ye==="rgb"&&(Qe=this.toRgbString()),ye==="prgb"&&(Qe=this.toPercentageRgbString()),(ye==="hex"||ye==="hex6")&&(Qe=this.toHexString()),ye==="hex3"&&(Qe=this.toHexString(!0)),ye==="hex4"&&(Qe=this.toHex8String(!0)),ye==="hex8"&&(Qe=this.toHex8String()),ye==="name"&&(Qe=this.toName()),ye==="hsl"&&(Qe=this.toHslString()),ye==="hsv"&&(Qe=this.toHsvString()),Qe||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(ye,Te){var Qe=ye.apply(null,[this].concat([].slice.call(Te)));return this._r=Qe._r,this._g=Qe._g,this._b=Qe._b,this.setAlpha(Qe._a),this},lighten:function(){return this._applyModification(W,arguments)},brighten:function(){return this._applyModification(ne,arguments)},darken:function(){return this._applyModification(ce,arguments)},desaturate:function(){return this._applyModification(Y,arguments)},saturate:function(){return this._applyModification(ee,arguments)},greyscale:function(){return this._applyModification(V,arguments)},spin:function(){return this._applyModification(ge,arguments)},_applyCombination:function(ye,Te){return ye.apply(null,[this].concat([].slice.call(Te)))},analogous:function(){return this._applyCombination(Me,arguments)},complement:function(){return this._applyCombination(fe,arguments)},monochromatic:function(){return this._applyCombination(be,arguments)},splitcomplement:function(){return this._applyCombination(X,arguments)},triad:function(){return this._applyCombination(H,[3])},tetrad:function(){return this._applyCombination(H,[4])}},o.fromRatio=function(Le,ye){if(t(Le)=="object"){var Te={};for(var Qe in Le)Le.hasOwnProperty(Qe)&&(Qe==="a"?Te[Qe]=Le[Qe]:Te[Qe]=et(Le[Qe]));Le=Te}return o(Le,ye)};function s(Le){var ye={r:0,g:0,b:0},Te=1,Qe=null,st=null,lt=null,Kt=!1,Ht=!1;return typeof Le=="string"&&(Le=Vt(Le)),t(Le)=="object"&&(Et(Le.r)&&Et(Le.g)&&Et(Le.b)?(ye=a(Le.r,Le.g,Le.b),Kt=!0,Ht=String(Le.r).substr(-1)==="%"?"prgb":"rgb"):Et(Le.h)&&Et(Le.s)&&Et(Le.v)?(Qe=et(Le.s),st=et(Le.v),ye=B(Le.h,Qe,st),Kt=!0,Ht="hsv"):Et(Le.h)&&Et(Le.s)&&Et(Le.l)&&(Qe=et(Le.s),lt=et(Le.l),ye=m(Le.h,Qe,lt),Kt=!0,Ht="hsl"),Le.hasOwnProperty("a")&&(Te=Le.a)),Te=Ve(Te),{ok:Kt,format:Le.format||Ht,r:Math.min(255,Math.max(ye.r,0)),g:Math.min(255,Math.max(ye.g,0)),b:Math.min(255,Math.max(ye.b,0)),a:Te}}function a(Le,ye,Te){return{r:_e(Le,255)*255,g:_e(ye,255)*255,b:_e(Te,255)*255}}function f(Le,ye,Te){Le=_e(Le,255),ye=_e(ye,255),Te=_e(Te,255);var Qe=Math.max(Le,ye,Te),st=Math.min(Le,ye,Te),lt,Kt,Ht=(Qe+st)/2;if(Qe==st)lt=Kt=0;else{var Wt=Qe-st;switch(Kt=Ht>.5?Wt/(2-Qe-st):Wt/(Qe+st),Qe){case Le:lt=(ye-Te)/Wt+(ye<Te?6:0);break;case ye:lt=(Te-Le)/Wt+2;break;case Te:lt=(Le-ye)/Wt+4;break}lt/=6}return{h:lt,s:Kt,l:Ht}}function m(Le,ye,Te){var Qe,st,lt;Le=_e(Le,360),ye=_e(ye,100),Te=_e(Te,100);function Kt(Rn,nr,_n){return _n<0&&(_n+=1),_n>1&&(_n-=1),_n<1/6?Rn+(nr-Rn)*6*_n:_n<1/2?nr:_n<2/3?Rn+(nr-Rn)*(2/3-_n)*6:Rn}if(ye===0)Qe=st=lt=Te;else{var Ht=Te<.5?Te*(1+ye):Te+ye-Te*ye,Wt=2*Te-Ht;Qe=Kt(Wt,Ht,Le+1/3),st=Kt(Wt,Ht,Le),lt=Kt(Wt,Ht,Le-1/3)}return{r:Qe*255,g:st*255,b:lt*255}}function C(Le,ye,Te){Le=_e(Le,255),ye=_e(ye,255),Te=_e(Te,255);var Qe=Math.max(Le,ye,Te),st=Math.min(Le,ye,Te),lt,Kt,Ht=Qe,Wt=Qe-st;if(Kt=Qe===0?0:Wt/Qe,Qe==st)lt=0;else{switch(Qe){case Le:lt=(ye-Te)/Wt+(ye<Te?6:0);break;case ye:lt=(Te-Le)/Wt+2;break;case Te:lt=(Le-ye)/Wt+4;break}lt/=6}return{h:lt,s:Kt,v:Ht}}function B(Le,ye,Te){Le=_e(Le,360)*6,ye=_e(ye,100),Te=_e(Te,100);var Qe=Math.floor(Le),st=Le-Qe,lt=Te*(1-ye),Kt=Te*(1-st*ye),Ht=Te*(1-(1-st)*ye),Wt=Qe%6,Rn=[Te,Kt,lt,lt,Ht,Te][Wt],nr=[Ht,Te,Te,Kt,lt,lt][Wt],_n=[lt,lt,Ht,Te,Te,Kt][Wt];return{r:Rn*255,g:nr*255,b:_n*255}}function I(Le,ye,Te,Qe){var st=[$e(Math.round(Le).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(Te).toString(16))];return Qe&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0):st.join("")}function K(Le,ye,Te,Qe,st){var lt=[$e(Math.round(Le).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(Te).toString(16)),$e(nt(Qe))];return st&&lt[0].charAt(0)==lt[0].charAt(1)&&lt[1].charAt(0)==lt[1].charAt(1)&&lt[2].charAt(0)==lt[2].charAt(1)&&lt[3].charAt(0)==lt[3].charAt(1)?lt[0].charAt(0)+lt[1].charAt(0)+lt[2].charAt(0)+lt[3].charAt(0):lt.join("")}function L(Le,ye,Te,Qe){var st=[$e(nt(Qe)),$e(Math.round(Le).toString(16)),$e(Math.round(ye).toString(16)),$e(Math.round(Te).toString(16))];return st.join("")}o.equals=function(Le,ye){return!Le||!ye?!1:o(Le).toRgbString()==o(ye).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Y(Le,ye){ye=ye===0?0:ye||10;var Te=o(Le).toHsl();return Te.s-=ye/100,Te.s=Ot(Te.s),o(Te)}function ee(Le,ye){ye=ye===0?0:ye||10;var Te=o(Le).toHsl();return Te.s+=ye/100,Te.s=Ot(Te.s),o(Te)}function V(Le){return o(Le).desaturate(100)}function W(Le,ye){ye=ye===0?0:ye||10;var Te=o(Le).toHsl();return Te.l+=ye/100,Te.l=Ot(Te.l),o(Te)}function ne(Le,ye){ye=ye===0?0:ye||10;var Te=o(Le).toRgb();return Te.r=Math.max(0,Math.min(255,Te.r-Math.round(255*-(ye/100)))),Te.g=Math.max(0,Math.min(255,Te.g-Math.round(255*-(ye/100)))),Te.b=Math.max(0,Math.min(255,Te.b-Math.round(255*-(ye/100)))),o(Te)}function ce(Le,ye){ye=ye===0?0:ye||10;var Te=o(Le).toHsl();return Te.l-=ye/100,Te.l=Ot(Te.l),o(Te)}function ge(Le,ye){var Te=o(Le).toHsl(),Qe=(Te.h+ye)%360;return Te.h=Qe<0?360+Qe:Qe,o(Te)}function fe(Le){var ye=o(Le).toHsl();return ye.h=(ye.h+180)%360,o(ye)}function H(Le,ye){if(isNaN(ye)||ye<=0)throw new Error("Argument to polyad must be a positive number");for(var Te=o(Le).toHsl(),Qe=[o(Le)],st=360/ye,lt=1;lt<ye;lt++)Qe.push(o({h:(Te.h+lt*st)%360,s:Te.s,l:Te.l}));return Qe}function X(Le){var ye=o(Le).toHsl(),Te=ye.h;return[o(Le),o({h:(Te+72)%360,s:ye.s,l:ye.l}),o({h:(Te+216)%360,s:ye.s,l:ye.l})]}function Me(Le,ye,Te){ye=ye||6,Te=Te||30;var Qe=o(Le).toHsl(),st=360/Te,lt=[o(Le)];for(Qe.h=(Qe.h-(st*ye>>1)+720)%360;--ye;)Qe.h=(Qe.h+st)%360,lt.push(o(Qe));return lt}function be(Le,ye){ye=ye||6;for(var Te=o(Le).toHsv(),Qe=Te.h,st=Te.s,lt=Te.v,Kt=[],Ht=1/ye;ye--;)Kt.push(o({h:Qe,s:st,v:lt})),lt=(lt+Ht)%1;return Kt}o.mix=function(Le,ye,Te){Te=Te===0?0:Te||50;var Qe=o(Le).toRgb(),st=o(ye).toRgb(),lt=Te/100,Kt={r:(st.r-Qe.r)*lt+Qe.r,g:(st.g-Qe.g)*lt+Qe.g,b:(st.b-Qe.b)*lt+Qe.b,a:(st.a-Qe.a)*lt+Qe.a};return o(Kt)},o.readability=function(Le,ye){var Te=o(Le),Qe=o(ye);return(Math.max(Te.getLuminance(),Qe.getLuminance())+.05)/(Math.min(Te.getLuminance(),Qe.getLuminance())+.05)},o.isReadable=function(Le,ye,Te){var Qe=o.readability(Le,ye),st,lt;switch(lt=!1,st=Jt(Te),st.level+st.size){case"AAsmall":case"AAAlarge":lt=Qe>=4.5;break;case"AAlarge":lt=Qe>=3;break;case"AAAsmall":lt=Qe>=7;break}return lt},o.mostReadable=function(Le,ye,Te){var Qe=null,st=0,lt,Kt,Ht,Wt;Te=Te||{},Kt=Te.includeFallbackColors,Ht=Te.level,Wt=Te.size;for(var Rn=0;Rn<ye.length;Rn++)lt=o.readability(Le,ye[Rn]),lt>st&&(st=lt,Qe=o(ye[Rn]));return o.isReadable(Le,Qe,{level:Ht,size:Wt})||!Kt?Qe:(Te.includeFallbackColors=!1,o.mostReadable(Le,["#fff","#000"],Te))};var Fe=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ue=o.hexNames=me(Fe);function me(Le){var ye={};for(var Te in Le)Le.hasOwnProperty(Te)&&(ye[Le[Te]]=Te);return ye}function Ve(Le){return Le=parseFloat(Le),(isNaN(Le)||Le<0||Le>1)&&(Le=1),Le}function _e(Le,ye){_t(Le)&&(Le="100%");var Te=ft(Le);return Le=Math.min(ye,Math.max(0,parseFloat(Le))),Te&&(Le=parseInt(Le*ye,10)/100),Math.abs(Le-ye)<1e-6?1:Le%ye/parseFloat(ye)}function Ot(Le){return Math.min(1,Math.max(0,Le))}function St(Le){return parseInt(Le,16)}function _t(Le){return typeof Le=="string"&&Le.indexOf(".")!=-1&&parseFloat(Le)===1}function ft(Le){return typeof Le=="string"&&Le.indexOf("%")!=-1}function $e(Le){return Le.length==1?"0"+Le:""+Le}function et(Le){return Le<=1&&(Le=Le*100+"%"),Le}function nt(Le){return Math.round(parseFloat(Le)*255).toString(16)}function en(Le){return St(Le)/255}var nn=function(){var Le="[-\\+]?\\d+%?",ye="[-\\+]?\\d*\\.\\d+%?",Te="(?:"+ye+")|(?:"+Le+")",Qe="[\\s|\\(]+("+Te+")[,|\\s]+("+Te+")[,|\\s]+("+Te+")\\s*\\)?",st="[\\s|\\(]+("+Te+")[,|\\s]+("+Te+")[,|\\s]+("+Te+")[,|\\s]+("+Te+")\\s*\\)?";return{CSS_UNIT:new RegExp(Te),rgb:new RegExp("rgb"+Qe),rgba:new RegExp("rgba"+st),hsl:new RegExp("hsl"+Qe),hsla:new RegExp("hsla"+st),hsv:new RegExp("hsv"+Qe),hsva:new RegExp("hsva"+st),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Et(Le){return!!nn.CSS_UNIT.exec(Le)}function Vt(Le){Le=Le.replace(r,"").replace(i,"").toLowerCase();var ye=!1;if(Fe[Le])Le=Fe[Le],ye=!0;else if(Le=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Te;return(Te=nn.rgb.exec(Le))?{r:Te[1],g:Te[2],b:Te[3]}:(Te=nn.rgba.exec(Le))?{r:Te[1],g:Te[2],b:Te[3],a:Te[4]}:(Te=nn.hsl.exec(Le))?{h:Te[1],s:Te[2],l:Te[3]}:(Te=nn.hsla.exec(Le))?{h:Te[1],s:Te[2],l:Te[3],a:Te[4]}:(Te=nn.hsv.exec(Le))?{h:Te[1],s:Te[2],v:Te[3]}:(Te=nn.hsva.exec(Le))?{h:Te[1],s:Te[2],v:Te[3],a:Te[4]}:(Te=nn.hex8.exec(Le))?{r:St(Te[1]),g:St(Te[2]),b:St(Te[3]),a:en(Te[4]),format:ye?"name":"hex8"}:(Te=nn.hex6.exec(Le))?{r:St(Te[1]),g:St(Te[2]),b:St(Te[3]),format:ye?"name":"hex"}:(Te=nn.hex4.exec(Le))?{r:St(Te[1]+""+Te[1]),g:St(Te[2]+""+Te[2]),b:St(Te[3]+""+Te[3]),a:en(Te[4]+""+Te[4]),format:ye?"name":"hex8"}:(Te=nn.hex3.exec(Le))?{r:St(Te[1]+""+Te[1]),g:St(Te[2]+""+Te[2]),b:St(Te[3]+""+Te[3]),format:ye?"name":"hex"}:!1}function Jt(Le){var ye,Te;return Le=Le||{level:"AA",size:"small"},ye=(Le.level||"AA").toUpperCase(),Te=(Le.size||"small").toLowerCase(),ye!=="AA"&&ye!=="AAA"&&(ye="AA"),Te!=="small"&&Te!=="large"&&(Te="small"),{level:ye,size:Te}}return o})})(pY);var dBe=pY.exports;Object.defineProperty(ec,"__esModule",{value:!0});ec.isvalidColorString=ec.red=ec.getContrastingColor=ec.isValidHex=ec.toState=ec.simpleCheckForValidColor=void 0;var fBe=hBe,pBe=mY(fBe),mBe=dBe,Zw=mY(mBe);function mY(n){return n&&n.__esModule?n:{default:n}}ec.simpleCheckForValidColor=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,pBe.default)(t,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1};var gBe=ec.toState=function(e,t){var r=e.hex?(0,Zw.default)(e.hex):(0,Zw.default)(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=t||0,o.h=t||0);var f=a==="000000"&&s.a===0;return{hsl:i,hex:f?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||t||i.h,source:e.source}};ec.isValidHex=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&(0,Zw.default)(e).isValid()};ec.getContrastingColor=function(e){if(!e)return"#fff";var t=gBe(e);if(t.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(t.rgb.r*299+t.rgb.g*587+t.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};ec.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};ec.isvalidColorString=function(e,t){var r=e.replace("","");return(0,Zw.default)(t+" ("+r+")")._ok};Object.defineProperty(L2,"__esModule",{value:!0});L2.ColorWrap=void 0;var uC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),I8=Wn,vBe=gY(I8),_Be=fY,CBe=gY(_Be),bBe=ec,uy=xBe(bBe);function xBe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function gY(n){return n&&n.__esModule?n:{default:n}}function wBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function MBe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function SBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var EBe=L2.ColorWrap=function(e){var t=function(r){SBe(i,r);function i(o){wBe(this,i);var s=MBe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,f){var m=uy.simpleCheckForValidColor(a);if(m){var C=uy.toState(a,a.h||s.state.oldHue);s.setState(C),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,C,f),s.props.onChange&&s.props.onChange(C,f)}},s.handleSwatchHover=function(a,f){var m=uy.simpleCheckForValidColor(a);if(m){var C=uy.toState(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(C,f)}},s.state=uC({},uy.toState(o.color,0)),s.debounce=(0,CBe.default)(function(a,f,m){a(f,m)},100),s}return yBe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),vBe.default.createElement(e,uC({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return uC({},uy.toState(s.color,a.oldHue))}}]),i}(I8.PureComponent||I8.Component);return t.propTypes=uC({},e.propTypes),t.defaultProps=uC({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};L2.default=EBe;var D2={},NM={};Object.defineProperty(NM,"__esModule",{value:!0});NM.handleFocus=void 0;var OBe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),IBe=Wn,w6=kBe(IBe);function kBe(n){return n&&n.__esModule?n:{default:n}}function TBe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eF(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function PBe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}NM.handleFocus=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){PBe(i,r);function i(){var o,s,a,f;TBe(this,i);for(var m=arguments.length,C=Array(m),B=0;B<m;B++)C[B]=arguments[B];return f=(s=(a=eF(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),eF(a,f)}return BBe(i,[{key:"render",value:function(){return w6.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},w6.default.createElement(e,OBe({},this.props,this.state)))}}]),i}(w6.default.Component)};Object.defineProperty(D2,"__esModule",{value:!0});D2.Swatch=void 0;var tF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KBe=Wn,nF=vT(KBe),LBe=Ys,DBe=vT(LBe),FBe=NM,RBe=S1,UBe=vT(RBe);function vT(n){return n&&n.__esModule?n:{default:n}}var zBe=13,jBe=D2.Swatch=function(e){var t=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,f=a===void 0?t:a,m=e.children,C=e.focus,B=e.focusStyle,I=B===void 0?{}:B,K=t==="transparent",L=(0,DBe.default)({default:{swatch:tF({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,C?I:{})}}),Y=function(ce){return o(t,ce)},ee=function(ce){return ce.keyCode===zBe&&o(t,ce)},V=function(ce){return s(t,ce)},W={};return s&&(W.onMouseOver=V),nF.default.createElement("div",tF({style:L.swatch,onClick:Y,title:f,tabIndex:0,onKeyDown:ee},W),m,K&&nF.default.createElement(UBe.default,{borderRadius:L.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};D2.default=(0,FBe.handleFocus)(jBe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=I2;Object.defineProperty(n,"Alpha",{enumerable:!0,get:function(){return m(e).default}});var t=S1;Object.defineProperty(n,"Checkboard",{enumerable:!0,get:function(){return m(t).default}});var r=k2;Object.defineProperty(n,"EditableInput",{enumerable:!0,get:function(){return m(r).default}});var i=T2;Object.defineProperty(n,"Hue",{enumerable:!0,get:function(){return m(i).default}});var o=P2;Object.defineProperty(n,"Raised",{enumerable:!0,get:function(){return m(o).default}});var s=K2;Object.defineProperty(n,"Saturation",{enumerable:!0,get:function(){return m(s).default}});var a=L2;Object.defineProperty(n,"ColorWrap",{enumerable:!0,get:function(){return m(a).default}});var f=D2;Object.defineProperty(n,"Swatch",{enumerable:!0,get:function(){return m(f).default}});function m(C){return C&&C.__esModule?C:{default:C}}})(hT);var F2={};function NBe(n){return n===void 0}var WBe=NBe,_T={};Object.defineProperty(_T,"__esModule",{value:!0});var rF=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GBe=Wn,iF=QBe(GBe);function QBe(n){return n&&n.__esModule?n:{default:n}}function $Be(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}var T3=24;_T.default=function(n){var e=n.fill,t=e===void 0?"currentColor":e,r=n.width,i=r===void 0?T3:r,o=n.height,s=o===void 0?T3:o,a=n.style,f=a===void 0?{}:a,m=$Be(n,["fill","width","height","style"]);return iF.default.createElement("svg",rF({viewBox:"0 0 "+T3+" "+T3,style:rF({fill:t,width:i,height:s},f)},m),iF.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(F2,"__esModule",{value:!0});F2.ChromeFields=void 0;var YBe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),qBe=Wn,as=WM(qBe),VBe=Ys,HBe=WM(VBe),ZBe=ec,XBe=n8e(ZBe),JBe=WBe,oF=WM(JBe),nm=hT,e8e=_T,t8e=WM(e8e);function n8e(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function WM(n){return n&&n.__esModule?n:{default:n}}function r8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i8e(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function o8e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var yY=F2.ChromeFields=function(n){o8e(e,n);function e(t){r8e(this,e);var r=i8e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?XBe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,oF.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,oF.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},t.hsl.a!==1&&t.view==="hex"?r.state={view:"rgb"}:r.state={view:t.view},r}return YBe(e,[{key:"render",value:function(){var r=this,i=(0,HBe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=as.default.createElement("div",{style:i.fields,className:"flexbox-fix"},as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=as.default.createElement("div",{style:i.fields,className:"flexbox-fix"},as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),as.default.createElement("div",{style:i.alpha},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=as.default.createElement("div",{style:i.fields,className:"flexbox-fix"},as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),as.default.createElement("div",{style:i.field},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),as.default.createElement("div",{style:i.alpha},as.default.createElement(nm.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),as.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,as.default.createElement("div",{style:i.toggle},as.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},as.default.createElement(t8e.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(as.default.Component);yY.defaultProps={view:"hex"};F2.default=yY;var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.ChromePointer=void 0;var a8e=Wn,s8e=vY(a8e),l8e=Ys,u8e=vY(l8e);function vY(n){return n&&n.__esModule?n:{default:n}}var A8e=R2.ChromePointer=function(){var e=(0,u8e.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return s8e.default.createElement("div",{style:e.picker})};R2.default=A8e;var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.ChromePointerCircle=void 0;var c8e=Wn,h8e=_Y(c8e),d8e=Ys,f8e=_Y(d8e);function _Y(n){return n&&n.__esModule?n:{default:n}}var p8e=U2.ChromePointerCircle=function(){var e=(0,f8e.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return h8e.default.createElement("div",{style:e.picker})};U2.default=p8e;Object.defineProperty(OM,"__esModule",{value:!0});OM.Chrome=void 0;var m8e=Wn,XA=E1(m8e),g8e=ff,Ay=E1(g8e),y8e=Ys,v8e=E1(y8e),_8e=sY,C8e=E1(_8e),EC=hT,b8e=F2,x8e=E1(b8e),w8e=R2,aF=E1(w8e),M8e=U2,S8e=E1(M8e);function E1(n){return n&&n.__esModule?n:{default:n}}var CT=OM.Chrome=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,f=e.hex,m=e.renderers,C=e.styles,B=C===void 0?{}:C,I=e.className,K=I===void 0?"":I,L=e.defaultView,Y=(0,v8e.default)((0,C8e.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},B),{disableAlpha:i});return XA.default.createElement("div",{style:Y.picker,className:"chrome-picker "+K},XA.default.createElement("div",{style:Y.saturation},XA.default.createElement(EC.Saturation,{style:Y.Saturation,hsl:s,hsv:a,pointer:S8e.default,onChange:r})),XA.default.createElement("div",{style:Y.body},XA.default.createElement("div",{style:Y.controls,className:"flexbox-fix"},XA.default.createElement("div",{style:Y.color},XA.default.createElement("div",{style:Y.swatch},XA.default.createElement("div",{style:Y.active}),XA.default.createElement(EC.Checkboard,{renderers:m}))),XA.default.createElement("div",{style:Y.toggles},XA.default.createElement("div",{style:Y.hue},XA.default.createElement(EC.Hue,{style:Y.Hue,hsl:s,pointer:aF.default,onChange:r})),XA.default.createElement("div",{style:Y.alpha},XA.default.createElement(EC.Alpha,{style:Y.Alpha,rgb:o,hsl:s,pointer:aF.default,renderers:m,onChange:r})))),XA.default.createElement(x8e.default,{rgb:o,hsl:s,hex:f,view:L,onChange:r,disableAlpha:i})))};CT.propTypes={width:Ay.default.oneOfType([Ay.default.string,Ay.default.number]),disableAlpha:Ay.default.bool,styles:Ay.default.object,defaultView:Ay.default.oneOf(["hex","rgb","hsl"])};CT.defaultProps={width:225,disableAlpha:!1,styles:{}};var E8e=OM.default=(0,EC.ColorWrap)(CT);function xi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",e="cb6d03ea084207ffce2f89af246bc26074c13af7",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return xi=function(){return s},s}xi();function O8e(n){xi().f[0]++;const e=(xi().s[0]++,n.rgb);return xi().s[1]++,`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}class CY extends Sn.Component{constructor(t){xi().f[1]++,xi().s[4]++;super(t);dn(this,"state",(xi().s[2]++,{pickerOpened:!1}));dn(this,"colorInput",(xi().s[3]++,null));dn(this,"calcPickerOffset",(xi().s[7]++,()=>{xi().f[3]++;const t=(xi().s[8]++,this.colorInput);if(xi().s[9]++,t){xi().b[0][0]++;const r=(xi().s[10]++,t.getBoundingClientRect());return xi().s[11]++,{top:r.top,left:r.left+196}}else return xi().b[0][1]++,xi().s[12]++,{top:160,left:555}}));dn(this,"togglePicker",(xi().s[13]++,()=>{xi().f[4]++,xi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));xi().s[5]++,this.onChangeNoCheck=UO.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(t){xi().f[2]++,xi().s[6]++,this.props.onChange(t)}get color(){xi().f[5]++,xi().s[15]++;try{return xi().s[16]++,cB(this.props.value).rgb()}catch(t){return xi().s[17]++,console.warn("Error parsing color: ",t),xi().s[18]++,cB("rgb(255,255,255)")}}onChange(t){xi().f[6]++,xi().s[19]++,this.props.onChange(t===""?(xi().b[1][0]++,void 0):(xi().b[1][1]++,t))}render(){xi().f[7]++;const t=(xi().s[20]++,this.calcPickerOffset()),r=(xi().s[21]++,this.color.object()),i=(xi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(xi().s[23]++,q.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:t.left,top:t.top},children:[q.jsx(E8e,{color:i,onChange:a=>(xi().f[8]++,xi().s[24]++,this.onChangeNoCheck(O8e(a)))}),q.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),s=(xi().s[25]++,{backgroundColor:this.props.value});return xi().s[26]++,q.jsxs("div",{className:"maputnik-color-wrapper",children:[(xi().b[2][0]++,this.state.pickerOpened&&(xi().b[2][1]++,o)),q.jsx("div",{className:"maputnik-color-swatch",style:s}),q.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:a=>(xi().f[9]++,xi().s[27]++,this.colorInput=a),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(xi().b[3][0]++,this.props.value):(xi().b[3][1]++,""),onChange:a=>(xi().f[10]++,xi().s[28]++,this.onChange(a.target.value))})]})}}function Yt(){var n="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",e="ab7734237b4c4e642d73d3a00f670557b7ee2f29",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:39,column:5}},10:{start:{line:31,column:6},end:{line:31,column:58}},11:{start:{line:31,column:31},end:{line:31,column:58}},12:{start:{line:32,column:6},end:{line:34,column:9}},13:{start:{line:35,column:11},end:{line:39,column:5}},14:{start:{line:36,column:6},end:{line:38,column:9}},15:{start:{line:40,column:4},end:{line:42,column:7}},16:{start:{line:45,column:4},end:{line:47,column:5}},17:{start:{line:46,column:6},end:{line:46,column:18}},18:{start:{line:48,column:18},end:{line:48,column:20}},19:{start:{line:49,column:4},end:{line:51,column:5}},20:{start:{line:50,column:6},end:{line:50,column:19}},21:{start:{line:52,column:4},end:{line:54,column:5}},22:{start:{line:53,column:6},end:{line:53,column:19}},23:{start:{line:55,column:4},end:{line:57,column:5}},24:{start:{line:56,column:6},end:{line:56,column:19}},25:{start:{line:58,column:4},end:{line:58,column:16}},26:{start:{line:60,column:15},end:{line:74,column:3}},27:{start:{line:61,column:4},end:{line:61,column:38}},28:{start:{line:62,column:4},end:{line:64,column:5}},29:{start:{line:63,column:6},end:{line:63,column:13}},30:{start:{line:65,column:4},end:{line:73,column:5}},31:{start:{line:66,column:6},end:{line:72,column:7}},32:{start:{line:67,column:8},end:{line:67,column:43}},33:{start:{line:68,column:8},end:{line:68,column:56}},34:{start:{line:70,column:8},end:{line:70,column:33}},35:{start:{line:71,column:8},end:{line:71,column:46}},36:{start:{line:75,column:18},end:{line:100,column:3}},37:{start:{line:76,column:16},end:{line:76,column:42}},38:{start:{line:77,column:17},end:{line:77,column:37}},39:{start:{line:78,column:21},end:{line:78,column:26}},40:{start:{line:79,column:4},end:{line:95,column:5}},41:{start:{line:80,column:19},end:{line:80,column:31}},42:{start:{line:81,column:6},end:{line:94,column:7}},43:{start:{line:82,column:8},end:{line:86,column:9}},44:{start:{line:83,column:10},end:{line:83,column:42}},45:{start:{line:85,column:10},end:{line:85,column:42}},46:{start:{line:87,column:8},end:{line:87,column:27}},47:{start:{line:89,column:8},end:{line:93,column:9}},48:{start:{line:90,column:10},end:{line:90,column:31}},49:{start:{line:92,column:10},end:{line:92,column:40}},50:{start:{line:96,column:4},end:{line:96,column:32}},51:{start:{line:97,column:4},end:{line:97,column:70}},52:{start:{line:98,column:4},end:{line:98,column:41}},53:{start:{line:99,column:4},end:{line:99,column:56}},54:{start:{line:99,column:29},end:{line:99,column:56}},55:{start:{line:102,column:4},end:{line:185,column:5}},56:{start:{line:103,column:20},end:{line:103,column:81}},57:{start:{line:104,column:27},end:{line:104,column:82}},58:{start:{line:106,column:6},end:{line:110,column:7}},59:{start:{line:107,column:8},end:{line:107,column:38}},60:{start:{line:109,column:8},end:{line:109,column:27}},61:{start:{line:111,column:6},end:{line:165,column:11}},62:{start:{line:124,column:14},end:{line:124,column:41}},63:{start:{line:127,column:14},end:{line:127,column:67}},64:{start:{line:130,column:14},end:{line:130,column:69}},65:{start:{line:133,column:14},end:{line:137,column:17}},66:{start:{line:152,column:14},end:{line:152,column:47}},67:{start:{line:155,column:14},end:{line:155,column:47}},68:{start:{line:158,column:14},end:{line:158,column:48}},69:{start:{line:159,column:14},end:{line:159,column:32}},70:{start:{line:167,column:20},end:{line:167,column:81}},71:{start:{line:168,column:6},end:{line:184,column:8}},72:{start:{line:176,column:27},end:{line:176,column:59}},73:{start:{line:178,column:12},end:{line:178,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:43,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:13},end:{line:59,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:60,column:15},end:{line:60,column:16}},loc:{start:{line:60,column:21},end:{line:74,column:3}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:75,column:18},end:{line:75,column:19}},loc:{start:{line:75,column:25},end:{line:100,column:3}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:11},end:{line:186,column:3}},line:101},7:{name:"(anonymous_7)",decl:{start:{line:123,column:23},end:{line:123,column:24}},loc:{start:{line:123,column:29},end:{line:125,column:13}},line:123},8:{name:"(anonymous_8)",decl:{start:{line:126,column:27},end:{line:126,column:28}},loc:{start:{line:126,column:33},end:{line:128,column:13}},line:126},9:{name:"(anonymous_9)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:31},end:{line:131,column:13}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:132,column:20},end:{line:132,column:21}},loc:{start:{line:132,column:26},end:{line:138,column:13}},line:132},11:{name:"(anonymous_11)",decl:{start:{line:151,column:21},end:{line:151,column:22}},loc:{start:{line:151,column:29},end:{line:153,column:13}},line:151},12:{name:"(anonymous_12)",decl:{start:{line:154,column:22},end:{line:154,column:23}},loc:{start:{line:154,column:29},end:{line:156,column:13}},line:154},13:{name:"(anonymous_13)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:28},end:{line:160,column:13}},line:157},14:{name:"(anonymous_14)",decl:{start:{line:176,column:20},end:{line:176,column:21}},loc:{start:{line:176,column:27},end:{line:176,column:59}},line:176},15:{name:"(anonymous_15)",decl:{start:{line:177,column:19},end:{line:177,column:20}},loc:{start:{line:177,column:25},end:{line:179,column:11}},line:177}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:39,column:5}},{start:{line:35,column:11},end:{line:39,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:31,column:58}},type:"if",locations:[{start:{line:31,column:6},end:{line:31,column:58}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:35,column:11},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:11},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},8:{loc:{start:{line:35,column:15},end:{line:35,column:49}},type:"binary-expr",locations:[{start:{line:35,column:15},end:{line:35,column:35}},{start:{line:35,column:39},end:{line:35,column:49}}],line:35},9:{loc:{start:{line:41,column:18},end:{line:41,column:53}},type:"cond-expr",locations:[{start:{line:41,column:36},end:{line:41,column:42}},{start:{line:41,column:45},end:{line:41,column:53}}],line:41},10:{loc:{start:{line:45,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:47,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},11:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},12:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},13:{loc:{start:{line:52,column:8},end:{line:52,column:56}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:30}},{start:{line:52,column:34},end:{line:52,column:56}}],line:52},14:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},15:{loc:{start:{line:55,column:8},end:{line:55,column:56}},type:"binary-expr",locations:[{start:{line:55,column:8},end:{line:55,column:30}},{start:{line:55,column:34},end:{line:55,column:56}}],line:55},16:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},17:{loc:{start:{line:65,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},18:{loc:{start:{line:66,column:6},end:{line:72,column:7}},type:"if",locations:[{start:{line:66,column:6},end:{line:72,column:7}},{start:{line:69,column:13},end:{line:72,column:7}}],line:66},19:{loc:{start:{line:79,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},20:{loc:{start:{line:81,column:6},end:{line:94,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:94,column:7}},{start:{line:88,column:13},end:{line:94,column:7}}],line:81},21:{loc:{start:{line:82,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:86,column:9}},{start:{line:84,column:15},end:{line:86,column:9}}],line:82},22:{loc:{start:{line:89,column:8},end:{line:93,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:93,column:9}},{start:{line:91,column:15},end:{line:93,column:9}}],line:89},23:{loc:{start:{line:99,column:4},end:{line:99,column:56}},type:"if",locations:[{start:{line:99,column:4},end:{line:99,column:56}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:99},24:{loc:{start:{line:102,column:4},end:{line:185,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:185,column:5}},{start:{line:166,column:11},end:{line:185,column:5}}],line:102},25:{loc:{start:{line:102,column:8},end:{line:102,column:205}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:63}},{start:{line:102,column:67},end:{line:102,column:122}},{start:{line:102,column:126},end:{line:102,column:151}},{start:{line:102,column:155},end:{line:102,column:180}},{start:{line:102,column:184},end:{line:102,column:205}}],line:102},26:{loc:{start:{line:103,column:20},end:{line:103,column:81}},type:"cond-expr",locations:[{start:{line:103,column:41},end:{line:103,column:62}},{start:{line:103,column:65},end:{line:103,column:81}}],line:103},27:{loc:{start:{line:104,column:27},end:{line:104,column:82}},type:"cond-expr",locations:[{start:{line:104,column:59},end:{line:104,column:61}},{start:{line:104,column:64},end:{line:104,column:82}}],line:104},28:{loc:{start:{line:106,column:6},end:{line:110,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:110,column:7}},{start:{line:108,column:13},end:{line:110,column:7}}],line:106},29:{loc:{start:{line:121,column:19},end:{line:121,column:58}},type:"cond-expr",locations:[{start:{line:121,column:38},end:{line:121,column:50}},{start:{line:121,column:53},end:{line:121,column:58}}],line:121},30:{loc:{start:{line:150,column:19},end:{line:150,column:58}},type:"cond-expr",locations:[{start:{line:150,column:43},end:{line:150,column:45}},{start:{line:150,column:48},end:{line:150,column:58}}],line:150},31:{loc:{start:{line:167,column:20},end:{line:167,column:81}},type:"cond-expr",locations:[{start:{line:167,column:41},end:{line:167,column:62}},{start:{line:167,column:65},end:{line:167,column:81}}],line:167},32:{loc:{start:{line:175,column:17},end:{line:175,column:46}},type:"cond-expr",locations:[{start:{line:175,column:36},end:{line:175,column:38}},{start:{line:175,column:41},end:{line:175,column:46}}],line:175}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAmC,OAAyB;AAC1F,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab7734237b4c4e642d73d3a00f670557b7ee2f29"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Yt=function(){return s},s}Yt();class Op extends Sn.Component{constructor(t){Yt().f[0]++,Yt().s[2]++;super(t);dn(this,"_keyboardEvent",(Yt().s[1]++,!1));dn(this,"resetValue",(Yt().s[26]++,()=>{if(Yt().f[4]++,Yt().s[27]++,this.setState({editing:!1}),Yt().s[28]++,this.state.value)Yt().b[16][1]++;else{Yt().b[16][0]++,Yt().s[29]++;return}Yt().s[30]++,this.isValid(this.state.value)?Yt().b[17][1]++:(Yt().b[17][0]++,Yt().s[31]++,this.isValid(this.props.value)?(Yt().b[18][0]++,Yt().s[32]++,this.changeValue(this.props.value),Yt().s[33]++,this.setState({dirtyValue:this.props.value})):(Yt().b[18][1]++,Yt().s[34]++,this.changeValue(void 0),Yt().s[35]++,this.setState({dirtyValue:void 0})))}));dn(this,"onChangeRange",(Yt().s[36]++,t=>{Yt().f[5]++;let r=(Yt().s[37]++,parseFloat(t.target.value));const i=(Yt().s[38]++,this.props.rangeStep);let o=(Yt().s[39]++,r);if(Yt().s[40]++,i){Yt().b[19][0]++;const s=(Yt().s[41]++,r%i);Yt().s[42]++,this._keyboardEvent?(Yt().b[20][0]++,Yt().s[43]++,r<+this.state.dirtyValue?(Yt().b[21][0]++,Yt().s[44]++,r=this.state.value-i):(Yt().b[21][1]++,Yt().s[45]++,r=this.state.value+i),Yt().s[46]++,o=r):(Yt().b[20][1]++,Yt().s[47]++,s<i/2?(Yt().b[22][0]++,Yt().s[48]++,r=r-s):(Yt().b[22][1]++,Yt().s[49]++,r=r+(i-s)))}else Yt().b[19][1]++;Yt().s[50]++,this._keyboardEvent=!1,Yt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),Yt().s[52]++,this.setState({value:r,dirtyValue:o}),Yt().s[53]++,this.props.onChange?(Yt().b[23][0]++,Yt().s[54]++,this.props.onChange(r)):Yt().b[23][1]++}));Yt().s[3]++,this.state={uuid:+Uv(),editing:!1,value:t.value,dirtyValue:t.value}}static getDerivedStateFromProps(t,r){return Yt().f[1]++,Yt().s[4]++,Yt().b[1][0]++,!r.editing&&(Yt().b[1][1]++,t.value!==r.value)?(Yt().b[0][0]++,Yt().s[5]++,{value:t.value,dirtyValue:t.value}):(Yt().b[0][1]++,Yt().s[6]++,null)}changeValue(t){Yt().f[2]++;const r=(Yt().s[7]++,Yt().b[3][0]++,t===""||(Yt().b[3][1]++,t===void 0)?(Yt().b[2][0]++,void 0):(Yt().b[2][1]++,+t)),i=(Yt().s[8]++,this.props.value!==r);Yt().s[9]++,Yt().b[5][0]++,this.isValid(r)&&(Yt().b[5][1]++,i)?(Yt().b[4][0]++,Yt().s[10]++,this.props.onChange?(Yt().b[6][0]++,Yt().s[11]++,this.props.onChange(r)):Yt().b[6][1]++,Yt().s[12]++,this.setState({value:r})):(Yt().b[4][1]++,Yt().s[13]++,Yt().b[8][0]++,!this.isValid(r)&&(Yt().b[8][1]++,i)?(Yt().b[7][0]++,Yt().s[14]++,this.setState({value:void 0})):Yt().b[7][1]++),Yt().s[15]++,this.setState({dirtyValue:t===""?(Yt().b[9][0]++,void 0):(Yt().b[9][1]++,t)})}isValid(t){if(Yt().f[3]++,Yt().s[16]++,t===void 0)return Yt().b[10][0]++,Yt().s[17]++,!0;Yt().b[10][1]++;const r=(Yt().s[18]++,+t);return Yt().s[19]++,isNaN(r)?(Yt().b[11][0]++,Yt().s[20]++,!1):(Yt().b[11][1]++,Yt().s[21]++,Yt().b[13][0]++,!isNaN(this.props.min)&&(Yt().b[13][1]++,r<this.props.min)?(Yt().b[12][0]++,Yt().s[22]++,!1):(Yt().b[12][1]++,Yt().s[23]++,Yt().b[15][0]++,!isNaN(this.props.max)&&(Yt().b[15][1]++,r>this.props.max)?(Yt().b[14][0]++,Yt().s[24]++,!1):(Yt().b[14][1]++,Yt().s[25]++,!0)))}render(){var t,r;if(Yt().f[6]++,Yt().s[55]++,Yt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(Yt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(Yt().b[25][2]++,this.props.min!==void 0)&&(Yt().b[25][3]++,this.props.max!==void 0)&&(Yt().b[25][4]++,this.props.allowRange)){Yt().b[24][0]++;const i=(Yt().s[56]++,this.state.editing?(Yt().b[26][0]++,this.state.dirtyValue):(Yt().b[26][1]++,this.state.value)),o=(Yt().s[57]++,this.props.default===void 0?(Yt().b[27][0]++,""):(Yt().b[27][1]++,this.props.default));let s;return Yt().s[58]++,this.state.editingRange?(Yt().b[28][0]++,Yt().s[59]++,s=this.state.value):(Yt().b[28][1]++,Yt().s[60]++,s=i),Yt().s[61]++,q.jsxs("div",{className:"maputnik-number-container",children:[q.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(Yt().b[29][0]++,o):(Yt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{Yt().f[7]++,Yt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{Yt().f[8]++,Yt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{Yt().f[9]++,Yt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{Yt().f[10]++,Yt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),q.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(t=this.props.default)==null?void 0:t.toString(),value:s===void 0?(Yt().b[30][0]++,""):(Yt().b[30][1]++,s),onFocus:a=>{Yt().f[11]++,Yt().s[66]++,this.setState({editing:!0})},onChange:a=>{Yt().f[12]++,Yt().s[67]++,this.changeValue(a.target.value)},onBlur:a=>{Yt().f[13]++,Yt().s[68]++,this.setState({editing:!1}),Yt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{Yt().b[24][1]++;const i=(Yt().s[70]++,this.state.editing?(Yt().b[31][0]++,this.state.dirtyValue):(Yt().b[31][1]++,this.state.value));return Yt().s[71]++,q.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(Yt().b[32][0]++,""):(Yt().b[32][1]++,i),onChange:o=>(Yt().f[14]++,Yt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{Yt().f[15]++,Yt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}dn(Op,"defaultProps",(Yt().s[0]++,{rangeStep:1}));function ip(){var n="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",e="e85f7924976070cbab7795bce9cf0e191e4a6b5e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ip=function(){return s},s}ip();class bT extends Sn.Component{constructor(){super(...arguments);dn(this,"onChange",(ip().s[1]++,()=>{ip().f[0]++,ip().s[2]++,this.props.onChange(!this.props.value)}))}render(){return ip().f[1]++,ip().s[3]++,q.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[q.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),q.jsx("div",{className:"maputnik-checkbox-box",children:q.jsx("svg",{style:{display:this.props.value?(ip().b[0][0]++,"inline"):(ip().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:q.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}dn(bT,"defaultProps",(ip().s[0]++,{value:!1}));function hr(){var n="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",e="9ed81d69001830f70ea45ac1502cde5125167d89",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAkC,OAAwB;AACxF,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9ed81d69001830f70ea45ac1502cde5125167d89"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return hr=function(){return s},s}hr();var N6;let bY=(N6=class extends Sn.Component{constructor(e){hr().f[0]++,hr().s[1]++,super(e),hr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(e,t){hr().f[1]++;const r=(hr().s[3]++,[]),i=(hr().s[4]++,t.initialPropsValue.slice(0));return hr().s[5]++,Array(e.length).fill(null).map((o,s)=>{hr().f[2]++,hr().s[6]++,e.value[s]===t.initialPropsValue[s]?(hr().b[0][0]++,hr().s[7]++,r[s]=t.value[s]):(hr().b[0][1]++,hr().s[8]++,r[s]=t.value[s],hr().s[9]++,i[s]=t.value[s])}),hr().s[10]++,{value:r,initialPropsValue:i}}isComplete(e){return hr().f[3]++,hr().s[11]++,Array(this.props.length).fill(null).every((t,r)=>{hr().f[4]++;const i=(hr().s[12]++,e[r]);return hr().s[13]++,hr().b[1][0]++,!(i===void 0||(hr().b[1][1]++,i===""))})}changeValue(e,t){hr().f[5]++;const r=(hr().s[14]++,this.state.value.slice(0));hr().s[15]++,r[e]=t,hr().s[16]++,this.setState({value:r},()=>{hr().f[6]++,hr().s[17]++,hr().b[3][0]++,this.isComplete(r)&&(hr().b[3][1]++,this.props.onChange)?(hr().b[2][0]++,hr().s[18]++,this.props.onChange(r)):(hr().b[2][1]++,hr().s[19]++,this.props.onChange?(hr().b[4][0]++,hr().s[20]++,this.props.onChange(void 0)):hr().b[4][1]++)})}render(){hr().f[7]++;const{value:e}=(hr().s[21]++,this.state),t=(hr().s[22]++,hr().b[5][0]++,e.length>0&&(hr().b[5][1]++,!e.every(i=>(hr().f[8]++,hr().s[23]++,hr().b[6][0]++,i===""||(hr().b[6][1]++,i===void 0))))),r=(hr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(hr().f[9]++,hr().s[25]++,this.props.type==="number"?(hr().b[7][0]++,hr().s[26]++,q.jsx(Op,{default:(hr().b[9][0]++,t||(hr().b[9][1]++,!this.props.default)?(hr().b[8][0]++,void 0):(hr().b[8][1]++,this.props.default[o])),value:e[o],required:t?(hr().b[10][0]++,!0):(hr().b[10][1]++,!1),onChange:s=>(hr().f[10]++,hr().s[27]++,this.changeValue(o,s)),"aria-label":(hr().b[11][0]++,this.props["aria-label"]||(hr().b[11][1]++,this.props.label))},o)):(hr().b[7][1]++,hr().s[28]++,q.jsx(xd,{default:(hr().b[13][0]++,t||(hr().b[13][1]++,!this.props.default)?(hr().b[12][0]++,void 0):(hr().b[12][1]++,this.props.default[o])),value:e[o],required:t?(hr().b[14][0]++,!0):(hr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(hr().b[15][0]++,this.props["aria-label"]||(hr().b[15][1]++,this.props.label))},o)))));return hr().s[29]++,q.jsx("div",{className:"maputnik-array",children:r})}},dn(N6,"defaultProps",(hr().s[0]++,{value:[],default:[]})),N6);function Sl(){var n="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",e="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Sl=function(){return s},s}Sl();class B8e extends Sn.Component{render(){Sl().f[0]++;let e=(Sl().s[0]++,this.props.options);Sl().s[1]++,Sl().b[1][0]++,e.length>0&&(Sl().b[1][1]++,!Array.isArray(e[0]))?(Sl().b[0][0]++,Sl().s[2]++,e=e.map(i=>(Sl().f[1]++,Sl().s[3]++,[i,i]))):Sl().b[0][1]++;const t=(Sl().s[4]++,Sl().b[2][0]++,this.props.value||(Sl().b[2][1]++,e[0][0])),r=(Sl().s[5]++,e.map(([i,o])=>(Sl().f[2]++,Sl().s[6]++,q.jsxs("label",{className:Sp("maputnik-radio-as-button",{"maputnik-button-selected":i===t}),children:[q.jsx("input",{type:"radio",name:this.props.name,onChange:s=>(Sl().f[3]++,Sl().s[7]++,this.props.onChange(i)),value:i,checked:i===t}),o]},i))));return Sl().s[8]++,q.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function _s(){var n="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",e="d905b5da4422f2b84d44f87b04fda3de421542f5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return _s=function(){return s},s}_s();function I8e(n){_s().f[0]++;let e=(_s().s[0]++,0);return _s().s[1]++,n.forEach(([t,r])=>{_s().f[1]++,_s().s[2]++,e+=r.length}),_s().s[3]++,e}class xT extends Sn.Component{render(){_s().f[2]++;const{options:e,value:t,onChange:r,name:i,label:o}=(_s().s[4]++,this.props);return _s().s[5]++,_s().b[1][0]++,e.length<=3&&(_s().b[1][1]++,I8e(e)<=20)?(_s().b[0][0]++,_s().s[6]++,q.jsx(B8e,{name:i,options:e,value:(_s().b[2][0]++,t||(_s().b[2][1]++,this.props.default)),onChange:r,"aria-label":(_s().b[3][0]++,this.props["aria-label"]||(_s().b[3][1]++,o))})):(_s().b[0][1]++,_s().s[7]++,q.jsx(x1,{options:e,value:(_s().b[4][0]++,t||(_s().b[4][1]++,this.props.default)),onChange:r,"aria-label":(_s().b[5][0]++,this.props["aria-label"]||(_s().b[5][1]++,o))}))}}function mv(){var n="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",e="d603f5ded455e8f3bb5709d22f215a115aa4ac65",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:4},end:{line:12,column:9}},2:{start:{line:15,column:19},end:{line:15,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:13,column:3}},line:6}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,SAA0B,uBAAuB;AACjD,OAAO;AAOP,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAU;AACR,UAAM,IAAI,KAAK,MAAM;AACrB,WACE,qBAAC,SAAI,WAAU,cACZ;AAAA,QAAE,QAAQ;AAAA,MAAE;AAAA,MAAE,KAAK,MAAM;AAAA,OAC5B;AAAA,EAEJ;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d603f5ded455e8f3bb5709d22f215a115aa4ac65"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return mv=function(){return s},s}mv();class k8e extends Sn.Component{render(){mv().f[0]++;const e=(mv().s[0]++,this.props.t);return mv().s[1]++,q.jsxs("div",{className:"SmallError",children:[e("Error:")," ",this.props.children]})}}const M6=(mv().s[2]++,zo()(k8e));function wi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",e="3908e8b0136f6981013335eeedb3fda3fb571648",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:7,column:2},end:{line:9,column:3}},1:{start:{line:8,column:4},end:{line:8,column:11}},2:{start:{line:11,column:22},end:{line:18,column:3}},3:{start:{line:12,column:4},end:{line:17,column:5}},4:{start:{line:13,column:21},end:{line:13,column:34}},5:{start:{line:14,column:6},end:{line:14,column:29}},6:{start:{line:16,column:6},end:{line:16,column:20}},7:{start:{line:19,column:19},end:{line:19,column:35}},8:{start:{line:20,column:16},end:{line:20,column:53}},9:{start:{line:21,column:2},end:{line:41,column:3}},10:{start:{line:22,column:4},end:{line:34,column:5}},11:{start:{line:23,column:6},end:{line:26,column:14}},12:{start:{line:28,column:6},end:{line:33,column:14}},13:{start:{line:35,column:9},end:{line:41,column:3}},14:{start:{line:36,column:4},end:{line:40,column:12}},15:{start:{line:42,column:2},end:{line:42,column:15}},16:{start:{line:45,column:24},end:{line:48,column:3}},17:{start:{line:50,column:4},end:{line:50,column:17}},18:{start:{line:51,column:4},end:{line:53,column:6}},19:{start:{line:55,column:12},end:{line:60,column:3}},20:{start:{line:56,column:4},end:{line:58,column:7}},21:{start:{line:59,column:4},end:{line:59,column:52}},22:{start:{line:59,column:28},end:{line:59,column:52}},23:{start:{line:61,column:13},end:{line:66,column:3}},24:{start:{line:62,column:4},end:{line:64,column:7}},25:{start:{line:65,column:4},end:{line:65,column:29}},26:{start:{line:68,column:4},end:{line:79,column:9}},27:{start:{line:82,column:17},end:{line:82,column:52}}},fnMap:{0:{name:"validate",decl:{start:{line:6,column:9},end:{line:6,column:17}},loc:{start:{line:6,column:26},end:{line:43,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:11,column:22},end:{line:11,column:23}},loc:{start:{line:11,column:32},end:{line:18,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:19},end:{line:47,column:5}},line:46},3:{name:"(anonymous_3)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:21},end:{line:54,column:3}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:55,column:12},end:{line:55,column:13}},loc:{start:{line:55,column:21},end:{line:60,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:61,column:13},end:{line:61,column:14}},loc:{start:{line:61,column:22},end:{line:66,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:80,column:3}},line:67}},branchMap:{0:{loc:{start:{line:7,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:7,column:2},end:{line:9,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:21,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:41,column:3}},{start:{line:35,column:9},end:{line:41,column:3}}],line:21},2:{loc:{start:{line:22,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:34,column:5}},{start:{line:27,column:11},end:{line:34,column:5}}],line:22},3:{loc:{start:{line:35,column:9},end:{line:41,column:3}},type:"if",locations:[{start:{line:35,column:9},end:{line:41,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:35,column:13},end:{line:35,column:86}},type:"binary-expr",locations:[{start:{line:35,column:13},end:{line:35,column:21}},{start:{line:35,column:25},end:{line:35,column:45}},{start:{line:35,column:49},end:{line:35,column:86}}],line:35},5:{loc:{start:{line:59,column:4},end:{line:59,column:52}},type:"if",locations:[{start:{line:59,column:4},end:{line:59,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4BU,SAAoC,KAApC;AA5BV,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AACvB,SAAS,OAAwB,uBAAuB;AAGxD,SAAS,SAAS,KAAa,GAAuC;AACpE,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,QAAI,OAAO;AACT,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GAC3D;AAAA,IAEJ,OAAO;AACL,cACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,QAAuB,oBAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO,GACnF;AAAA,IAEJ;AAAA,EACF,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,oBAAC,cACC,+BAAC,SAAM,GAAM;AAAA;AAAA,MACwE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G,GACF;AAAA,EAEJ;AAEA,SAAO;AACT;AAsBA,MAAM,yBAAyB,MAAM,UAAgD;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAA8B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,OAAO,MAAM,CAAC;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,QAAI,KAAK,MAAM,QAAS,MAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,KAAK,KAAK,MAAM,CAAC;AAAA,IACnC,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;AAEA,MAAM,WAAW,gBAAgB,EAAE,gBAAgB;AACnD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3908e8b0136f6981013335eeedb3fda3fb571648"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return wi=function(){return s},s}wi();function S6(n,e){if(wi().f[0]++,wi().s[0]++,n===""){wi().b[0][0]++,wi().s[1]++;return}else wi().b[0][1]++;let t;wi().s[2]++;const r=s=>{wi().f[1]++,wi().s[3]++;try{const a=(wi().s[4]++,new URL(s));return wi().s[5]++,a.protocol}catch{wi().s[6]++;return}},i=(wi().s[7]++,r(n)),o=(wi().s[8]++,window.location.protocol==="https:");return wi().s[9]++,i?(wi().b[1][1]++,wi().s[13]++,wi().b[4][0]++,i&&(wi().b[4][1]++,i==="http:")&&(wi().b[4][2]++,window.location.protocol==="https:")?(wi().b[3][0]++,wi().s[14]++,t=q.jsx(M6,{children:q.jsxs(S0,{t:e,children:["CORS policy won't allow fetching resources served over http from https, use a ",q.jsx("code",{children:"https://"})," domain"]})})):wi().b[3][1]++):(wi().b[1][0]++,wi().s[10]++,o?(wi().b[2][0]++,wi().s[11]++,t=q.jsx(M6,{children:q.jsxs(S0,{t:e,children:["Must provide protocol: ",q.jsx("code",{children:"https://"})]})})):(wi().b[2][1]++,wi().s[12]++,t=q.jsx(M6,{children:q.jsxs(S0,{t:e,children:["Must provide protocol: ",q.jsx("code",{children:"http://"})," or ",q.jsx("code",{children:"https://"})]})}))),wi().s[15]++,t}class xY extends Sn.Component{constructor(t){wi().f[3]++,wi().s[17]++;super(t);dn(this,"onInput",(wi().s[19]++,t=>{wi().f[4]++,wi().s[20]++,this.setState({error:S6(t,this.props.t)}),wi().s[21]++,this.props.onInput?(wi().b[5][0]++,wi().s[22]++,this.props.onInput(t)):wi().b[5][1]++}));dn(this,"onChange",(wi().s[23]++,t=>{wi().f[5]++,wi().s[24]++,this.setState({error:S6(t,this.props.t)}),wi().s[25]++,this.props.onChange(t)}));wi().s[18]++,this.state={error:S6(t.value,t.t)}}render(){return wi().f[6]++,wi().s[26]++,q.jsxs("div",{children:[q.jsx(xd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}}dn(xY,"defaultProps",(wi().s[16]++,{onInput:()=>{wi().f[2]++}}));const wT=(wi().s[27]++,zo()(xY));function ir(){var n="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",e="b43f9efa2bc6409a39f030c91aca2fefba2121b9",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:14,column:19},end:{line:14,column:39}},1:{start:{line:15,column:4},end:{line:15,column:27}},2:{start:{line:16,column:4},end:{line:16,column:57}},3:{start:{line:16,column:29},end:{line:16,column:57}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:35,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:34,column:57}},17:{start:{line:34,column:29},end:{line:34,column:57}},18:{start:{line:37,column:19},end:{line:37,column:39}},19:{start:{line:38,column:4},end:{line:38,column:31}},20:{start:{line:39,column:4},end:{line:39,column:86}},21:{start:{line:39,column:29},end:{line:39,column:86}},22:{start:{line:42,column:14},end:{line:42,column:26}},23:{start:{line:43,column:22},end:{line:43,column:77}},24:{start:{line:44,column:19},end:{line:104,column:6}},25:{start:{line:45,column:45},end:{line:51,column:7}},26:{start:{line:53,column:6},end:{line:91,column:7}},27:{start:{line:54,column:8},end:{line:61,column:10}},28:{start:{line:62,column:13},end:{line:91,column:7}},29:{start:{line:63,column:8},end:{line:70,column:10}},30:{start:{line:71,column:13},end:{line:91,column:7}},31:{start:{line:72,column:24},end:{line:72,column:99}},32:{start:{line:72,column:78},end:{line:72,column:98}},33:{start:{line:73,column:8},end:{line:81,column:10}},34:{start:{line:83,column:8},end:{line:90,column:10}},35:{start:{line:92,column:6},end:{line:103,column:8}},36:{start:{line:105,column:4},end:{line:115,column:9}},37:{start:{line:118,column:26},end:{line:118,column:70}},38:{start:{line:122,column:14},end:{line:122,column:26}},39:{start:{line:123,column:4},end:{line:136,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:29},end:{line:17,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:35,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:24},end:{line:40,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:11},end:{line:116,column:3}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:104,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:72,column:70},end:{line:72,column:71}},loc:{start:{line:72,column:78},end:{line:72,column:98}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:11},end:{line:137,column:3}},line:121}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:16,column:57}},type:"if",locations:[{start:{line:16,column:4},end:{line:16,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:34,column:57}},type:"if",locations:[{start:{line:34,column:4},end:{line:34,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:39,column:4},end:{line:39,column:86}},type:"if",locations:[{start:{line:39,column:4},end:{line:39,column:86}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},7:{loc:{start:{line:39,column:49},end:{line:39,column:84}},type:"cond-expr",locations:[{start:{line:39,column:69},end:{line:39,column:75}},{start:{line:39,column:78},end:{line:39,column:84}}],line:39},8:{loc:{start:{line:53,column:6},end:{line:91,column:7}},type:"if",locations:[{start:{line:53,column:6},end:{line:91,column:7}},{start:{line:62,column:13},end:{line:91,column:7}}],line:53},9:{loc:{start:{line:59,column:26},end:{line:59,column:70}},type:"binary-expr",locations:[{start:{line:59,column:26},end:{line:59,column:50}},{start:{line:59,column:54},end:{line:59,column:70}}],line:59},10:{loc:{start:{line:62,column:13},end:{line:91,column:7}},type:"if",locations:[{start:{line:62,column:13},end:{line:91,column:7}},{start:{line:71,column:13},end:{line:91,column:7}}],line:62},11:{loc:{start:{line:68,column:26},end:{line:68,column:70}},type:"binary-expr",locations:[{start:{line:68,column:26},end:{line:68,column:50}},{start:{line:68,column:54},end:{line:68,column:70}}],line:68},12:{loc:{start:{line:71,column:13},end:{line:91,column:7}},type:"if",locations:[{start:{line:71,column:13},end:{line:91,column:7}},{start:{line:82,column:13},end:{line:91,column:7}}],line:71},13:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79},14:{loc:{start:{line:88,column:26},end:{line:88,column:70}},type:"binary-expr",locations:[{start:{line:88,column:26},end:{line:88,column:50}},{start:{line:88,column:54},end:{line:88,column:70}}],line:88}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAqE4B,cAoCf,YApCe;AArE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAEjD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAkBrB,MAAM,kCAAkC,MAAM,UAA0C;AAAA,EACtF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM,SAAU,MAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY,EAAE,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAO;AACxE,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB;AAAA,QAAC;AAAA;AAAA,UACrB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,UACrC,GAAG;AAAA;AAAA,MACN;AACA,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UAEb,YAAE,WAAW;AAAA;AAAA,MAChB;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,oBAAoB,gBAAgB,EAAE,yBAAyB;AACrE,eAAe;AAMf,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,mBAAmB;AAAA,QAE5B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b43f9efa2bc6409a39f030c91aca2fefba2121b9"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ir=function(){return s},s}ir();class T8e extends Sn.Component{constructor(){super(...arguments);dn(this,"addValue",(ir().s[5]++,()=>{ir().f[2]++;const t=(ir().s[6]++,this.values.slice(0));if(ir().s[7]++,this.props.type==="number")ir().b[2][0]++,ir().s[8]++,t.push(0);else if(ir().b[2][1]++,ir().s[9]++,this.props.type==="url")ir().b[3][0]++,ir().s[10]++,t.push("");else if(ir().b[3][1]++,ir().s[11]++,this.props.type==="enum"){ir().b[4][0]++;const{fieldSpec:r}=(ir().s[12]++,this.props),i=(ir().s[13]++,Object.keys(r.values)[0]);ir().s[14]++,t.push(i)}else ir().b[4][1]++,ir().s[15]++,t.push("");ir().s[16]++,this.props.onChange?(ir().b[5][0]++,ir().s[17]++,this.props.onChange(t)):ir().b[5][1]++}))}changeValue(t,r){ir().f[0]++;const i=(ir().s[0]++,this.values.slice(0));ir().s[1]++,i[t]=r,ir().s[2]++,this.props.onChange?(ir().b[0][0]++,ir().s[3]++,this.props.onChange(i)):ir().b[0][1]++}get values(){return ir().f[1]++,ir().s[4]++,ir().b[1][0]++,this.props.value||(ir().b[1][1]++,this.props.default)||(ir().b[1][2]++,[])}deleteValue(t){ir().f[3]++;const r=(ir().s[18]++,this.values.slice(0));ir().s[19]++,r.splice(t,1),ir().s[20]++,this.props.onChange?(ir().b[6][0]++,ir().s[21]++,this.props.onChange(r.length>0?(ir().b[7][0]++,r):(ir().b[7][1]++,void 0))):ir().b[6][1]++}render(){ir().f[4]++;const t=(ir().s[22]++,this.props.t),r=(ir().s[23]++,{t,i18n:this.props.i18n,tReady:this.props.tReady}),i=(ir().s[24]++,this.values.map((o,s)=>{var m;ir().f[5]++;const a=(ir().s[25]++,q.jsx(P8e,{onClick:this.deleteValue.bind(this,s),...r}));let f;if(ir().s[26]++,this.props.type==="url")ir().b[8][0]++,ir().s[27]++,f=q.jsx(wT,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(ir().b[9][0]++,this.props["aria-label"]||(ir().b[9][1]++,this.props.label))});else if(ir().b[8][1]++,ir().s[28]++,this.props.type==="number")ir().b[10][0]++,ir().s[29]++,f=q.jsx(Op,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(ir().b[11][0]++,this.props["aria-label"]||(ir().b[11][1]++,this.props.label))});else if(ir().b[10][1]++,ir().s[30]++,this.props.type==="enum"){ir().b[12][0]++;const C=(ir().s[31]++,Object.keys((m=this.props.fieldSpec)==null?void 0:m.values).map(B=>(ir().f[6]++,ir().s[32]++,[B,Yk(B)])));ir().s[33]++,f=q.jsx(xT,{options:C,value:o,onChange:this.changeValue.bind(this,s),"aria-label":(ir().b[13][0]++,this.props["aria-label"]||(ir().b[13][1]++,this.props.label))})}else ir().b[12][1]++,ir().s[34]++,f=q.jsx(xd,{value:o,onChange:this.changeValue.bind(this,s),"aria-label":(ir().b[14][0]++,this.props["aria-label"]||(ir().b[14][1]++,this.props.label))});return ir().s[35]++,q.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[q.jsx("div",{className:"maputnik-array-block-action",children:a}),q.jsx("div",{className:"maputnik-array-block-content",children:f})]},s)}));return ir().s[36]++,q.jsxs("div",{className:"maputnik-array",children:[i,q.jsx(ds,{className:"maputnik-array-add-value",onClick:this.addValue,children:t("Add value")})]})}}const wY=(ir().s[37]++,zo()(T8e));class P8e extends Sn.Component{render(){ir().f[7]++;const e=(ir().s[38]++,this.props.t);return ir().s[39]++,q.jsx(ds,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove array item"),children:q.jsx(Kk,{label:q.jsx(Zv,{})})})}}function ra(){var n="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",e="cd16dc68fc42c219caf080518fd74984d4f8d81e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ra=function(){return s},s}ra();class MY extends Sn.Component{get values(){ra().f[0]++;const e=(ra().s[1]++,ra().b[0][0]++,this.props.value||(ra().b[0][1]++,this.props.default)||(ra().b[0][2]++,[]));return ra().s[2]++,e[e.length-1]!==""?(ra().b[1][0]++,ra().s[3]++,e.concat("")):(ra().b[1][1]++,ra().s[4]++,e)}changeFont(e,t){ra().f[1]++;const r=(ra().s[5]++,this.values.slice(0));ra().s[6]++,r[e]=t;const i=(ra().s[7]++,r.filter(o=>(ra().f[2]++,ra().s[8]++,o!==void 0)).filter(o=>(ra().f[3]++,ra().s[9]++,o!=="")));ra().s[10]++,this.props.onChange(i)}render(){ra().f[4]++;const e=(ra().s[11]++,this.values.map((t,r)=>{var i;return ra().f[5]++,ra().s[12]++,q.jsx("li",{children:q.jsx(r_,{"aria-label":(ra().b[2][0]++,this.props["aria-label"]||(ra().b[2][1]++,this.props.name)),value:t,options:(i=this.props.fonts)==null?void 0:i.map(o=>(ra().f[6]++,ra().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return ra().s[14]++,q.jsx("ul",{className:"maputnik-font",children:e})}}dn(MY,"defaultProps",(ra().s[0]++,{fonts:[]}));function Bi(){var n="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",e="8a7e9c26497bbcdc9141a7bf10d3ed50f729d679",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a7e9c26497bbcdc9141a7bf10d3ed50f729d679"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Bi=function(){return s},s}Bi();const K8e=(Bi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let gv=class extends Sn.Component{childNodes(){var t,r;Bi().f[0]++;const e=(Bi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(t=this.props.fieldSpec)==null?void 0:t.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(Bi().f[1]++,Bi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(Bi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return Bi().b[0][0]++,Bi().s[4]++,q.jsx(Op,{...e,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":Bi().b[0][1]++;{const i=(Bi().s[5]++,Object.keys((Bi().b[1][0]++,this.props.fieldSpec.values||(Bi().b[1][1]++,[]))).map(o=>(Bi().f[2]++,Bi().s[6]++,[o,Yk(o)])));return Bi().s[7]++,q.jsx(xT,{...e,options:i})}case"resolvedImage":Bi().b[0][2]++;case"formatted":Bi().b[0][3]++;case"string":if(Bi().b[0][4]++,Bi().s[8]++,K8e.indexOf(this.props.fieldName)>=0){Bi().b[2][0]++;const i=(Bi().s[9]++,Bi().b[3][0]++,this.props.fieldSpec.values||(Bi().b[3][1]++,[]));return Bi().s[10]++,q.jsx(r_,{...e,options:i.map(o=>(Bi().f[3]++,Bi().s[11]++,[o,o]))})}else return Bi().b[2][1]++,Bi().s[12]++,q.jsx(xd,{...e});case"color":return Bi().b[0][5]++,Bi().s[13]++,q.jsx(CY,{...e});case"boolean":return Bi().b[0][6]++,Bi().s[14]++,q.jsx(bT,{...e});case"array":return Bi().b[0][7]++,Bi().s[15]++,this.props.fieldName==="text-font"?(Bi().b[4][0]++,Bi().s[16]++,q.jsx(MY,{...e,fonts:this.props.fieldSpec.values})):(Bi().b[4][1]++,Bi().s[17]++,this.props.fieldSpec.length?(Bi().b[5][0]++,Bi().s[18]++,q.jsx(bY,{...e,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(Bi().b[5][1]++,Bi().s[19]++,q.jsx(wY,{...e,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return Bi().b[0][8]++,Bi().s[20]++,null}}render(){return Bi().f[4]++,Bi().s[21]++,q.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function uu(){var n="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",e="81a841bc0059d656029a86501c08aa823d58e2d6",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAAgD;AACvD,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81a841bc0059d656029a86501c08aa823d58e2d6"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return uu=function(){return s},s}uu();class $b extends Sn.Component{constructor(t){uu().f[0]++,uu().s[0]++;super(t);dn(this,"_labelId");dn(this,"onToggleDoc",(uu().s[3]++,t=>{uu().f[1]++,uu().s[4]++,this.setState({showDoc:t})}));uu().s[1]++,this._labelId=Uv("fieldset_label_"),uu().s[2]++,this.state={showDoc:!1}}render(){return uu().f[2]++,uu().s[5]++,q.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(uu().b[0][0]++,this.props.fieldSpec&&(uu().b[0][1]++,q.jsx("div",{className:"maputnik-input-block-label",children:q.jsx(Kk,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(uu().b[1][0]++,!this.props.fieldSpec&&(uu().b[1][1]++,q.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),q.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),q.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(uu().b[2][0]++,this.props.fieldSpec&&(uu().b[2][1]++,q.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(uu().b[3][0]++,""):(uu().b[3][1]++,"none")},children:q.jsx(Lk,{fieldSpec:this.props.fieldSpec})})))]})}}function Go(){var n="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",e="adadf49dc291f98804cd53f74e320ed51f276886",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Go=function(){return s},s}Go();const L8e=(Go().s[0]++,{color:()=>(Go().f[0]++,Go().s[1]++,oa),enum:({fieldSpec:n})=>(Go().f[1]++,Go().s[2]++,Object.keys(n.values).length<=3?(Go().b[0][0]++,$b):(Go().b[0][1]++,oa)),boolean:()=>(Go().f[2]++,Go().s[3]++,oa),array:()=>(Go().f[3]++,Go().s[4]++,$b),resolvedImage:()=>(Go().f[4]++,Go().s[5]++,oa),number:()=>(Go().f[5]++,Go().s[6]++,oa),string:()=>(Go().f[6]++,Go().s[7]++,oa),formatted:()=>(Go().f[7]++,Go().s[8]++,oa),padding:()=>(Go().f[8]++,Go().s[9]++,oa)});class D8e extends Sn.Component{render(){var i;Go().f[9]++;const e=(Go().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),t=(Go().s[11]++,L8e[e]);let r;return Go().s[12]++,t?(Go().b[1][0]++,Go().s[13]++,r=t(this.props)):(Go().b[1][1]++,Go().s[14]++,console.warn("No such type for '%s'",e),Go().s[15]++,r=oa),Go().s[16]++,q.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:q.jsx(gv,{...this.props})})}}function LA(){var n="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",e="e12cc9e5c91261e7ee42544334f5ab56bdde4e3a",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:11,column:4},end:{line:48,column:5}},2:{start:{line:12,column:6},end:{line:20,column:8}},3:{start:{line:21,column:6},end:{line:29,column:8}},4:{start:{line:30,column:6},end:{line:40,column:7}},5:{start:{line:31,column:8},end:{line:39,column:10}},6:{start:{line:41,column:6},end:{line:45,column:11}},7:{start:{line:47,column:6},end:{line:47,column:77}},8:{start:{line:51,column:29},end:{line:51,column:76}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:49,column:3}},line:8}},branchMap:{0:{loc:{start:{line:11,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:48,column:5}},{start:{line:46,column:11},end:{line:48,column:5}}],line:11},1:{loc:{start:{line:30,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AA2BY,cAsBC,YAtBD;AA3BZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AACjC,SAA0B,uBAAuB;AASjD,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uBAAuB;AAAA,UAEhC,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAO,EAAE,uCAAuC;AAAA,UAEhD,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAO,EAAE,mCAAmC;AAAA,YAE5C,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;AAEA,MAAM,uBAAuB,gBAAgB,EAAE,4BAA4B;AAC3E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e12cc9e5c91261e7ee42544334f5ab56bdde4e3a"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return LA=function(){return s},s}LA();class F8e extends Sn.Component{render(){LA().f[0]++;const e=(LA().s[0]++,this.props.t);let t,r,i;return LA().s[1]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(LA().b[0][0]++,LA().s[2]++,i=q.jsx(ds,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:e("Convert to expression"),children:q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Qb})})}),LA().s[3]++,t=q.jsx(ds,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:e("Convert property into a zoom function"),children:q.jsx(lie,{})}),LA().s[4]++,this.props.fieldSpec["property-type"]==="data-driven"?(LA().b[1][0]++,LA().s[5]++,r=q.jsx(ds,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:e("Convert property to data function"),children:q.jsx(uie,{})})):LA().b[1][1]++,LA().s[6]++,q.jsxs("div",{children:[i,r,t]})):(LA().b[0][1]++,LA().s[7]++,q.jsx("div",{children:i}))}}const R8e=(LA().s[8]++,zo()(F8e));function op(){var n="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",e="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return op=function(){return s},s}op();class SY extends Sn.Component{render(){op().f[0]++;const{errors:e,fieldName:t,fieldType:r}=(op().s[1]++,this.props),i=(op().s[2]++,q.jsx(R8e,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(op().s[3]++,e[r+"."+t]);return op().s[4]++,q.jsx(D8e,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:EM((op().b[0][0]++,this.props.fieldName||(op().b[0][1]++,""))),action:i})}}dn(SY,"defaultProps",(op().s[0]++,{errors:{}}));function Sc(){var n="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",e="e8906f642b33ab7d7a780fc0db870f7e4872d29c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Sc=function(){return s},s}Sc();function EY(n,e){Sc().f[0]++;const t=(Sc().s[0]++,+n),r=(Sc().s[1]++,+e);return Sc().s[2]++,t<r?(Sc().b[0][0]++,Sc().s[3]++,-1):(Sc().b[0][1]++,Sc().s[4]++,t>r?(Sc().b[1][0]++,Sc().s[5]++,1):(Sc().b[1][1]++,Sc().s[6]++,0))}function tf(){var n="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",e="2f98128f0f990b67a049c58486c1fab4310fbcfa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return tf=function(){return s},s}tf();function sd(n){if(tf().f[0]++,tf().s[0]++,Object.prototype.hasOwnProperty.call(n,"default"))return tf().b[0][0]++,tf().s[1]++,n.default;tf().b[0][1]++;const e=(tf().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return tf().s[3]++,tf().b[1][0]++,e[n.type]||(tf().b[1][1]++,"")}function yv(){var n="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",e="04a32613b456a577be3ef20dcd48d43233f27837",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:4},end:{line:17,column:6}},2:{start:{line:20,column:25},end:{line:20,column:68}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:18,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AACvB,SAA0B,uBAAuB;AAQjD,MAAM,iCAAiC,MAAM,UAAyC;AAAA,EACpF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO,EAAE,6BAA6B;AAAA,QAEtC,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;AAEA,MAAM,mBAAmB,gBAAgB,EAAE,wBAAwB;AACnE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"04a32613b456a577be3ef20dcd48d43233f27837"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return yv=function(){return s},s}yv();class U8e extends Sn.Component{render(){yv().f[0]++;const e=(yv().s[0]++,this.props.t);return yv().s[1]++,q.jsx(ds,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:e("Remove zoom level from stop"),children:q.jsx(Zv,{})})}}const OY=(yv().s[2]++,zo()(U8e));function $t(){var n="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",e="97b6de35ac4a8f739cf06eabc39facf249622fab",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:19,column:2},end:{line:28,column:3}},1:{start:{line:20,column:4},end:{line:27,column:7}},2:{start:{line:21,column:6},end:{line:26,column:7}},3:{start:{line:22,column:8},end:{line:24,column:9}},4:{start:{line:23,column:10},end:{line:23,column:33}},5:{start:{line:25,column:8},end:{line:25,column:39}},6:{start:{line:29,column:2},end:{line:29,column:17}},7:{start:{line:32,column:10},end:{line:34,column:3}},8:{start:{line:36,column:20},end:{line:36,column:55}},9:{start:{line:37,column:4},end:{line:41,column:5}},10:{start:{line:38,column:6},end:{line:40,column:9}},11:{start:{line:44,column:20},end:{line:44,column:45}},12:{start:{line:45,column:4},end:{line:49,column:5}},13:{start:{line:46,column:6},end:{line:48,column:8}},14:{start:{line:50,column:4},end:{line:50,column:16}},15:{start:{line:53,column:4},end:{line:55,column:5}},16:{start:{line:54,column:6},end:{line:54,column:27}},17:{start:{line:56,column:4},end:{line:58,column:5}},18:{start:{line:57,column:6},end:{line:57,column:24}},19:{start:{line:59,column:4},end:{line:59,column:25}},20:{start:{line:62,column:4},end:{line:66,column:5}},21:{start:{line:63,column:6},end:{line:63,column:83}},22:{start:{line:65,column:6},end:{line:65,column:53}},23:{start:{line:70,column:26},end:{line:75,column:70}},24:{start:{line:71,column:6},end:{line:74,column:8}},25:{start:{line:75,column:22},end:{line:75,column:69}},26:{start:{line:76,column:20},end:{line:76,column:22}},27:{start:{line:77,column:4},end:{line:79,column:7}},28:{start:{line:78,column:6},end:{line:78,column:30}},29:{start:{line:80,column:4},end:{line:82,column:7}},30:{start:{line:83,column:4},end:{line:83,column:50}},31:{start:{line:83,column:39},end:{line:83,column:48}},32:{start:{line:85,column:13},end:{line:105,column:3}},33:{start:{line:86,column:4},end:{line:103,column:5}},34:{start:{line:87,column:6},end:{line:90,column:8}},35:{start:{line:92,column:24},end:{line:92,column:61}},36:{start:{line:93,column:6},end:{line:102,column:8}},37:{start:{line:104,column:4},end:{line:104,column:42}},38:{start:{line:107,column:18},end:{line:107,column:56}},39:{start:{line:108,column:4},end:{line:114,column:6}},40:{start:{line:115,column:25},end:{line:115,column:53}},41:{start:{line:116,column:25},end:{line:119,column:5}},42:{start:{line:120,column:4},end:{line:120,column:54}},43:{start:{line:123,column:25},end:{line:126,column:5}},44:{start:{line:127,column:4},end:{line:129,column:5}},45:{start:{line:128,column:6},end:{line:128,column:34}},46:{start:{line:130,column:4},end:{line:130,column:60}},47:{start:{line:133,column:4},end:{line:140,column:5}},48:{start:{line:134,column:6},end:{line:134,column:42}},49:{start:{line:136,column:6},end:{line:139,column:9}},50:{start:{line:143,column:4},end:{line:147,column:5}},51:{start:{line:144,column:6},end:{line:144,column:43}},52:{start:{line:146,column:6},end:{line:146,column:40}},53:{start:{line:148,column:4},end:{line:148,column:58}},54:{start:{line:151,column:14},end:{line:151,column:26}},55:{start:{line:152,column:4},end:{line:154,column:5}},56:{start:{line:153,column:6},end:{line:153,column:78}},57:{start:{line:156,column:4},end:{line:204,column:5}},58:{start:{line:157,column:6},end:{line:203,column:9}},59:{start:{line:158,column:26},end:{line:158,column:77}},60:{start:{line:159,column:20},end:{line:159,column:40}},61:{start:{line:160,column:26},end:{line:160,column:79}},62:{start:{line:161,column:22},end:{line:161,column:29}},63:{start:{line:162,column:46},end:{line:162,column:122}},64:{start:{line:163,column:26},end:{line:168,column:9}},65:{start:{line:167,column:33},end:{line:167,column:97}},66:{start:{line:170,column:8},end:{line:174,column:9}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:10},end:{line:173,column:73}},69:{start:{line:175,column:24},end:{line:175,column:28}},70:{start:{line:176,column:8},end:{line:187,column:9}},71:{start:{line:177,column:10},end:{line:186,column:15}},72:{start:{line:182,column:37},end:{line:182,column:101}},73:{start:{line:188,column:8},end:{line:202,column:18}},74:{start:{line:198,column:41},end:{line:198,column:110}},75:{start:{line:205,column:4},end:{line:307,column:12}},76:{start:{line:216,column:39},end:{line:216,column:67}},77:{start:{line:234,column:43},end:{line:234,column:68}},78:{start:{line:249,column:39},end:{line:249,column:83}},79:{start:{line:265,column:42},end:{line:265,column:85}},80:{start:{line:310,column:21},end:{line:310,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:17,column:9},end:{line:17,column:20}},loc:{start:{line:17,column:35},end:{line:30,column:1}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:30},end:{line:20,column:31}},loc:{start:{line:20,column:45},end:{line:27,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:22},end:{line:42,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:48},end:{line:51,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:34},end:{line:60,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:34},end:{line:67,column:3}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:69,column:2},end:{line:69,column:3}},loc:{start:{line:69,column:26},end:{line:84,column:3}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:51},end:{line:75,column:5}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:75,column:12},end:{line:75,column:13}},loc:{start:{line:75,column:22},end:{line:75,column:69}},line:75},9:{name:"(anonymous_9)",decl:{start:{line:77,column:26},end:{line:77,column:27}},loc:{start:{line:77,column:41},end:{line:79,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:83,column:29},end:{line:83,column:30}},loc:{start:{line:83,column:39},end:{line:83,column:48}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:85,column:13},end:{line:85,column:14}},loc:{start:{line:85,column:35},end:{line:105,column:3}},line:85},12:{name:"(anonymous_12)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:41},end:{line:121,column:3}},line:106},13:{name:"(anonymous_13)",decl:{start:{line:122,column:2},end:{line:122,column:3}},loc:{start:{line:122,column:23},end:{line:131,column:3}},line:122},14:{name:"(anonymous_14)",decl:{start:{line:132,column:2},end:{line:132,column:3}},loc:{start:{line:132,column:26},end:{line:141,column:3}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:40},end:{line:149,column:3}},line:142},16:{name:"(anonymous_16)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:308,column:3}},line:150},17:{name:"(anonymous_17)",decl:{start:{line:157,column:46},end:{line:157,column:47}},loc:{start:{line:157,column:61},end:{line:203,column:7}},line:157},18:{name:"(anonymous_18)",decl:{start:{line:167,column:20},end:{line:167,column:21}},loc:{start:{line:167,column:33},end:{line:167,column:97}},line:167},19:{name:"(anonymous_19)",decl:{start:{line:182,column:24},end:{line:182,column:25}},loc:{start:{line:182,column:37},end:{line:182,column:101}},line:182},20:{name:"(anonymous_20)",decl:{start:{line:198,column:24},end:{line:198,column:25}},loc:{start:{line:198,column:41},end:{line:198,column:110}},line:198},21:{name:"(anonymous_21)",decl:{start:{line:216,column:26},end:{line:216,column:27}},loc:{start:{line:216,column:39},end:{line:216,column:67}},line:216},22:{name:"(anonymous_22)",decl:{start:{line:234,column:26},end:{line:234,column:27}},loc:{start:{line:234,column:43},end:{line:234,column:68}},line:234},23:{name:"(anonymous_23)",decl:{start:{line:249,column:26},end:{line:249,column:27}},loc:{start:{line:249,column:39},end:{line:249,column:83}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:265,column:26},end:{line:265,column:27}},loc:{start:{line:265,column:42},end:{line:265,column:85}},line:265}},branchMap:{0:{loc:{start:{line:19,column:2},end:{line:28,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:28,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:6},end:{line:19,column:38}},type:"binary-expr",locations:[{start:{line:19,column:6},end:{line:19,column:17}},{start:{line:19,column:21},end:{line:19,column:38}}],line:19},2:{loc:{start:{line:21,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:21,column:6},end:{line:26,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},3:{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:37,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},5:{loc:{start:{line:45,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:49,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},6:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},7:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},8:{loc:{start:{line:62,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:66,column:5}},{start:{line:64,column:11},end:{line:66,column:5}}],line:62},9:{loc:{start:{line:86,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:103,column:5}},{start:{line:91,column:11},end:{line:103,column:5}}],line:86},10:{loc:{start:{line:92,column:24},end:{line:92,column:61}},type:"cond-expr",locations:[{start:{line:92,column:55},end:{line:92,column:57}},{start:{line:92,column:60},end:{line:92,column:61}}],line:92},11:{loc:{start:{line:107,column:18},end:{line:107,column:56}},type:"binary-expr",locations:[{start:{line:107,column:18},end:{line:107,column:50}},{start:{line:107,column:54},end:{line:107,column:56}}],line:107},12:{loc:{start:{line:111,column:14},end:{line:111,column:58}},type:"cond-expr",locations:[{start:{line:111,column:41},end:{line:111,column:42}},{start:{line:111,column:45},end:{line:111,column:58}}],line:111},13:{loc:{start:{line:127,column:4},end:{line:129,column:5}},type:"if",locations:[{start:{line:127,column:4},end:{line:129,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:127},14:{loc:{start:{line:133,column:4},end:{line:140,column:5}},type:"if",locations:[{start:{line:133,column:4},end:{line:140,column:5}},{start:{line:135,column:11},end:{line:140,column:5}}],line:133},15:{loc:{start:{line:133,column:8},end:{line:133,column:70}},type:"binary-expr",locations:[{start:{line:133,column:8},end:{line:133,column:33}},{start:{line:133,column:37},end:{line:133,column:70}}],line:133},16:{loc:{start:{line:143,column:4},end:{line:147,column:5}},type:"if",locations:[{start:{line:143,column:4},end:{line:147,column:5}},{start:{line:145,column:11},end:{line:147,column:5}}],line:143},17:{loc:{start:{line:152,column:4},end:{line:154,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:154,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152},18:{loc:{start:{line:156,column:4},end:{line:204,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:204,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:156},19:{loc:{start:{line:158,column:26},end:{line:158,column:77}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:68}},{start:{line:158,column:71},end:{line:158,column:77}}],line:158},20:{loc:{start:{line:160,column:26},end:{line:160,column:79}},type:"cond-expr",locations:[{start:{line:160,column:56},end:{line:160,column:69}},{start:{line:160,column:72},end:{line:160,column:79}}],line:160},21:{loc:{start:{line:170,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:174,column:9}},{start:{line:172,column:15},end:{line:174,column:9}}],line:170},22:{loc:{start:{line:176,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:176,column:8},end:{line:187,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:176},23:{loc:{start:{line:224,column:8},end:{line:239,column:9}},type:"binary-expr",locations:[{start:{line:224,column:8},end:{line:224,column:45}},{start:{line:224,column:65},end:{line:239,column:9}}],line:224},24:{loc:{start:{line:255,column:8},end:{line:270,column:9}},type:"binary-expr",locations:[{start:{line:255,column:8},end:{line:255,column:18}},{start:{line:255,column:38},end:{line:270,column:9}}],line:255},25:{loc:{start:{line:271,column:8},end:{line:279,column:15}},type:"binary-expr",locations:[{start:{line:271,column:8},end:{line:271,column:18}},{start:{line:271,column:38},end:{line:279,column:15}}],line:271},26:{loc:{start:{line:281,column:10},end:{line:292,column:11}},type:"binary-expr",locations:[{start:{line:281,column:10},end:{line:281,column:20}},{start:{line:281,column:40},end:{line:292,column:11}}],line:281}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAqO8B,cA8Bf,YA9Be;AArO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAClC,SAA0B,uBAAuB;AAEjD,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc,EAAE,aAAa;AAAA,UAC7B,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,EAAE,cAAc;AAAA,cAC5B,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAGnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAGf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO,EAAE,8CAA8C;AAAA,gBACvD,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,SAAS;AAAA,YAGlB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAI,YAAE,aAAa,GAAE;AAAA,YACtB,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA,gBAAE,EAAE,UAAU;AAAA;AAAA;AAAA,UACtB;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA,gBAAE,EAAE,uBAAuB;AAAA;AAAA;AAAA,UACnC;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97b6de35ac4a8f739cf06eabc39facf249622fab"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $t=function(){return s},s}$t();function sF(n,e){$t().f[0]++;let t;return $t().s[0]++,$t().b[1][0]++,n.value&&($t().b[1][1]++,n.value.stops)?($t().b[0][0]++,$t().s[1]++,n.value.stops.forEach((r,i)=>{$t().f[1]++,$t().s[2]++,Object.prototype.hasOwnProperty.call(e.refs,i)?$t().b[2][1]++:($t().b[2][0]++,$t().s[3]++,t?$t().b[3][1]++:($t().b[3][0]++,$t().s[4]++,t={...e}),$t().s[5]++,t[i]=Uv("stop-"))})):$t().b[0][1]++,$t().s[6]++,t}class z8e extends Sn.Component{constructor(){super(...arguments);dn(this,"state",($t().s[7]++,{refs:{}}));dn(this,"onChange",($t().s[32]++,(t,r)=>{if($t().f[11]++,$t().s[33]++,r.type==="identity")$t().b[9][0]++,$t().s[34]++,r={type:r.type,property:r.property};else{$t().b[9][1]++;const i=($t().s[35]++,r.type==="categorical"?($t().b[10][0]++,""):($t().b[10][1]++,0));$t().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},sd(this.props.fieldSpec)],[{zoom:10,value:i},sd(this.props.fieldSpec)]],...r}}$t().s[37]++,this.props.onChange(t,r)}))}componentDidMount(){$t().f[2]++;const t=($t().s[8]++,sF(this.props,this.state));$t().s[9]++,t?($t().b[4][0]++,$t().s[10]++,this.setState({refs:t})):$t().b[4][1]++}static getDerivedStateFromProps(t,r){$t().f[3]++;const i=($t().s[11]++,sF(t,r));return $t().s[12]++,i?($t().b[5][0]++,$t().s[13]++,{refs:i}):($t().b[5][1]++,$t().s[14]++,null)}getFieldFunctionType(t){return $t().f[4]++,$t().s[15]++,t.expression.interpolated?($t().b[6][0]++,$t().s[16]++,"exponential"):($t().b[6][1]++,$t().s[17]++,t.type==="number"?($t().b[7][0]++,$t().s[18]++,"interval"):($t().b[7][1]++,$t().s[19]++,"categorical"))}getDataFunctionTypes(t){return $t().f[5]++,$t().s[20]++,t.expression.interpolated?($t().b[8][0]++,$t().s[21]++,["interpolate","categorical","interval","exponential","identity"]):($t().b[8][1]++,$t().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(t){$t().f[6]++;const r=($t().s[23]++,t.map((o,s)=>($t().f[7]++,$t().s[24]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>($t().f[8]++,$t().s[25]++,EY(o.data[0].zoom,s.data[0].zoom)))),i=($t().s[26]++,{});return $t().s[27]++,r.forEach((o,s)=>{$t().f[9]++,$t().s[28]++,i[s]=o.ref}),$t().s[29]++,this.setState({refs:i}),$t().s[30]++,r.map(o=>($t().f[10]++,$t().s[31]++,o.data))}changeStop(t,r,i){var f;$t().f[12]++;const o=($t().s[38]++,$t().b[11][0]++,((f=this.props.value)==null?void 0:f.stops.slice(0))||($t().b[11][1]++,[]));$t().s[39]++,o[t]=[{value:r.value,zoom:r.zoom===void 0?($t().b[12][0]++,0):($t().b[12][1]++,r.zoom)},i];const s=($t().s[40]++,this.orderStopsByZoom(o)),a=($t().s[41]++,{...this.props.value,stops:s});$t().s[42]++,this.onChange(this.props.fieldName,a)}changeBase(t){$t().f[13]++;const r=($t().s[43]++,{...this.props.value,base:t});$t().s[44]++,r.base===void 0?($t().b[13][0]++,$t().s[45]++,delete r.base):$t().b[13][1]++,$t().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(t){$t().f[14]++,$t().s[47]++,$t().b[15][0]++,t==="interpolate"&&($t().b[15][1]++,this.props.onChangeToZoomFunction)?($t().b[14][0]++,$t().s[48]++,this.props.onChangeToZoomFunction()):($t().b[14][1]++,$t().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:t}))}changeDataProperty(t,r){$t().f[15]++,$t().s[50]++,r?($t().b[16][0]++,$t().s[51]++,this.props.value[t]=r):($t().b[16][1]++,$t().s[52]++,delete this.props.value[t]),$t().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var i,o,s,a,f,m,C,B;$t().f[16]++;const t=($t().s[54]++,this.props.t);$t().s[55]++,typeof((i=this.props.value)==null?void 0:i.type)>"u"?($t().b[17][0]++,$t().s[56]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):$t().b[17][1]++;let r;return $t().s[57]++,(o=this.props.value)!=null&&o.stops?($t().b[18][0]++,$t().s[58]++,r=this.props.value.stops.map((I,K)=>{var fe,H;$t().f[17]++;const L=($t().s[59]++,typeof I[0]=="object"?($t().b[19][0]++,I[0].zoom):($t().b[19][1]++,void 0)),Y=($t().s[60]++,this.state.refs[K]),ee=($t().s[61]++,typeof I[0]=="object"?($t().b[20][0]++,I[0].value):($t().b[20][1]++,I[0])),V=($t().s[62]++,I[1]),W=($t().s[63]++,q.jsx(OY,{onClick:(fe=this.props.onDeleteStop)==null?void 0:fe.bind(this,K)})),ne=($t().s[64]++,{"aria-label":t("Input value"),label:t("Data value"),value:ee,onChange:X=>($t().f[18]++,$t().s[65]++,this.changeStop(K,{zoom:L,value:X},V))});let ce;$t().s[66]++,((H=this.props.value)==null?void 0:H.type)==="categorical"?($t().b[21][0]++,$t().s[67]++,ce=q.jsx(xd,{...ne})):($t().b[21][1]++,$t().s[68]++,ce=q.jsx(Op,{...ne}));let ge=($t().s[69]++,null);return $t().s[70]++,L!==void 0?($t().b[22][0]++,$t().s[71]++,ge=q.jsx("div",{children:q.jsx(Op,{"aria-label":"Zoom",value:L,onChange:X=>($t().f[19]++,$t().s[72]++,this.changeStop(K,{zoom:X,value:ee},V)),min:0,max:22})})):$t().b[22][1]++,$t().s[73]++,q.jsxs("tr",{children:[q.jsx("td",{children:ge}),q.jsx("td",{children:ce}),q.jsx("td",{children:q.jsx(gv,{"aria-label":t("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:V,onChange:(X,Me)=>($t().f[20]++,$t().s[74]++,this.changeStop(K,{zoom:L,value:ee},Me))})}),q.jsx("td",{children:W})]},Y)})):$t().b[18][1]++,$t().s[75]++,q.jsx("div",{className:"maputnik-data-spec-block",children:q.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[q.jsx("legend",{children:EM(this.props.fieldName)}),q.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[q.jsx(oa,{label:t("Function"),children:q.jsx("div",{className:"maputnik-data-spec-property-input",children:q.jsx(x1,{value:this.props.value.type,onChange:I=>($t().f[21]++,$t().s[76]++,this.changeDataType(I)),title:t("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),($t().b[23][0]++,((s=this.props.value)==null?void 0:s.type)!=="identity"&&($t().b[23][1]++,q.jsx(oa,{label:t("Base"),children:q.jsx("div",{className:"maputnik-data-spec-property-input",children:q.jsx(gv,{fieldName:"base",fieldSpec:zi.function.base,value:(a=this.props.value)==null?void 0:a.base,onChange:(I,K)=>($t().f[22]++,$t().s[77]++,this.changeBase(K))})})},"base"))),q.jsx(oa,{label:"Property",children:q.jsx("div",{className:"maputnik-data-spec-property-input",children:q.jsx(xd,{value:(f=this.props.value)==null?void 0:f.property,title:t("Input a data property to base styles off of."),onChange:I=>($t().f[23]++,$t().s[78]++,this.changeDataProperty("property",I))})})},"property"),($t().b[24][0]++,r&&($t().b[24][1]++,q.jsx(oa,{label:t("Default"),children:q.jsx(gv,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(m=this.props.value)==null?void 0:m.default,onChange:(I,K)=>($t().f[24]++,$t().s[79]++,this.changeDataProperty("default",K))})},"default"))),($t().b[25][0]++,r&&($t().b[25][1]++,q.jsx("div",{className:"maputnik-function-stop",children:q.jsxs("table",{className:"maputnik-function-stop-table",children:[q.jsx("caption",{children:t("Stops")}),q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:t("Zoom")}),q.jsx("th",{children:t("Input value")}),q.jsx("th",{rowSpan:2,children:t("Output value")})]})}),q.jsx("tbody",{children:r})]})}))),q.jsxs("div",{className:"maputnik-toolbox",children:[($t().b[26][0]++,r&&($t().b[26][1]++,q.jsxs(ds,{className:"maputnik-add-stop",onClick:(C=this.props.onAddStop)==null?void 0:C.bind(this),children:[q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Gk})})," ",t("Add stop")]}))),q.jsxs(ds,{className:"maputnik-add-stop",onClick:(B=this.props.onExpressionClick)==null?void 0:B.bind(this),children:[q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Qb})})," ",t("Convert to expression")]})]})]})]})})}}const j8e=($t().s[80]++,zo()(z8e));function Nn(){var n="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",e="6a4c93b52ca21ec4b555a0d2906ee27fc49f34f8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:16,column:16},end:{line:16,column:18}},1:{start:{line:17,column:2},end:{line:28,column:3}},2:{start:{line:18,column:4},end:{line:27,column:7}},3:{start:{line:19,column:6},end:{line:26,column:7}},4:{start:{line:20,column:8},end:{line:22,column:9}},5:{start:{line:21,column:10},end:{line:21,column:33}},6:{start:{line:23,column:8},end:{line:23,column:39}},7:{start:{line:25,column:8},end:{line:25,column:39}},8:{start:{line:29,column:2},end:{line:29,column:17}},9:{start:{line:32,column:24},end:{line:34,column:3}},10:{start:{line:35,column:10},end:{line:37,column:3}},11:{start:{line:39,column:20},end:{line:39,column:55}},12:{start:{line:40,column:4},end:{line:44,column:5}},13:{start:{line:41,column:6},end:{line:43,column:9}},14:{start:{line:47,column:20},end:{line:47,column:45}},15:{start:{line:48,column:4},end:{line:52,column:5}},16:{start:{line:49,column:6},end:{line:51,column:8}},17:{start:{line:53,column:4},end:{line:53,column:16}},18:{start:{line:57,column:26},end:{line:62,column:60}},19:{start:{line:58,column:6},end:{line:61,column:8}},20:{start:{line:62,column:22},end:{line:62,column:59}},21:{start:{line:63,column:20},end:{line:63,column:22}},22:{start:{line:64,column:4},end:{line:66,column:7}},23:{start:{line:65,column:6},end:{line:65,column:30}},24:{start:{line:67,column:4},end:{line:69,column:7}},25:{start:{line:70,column:4},end:{line:70,column:50}},26:{start:{line:70,column:39},end:{line:70,column:48}},27:{start:{line:73,column:18},end:{line:73,column:49}},28:{start:{line:74,column:4},end:{line:74,column:41}},29:{start:{line:75,column:25},end:{line:75,column:53}},30:{start:{line:76,column:25},end:{line:79,column:5}},31:{start:{line:80,column:4},end:{line:80,column:60}},32:{start:{line:83,column:25},end:{line:86,column:5}},33:{start:{line:87,column:4},end:{line:89,column:5}},34:{start:{line:88,column:6},end:{line:88,column:34}},35:{start:{line:90,column:4},end:{line:90,column:60}},36:{start:{line:92,column:19},end:{line:96,column:3}},37:{start:{line:93,column:4},end:{line:95,column:5}},38:{start:{line:94,column:6},end:{line:94,column:46}},39:{start:{line:98,column:14},end:{line:98,column:26}},40:{start:{line:99,column:23},end:{line:132,column:6}},41:{start:{line:100,column:24},end:{line:100,column:31}},42:{start:{line:101,column:20},end:{line:101,column:27}},43:{start:{line:102,column:44},end:{line:102,column:120}},44:{start:{line:103,column:6},end:{line:131,column:8}},45:{start:{line:112,column:43},end:{line:112,column:87}},46:{start:{line:124,column:43},end:{line:124,column:88}},47:{start:{line:133,column:4},end:{line:201,column:12}},48:{start:{line:144,column:39},end:{line:144,column:67}},49:{start:{line:161,column:43},end:{line:161,column:68}},50:{start:{line:204,column:4},end:{line:208,column:5}},51:{start:{line:205,column:6},end:{line:205,column:83}},52:{start:{line:207,column:6},end:{line:207,column:29}},53:{start:{line:211,column:21},end:{line:211,column:60}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:35},end:{line:30,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:18,column:30},end:{line:18,column:31}},loc:{start:{line:18,column:45},end:{line:27,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:22},end:{line:45,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:48},end:{line:54,column:3}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:26},end:{line:71,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:57,column:36},end:{line:57,column:37}},loc:{start:{line:57,column:51},end:{line:62,column:5}},line:57},6:{name:"(anonymous_6)",decl:{start:{line:62,column:12},end:{line:62,column:13}},loc:{start:{line:62,column:22},end:{line:62,column:59}},line:62},7:{name:"(anonymous_7)",decl:{start:{line:64,column:26},end:{line:64,column:27}},loc:{start:{line:64,column:41},end:{line:66,column:5}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:70,column:29},end:{line:70,column:30}},loc:{start:{line:70,column:39},end:{line:70,column:48}},line:70},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:45},end:{line:81,column:3}},line:72},10:{name:"(anonymous_10)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:23},end:{line:91,column:3}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:92,column:19},end:{line:92,column:20}},loc:{start:{line:92,column:29},end:{line:96,column:3}},line:92},12:{name:"(anonymous_12)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:11},end:{line:202,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:99,column:51},end:{line:99,column:52}},loc:{start:{line:99,column:66},end:{line:132,column:5}},line:99},14:{name:"(anonymous_14)",decl:{start:{line:112,column:26},end:{line:112,column:27}},loc:{start:{line:112,column:43},end:{line:112,column:87}},line:112},15:{name:"(anonymous_15)",decl:{start:{line:124,column:26},end:{line:124,column:27}},loc:{start:{line:124,column:43},end:{line:124,column:88}},line:124},16:{name:"(anonymous_16)",decl:{start:{line:144,column:26},end:{line:144,column:27}},loc:{start:{line:144,column:39},end:{line:144,column:67}},line:144},17:{name:"(anonymous_17)",decl:{start:{line:161,column:26},end:{line:161,column:27}},loc:{start:{line:161,column:43},end:{line:161,column:68}},line:161},18:{name:"(anonymous_18)",decl:{start:{line:203,column:2},end:{line:203,column:3}},loc:{start:{line:203,column:34},end:{line:209,column:3}},line:203}},branchMap:{0:{loc:{start:{line:17,column:2},end:{line:28,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:28,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:17,column:6},end:{line:17,column:38}},type:"binary-expr",locations:[{start:{line:17,column:6},end:{line:17,column:17}},{start:{line:17,column:21},end:{line:17,column:38}}],line:17},2:{loc:{start:{line:19,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:26,column:7}},{start:{line:24,column:13},end:{line:26,column:7}}],line:19},3:{loc:{start:{line:20,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:22,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},4:{loc:{start:{line:40,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:44,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},5:{loc:{start:{line:48,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},6:{loc:{start:{line:87,column:4},end:{line:89,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:89,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87},7:{loc:{start:{line:93,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},8:{loc:{start:{line:93,column:8},end:{line:93,column:67}},type:"binary-expr",locations:[{start:{line:93,column:8},end:{line:93,column:30}},{start:{line:93,column:34},end:{line:93,column:67}}],line:93},9:{loc:{start:{line:204,column:4},end:{line:208,column:5}},type:"if",locations:[{start:{line:204,column:4},end:{line:208,column:5}},{start:{line:206,column:11},end:{line:208,column:5}}],line:204}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA+J4B,cACf,YADe;AA/J5B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AACnB,SAA0B,uBAAuB;AAEjD,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAAkC,OAA0B;AAE/E,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,MAAM,6BAA6B,MAAM,UAAwD;AAAA,EAC/F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA4C,OAA0B;AACpG,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC3F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,MAAM;AAAA,gBACpB,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAY,EAAE,cAAc;AAAA,gBAC5B,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK,GAAG,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;AAAA,MAuB5B;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YAEnB,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO,EAAE,yDAAyD;AAAA,gBAClE,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,MAAM;AAAA,YAEf,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAS,YAAE,OAAO,GAAE;AAAA,UACrB,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAI,YAAE,MAAM,GAAE;AAAA,YACf,oBAAC,QAAG,SAAS,GAAI,YAAE,cAAc,GAAE;AAAA,aACrC,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA,gBAAE,EAAE,UAAU;AAAA;AAAA;AAAA,UACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA,gBAAE,EAAE,uBAAuB;AAAA;AAAA;AAAA,UACnC;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a4c93b52ca21ec4b555a0d2906ee27fc49f34f8"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Nn=function(){return s},s}Nn();function lF(n,e){Nn().f[0]++;let t=(Nn().s[0]++,{});return Nn().s[1]++,Nn().b[1][0]++,n.value&&(Nn().b[1][1]++,n.value.stops)?(Nn().b[0][0]++,Nn().s[2]++,n.value.stops.forEach((r,i)=>{Nn().f[1]++,Nn().s[3]++,Object.prototype.hasOwnProperty.call(!e.refs,i)?(Nn().b[2][0]++,Nn().s[4]++,t?Nn().b[3][1]++:(Nn().b[3][0]++,Nn().s[5]++,t={...e}),Nn().s[6]++,t[i]=Uv("stop-")):(Nn().b[2][1]++,Nn().s[7]++,t[i]=e.refs[i])})):Nn().b[0][1]++,Nn().s[8]++,t}class BY extends Sn.Component{constructor(){super(...arguments);dn(this,"state",(Nn().s[10]++,{refs:{}}));dn(this,"changeDataType",(Nn().s[36]++,t=>{Nn().f[11]++,Nn().s[37]++,Nn().b[8][0]++,t!=="interpolate"&&(Nn().b[8][1]++,this.props.onChangeToDataFunction)?(Nn().b[7][0]++,Nn().s[38]++,this.props.onChangeToDataFunction(t)):Nn().b[7][1]++}))}componentDidMount(){Nn().f[2]++;const t=(Nn().s[11]++,lF(this.props,this.state));Nn().s[12]++,t?(Nn().b[4][0]++,Nn().s[13]++,this.setState({refs:t})):Nn().b[4][1]++}static getDerivedStateFromProps(t,r){Nn().f[3]++;const i=(Nn().s[14]++,lF(t,r));return Nn().s[15]++,i?(Nn().b[5][0]++,Nn().s[16]++,{refs:i}):(Nn().b[5][1]++,Nn().s[17]++,null)}orderStopsByZoom(t){Nn().f[4]++;const r=(Nn().s[18]++,t.map((o,s)=>(Nn().f[5]++,Nn().s[19]++,{ref:this.state.refs[s],data:o})).sort((o,s)=>(Nn().f[6]++,Nn().s[20]++,EY(o.data[0],s.data[0])))),i=(Nn().s[21]++,{});return Nn().s[22]++,r.forEach((o,s)=>{Nn().f[7]++,Nn().s[23]++,i[s]=o.ref}),Nn().s[24]++,this.setState({refs:i}),Nn().s[25]++,r.map(o=>(Nn().f[8]++,Nn().s[26]++,o.data))}changeZoomStop(t,r,i){Nn().f[9]++;const o=(Nn().s[27]++,this.props.value.stops.slice(0));Nn().s[28]++,o[t]=[r,i];const s=(Nn().s[29]++,this.orderStopsByZoom(o)),a=(Nn().s[30]++,{...this.props.value,stops:s});Nn().s[31]++,this.props.onChange(this.props.fieldName,a)}changeBase(t){Nn().f[10]++;const r=(Nn().s[32]++,{...this.props.value,base:t});Nn().s[33]++,r.base===void 0?(Nn().b[6][0]++,Nn().s[34]++,delete r.base):Nn().b[6][1]++,Nn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var i,o,s,a;Nn().f[12]++;const t=(Nn().s[39]++,this.props.t),r=(Nn().s[40]++,(i=this.props.value)==null?void 0:i.stops.map((f,m)=>{var K;Nn().f[13]++;const C=(Nn().s[41]++,f[0]),B=(Nn().s[42]++,f[1]),I=(Nn().s[43]++,q.jsx(OY,{onClick:(K=this.props.onDeleteStop)==null?void 0:K.bind(this,m)}));return Nn().s[44]++,q.jsxs("tr",{children:[q.jsx("td",{children:q.jsx(Op,{"aria-label":t("Zoom"),value:C,onChange:L=>(Nn().f[14]++,Nn().s[45]++,this.changeZoomStop(m,L,B)),min:0,max:22})}),q.jsx("td",{children:q.jsx(gv,{"aria-label":t("Output value"),fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:B,onChange:(L,Y)=>(Nn().f[15]++,Nn().s[46]++,this.changeZoomStop(m,C,Y))})}),q.jsx("td",{children:I})]},`${f[0]}-${f[1]}`)}));return Nn().s[47]++,q.jsx("div",{className:"maputnik-data-spec-block",children:q.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[q.jsx("legend",{children:EM(this.props.fieldName)}),q.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[q.jsx(oa,{label:t("Function"),children:q.jsx("div",{className:"maputnik-data-spec-property-input",children:q.jsx(x1,{value:"interpolate",onChange:f=>(Nn().f[16]++,Nn().s[48]++,this.changeDataType(f)),title:t("Select a type of data scale (default is 'categorical')."),options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),q.jsx(oa,{label:t("Base"),children:q.jsx("div",{className:"maputnik-data-spec-property-input",children:q.jsx(gv,{fieldName:"base",fieldSpec:zi.function.base,value:(o=this.props.value)==null?void 0:o.base,onChange:(f,m)=>(Nn().f[17]++,Nn().s[49]++,this.changeBase(m))})})}),q.jsx("div",{className:"maputnik-function-stop",children:q.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[q.jsx("caption",{children:t("Stops")}),q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:t("Zoom")}),q.jsx("th",{rowSpan:2,children:t("Output value")})]})}),q.jsx("tbody",{children:r})]})}),q.jsxs("div",{className:"maputnik-toolbox",children:[q.jsxs(ds,{className:"maputnik-add-stop",onClick:(s=this.props.onAddStop)==null?void 0:s.bind(this),children:[q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Gk})})," ",t("Add stop")]}),q.jsxs(ds,{className:"maputnik-add-stop",onClick:(a=this.props.onExpressionClick)==null?void 0:a.bind(this),children:[q.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:q.jsx("path",{fill:"currentColor",d:Qb})})," ",t("Convert to expression")]})]})]})]})})}getDataFunctionTypes(t){return Nn().f[18]++,Nn().s[50]++,t["property-type"]==="data-driven"?(Nn().b[9][0]++,Nn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(Nn().b[9][1]++,Nn().s[52]++,["interpolate"])}}dn(BY,"defaultProps",(Nn().s[9]++,{errors:{}}));const N8e=(Nn().s[53]++,zo()(BY));function wt(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",e="36be9049018d9eb4ab6b3a8eeeb8db87a4e7a5ee",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAqC,OAA2B;AAE9F,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"36be9049018d9eb4ab6b3a8eeeb8db87a4e7a5ee"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return wt=function(){return s},s}wt();function uF(n){return wt().f[0]++,wt().s[0]++,wt().b[0][0]++,Array.isArray(n)&&(wt().b[0][1]++,n.length===2)&&(wt().b[0][2]++,n[0]==="literal")}function AF(n){return wt().f[1]++,wt().s[1]++,wt().b[1][0]++,Array.isArray(n)&&(wt().b[1][1]++,n.length===2)&&(wt().b[1][2]++,n[0]==="get")}function W8e(n){return wt().f[2]++,wt().s[2]++,wt().b[2][0]++,typeof n=="object"&&(wt().b[2][1]++,n.stops)&&(wt().b[2][2]++,typeof n.property>"u")&&(wt().b[2][3]++,Array.isArray(n.stops))&&(wt().b[2][4]++,n.stops.length>1)&&(wt().b[2][5]++,n.stops.every(e=>(wt().f[3]++,wt().s[3]++,wt().b[3][0]++,Array.isArray(e)&&(wt().b[3][1]++,e.length===2))))}function IY(n){return wt().f[4]++,wt().s[4]++,wt().b[4][0]++,typeof n=="object"&&(wt().b[4][1]++,n.type==="identity")&&(wt().b[4][2]++,Object.prototype.hasOwnProperty.call(n,"property"))}function G8e(n){return wt().f[5]++,wt().s[5]++,wt().b[5][0]++,typeof n=="object"&&(wt().b[5][1]++,n.stops)&&(wt().b[5][2]++,typeof n.property<"u")&&(wt().b[5][3]++,n.stops.length>1)&&(wt().b[5][4]++,Array.isArray(n.stops))&&(wt().b[5][5]++,n.stops.every(e=>(wt().f[6]++,wt().s[6]++,wt().b[6][0]++,Array.isArray(e)&&(wt().b[6][1]++,e.length===2)&&(wt().b[6][2]++,typeof e[0]=="object"))))}function Q8e(n){return wt().f[7]++,wt().s[7]++,wt().b[7][0]++,IY(n)||(wt().b[7][1]++,G8e(n))}function MT(n){wt().f[8]++;const e=(wt().s[8]++,["string","boolean","number"]);return wt().s[9]++,e.includes(typeof n)}function $8e(n){return wt().f[9]++,wt().s[10]++,Array.isArray(n)?(wt().b[8][0]++,wt().s[11]++,n.every(MT)):(wt().b[8][1]++,wt().s[12]++,!1)}function cF(n,e=(wt().b[9][0]++,{})){return wt().f[10]++,wt().s[13]++,n===void 0?(wt().b[10][0]++,wt().s[14]++,"value"):(wt().b[10][1]++,wt().s[15]++,MT(n)?(wt().b[11][0]++,wt().s[16]++,"value"):(wt().b[11][1]++,wt().s[17]++,wt().b[13][0]++,e.type==="array"&&(wt().b[13][1]++,$8e(n))?(wt().b[12][0]++,wt().s[18]++,"value"):(wt().b[12][1]++,wt().s[19]++,W8e(n)?(wt().b[14][0]++,wt().s[20]++,"zoom_function"):(wt().b[14][1]++,wt().s[21]++,Q8e(n)?(wt().b[15][0]++,wt().s[22]++,"data_function"):(wt().b[15][1]++,wt().s[23]++,"expression")))))}class Y8e extends Sn.Component{constructor(t){wt().f[11]++,wt().s[24]++;super(t);dn(this,"addStop",(wt().s[34]++,()=>{wt().f[14]++;const t=(wt().s[35]++,this.props.value.stops.slice(0)),r=(wt().s[36]++,t[t.length-1]);wt().s[37]++,typeof r[0]=="object"?(wt().b[19][0]++,wt().s[38]++,t.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(wt().b[19][1]++,wt().s[39]++,t.push([r[0]+1,r[1]]));const i=(wt().s[40]++,{...this.props.value,stops:t});wt().s[41]++,this.props.onChange(this.props.fieldName,i)}));dn(this,"deleteExpression",(wt().s[42]++,()=>{wt().f[15]++;const{fieldSpec:t,fieldName:r}=(wt().s[43]++,this.props);wt().s[44]++,this.props.onChange(r,t.default),wt().s[45]++,this.setState({dataType:"value"})}));dn(this,"deleteStop",(wt().s[46]++,t=>{wt().f[16]++;const r=(wt().s[47]++,this.props.value.stops.slice(0));wt().s[48]++,r.splice(t,1);let i=(wt().s[49]++,{...this.props.value,stops:r});wt().s[50]++,r.length===1?(wt().b[20][0]++,wt().s[51]++,i=r[0][1]):wt().b[20][1]++,wt().s[52]++,this.props.onChange(this.props.fieldName,i)}));dn(this,"makeZoomFunction",(wt().s[53]++,()=>{wt().f[17]++;const{value:t}=(wt().s[54]++,this.props);let r;wt().s[55]++,typeof t=="object"?(wt().b[21][0]++,wt().s[56]++,t.stops?(wt().b[22][0]++,wt().s[57]++,r={base:t.base,stops:t.stops.map(i=>(wt().f[18]++,wt().s[58]++,[i[0].zoom,(wt().b[23][0]++,i[1]||(wt().b[23][1]++,sd(this.props.fieldSpec)))]))}):(wt().b[22][1]++,wt().s[59]++,r={base:t.base,stops:[[6,sd(this.props.fieldSpec)],[10,sd(this.props.fieldSpec)]]})):(wt().b[21][1]++,wt().s[60]++,r={stops:[[6,(wt().b[24][0]++,t||(wt().b[24][1]++,sd(this.props.fieldSpec)))],[10,(wt().b[25][0]++,t||(wt().b[25][1]++,sd(this.props.fieldSpec)))]]}),wt().s[61]++,this.props.onChange(this.props.fieldName,r)}));dn(this,"undoExpression",(wt().s[62]++,()=>{wt().f[19]++;const{value:t,fieldName:r}=(wt().s[63]++,this.props);wt().s[64]++,AF(t)?(wt().b[26][0]++,wt().s[65]++,this.props.onChange(r,{type:"identity",property:t[1]}),wt().s[66]++,this.setState({dataType:"value"})):(wt().b[26][1]++,wt().s[67]++,uF(t)?(wt().b[27][0]++,wt().s[68]++,this.props.onChange(r,t[1]),wt().s[69]++,this.setState({dataType:"value"})):wt().b[27][1]++)}));dn(this,"canUndo",(wt().s[70]++,()=>{wt().f[20]++;const{value:t,fieldSpec:r}=(wt().s[71]++,this.props);return wt().s[72]++,wt().b[28][0]++,AF(t)||(wt().b[28][1]++,uF(t))||(wt().b[28][2]++,MT(t))||(wt().b[28][3]++,Array.isArray(t)&&(wt().b[28][4]++,r.type==="array"))}));dn(this,"makeExpression",(wt().s[73]++,()=>{wt().f[21]++;const{value:t,fieldSpec:r}=(wt().s[74]++,this.props);let i;wt().s[75]++,wt().b[30][0]++,typeof t=="object"&&(wt().b[30][1]++,"stops"in t)?(wt().b[29][0]++,wt().s[76]++,i=bre.convertFunction(t,r)):(wt().b[29][1]++,wt().s[77]++,IY(t)?(wt().b[31][0]++,wt().s[78]++,i=["get",t.property]):(wt().b[31][1]++,wt().s[79]++,i=["literal",(wt().b[32][0]++,t||(wt().b[32][1]++,this.props.fieldSpec.default))])),wt().s[80]++,this.props.onChange(this.props.fieldName,i)}));dn(this,"makeDataFunction",(wt().s[81]++,()=>{wt().f[22]++;const t=(wt().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(wt().s[83]++,t==="categorical"?(wt().b[33][0]++,""):(wt().b[33][1]++,0)),{value:i}=(wt().s[84]++,this.props);let o;wt().s[85]++,typeof i=="object"?(wt().b[34][0]++,wt().s[86]++,i.stops?(wt().b[35][0]++,wt().s[87]++,o={property:"",type:t,base:i.base,stops:i.stops.map(s=>(wt().f[23]++,wt().s[88]++,[{zoom:s[0],value:r},(wt().b[36][0]++,s[1]||(wt().b[36][1]++,sd(this.props.fieldSpec)))]))}):(wt().b[35][1]++,wt().s[89]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},sd(this.props.fieldSpec)],[{zoom:10,value:r},sd(this.props.fieldSpec)]]})):(wt().b[34][1]++,wt().s[90]++,o={property:"",type:t,base:i.base,stops:[[{zoom:6,value:r},(wt().b[37][0]++,this.props.value||(wt().b[37][1]++,sd(this.props.fieldSpec)))],[{zoom:10,value:r},(wt().b[38][0]++,this.props.value||(wt().b[38][1]++,sd(this.props.fieldSpec)))]]}),wt().s[91]++,this.props.onChange(this.props.fieldName,o)}));dn(this,"onMarkEditing",(wt().s[92]++,()=>{wt().f[24]++,wt().s[93]++,this.setState({isEditing:!0})}));dn(this,"onUnmarkEditing",(wt().s[94]++,()=>{wt().f[25]++,wt().s[95]++,this.setState({isEditing:!1})}));wt().s[25]++,this.state={dataType:cF(t.value,t.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(t,r){return wt().f[12]++,wt().s[26]++,r.isEditing?(wt().b[16][0]++,wt().s[27]++,{}):(wt().b[16][1]++,wt().s[28]++,{isEditing:!1,dataType:cF(t.value,t.fieldSpec)})}getFieldFunctionType(t){return wt().f[13]++,wt().s[29]++,t.expression.interpolated?(wt().b[17][0]++,wt().s[30]++,"exponential"):(wt().b[17][1]++,wt().s[31]++,t.type==="number"?(wt().b[18][0]++,wt().s[32]++,"interval"):(wt().b[18][1]++,wt().s[33]++,"categorical"))}render(){wt().f[26]++;const{dataType:t}=(wt().s[96]++,this.state),r=(wt().s[97]++,this.props.fieldSpec.default===this.props.value?(wt().b[39][0]++,"maputnik-default-property"):(wt().b[39][1]++,"maputnik-modified-property"));let i;return wt().s[98]++,t==="expression"?(wt().b[40][0]++,wt().s[99]++,i=q.jsx(p$,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(wt().b[40][1]++,wt().s[100]++,t==="zoom_function"?(wt().b[41][0]++,wt().s[101]++,i=q.jsx(N8e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(wt().b[41][1]++,wt().s[102]++,t==="data_function"?(wt().b[42][0]++,wt().s[103]++,i=q.jsx(j8e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(wt().b[42][1]++,wt().s[104]++,i=q.jsx(SY,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),wt().s[105]++,q.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function Ii(){var n="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",e="411d3be261f729b266d6cb26884b34616b925c83",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ii=function(){return s},s}Ii();const q8e=(Ii().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function V8e(n,e,t){Ii().f[0]++;const r=(Ii().s[1]++,kY(n,e,t)),i=(Ii().s[2]++,n[r+"_"+e]),o=(Ii().s[3]++,i[t]);return Ii().s[4]++,q8e.indexOf(t)>=0?(Ii().b[0][0]++,Ii().s[5]++,{...o,values:n.$root.sprite.values}):(Ii().b[0][1]++,Ii().s[6]++,t==="text-font"?(Ii().b[1][0]++,Ii().s[7]++,{...o,values:n.$root.glyphs.values}):(Ii().b[1][1]++,Ii().s[8]++,o))}function kY(n,e,t){Ii().f[1]++;const r=(Ii().s[9]++,Ii().b[2][0]++,n["paint_"+e]||(Ii().b[2][1]++,{}));return Ii().s[10]++,t in r?(Ii().b[3][0]++,Ii().s[11]++,"paint"):(Ii().b[3][1]++,Ii().s[12]++,"layout")}class H8e extends Sn.Component{constructor(){super(...arguments);dn(this,"onPropertyChange",(Ii().s[13]++,(t,r)=>{Ii().f[2]++;const i=(Ii().s[14]++,kY(this.props.spec,this.props.layer.type,t));Ii().s[15]++,this.props.onChange(i,t,r)}))}render(){Ii().f[3]++;const{errors:t}=(Ii().s[16]++,this.props),r=(Ii().s[17]++,this.props.groupFields.map(i=>{Ii().f[4]++;const o=(Ii().s[18]++,V8e(this.props.spec,this.props.layer.type,i)),s=(Ii().s[19]++,Ii().b[4][0]++,this.props.layer.paint||(Ii().b[4][1]++,{})),a=(Ii().s[20]++,Ii().b[5][0]++,this.props.layer.layout||(Ii().b[5][1]++,{})),f=(Ii().s[21]++,i in s?(Ii().b[6][0]++,s[i]):(Ii().b[6][1]++,a[i])),m=(Ii().s[22]++,i in s?(Ii().b[7][0]++,"paint"):(Ii().b[7][1]++,"layout"));return Ii().s[23]++,q.jsx(Y8e,{errors:t,onChange:this.onPropertyChange,fieldName:i,value:f,fieldType:m,fieldSpec:o},i)}));return Ii().s[24]++,q.jsx("div",{className:"maputnik-property-group",children:r})}}var Z8e=function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=2)}([function(n,e){n.exports=ff},function(n,e){n.exports=Wn},function(n,e,t){t.r(e);var r=t(1),i=t(0),o=function(){return(o=Object.assign||function(L){for(var Y,ee=1,V=arguments.length;ee<V;ee++)for(var W in Y=arguments[ee])Object.prototype.hasOwnProperty.call(Y,W)&&(L[W]=Y[W]);return L}).apply(this,arguments)},s=function(L,Y){var ee={};for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&Y.indexOf(V)<0&&(ee[V]=L[V]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var W=0;for(V=Object.getOwnPropertySymbols(L);W<V.length;W++)Y.indexOf(V[W])<0&&Object.prototype.propertyIsEnumerable.call(L,V[W])&&(ee[V[W]]=L[V[W]])}return ee},a=0,f=r.forwardRef(function(L,Y){var ee=L.title,V=ee===void 0?null:ee,W=L.description,ne=W===void 0?null:W,ce=L.size,ge=ce===void 0?null:ce,fe=L.color,H=fe===void 0?"currentColor":fe,X=L.horizontal,Me=X===void 0?null:X,be=L.vertical,Fe=be===void 0?null:be,Ue=L.rotate,me=Ue===void 0?null:Ue,Ve=L.spin,_e=Ve===void 0?null:Ve,Ot=L.style,St=Ot===void 0?{}:Ot,_t=L.children,ft=s(L,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var $e,et=_e!==null&&_e,nt=r.Children.map(_t,function(Vt){var Jt=Vt;et!==!0&&(et=(_e===null?Jt.props.spin:_e)===!0);var Le=Jt.props.size;typeof ge=="number"&&typeof Jt.props.size=="number"&&(Le=Jt.props.size/ge);var ye={size:Le,color:H===null?Jt.props.color:H,horizontal:Me===null?Jt.props.horizontal:Me,vertical:Fe===null?Jt.props.vertical:Fe,rotate:me===null?Jt.props.rotate:me,spin:_e===null?Jt.props.spin:_e,inStack:!0};return r.cloneElement(Jt,ye)});ge!==null&&(St.width=typeof ge=="string"?ge:1.5*ge+"rem");var en,nn="stack_labelledby_"+a,Et="stack_describedby_"+a;if(V)$e=ne?nn+" "+Et:nn;else if(en="presentation",ne)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:Y,viewBox:"0 0 24 24",style:St,role:en,"aria-labelledby":$e},ft),V&&r.createElement("title",{id:nn},V),ne&&r.createElement("desc",{id:Et},ne),et&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),nt)});f.displayName="Stack",f.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},f.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var m=f;t.d(e,"Icon",function(){return K}),t.d(e,"Stack",function(){return m});var C=function(){return(C=Object.assign||function(L){for(var Y,ee=1,V=arguments.length;ee<V;ee++)for(var W in Y=arguments[ee])Object.prototype.hasOwnProperty.call(Y,W)&&(L[W]=Y[W]);return L}).apply(this,arguments)},B=function(L,Y){var ee={};for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&Y.indexOf(V)<0&&(ee[V]=L[V]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var W=0;for(V=Object.getOwnPropertySymbols(L);W<V.length;W++)Y.indexOf(V[W])<0&&Object.prototype.propertyIsEnumerable.call(L,V[W])&&(ee[V[W]]=L[V[W]])}return ee},I=0,K=r.forwardRef(function(L,Y){var ee=L.path,V=L.id,W=V===void 0?++I:V,ne=L.title,ce=ne===void 0?null:ne,ge=L.description,fe=ge===void 0?null:ge,H=L.size,X=H===void 0?null:H,Me=L.color,be=Me===void 0?"currentColor":Me,Fe=L.horizontal,Ue=Fe!==void 0&&Fe,me=L.vertical,Ve=me!==void 0&&me,_e=L.rotate,Ot=_e===void 0?0:_e,St=L.spin,_t=St!==void 0&&St,ft=L.style,$e=ft===void 0?{}:ft,et=L.inStack,nt=et!==void 0&&et,en=B(L,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),nn={},Et=[];X!==null&&(nt?Et.push("scale("+X+")"):($e.width=typeof X=="string"?X:1.5*X+"rem",$e.height=$e.width)),Ue&&Et.push("scaleX(-1)"),Ve&&Et.push("scaleY(-1)"),Ot!==0&&Et.push("rotate("+Ot+"deg)"),be!==null&&(nn.fill=be);var Vt=r.createElement("path",C({d:ee,style:nn},nt?en:{})),Jt=Vt;Et.length>0&&($e.transform=Et.join(" "),$e.transformOrigin="center",nt&&(Jt=r.createElement("g",{style:$e},Vt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Le,ye=Jt,Te=_t===!0||typeof _t!="number"?2:_t,Qe=!nt&&(Ue||Ve);if(Te<0&&(Qe=!Qe),_t&&(ye=r.createElement("g",{style:{animation:"spin"+(Qe?"-inverse":"")+" linear "+Math.abs(Te)+"s infinite",transformOrigin:"center"}},Jt,!(Ue||Ve||Ot!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),nt)return ye;var st,lt="icon_labelledby_"+W,Kt="icon_describedby_"+W;if(ce)Le=fe?lt+" "+Kt:lt;else if(st="presentation",fe)throw new Error("title attribute required when description is set");return r.createElement("svg",C({ref:Y,viewBox:"0 0 24 24",style:$e,role:st,"aria-labelledby":Le},en),ce&&r.createElement("title",{id:lt},ce),fe&&r.createElement("desc",{id:Kt},fe),!nt&&_t&&(Qe?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),ye)});K.displayName="Icon",K.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},K.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},e.default=K}]);const hF=wa(Z8e);function $y(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",e="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $y=function(){return s},s}$y();class X8e extends Sn.Component{render(){return $y().f[0]++,$y().s[0]++,q.jsxs(qQ,{uuid:this.props.id,children:[q.jsx(ZQ,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:e=>($y().f[1]++,$y().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:q.jsxs(y1e,{className:"maputnik-layer-editor-group__button",children:[q.jsx("span",{style:{flexGrow:1},children:this.props.title}),q.jsx(hF,{path:I1e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),q.jsx(hF,{path:B1e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),q.jsx(b1e,{children:this.props.children})]})}}function vv(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",e="32f7af2e1a9dc4f673c1fba818006229f9fd6490",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:30,column:6}},2:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:31,column:3}},line:8}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,UAAU;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QAC1D,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32f7af2e1a9dc4f673c1fba818006229f9fd6490"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return vv=function(){return s},s}vv();class J8e extends Sn.Component{render(){vv().f[0]++;const e=(vv().s[0]++,this.props.t);return vv().s[1]++,q.jsx(oa,{label:e("Min Zoom"),fieldSpec:zi.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:q.jsx(Op,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:zi.layer.minzoom.minimum,max:zi.layer.minzoom.maximum,default:zi.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}const e7e=(vv().s[2]++,zo()(J8e));function _v(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",e="f706dc673f9397f2919007f4b702470461bf0f7c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:9,column:14},end:{line:9,column:26}},1:{start:{line:10,column:4},end:{line:30,column:6}},2:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:11},end:{line:31,column:3}},line:8}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAoBM;AApBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,EAAE,UAAU;AAAA,QAAG,WAAW,OAAO,MAAM;AAAA,QAC1D,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f706dc673f9397f2919007f4b702470461bf0f7c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return _v=function(){return s},s}_v();class t7e extends Sn.Component{render(){_v().f[0]++;const e=(_v().s[0]++,this.props.t);return _v().s[1]++,q.jsx(oa,{label:e("Max Zoom"),fieldSpec:zi.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:q.jsx(Op,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:zi.layer.maxzoom.minimum,max:zi.layer.maxzoom.maximum,default:zi.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}const n7e=(_v().s[2]++,zo()(t7e));function Ng(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",e="875d9bef6002e38aa0b5bf03af99ab4fc2308047",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:8,column:14},end:{line:8,column:26}},1:{start:{line:9,column:22},end:{line:11,column:5}},2:{start:{line:12,column:4},end:{line:30,column:6}},3:{start:{line:33,column:21},end:{line:33,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:31,column:3}},line:7}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAyBM;AAzBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA0B,uBAAuB;AAQjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,YAAY;AAAA,MAChB,KAAK,EAAE,2EAA2E;AAAA,IACpF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,UAAU;AAAA,QACnB;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,EAAE,YAAY;AAAA,YACvB,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"875d9bef6002e38aa0b5bf03af99ab4fc2308047"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ng=function(){return s},s}Ng();class r7e extends Sn.Component{render(){Ng().f[0]++;const e=(Ng().s[0]++,this.props.t),t=(Ng().s[1]++,{doc:e("Comments for the current layer. This is non-standard and not in the spec.")});return Ng().s[2]++,q.jsx(oa,{label:e("Comments"),fieldSpec:t,"data-wd-key":"layer-comment",error:this.props.error,children:q.jsx(xd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:e("Comment..."),"data-wd-key":"layer-comment.input"})})}}const i7e=(Ng().s[3]++,zo()(r7e)),o7e={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},a7e={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},s7e={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},l7e={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},u7e={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},A7e={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},c7e={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},h7e={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},d7e={groups:[]},P3={line:o7e,background:a7e,fill:s7e,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:l7e,symbol:u7e,raster:A7e,hillshade:c7e,heatmap:h7e,invalid:d7e};function Yy(){var n="/home/runner/work/maputnik/maputnik/src/libs/format.ts",e="c45fbfac66e994b59070a295e5a7f219cd5d66ac",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Yy=function(){return s},s}Yy();function TY(n){return Yy().f[0]++,Yy().s[0]++,n===""?(Yy().b[0][0]++,"[empty_string]"):(Yy().b[0][1]++,`'${n}'`)}function An(){var n="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",e="555ef41c8141fe537bdb43523a4ef7ec4c287394",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:23,column:2},end:{line:32,column:21}},1:{start:{line:26,column:6},end:{line:30,column:8}},2:{start:{line:35,column:21},end:{line:39,column:3}},3:{start:{line:40,column:22},end:{line:44,column:3}},4:{start:{line:45,column:22},end:{line:49,column:3}},5:{start:{line:50,column:2},end:{line:50,column:103}},6:{start:{line:53,column:24},end:{line:60,column:3}},7:{start:{line:61,column:29},end:{line:63,column:3}},8:{start:{line:65,column:4},end:{line:65,column:17}},9:{start:{line:66,column:25},end:{line:66,column:27}},10:{start:{line:67,column:4},end:{line:69,column:7}},11:{start:{line:68,column:6},end:{line:68,column:39}},12:{start:{line:70,column:4},end:{line:70,column:34}},13:{start:{line:73,column:29},end:{line:73,column:54}},14:{start:{line:74,column:4},end:{line:78,column:7}},15:{start:{line:75,column:6},end:{line:77,column:7}},16:{start:{line:76,column:8},end:{line:76,column:45}},17:{start:{line:79,column:4},end:{line:81,column:6}},18:{start:{line:84,column:4},end:{line:89,column:6}},19:{start:{line:92,column:4},end:{line:95,column:6}},20:{start:{line:98,column:32},end:{line:101,column:5}},21:{start:{line:102,column:4},end:{line:104,column:7}},22:{start:{line:107,column:18},end:{line:107,column:20}},23:{start:{line:108,column:4},end:{line:110,column:5}},24:{start:{line:109,column:6},end:{line:109,column:62}},25:{start:{line:111,column:35},end:{line:111,column:45}},26:{start:{line:112,column:22},end:{line:112,column:24}},27:{start:{line:113,column:4},end:{line:119,column:7}},28:{start:{line:114,column:6},end:{line:118,column:7}},29:{start:{line:115,column:8},end:{line:117,column:10}},30:{start:{line:121,column:18},end:{line:121,column:34}},31:{start:{line:122,column:4},end:{line:124,column:5}},32:{start:{line:123,column:6},end:{line:123,column:63}},33:{start:{line:125,column:4},end:{line:228,column:5}},34:{start:{line:127,column:8},end:{line:191,column:13}},35:{start:{line:134,column:35},end:{line:134,column:112}},36:{start:{line:143,column:37},end:{line:146,column:15}},37:{start:{line:155,column:31},end:{line:155,column:69}},38:{start:{line:164,column:31},end:{line:164,column:75}},39:{start:{line:172,column:31},end:{line:172,column:70}},40:{start:{line:180,column:31},end:{line:180,column:70}},41:{start:{line:188,column:31},end:{line:188,column:104}},42:{start:{line:193,column:8},end:{line:201,column:16}},43:{start:{line:199,column:29},end:{line:199,column:67}},44:{start:{line:203,column:8},end:{line:212,column:10}},45:{start:{line:214,column:8},end:{line:225,column:10}},46:{start:{line:219,column:14},end:{line:222,column:16}},47:{start:{line:227,column:8},end:{line:227,column:49}},48:{start:{line:231,column:4},end:{line:234,column:7}},49:{start:{line:237,column:14},end:{line:237,column:26}},50:{start:{line:238,column:21},end:{line:238,column:23}},51:{start:{line:239,column:22},end:{line:239,column:43}},52:{start:{line:240,column:19},end:{line:257,column:6}},53:{start:{line:241,column:6},end:{line:241,column:70}},54:{start:{line:243,column:22},end:{line:243,column:30}},55:{start:{line:244,column:6},end:{line:244,column:29}},56:{start:{line:245,column:6},end:{line:256,column:8}},57:{start:{line:258,column:20},end:{line:258,column:49}},58:{start:{line:259,column:18},end:{line:284,column:5}},59:{start:{line:262,column:23},end:{line:262,column:71}},60:{start:{line:266,column:23},end:{line:266,column:68}},61:{start:{line:270,column:23},end:{line:270,column:80}},62:{start:{line:276,column:23},end:{line:276,column:41}},63:{start:{line:282,column:23},end:{line:282,column:40}},64:{start:{line:286,column:6},end:{line:286,column:30}},65:{start:{line:287,column:6},end:{line:287,column:26}},66:{start:{line:289,column:4},end:{line:334,column:6}},67:{start:{line:316,column:33},end:{line:316,column:42}},68:{start:{line:317,column:20},end:{line:317,column:174}},69:{start:{line:337,column:20},end:{line:337,column:58}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:22,column:9},end:{line:22,column:25}},loc:{start:{line:22,column:35},end:{line:33,column:1}},line:22},1:{name:"(anonymous_1)",decl:{start:{line:25,column:36},end:{line:25,column:37}},loc:{start:{line:25,column:47},end:{line:31,column:5}},line:25},2:{name:"layoutGroups",decl:{start:{line:34,column:9},end:{line:34,column:21}},loc:{start:{line:34,column:36},end:{line:51,column:1}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:54,column:20},end:{line:54,column:21}},loc:{start:{line:54,column:26},end:{line:55,column:5}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:56,column:21},end:{line:56,column:22}},loc:{start:{line:56,column:27},end:{line:57,column:5}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:58,column:22},end:{line:58,column:23}},loc:{start:{line:58,column:28},end:{line:59,column:5}},line:58},6:{name:"(anonymous_6)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:21},end:{line:71,column:3}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:67,column:57},end:{line:67,column:58}},loc:{start:{line:67,column:68},end:{line:69,column:5}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:48},end:{line:82,column:3}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:74,column:63},end:{line:74,column:64}},loc:{start:{line:74,column:74},end:{line:78,column:5}},line:74},10:{name:"(anonymous_10)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:20},end:{line:90,column:3}},line:83},11:{name:"(anonymous_11)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:44},end:{line:96,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:36},end:{line:105,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:32},end:{line:229,column:3}},line:106},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:30},end:{line:119,column:5}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:134,column:24},end:{line:134,column:25}},loc:{start:{line:134,column:35},end:{line:134,column:112}},line:134},16:{name:"(anonymous_16)",decl:{start:{line:143,column:24},end:{line:143,column:25}},loc:{start:{line:143,column:37},end:{line:146,column:15}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:155,column:24},end:{line:155,column:25}},loc:{start:{line:155,column:31},end:{line:155,column:69}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:31},end:{line:164,column:75}},line:164},19:{name:"(anonymous_19)",decl:{start:{line:172,column:24},end:{line:172,column:25}},loc:{start:{line:172,column:31},end:{line:172,column:70}},line:172},20:{name:"(anonymous_20)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:31},end:{line:180,column:70}},line:180},21:{name:"(anonymous_21)",decl:{start:{line:188,column:24},end:{line:188,column:25}},loc:{start:{line:188,column:31},end:{line:188,column:104}},line:188},22:{name:"(anonymous_22)",decl:{start:{line:199,column:22},end:{line:199,column:23}},loc:{start:{line:199,column:29},end:{line:199,column:67}},line:199},23:{name:"(anonymous_23)",decl:{start:{line:218,column:22},end:{line:218,column:23}},loc:{start:{line:218,column:34},end:{line:223,column:13}},line:218},24:{name:"(anonymous_24)",decl:{start:{line:230,column:2},end:{line:230,column:3}},loc:{start:{line:230,column:20},end:{line:235,column:3}},line:230},25:{name:"(anonymous_25)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:11},end:{line:335,column:3}},line:236},26:{name:"(anonymous_26)",decl:{start:{line:240,column:53},end:{line:240,column:54}},loc:{start:{line:240,column:64},end:{line:242,column:5}},line:240},27:{name:"(anonymous_27)",decl:{start:{line:242,column:11},end:{line:242,column:12}},loc:{start:{line:242,column:22},end:{line:257,column:5}},line:242},28:{name:"(anonymous_28)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:71}},line:262},29:{name:"(anonymous_29)",decl:{start:{line:266,column:17},end:{line:266,column:18}},loc:{start:{line:266,column:23},end:{line:266,column:68}},line:266},30:{name:"(anonymous_30)",decl:{start:{line:270,column:17},end:{line:270,column:18}},loc:{start:{line:270,column:23},end:{line:270,column:80}},line:270},31:{name:"(anonymous_31)",decl:{start:{line:276,column:17},end:{line:276,column:18}},loc:{start:{line:276,column:23},end:{line:276,column:41}},line:276},32:{name:"(anonymous_32)",decl:{start:{line:282,column:17},end:{line:282,column:18}},loc:{start:{line:282,column:23},end:{line:282,column:40}},line:282},33:{name:"handleSelection",decl:{start:{line:285,column:13},end:{line:285,column:28}},loc:{start:{line:285,column:40},end:{line:288,column:5}},line:285},34:{name:"(anonymous_34)",decl:{start:{line:315,column:147},end:{line:315,column:148}},loc:{start:{line:315,column:155},end:{line:318,column:19}},line:315}},branchMap:{0:{loc:{start:{line:23,column:9},end:{line:32,column:20}},type:"cond-expr",locations:[{start:{line:23,column:24},end:{line:32,column:3}},{start:{line:32,column:6},end:{line:32,column:20}}],line:23},1:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},2:{loc:{start:{line:108,column:4},end:{line:110,column:5}},type:"if",locations:[{start:{line:108,column:4},end:{line:110,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:108},3:{loc:{start:{line:114,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:118,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},4:{loc:{start:{line:114,column:10},end:{line:114,column:96}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:22}},{start:{line:114,column:26},end:{line:114,column:55}},{start:{line:114,column:59},end:{line:114,column:96}}],line:114},5:{loc:{start:{line:122,column:4},end:{line:124,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:124,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:122},6:{loc:{start:{line:125,column:4},end:{line:228,column:5}},type:"switch",locations:[{start:{line:126,column:6},end:{line:191,column:13}},{start:{line:192,column:6},end:{line:201,column:16}},{start:{line:202,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:225,column:10}},{start:{line:226,column:6},end:{line:227,column:49}}],line:125},7:{loc:{start:{line:149,column:10},end:{line:157,column:11}},type:"binary-expr",locations:[{start:{line:149,column:10},end:{line:149,column:48}},{start:{line:149,column:68},end:{line:157,column:11}}],line:149},8:{loc:{start:{line:158,column:10},end:{line:166,column:11}},type:"binary-expr",locations:[{start:{line:158,column:10},end:{line:158,column:93}},{start:{line:158,column:113},end:{line:166,column:11}}],line:158},9:{loc:{start:{line:188,column:83},end:{line:188,column:103}},type:"cond-expr",locations:[{start:{line:188,column:93},end:{line:188,column:99}},{start:{line:188,column:102},end:{line:188,column:103}}],line:188},10:{loc:{start:{line:241,column:15},end:{line:241,column:68}},type:"binary-expr",locations:[{start:{line:241,column:15},end:{line:241,column:41}},{start:{line:241,column:45},end:{line:241,column:68}}],line:241},11:{loc:{start:{line:258,column:20},end:{line:258,column:49}},type:"binary-expr",locations:[{start:{line:258,column:20},end:{line:258,column:43}},{start:{line:258,column:47},end:{line:258,column:49}}],line:258},12:{loc:{start:{line:269,column:14},end:{line:269,column:67}},type:"cond-expr",locations:[{start:{line:269,column:46},end:{line:269,column:55}},{start:{line:269,column:58},end:{line:269,column:67}}],line:269}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA2KyB,SA2EL,UA1Ed,KADmB;AA3KzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAC5B,SAA0B,uBAAuB;AAIjD,SAAS,iBAAiB,MAAkC,GAAc;AACxE,SAAO,OAAO,IAAI,IAAI;AAAA,IACpB,GAAG,OAAO,IAAI;AAAA,IACd,QAAQ,OAAO,IAAI,EAAE,OAAO,IAAI,WAAS;AACvC,aAAO;AAAA,QACL,GAAG;AAAA,QACH,IAAI,MAAM,MAAM,QAAQ,MAAM,GAAG;AAAA,QACjC,OAAO,EAAE,MAAM,KAAK;AAAA,MACtB;AAAA,IACF,CAAC;AAAA,EACH,IAAI,OAAO;AACb;AAEA,SAAS,aAAa,WAAuC,GAA8E;AACzI,QAAM,aAAa;AAAA,IACjB,IAAI;AAAA,IACJ,OAAO,EAAE,OAAO;AAAA,IAChB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,QAAQ;AAAA,IACjB,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,IAAI;AAAA,IACJ,OAAO,EAAE,aAAa;AAAA,IACtB,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,WAAW,CAAC,EAAE,MAAM,EAC5C,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,MAAM,4BAA4B,MAAM,UAAsD;AAAA,EAC5F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAiC;AAC3C,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,QAAQ,WAAS;AAC5D,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAA2C,OAAyB;AAClG,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,OAAO,QAAQ,WAAS;AAClE,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAErB,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,WAAW,CAAC,EAAE,OAAO,WAAS;AACxD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM;AACtB,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM,EAAE,QAAQ;AAAA,QAChB,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM,EAAE,WAAW;AAAA,QACnB,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,EAAE,MAAM,IAAI,EAAE,MAAM;AAAA,QAC3D,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM,EAAE,eAAe;AAAA;AAAA,QAEvB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM,EAAE,iBAAiB;AAAA;AAAA,QAEzB,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAY,EAAE,cAAc;AAAA,QAE5B;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,gCAAC,QAAG,WAAU,uBACX,YAAE,sBAAsB,EAAE,SAAS,cAAc,KAAK,MAAM,MAAM,EAAE,EAAE,CAAC,GAC1E;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA;AAAA,oBAAC;AAAA;AAAA,sBACC,IAAG;AAAA,sBACH,eAAY;AAAA,sBACZ,WAAU;AAAA,sBACV,OAAO;AAAA,sBACP,8BAAC,cAAW,WAAU,0BAAyB;AAAA;AAAA,kBACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"555ef41c8141fe537bdb43523a4ef7ec4c287394"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return An=function(){return s},s}An();function PY(n,e){return An().f[0]++,An().s[0]++,P3[n]?(An().b[0][0]++,{...P3[n],groups:P3[n].groups.map(t=>(An().f[1]++,An().s[1]++,{...t,id:t.title.replace(/ /g,"_"),title:e(t.title)}))}):(An().b[0][1]++,P3.invalid)}function dF(n,e){An().f[2]++;const t=(An().s[2]++,{id:"layer",title:e("Layer"),type:"layer"}),r=(An().s[3]++,{id:"filter",title:e("Filter"),type:"filter"}),i=(An().s[4]++,{id:"jsoneditor",title:e("JSON Editor"),type:"jsoneditor"});return An().s[5]++,[t,r].concat(PY(n,e).groups).concat([i])}class k8 extends Sn.Component{constructor(e){An().f[6]++,An().s[8]++,super(e);const t=(An().s[9]++,{});An().s[10]++,dF(this.props.layer.type,e.t).forEach(r=>{An().f[7]++,An().s[11]++,t[r.title]=!0}),An().s[12]++,this.state={editorGroups:t}}static getDerivedStateFromProps(e,t){An().f[8]++;const r=(An().s[13]++,{...t.editorGroups});return An().s[14]++,PY(e.layer.type,e.t).groups.forEach(i=>{An().f[9]++,An().s[15]++,i.title in r?An().b[1][1]++:(An().b[1][0]++,An().s[16]++,r[i.title]=!0)}),An().s[17]++,{editorGroups:r}}getChildContext(){return An().f[10]++,An().s[18]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(e,t,r){An().f[11]++,An().s[19]++,this.props.onLayerChanged(this.props.layerIndex,H0e(this.props.layer,e,t,r))}onGroupToggle(e,t){An().f[12]++;const r=(An().s[20]++,{...this.state.editorGroups,[e]:t});An().s[21]++,this.setState({editorGroups:r})}renderGroupType(e,t){An().f[13]++;let r=(An().s[22]++,"");An().s[23]++,this.props.layer.metadata?(An().b[2][0]++,An().s[24]++,r=this.props.layer.metadata["maputnik:comment"]):An().b[2][1]++;const{errors:i,layerIndex:o}=(An().s[25]++,this.props),s=(An().s[26]++,{});An().s[27]++,i.forEach(m=>{An().f[14]++,An().s[28]++,An().b[4][0]++,m.parsed&&(An().b[4][1]++,m.parsed.type==="layer")&&(An().b[4][2]++,m.parsed.data.index==o)?(An().b[3][0]++,An().s[29]++,s[m.parsed.data.key]={message:m.parsed.data.message}):An().b[3][1]++});let a;const f=(An().s[30]++,this.props.layer);switch(An().s[31]++,Object.prototype.hasOwnProperty.call(this.props.sources,f.source)?(An().b[5][0]++,An().s[32]++,a=this.props.sources[f.source].layers):An().b[5][1]++,An().s[33]++,e){case"layer":return An().b[6][0]++,An().s[34]++,q.jsxs("div",{children:[q.jsx(SQ,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:s.id,onChange:m=>(An().f[15]++,An().s[35]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,m))}),q.jsx(MQ,{disabled:!0,error:s.type,value:this.props.layer.type,onChange:m=>(An().f[16]++,An().s[36]++,this.props.onLayerChanged(this.props.layerIndex,V0e(this.props.layer,m)))}),(An().b[7][0]++,this.props.layer.type!=="background"&&(An().b[7][1]++,q.jsx(KQ,{error:s.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:m=>(An().f[17]++,An().s[37]++,this.changeProperty(null,"source",m))}))),(An().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(An().b[8][1]++,q.jsx(DQ,{error:s["source-layer"],sourceLayerIds:a,value:this.props.layer["source-layer"],onChange:m=>(An().f[18]++,An().s[38]++,this.changeProperty(null,"source-layer",m))}))),q.jsx(e7e,{error:s.minzoom,value:this.props.layer.minzoom,onChange:m=>(An().f[19]++,An().s[39]++,this.changeProperty(null,"minzoom",m))}),q.jsx(n7e,{error:s.maxzoom,value:this.props.layer.maxzoom,onChange:m=>(An().f[20]++,An().s[40]++,this.changeProperty(null,"maxzoom",m))}),q.jsx(i7e,{error:s.comment,value:r,onChange:m=>(An().f[21]++,An().s[41]++,this.changeProperty("metadata","maputnik:comment",m==""?(An().b[9][0]++,void 0):(An().b[9][1]++,m)))})]});case"filter":return An().b[6][1]++,An().s[42]++,q.jsx("div",{children:q.jsx("div",{className:"maputnik-filter-editor-wrapper",children:q.jsx(dye,{errors:s,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:m=>(An().f[22]++,An().s[43]++,this.changeProperty(null,"filter",m))})})});case"properties":return An().b[6][2]++,An().s[44]++,q.jsx(H8e,{errors:s,layer:this.props.layer,groupFields:t,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return An().b[6][3]++,An().s[45]++,q.jsx(Wk,{layer:this.props.layer,onChange:m=>{An().f[23]++,An().s[46]++,this.props.onLayerChanged(this.props.layerIndex,m)}});default:return An().b[6][4]++,An().s[47]++,q.jsx(q.Fragment,{})}}moveLayer(e){An().f[24]++,An().s[48]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+e})}render(){An().f[25]++;const e=(An().s[49]++,this.props.t),t=(An().s[50]++,[]),r=(An().s[51]++,this.props.layer.type),i=(An().s[52]++,dF(r,e).filter(f=>(An().f[26]++,An().s[53]++,An().b[10][0]++,!(r==="background"&&(An().b[10][1]++,f.type==="source")))).map(f=>{An().f[27]++;const m=(An().s[54]++,f.id);return An().s[55]++,t.push(m),An().s[56]++,q.jsx(X8e,{"data-wd-key":f.title,id:m,title:f.title,isActive:this.state.editorGroups[f.title],onActiveToggle:this.onGroupToggle.bind(this,f.title),children:this.renderGroupType(f.type,f.fields)},m)})),o=(An().s[57]++,An().b[11][0]++,this.props.layer.layout||(An().b[11][1]++,{})),s=(An().s[58]++,{delete:{text:e("Delete"),handler:()=>(An().f[28]++,An().s[59]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:e("Duplicate"),handler:()=>(An().f[29]++,An().s[60]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:o.visibility==="none"?(An().b[12][0]++,e("Show")):(An().b[12][1]++,e("Hide")),handler:()=>(An().f[30]++,An().s[61]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:e("Move layer up"),disabled:this.props.isFirstLayer,handler:()=>(An().f[31]++,An().s[62]++,this.moveLayer(-1))},moveLayerDown:{text:e("Move layer down"),disabled:this.props.isLastLayer,handler:()=>(An().f[32]++,An().s[63]++,this.moveLayer(1))}});function a(f,m){An().f[33]++,An().s[64]++,m.stopPropagation(),An().s[65]++,s[f].handler()}return An().s[66]++,q.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":e("Layer editor"),children:[q.jsx("header",{children:q.jsxs("div",{className:"layer-header",children:[q.jsx("h2",{className:"layer-header__title",children:e("Layer: {{layerId}}",{layerId:TY(this.props.layer.id)})}),q.jsx("div",{className:"layer-header__info",children:q.jsxs(B3.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[q.jsx(B3.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:q.jsx(pie,{className:"more-menu__button__svg"})}),q.jsx(B3.Menu,{children:q.jsx("ul",{className:"more-menu__menu",children:Object.keys(s).map(f=>{An().f[34]++;const m=(An().s[67]++,s[f]);return An().s[68]++,q.jsx("li",{children:q.jsx(B3.MenuItem,{value:f,className:"more-menu__menu__item",children:m.text})},f)})})})]})})]})}),q.jsx(o1e,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:i})]})}}dn(k8,"defaultProps",(An().s[6]++,{onLayerChanged:()=>{An().f[3]++},onLayerIdChange:()=>{An().f[4]++},onLayerDestroyed:()=>{An().f[5]++}})),dn(k8,"childContextTypes",(An().s[7]++,{reactIconBase:jr.object}));const f7e=(An().s[69]++,zo()(k8));var fF=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},p7e=function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n}(),m7e=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),g7e=function(){function n(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return n}(),y7e=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),v7e=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),_7e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,C7e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,pF=3,b7e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",_7e]],mF=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function x7e(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new v7e:typeof navigator<"u"?M7e(navigator.userAgent):E7e()}function w7e(n){return n!==""&&b7e.reduce(function(e,t){var r=t[0],i=t[1];if(e)return e;var o=i.exec(n);return!!o&&[r,o]},!1)}function M7e(n){var e=w7e(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new y7e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<pF&&(i=fF(fF([],i,!0),O7e(pF-i.length),!0)):i=[];var o=i.join("."),s=S7e(n),a=C7e.exec(n);return a&&a[1]?new g7e(t,o,s,a[1]):new p7e(t,o,s)}function S7e(n){for(var e=0,t=mF.length;e<t;e++){var r=mF[e],i=r[0],o=r[1],s=o.exec(n);if(s)return i}return null}function E7e(){var n=typeof process<"u"&&process.version;return n?new m7e(process.version.slice(1)):null}function O7e(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}const B7e="maputnik",I7e="2.1.1",k7e="A MapLibre GL visual style editor",T7e="module",P7e="''",K7e={start:"vite",build:"tsc && vite build --base=/maputnik/","build-desktop":"tsc && vite build --base=/ && cd desktop && make","i18n:refresh":"i18next 'src/**/*.{ts,tsx,js,jsx}'",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',"sort-styles":"jq 'sort_by(.id)' src/config/styles.json > tmp.json && mv tmp.json src/config/styles.json"},L7e={type:"git",url:"https://github.com/maplibre/maputnik"},D7e="Lukas Martinelli",F7e="MIT",R7e="https://github.com/maplibre/maputnik#readme",U7e={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-geocoder":"^1.6.0","@maplibre/maplibre-gl-inspect":"^1.6.3","@maplibre/maplibre-gl-style-spec":"^20.3.1","@mdi/js":"^7.4.47","@mdi/react":"^1.6.1","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.5.1",codemirror:"^5.65.2",color:"^4.2.3","cypress-plugin-tab":"^1.0.5","detect-browser":"^5.3.0",events:"^3.3.0","file-saver":"^2.0.5",i18next:"^23.12.2","i18next-browser-languagedetector":"^8.0.0","i18next-resources-to-backend":"^1.2.1","json-stringify-pretty-compact":"^4.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","maplibre-gl":"^5.0.0-pre.1","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","prop-types":"^15.8.1",react:"^18.2.0","react-accessible-accordion":"^5.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^5.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^18.2.0","react-file-reader-input":"^2.0.0","react-i18next":"^15.0.1","react-icon-base":"^2.1.2","react-icons":"^5.0.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.72.0",slugify:"^1.6.6","string-hash":"^1.1.3",url:"^0.11.3"},z7e={esversion:6},j7e={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},N7e={"@cypress/code-coverage":"^3.12.30","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.1.9","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.14","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/mocha":"^10.0.6","@types/randomcolor":"^0.5.9","@types/react":"^18.2.67","@types/react-aria-menubutton":"^6.2.14","@types/react-aria-modal":"^4.0.10","@types/react-autocomplete":"^1.8.10","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.12","@types/react-dom":"^18.2.22","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@vitejs/plugin-react":"^4.2.1",cors:"^2.8.5",cypress:"^13.13.0",eslint:"^8.57.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6","i18next-parser":"^9.0.1",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.2",mocha:"^10.3.0",postcss:"^8.4.38","react-hot-loader":"^4.13.1",stylelint:"^16.2.1","stylelint-config-recommended-scss":"^14.0.0","stylelint-scss":"^6.2.1",typescript:"^5.4.3",uuid:"^9.0.1",vite:"^5.4.6","vite-plugin-istanbul":"^6.0.0"},gF={name:B7e,version:I7e,description:k7e,type:T7e,main:P7e,scripts:K7e,repository:L7e,author:D7e,license:F7e,homepage:R7e,dependencies:U7e,jshintConfig:z7e,stylelint:j7e,devDependencies:N7e},W7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function ui(){var n="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",e="c19b697c52ceb9118b24f2e77fd7927572eebeb5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:10,column:16},end:{line:10,column:24}},1:{start:{line:11,column:41},end:{line:11,column:89}},2:{start:{line:14,column:4},end:{line:14,column:107}},3:{start:{line:19,column:4},end:{line:29,column:6}},4:{start:{line:34,column:4},end:{line:41,column:6}},5:{start:{line:46,column:4},end:{line:54,column:6}},6:{start:{line:58,column:10},end:{line:66,column:3}},7:{start:{line:68,column:4},end:{line:68,column:34}},8:{start:{line:71,column:4},end:{line:71,column:40}},9:{start:{line:73,column:11},end:{line:80,column:3}},10:{start:{line:74,column:4},end:{line:79,column:5}},11:{start:{line:75,column:6},end:{line:75,column:59}},12:{start:{line:77,column:17},end:{line:77,column:65}},13:{start:{line:78,column:6},end:{line:78,column:17}},14:{start:{line:82,column:14},end:{line:82,column:26}},15:{start:{line:83,column:18},end:{line:119,column:5}},16:{start:{line:120,column:24},end:{line:122,column:6}},17:{start:{line:121,column:6},end:{line:121,column:45}},18:{start:{line:123,column:4},end:{line:241,column:12}},19:{start:{line:134,column:33},end:{line:134,column:58}},20:{start:{line:143,column:33},end:{line:143,column:60}},21:{start:{line:152,column:33},end:{line:152,column:51}},22:{start:{line:204,column:33},end:{line:204,column:69}},23:{start:{line:207,column:38},end:{line:207,column:59}},24:{start:{line:208,column:20},end:{line:208,column:157}},25:{start:{line:210,column:115},end:{line:210,column:148}},26:{start:{line:211,column:20},end:{line:211,column:133}},27:{start:{line:227,column:33},end:{line:227,column:74}},28:{start:{line:230,column:18},end:{line:230,column:94}},29:{start:{line:244,column:19},end:{line:244,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:15,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:30,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:42,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:55,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:23},end:{line:69,column:3}},line:67},5:{name:"(anonymous_5)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:28},end:{line:72,column:3}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:73,column:11},end:{line:73,column:12}},loc:{start:{line:73,column:23},end:{line:80,column:3}},line:73},7:{name:"(anonymous_7)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:242,column:3}},line:81},8:{name:"(anonymous_8)",decl:{start:{line:120,column:35},end:{line:120,column:36}},loc:{start:{line:120,column:45},end:{line:122,column:5}},line:120},9:{name:"(anonymous_9)",decl:{start:{line:134,column:25},end:{line:134,column:26}},loc:{start:{line:134,column:33},end:{line:134,column:58}},line:134},10:{name:"(anonymous_10)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:33},end:{line:143,column:60}},line:143},11:{name:"(anonymous_11)",decl:{start:{line:152,column:25},end:{line:152,column:26}},loc:{start:{line:152,column:33},end:{line:152,column:51}},line:152},12:{name:"(anonymous_12)",decl:{start:{line:204,column:26},end:{line:204,column:27}},loc:{start:{line:204,column:33},end:{line:204,column:69}},line:204},13:{name:"(anonymous_13)",decl:{start:{line:207,column:31},end:{line:207,column:32}},loc:{start:{line:207,column:38},end:{line:207,column:59}},line:207},14:{name:"(anonymous_14)",decl:{start:{line:207,column:65},end:{line:207,column:66}},loc:{start:{line:207,column:75},end:{line:209,column:19}},line:207},15:{name:"(anonymous_15)",decl:{start:{line:210,column:108},end:{line:210,column:109}},loc:{start:{line:210,column:115},end:{line:210,column:148}},line:210},16:{name:"(anonymous_16)",decl:{start:{line:210,column:154},end:{line:210,column:155}},loc:{start:{line:210,column:164},end:{line:212,column:19}},line:210},17:{name:"(anonymous_17)",decl:{start:{line:227,column:26},end:{line:227,column:27}},loc:{start:{line:227,column:33},end:{line:227,column:74}},line:227},18:{name:"(anonymous_18)",decl:{start:{line:229,column:65},end:{line:229,column:66}},loc:{start:{line:229,column:83},end:{line:231,column:17}},line:229}},branchMap:{0:{loc:{start:{line:74,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:74,column:4},end:{line:79,column:5}},{start:{line:76,column:11},end:{line:79,column:5}}],line:74}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAuBW,cAyLG,YAzLH;AAvBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,cAAc,kBAAiB;AAC7G,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AACzB,SAAS,uBAAwC;AACjD,SAAS,0BAA0B;AAGnC,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,qBAAqB,KAAa;AAChC,SAAK,MAAM,KAAK,eAAe,GAAG;AAAA,EACpC;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,MAChB;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,SAAS;AAAA,QAClB,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,qBAAqB;AAAA,QAC9B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,mBAAmB;AAAA,QAC5B,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO,EAAE,sBAAsB;AAAA,QAC/B,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBAEtC,YAAE,aAAa;AAAA;AAAA,YAClB;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAExC,YAAE,cAAc;AAAA;AAAA,YACnB;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBAE/B,YAAE,UAAU;AAAA;AAAA,YACf;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAK,EAAE,oBAAoB,GAAG;AAAA,kBACtD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAU,YAAE,MAAM,GAAE;AAAA,WACvB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAU,YAAE,QAAQ,GAAE;AAAA,WACzB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAU,YAAE,cAAc,GAAE;AAAA,WAC/B;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAU,YAAE,gBAAgB,GAAE;AAAA,WACjC;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,YAAU;AAAA,cAAE,MAAM;AAAA,YACjB;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAO,EAAE,qBAAqB,GACrC,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,iBAAc,OAAM,gBACnB;AAAA,8BAAC,cAAW;AAAA,UACZ,qBAAC,YAAS;AAAA;AAAA,YACR;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,qBAAqB,EAAE,OAAO,KAAK;AAAA,gBACzD,OAAO,KAAK,MAAM,KAAK;AAAA,gBAEtB,iBAAO,QAAQ,kBAAkB,EAAE,IAAI,CAAC,CAAC,MAAM,IAAI,MAAM;AACxD,yBACE,oBAAC,YAAkB,OAAO,MACvB,kBADU,IAEb;AAAA,gBAEJ,CAAC;AAAA;AAAA,YACH;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAU,YAAE,MAAM,GAAE;AAAA,WACvB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c19b697c52ceb9118b24f2e77fd7927572eebeb5"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ui=function(){return s},s}ui();const G7e=(ui().s[0]++,x7e()),K3=(ui().s[1]++,["chrome","firefox"].indexOf(G7e.name)>-1);class gg extends Sn.Component{render(){return ui().f[0]++,ui().s[2]++,q.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class Q7e extends Sn.Component{render(){return ui().f[1]++,ui().s[3]++,q.jsx("a",{className:Sp("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class yF extends Sn.Component{render(){return ui().f[2]++,ui().s[4]++,q.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class L3 extends Sn.Component{render(){return ui().f[3]++,ui().s[5]++,q.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class $7e extends Sn.Component{constructor(){super(...arguments);dn(this,"state",(ui().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));dn(this,"onSkip",(ui().s[9]++,t=>{if(ui().f[6]++,ui().s[10]++,t==="map")ui().b[0][0]++,ui().s[11]++,document.querySelector(".maplibregl-canvas").focus();else{ui().b[0][1]++;const r=(ui().s[12]++,document.querySelector("#skip-target-"+t));ui().s[13]++,r.focus()}}))}handleSelection(t){ui().f[4]++,ui().s[7]++,this.props.onSetMapState(t)}handleLanguageChange(t){ui().f[5]++,ui().s[8]++,this.props.i18n.changeLanguage(t)}render(){ui().f[7]++;const t=(ui().s[14]++,this.props.t),r=(ui().s[15]++,[{id:"map",group:"general",title:t("Map")},{id:"inspect",group:"general",title:t("Inspect"),disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:t("Deuteranopia filter"),disabled:!K3},{id:"filter-protanopia",group:"color-accessibility",title:t("Protanopia filter"),disabled:!K3},{id:"filter-tritanopia",group:"color-accessibility",title:t("Tritanopia filter"),disabled:!K3},{id:"filter-achromatopsia",group:"color-accessibility",title:t("Achromatopsia filter"),disabled:!K3}]),i=(ui().s[16]++,r.find(o=>(ui().f[8]++,ui().s[17]++,o.id===this.props.mapState)));return ui().s[18]++,q.jsx("nav",{className:"maputnik-toolbar",children:q.jsxs("div",{className:"maputnik-toolbar__inner",children:[q.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[q.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:o=>(ui().f[9]++,ui().s[19]++,this.onSkip("layer-list")),children:t("Layers list")}),q.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:o=>(ui().f[10]++,ui().s[20]++,this.onSkip("layer-editor")),children:t("Layer editor")}),q.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:o=>(ui().f[11]++,ui().s[21]++,this.onSkip("map")),children:t("Map view")}),q.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[q.jsx("img",{src:W7e,alt:t("Maputnik on GitHub")}),q.jsxs("h1",{children:[q.jsx("span",{className:"maputnik-toolbar-name",children:gF.name}),q.jsxs("span",{className:"maputnik-toolbar-version",children:["v",gF.version]})]})]})]}),q.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[q.jsxs(L3,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[q.jsx(nie,{}),q.jsx(gg,{children:t("Open")})]}),q.jsxs(L3,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[q.jsx(sB,{}),q.jsx(gg,{children:t("Export")})]}),q.jsxs(L3,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[q.jsx(cie,{}),q.jsx(gg,{children:t("Data Sources")})]}),q.jsxs(L3,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[q.jsx(rie,{}),q.jsx(gg,{children:t("Style Settings")})]}),q.jsxs(yF,{wdKey:"nav:inspect",children:[q.jsx(Zre,{}),q.jsxs(gg,{children:[t("View"),q.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:o=>(ui().f[12]++,ui().s[22]++,this.handleSelection(o.target.value)),value:i==null?void 0:i.id,children:[r.filter(o=>(ui().f[13]++,ui().s[23]++,o.group==="general")).map(o=>(ui().f[14]++,ui().s[24]++,q.jsx("option",{value:o.id,disabled:o.disabled,"data-wd-key":o.id,children:o.title},o.id))),q.jsx("optgroup",{label:t("Color accessibility"),children:r.filter(o=>(ui().f[15]++,ui().s[25]++,o.group==="color-accessibility")).map(o=>(ui().f[16]++,ui().s[26]++,q.jsx("option",{value:o.id,disabled:o.disabled,children:o.title},o.id)))})]})]})]}),q.jsxs(yF,{wdKey:"nav:language",children:[q.jsx(tie,{}),q.jsxs(gg,{children:["Language",q.jsx("select",{className:"maputnik-select","data-wd-key":"maputnik-lang-select",onChange:o=>(ui().f[17]++,ui().s[27]++,this.handleLanguageChange(o.target.value)),value:this.props.i18n.language,children:Object.entries(Iz).map(([o,s])=>(ui().f[18]++,ui().s[28]++,q.jsx("option",{value:o,children:s},o)))})]})]}),q.jsxs(Q7e,{href:"https://github.com/maplibre/maputnik/wiki",children:[q.jsx(Xre,{}),q.jsx(gg,{children:t("Help")})]})]})]})})}}const Y7e=(ui().s[29]++,zo()($7e));function Xw(){var n="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",e="d17a642b15310eb6111b086bd920c67ec86a8271",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Xw=function(){return s},s}Xw();class q7e extends Sn.Component{render(){return Xw().f[0]++,Xw().s[0]++,q.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function of(){var n="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",e="1ee946cae22aef585acbff88e7256312e8bd0812",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:7,column:29},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:13,column:6}},2:{start:{line:16,column:4},end:{line:16,column:46}},3:{start:{line:17,column:4},end:{line:26,column:9}},4:{start:{line:29,column:18},end:{line:29,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:20},end:{line:14,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:27,column:3}},line:15}},branchMap:{0:{loc:{start:{line:24,column:6},end:{line:24,column:123}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:23}},{start:{line:24,column:43},end:{line:24,column:123}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AA8BM,SACE,KADF;AA9BN,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAC5B,SAA0B,uBAAuB;AAWjD,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,aAAS,KAAK,MAAM,KAAK,MAAM,KAAK,IAAI;AAExC,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,qBAAC,SAAI,WAAU,wBACb;AAAA,4BAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,QACC,KAAK,MAAM;AAAA,SACd;AAAA,MACC,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1ee946cae22aef585acbff88e7256312e8bd0812"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return of=function(){return s},s}of();class KY extends Sn.Component{getChildContext(){return of().f[0]++,of().s[1]++,{reactIconBase:{size:14}}}render(){return of().f[1]++,of().s[2]++,document.body.dir=this.props.i18n.dir(),of().s[3]++,q.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,q.jsxs("div",{className:"maputnik-layout-main",children:[q.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),q.jsx("div",{className:"maputnik-layout-drawer",children:q.jsx(q7e,{children:this.props.layerEditor})}),this.props.map]}),(of().b[0][0]++,this.props.bottom&&(of().b[0][1]++,q.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}dn(KY,"childContextTypes",(of().s[0]++,{reactIconBase:jr.object}));const V7e=(of().s[4]++,zo()(KY));function $a(){var n="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",e="79207020c1a6a62db4f3db3338a49c0819045455",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:38},end:{line:11,column:48}},2:{start:{line:12,column:19},end:{line:40,column:6}},3:{start:{line:14,column:6},end:{line:38,column:7}},4:{start:{line:15,column:27},end:{line:15,column:32}},5:{start:{line:16,column:24},end:{line:16,column:73}},6:{start:{line:17,column:8},end:{line:35,column:13}},7:{start:{line:30,column:31},end:{line:30,column:74}},8:{start:{line:37,column:8},end:{line:37,column:32}},9:{start:{line:39,column:6},end:{line:39,column:120}},10:{start:{line:41,column:18},end:{line:43,column:6}},11:{start:{line:42,column:6},end:{line:42,column:68}},12:{start:{line:44,column:4},end:{line:47,column:9}},13:{start:{line:50,column:24},end:{line:50,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:25},end:{line:8,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:42},end:{line:12,column:43}},loc:{start:{line:12,column:58},end:{line:40,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:30,column:25},end:{line:30,column:26}},loc:{start:{line:30,column:31},end:{line:30,column:74}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:41,column:40},end:{line:41,column:41}},loc:{start:{line:41,column:50},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:14,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:14,column:6},end:{line:38,column:7}},{start:{line:36,column:13},end:{line:38,column:7}}],line:14},1:{loc:{start:{line:14,column:10},end:{line:14,column:55}},type:"binary-expr",locations:[{start:{line:14,column:10},end:{line:14,column:22}},{start:{line:14,column:26},end:{line:14,column:55}}],line:14},2:{loc:{start:{line:24,column:10},end:{line:34,column:14}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:50}},{start:{line:24,column:70},end:{line:34,column:14}}],line:24}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA4BY,SAIE,UAHM,KADR;AA5BZ,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAE5B,SAAS,OAAwB,uBAAuB;AAWxD,MAAM,gCAAgC,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,mBAAkB,IAAI,KAAK;AACrC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCACE;AAAA,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,YAAO;AAAA,YAAG,OAAO,KAAK;AAAA,aAC5D;AAAA,UACC,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAEzD,YAAE,iBAAiB;AAAA;AAAA,YACtB;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;AAEA,MAAM,kBAAkB,gBAAgB,EAAE,uBAAuB;AACjE,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"79207020c1a6a62db4f3db3338a49c0819045455"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return $a=function(){return s},s}$a();class LY extends Sn.Component{render(){var o,s;$a().f[1]++;const{t:e,selectedLayerIndex:t}=($a().s[1]++,this.props),r=($a().s[2]++,(o=this.props.errors)==null?void 0:o.map((a,f)=>{var C;$a().f[2]++;let m;if($a().s[3]++,$a().b[1][0]++,a.parsed&&($a().b[1][1]++,a.parsed.type==="layer")){$a().b[0][0]++;const{parsed:B}=($a().s[4]++,a),I=($a().s[5]++,(C=this.props.mapStyle)==null?void 0:C.layers[B.data.index].id);$a().s[6]++,m=q.jsxs(q.Fragment,{children:[q.jsxs(S0,{t:e,children:["Layer ",q.jsx("span",{children:TY(I)}),": ",B.data.message]}),($a().b[2][0]++,t!==B.data.index&&($a().b[2][1]++,q.jsxs(q.Fragment,{children:["",q.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>($a().f[3]++,$a().s[7]++,this.props.onLayerSelect(B.data.index)),children:e("switch to layer")})]})))]})}else $a().b[0][1]++,$a().s[8]++,m=a.message;return $a().s[9]++,q.jsx("p",{className:"maputnik-message-panel-error",children:m},"error-"+f)})),i=($a().s[10]++,(s=this.props.infos)==null?void 0:s.map((a,f)=>($a().f[4]++,$a().s[11]++,q.jsx("p",{children:a},"info-"+f))));return $a().s[12]++,q.jsxs("div",{className:"maputnik-message-panel",children:[r,i]})}}dn(LY,"defaultProps",($a().s[0]++,{onLayerSelect:()=>{$a().f[0]++}}));const H7e=($a().s[13]++,zo()(LY));function Jw(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",e="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Jw=function(){return s},s}Jw();class e5 extends Sn.Component{render(){return Jw().f[0]++,Jw().s[0]++,q.jsx($b,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(bY,{...this.props})})}}function t5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",e="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return t5=function(){return s},s}t5();class sm extends Sn.Component{render(){return t5().f[0]++,t5().s[0]++,q.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(Op,{...this.props})})}}function n5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",e="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return n5=function(){return s},s}n5();class up extends Sn.Component{render(){return n5().f[0]++,n5().s[0]++,q.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(xd,{...this.props})})}}function r5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",e="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return r5=function(){return s},s}r5();class Yb extends Sn.Component{render(){return r5().f[0]++,r5().s[0]++,q.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(wT,{...this.props})})}}function i5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",e="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return i5=function(){return s},s}i5();class GM extends Sn.Component{render(){return i5().f[0]++,i5().s[0]++,q.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(x1,{...this.props})})}}function o5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",e="5745e67ee75c0f352c022256ef8bf31e8fa7367f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return o5=function(){return s},s}o5();class vF extends Sn.Component{render(){return o5().f[0]++,o5().s[0]++,q.jsx($b,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(xT,{...this.props})})}}function a5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",e="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return a5=function(){return s},s}a5();class Z7e extends Sn.Component{render(){return a5().f[0]++,a5().s[0]++,q.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:q.jsx(CY,{...this.props})})}}function qb(){var n="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",e="3f2b222219042b3cb4a75b927d846ca17e6201aa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:26,column:2}},1:{start:{line:1,column:21},end:{line:26,column:1}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:13},end:{line:1,column:14}},loc:{start:{line:1,column:21},end:{line:26,column:1}},line:1}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAEA,MAAM,OAAO,CAAC,OAAkB;AAAA,EAC9B,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO,EAAE,uBAAuB;AAAA,MAChC,KAAK,EAAE,yCAAyC;AAAA,MAChD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO,EAAE,4BAA4B;AAAA,MACrC,KAAK,EAAE,iDAAiD;AAAA,MACxD,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,qBAAqB;AAAA,MACnB,OAAO,EAAE,qBAAqB;AAAA,MAC9B,KAAK,EAAE,0BAA0B;AAAA,MACjC,QAAQ;AAAA,MACR,gBAAgB,EAAE,YAAY;AAAA,IAChC;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO,EAAE,gBAAgB;AAAA,MACzB,KAAK,EAAE,sDAAsD;AAAA,IAC/D;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3f2b222219042b3cb4a75b927d846ca17e6201aa"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return qb=function(){return s},s}qb();qb().s[0]++;const DY=n=>(qb().f[0]++,qb().s[1]++,{maputnik:{maptiler_access_token:{label:n("MapTiler Access Token"),doc:n("Public access token for MapTiler Cloud."),docUrl:"https://docs.maptiler.com/cloud/api/authentication-key/",docUrlLinkText:n("Learn More")},thunderforest_access_token:{label:n("Thunderforest Access Token"),doc:n("Public access token for Thunderforest services."),docUrl:"https://www.thunderforest.com/docs/apikeys/",docUrlLinkText:n("Learn More")},stadia_access_token:{label:n("Stadia Maps API Key"),doc:n("API key for Stadia Maps."),docUrl:"https://docs.stadiamaps.com/authentication/",docUrlLinkText:n("Learn More")},style_renderer:{label:n("Style Renderer"),doc:n("Choose the default Maputnik renderer for this style.")}}});function Dr(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",e="32c9e96b1bad1b4a6506c97f2353fe82fe2f5e02",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:16,column:23},end:{line:18,column:5}},1:{start:{line:19,column:4},end:{line:23,column:5}},2:{start:{line:20,column:6},end:{line:20,column:34}},3:{start:{line:22,column:6},end:{line:22,column:35}},4:{start:{line:24,column:4},end:{line:27,column:7}},5:{start:{line:30,column:18},end:{line:32,column:5}},6:{start:{line:33,column:4},end:{line:37,column:5}},7:{start:{line:34,column:6},end:{line:34,column:29}},8:{start:{line:36,column:6},end:{line:36,column:30}},9:{start:{line:38,column:4},end:{line:41,column:7}},10:{start:{line:44,column:23},end:{line:46,column:5}},11:{start:{line:47,column:4},end:{line:51,column:5}},12:{start:{line:48,column:6},end:{line:48,column:34}},13:{start:{line:50,column:6},end:{line:50,column:35}},14:{start:{line:52,column:4},end:{line:55,column:7}},15:{start:{line:58,column:20},end:{line:60,column:5}},16:{start:{line:61,column:4},end:{line:65,column:5}},17:{start:{line:62,column:6},end:{line:62,column:31}},18:{start:{line:64,column:6},end:{line:64,column:32}},19:{start:{line:66,column:4},end:{line:69,column:7}},20:{start:{line:72,column:25},end:{line:74,column:5}},21:{start:{line:75,column:4},end:{line:79,column:5}},22:{start:{line:76,column:6},end:{line:76,column:36}},23:{start:{line:78,column:6},end:{line:78,column:37}},24:{start:{line:80,column:4},end:{line:80,column:44}},25:{start:{line:83,column:21},end:{line:83,column:55}},26:{start:{line:84,column:54},end:{line:84,column:64}},27:{start:{line:85,column:16},end:{line:85,column:38}},28:{start:{line:86,column:18},end:{line:86,column:49}},29:{start:{line:87,column:23},end:{line:87,column:59}},30:{start:{line:88,column:20},end:{line:88,column:53}},31:{start:{line:89,column:23},end:{line:89,column:59}},32:{start:{line:90,column:4},end:{line:322,column:6}},33:{start:{line:325,column:22},end:{line:325,column:62}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:44},end:{line:28,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:39},end:{line:42,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:44},end:{line:56,column:3}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:41},end:{line:70,column:3}},line:57},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:39},end:{line:81,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:11},end:{line:323,column:3}},line:82}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:23,column:5}},{start:{line:21,column:11},end:{line:23,column:5}}],line:19},1:{loc:{start:{line:33,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:37,column:5}},{start:{line:35,column:11},end:{line:37,column:5}}],line:33},2:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:49,column:11},end:{line:51,column:5}}],line:47},3:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},4:{loc:{start:{line:75,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:79,column:5}},{start:{line:77,column:11},end:{line:79,column:5}}],line:75},5:{loc:{start:{line:83,column:21},end:{line:83,column:55}},type:"binary-expr",locations:[{start:{line:83,column:21},end:{line:83,column:49}},{start:{line:83,column:53},end:{line:83,column:55}}],line:83},6:{loc:{start:{line:86,column:18},end:{line:86,column:49}},type:"binary-expr",locations:[{start:{line:86,column:18},end:{line:86,column:43}},{start:{line:86,column:47},end:{line:86,column:49}}],line:86},7:{loc:{start:{line:87,column:23},end:{line:87,column:59}},type:"binary-expr",locations:[{start:{line:87,column:23},end:{line:87,column:53}},{start:{line:87,column:57},end:{line:87,column:59}}],line:87},8:{loc:{start:{line:88,column:20},end:{line:88,column:53}},type:"binary-expr",locations:[{start:{line:88,column:20},end:{line:88,column:47}},{start:{line:88,column:51},end:{line:88,column:53}}],line:88},9:{loc:{start:{line:89,column:23},end:{line:89,column:59}},type:"binary-expr",locations:[{start:{line:89,column:23},end:{line:89,column:53}},{start:{line:89,column:57},end:{line:89,column:59}}],line:89},10:{loc:{start:{line:175,column:21},end:{line:175,column:42}},type:"binary-expr",locations:[{start:{line:175,column:21},end:{line:175,column:36}},{start:{line:175,column:40},end:{line:175,column:42}}],line:175},11:{loc:{start:{line:316,column:21},end:{line:316,column:62}},type:"binary-expr",locations:[{start:{line:316,column:21},end:{line:316,column:50}},{start:{line:316,column:54},end:{line:316,column:62}}],line:316}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AAmIM,SACE,KADF;AAnIN,OAAO,WAAW;AAClB,OAAO,YAAY;AAEnB,SAA0B,uBAAuB;AAEjD,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,MAAM,8BAA8B,MAAM,UAAsC;AAAA,EAC9E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,yBAAyB,UAAyC,OAAY;AAC5E,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AAEH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,GAAG,0BAA0B,SAAQ,IAAI,KAAK;AACrD,UAAM,MAAM,oBAAoB,CAAC;AAEjC,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAChD,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AAEtD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,gBAAgB;AAAA,QAEzB,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,EAAC,KAAK,EAAE,6DAA6D,EAAC;AAAA,cACjF,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,EAAE,YAAY;AAAA,cACrB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,YAAY;AAAA,cACrB,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,cAC1C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,cAC/C,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,cACxC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,SAAS,8BAA8B;AAAA,cAC9C,UAAU,yBAAyB,KAAK,MAAM,8BAA8B;AAAA;AAAA,UAC9E;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ;AAAA,cACjB,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,MAAM;AAAA,cACf,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,SAAS;AAAA,cAClB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,OAAO;AAAA,cAChB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,cAAc;AAAA,cACvB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,MAAK;AAAA,cACL,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,KAAK,OAAO,WAAW,KAAK,MAAM;AAAA,cAClD,SAAS,OAAO,WAAW,KAAK;AAAA,cAChC,UAAU,KAAK,yBAAyB,KAAK,MAAM,MAAM;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,aAAa;AAAA,cACtB,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,iBAAiB;AAAA,cAC1B,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,gBAAgB;AAAA,cACzB,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,sBAAsB;AAAA,cAC/B,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,kBAAkB;AAAA,cAC3B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,qBAAqB;AAAA,cAC9B,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,IAAI,SAAS,eAAe;AAAA,cACnC,WAAW,IAAI,SAAS;AAAA,cACxB,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,EAAE,4BAA4B,CAAC;AAAA,cACxC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,gBAAgB,gBAAgB,EAAE,qBAAqB;AAC7D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32c9e96b1bad1b4a6506c97f2353fe82fe2f5e02"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Dr=function(){return s},s}Dr();class X7e extends Sn.Component{changeTransitionProperty(e,t){Dr().f[0]++;const r=(Dr().s[0]++,{...this.props.mapStyle.transition});Dr().s[1]++,t===void 0?(Dr().b[0][0]++,Dr().s[2]++,delete r[e]):(Dr().b[0][1]++,Dr().s[3]++,r[e]=t),Dr().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(e,t){Dr().f[1]++;const r=(Dr().s[5]++,{...this.props.mapStyle.light});Dr().s[6]++,t===void 0?(Dr().b[1][0]++,Dr().s[7]++,delete r[e]):(Dr().b[1][1]++,Dr().s[8]++,r[e]=t),Dr().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeProjectionProperty(e,t){Dr().f[2]++;const r=(Dr().s[10]++,{...this.props.mapStyle.projection});Dr().s[11]++,t===void 0?(Dr().b[2][0]++,Dr().s[12]++,delete r[e]):(Dr().b[2][1]++,Dr().s[13]++,r[e]=t),Dr().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,projection:r})}changeTerrainProperty(e,t){Dr().f[3]++;const r=(Dr().s[15]++,{...this.props.mapStyle.terrain});Dr().s[16]++,t===void 0?(Dr().b[3][0]++,Dr().s[17]++,delete r[e]):(Dr().b[3][1]++,Dr().s[18]++,r[e]=t),Dr().s[19]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(e,t){Dr().f[4]++;const r=(Dr().s[20]++,{...this.props.mapStyle});Dr().s[21]++,t===void 0?(Dr().b[4][0]++,Dr().s[22]++,delete r[e]):(Dr().b[4][1]++,Dr().s[23]++,r[e]=t),Dr().s[24]++,this.props.onStyleChanged(r)}render(){Dr().f[5]++;const e=(Dr().s[25]++,Dr().b[5][0]++,this.props.mapStyle.metadata||(Dr().b[5][1]++,{})),{t,onChangeMetadataProperty:r,mapStyle:i}=(Dr().s[26]++,this.props),o=(Dr().s[27]++,DY(t)),s=(Dr().s[28]++,Dr().b[6][0]++,this.props.mapStyle.light||(Dr().b[6][1]++,{})),a=(Dr().s[29]++,Dr().b[7][0]++,this.props.mapStyle.transition||(Dr().b[7][1]++,{})),f=(Dr().s[30]++,Dr().b[8][0]++,this.props.mapStyle.terrain||(Dr().b[8][1]++,{})),m=(Dr().s[31]++,Dr().b[9][0]++,this.props.mapStyle.projection||(Dr().b[9][1]++,{}));return Dr().s[32]++,q.jsx(W0,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:t("Style Settings"),children:q.jsxs("div",{className:"modal:settings",children:[q.jsx(up,{label:t("Name"),fieldSpec:zi.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),q.jsx(up,{label:t("Owner"),fieldSpec:{doc:t("Owner ID of the style. Used by Mapbox or future style APIs.")},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),q.jsx(Yb,{fieldSpec:zi.$root.sprite,label:t("Sprite URL"),"data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),q.jsx(Yb,{label:t("Glyphs URL"),fieldSpec:zi.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),q.jsx(up,{label:o.maputnik.maptiler_access_token.label,fieldSpec:o.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:e["maputnik:openmaptiles_access_token"],onChange:r.bind(this,"maputnik:openmaptiles_access_token")}),q.jsx(up,{label:o.maputnik.thunderforest_access_token.label,fieldSpec:o.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:e["maputnik:thunderforest_access_token"],onChange:r.bind(this,"maputnik:thunderforest_access_token")}),q.jsx(up,{label:o.maputnik.stadia_access_token.label,fieldSpec:o.maputnik.stadia_access_token,"data-wd-key":"modal:settings.maputnik:stadia_access_token",value:e["maputnik:stadia_access_token"],onChange:r.bind(this,"maputnik:stadia_access_token")}),q.jsx(e5,{label:t("Center"),fieldSpec:zi.$root.center,length:2,type:"number",value:(Dr().b[10][0]++,i.center||(Dr().b[10][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),q.jsx(sm,{label:t("Zoom"),fieldSpec:zi.$root.zoom,value:i.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),q.jsx(sm,{label:t("Bearing"),fieldSpec:zi.$root.bearing,value:i.bearing,default:zi.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),q.jsx(sm,{label:t("Pitch"),fieldSpec:zi.$root.pitch,value:i.pitch,default:zi.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),q.jsx(vF,{label:t("Light anchor"),fieldSpec:zi.light.anchor,name:"light-anchor",value:s.anchor,options:Object.keys(zi.light.anchor.values),default:zi.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),q.jsx(vF,{label:"projection type",fieldSpec:zi.projection.type,name:"projection type",value:m.type,options:Object.keys(zi.projection.type.values),default:zi.projection.type.default,onChange:this.changeProjectionProperty.bind(this,"type")}),q.jsx(Z7e,{label:t("Light color"),fieldSpec:zi.light.color,value:s.color,default:zi.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),q.jsx(sm,{label:t("Light intensity"),fieldSpec:zi.light.intensity,value:s.intensity,default:zi.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),q.jsx(e5,{label:t("Light position"),fieldSpec:zi.light.position,type:"number",length:zi.light.position.length,value:s.position,default:zi.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),q.jsx(up,{label:t("Terrain source"),fieldSpec:zi.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:f.source,onChange:this.changeTerrainProperty.bind(this,"source")}),q.jsx(sm,{label:t("Terrain exaggeration"),fieldSpec:zi.terrain.exaggeration,value:f.exaggeration,default:zi.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),q.jsx(sm,{label:t("Transition delay"),fieldSpec:zi.transition.delay,value:a.delay,default:zi.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),q.jsx(sm,{label:t("Transition duration"),fieldSpec:zi.transition.duration,value:a.duration,default:zi.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),q.jsx(GM,{label:o.maputnik.style_renderer.label,fieldSpec:o.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol",t("Open Layers (experimental)")]],value:(Dr().b[11][0]++,e["maputnik:renderer"]||(Dr().b[11][1]++,"mlgljs")),onChange:r.bind(this,"maputnik:renderer")})]})})}}const J7e=(Dr().s[33]++,zo()(X7e));var FY={exports:{}};(function(n,e){(function(t,r,i){n.exports=i(),n.exports.default=i()})("slugify",Bp,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,s){if(typeof o!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var a=r[s.locale]||{},f=s.replacement===void 0?"-":s.replacement,m=s.trim===void 0?!0:s.trim,C=o.normalize().split("").reduce(function(B,I){var K=a[I];return K===void 0&&(K=t[I]),K===void 0&&(K=I),K===f&&(K=" "),B+K.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(C=C.replace(/[^A-Za-z0-9\s]/g,"")),m&&(C=C.trim()),C=C.replace(/\s+/g,f),s.lower&&(C=C.toLowerCase()),C}return i.extend=function(o){Object.assign(t,o)},i})})(FY);var eIe=FY.exports;const tIe=wa(eIe);var RY={exports:{}};(function(n,e){(function(t,r){r()})(Bp,function(){function t(m,C){return typeof C>"u"?C={autoBom:!1}:typeof C!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function r(m,C,B){var I=new XMLHttpRequest;I.open("GET",m),I.responseType="blob",I.onload=function(){f(I.response,C,B)},I.onerror=function(){console.error("could not download file")},I.send()}function i(m){var C=new XMLHttpRequest;C.open("HEAD",m,!1);try{C.send()}catch{}return 200<=C.status&&299>=C.status}function o(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(C)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(m,C,B){var I=s.URL||s.webkitURL,K=document.createElement("a");C=C||m.name||"download",K.download=C,K.rel="noopener",typeof m=="string"?(K.href=m,K.origin===location.origin?o(K):i(K.href)?r(m,C,B):o(K,K.target="_blank")):(K.href=I.createObjectURL(m),setTimeout(function(){I.revokeObjectURL(K.href)},4e4),setTimeout(function(){o(K)},0))}:"msSaveOrOpenBlob"in navigator?function(m,C,B){if(C=C||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(t(m,B),C);else if(i(m))r(m,C,B);else{var I=document.createElement("a");I.href=m,I.target="_blank",setTimeout(function(){o(I)})}}:function(m,C,B,I){if(I=I||open("","_blank"),I&&(I.document.title=I.document.body.innerText="downloading..."),typeof m=="string")return r(m,C,B);var K=m.type==="application/octet-stream",L=/constructor/i.test(s.HTMLElement)||s.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||K&&L||a)&&typeof FileReader<"u"){var ee=new FileReader;ee.onloadend=function(){var ne=ee.result;ne=Y?ne:ne.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=ne:location=ne,I=null},ee.readAsDataURL(m)}else{var V=s.URL||s.webkitURL,W=V.createObjectURL(m);I?I.location=W:location.href=W,I=null,setTimeout(function(){V.revokeObjectURL(W)},4e4)}});s.saveAs=f.saveAs=f,n.exports=f})})(RY);var _F=RY.exports;const nIe="5.0.0-pre.1",rIe="get_your_own_OpIi9ZULNHzrESv6T2vL",iIe="b71f7f0ba4064f5eb9e903859a9cf5c6",UY={openmaptiles:rIe,thunderforest:iIe};function Bn(){var n="/home/runner/work/maputnik/maputnik/src/libs/style.ts",e="c162664fcb147ac7caff0efb860cd8a0c7d435d1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:19},end:{line:47,column:42}},19:{start:{line:48,column:20},end:{line:48,column:67}},20:{start:{line:49,column:2},end:{line:51,column:3}},21:{start:{line:50,column:4},end:{line:50,column:37}},22:{start:{line:52,column:2},end:{line:52,column:21}},23:{start:{line:55,column:17},end:{line:55,column:45}},24:{start:{line:56,column:2},end:{line:56,column:31}},25:{start:{line:56,column:15},end:{line:56,column:31}},26:{start:{line:57,column:2},end:{line:57,column:57}},27:{start:{line:57,column:41},end:{line:57,column:57}},28:{start:{line:58,column:23},end:{line:58,column:33}},29:{start:{line:59,column:2},end:{line:63,column:3}},30:{start:{line:60,column:4},end:{line:60,column:37}},31:{start:{line:61,column:9},end:{line:63,column:3}},32:{start:{line:62,column:4},end:{line:62,column:30}},33:{start:{line:64,column:22},end:{line:64,column:68}},34:{start:{line:65,column:2},end:{line:67,column:3}},35:{start:{line:66,column:4},end:{line:66,column:20}},36:{start:{line:69,column:2},end:{line:73,column:3}},37:{start:{line:70,column:4},end:{line:70,column:55}},38:{start:{line:72,column:4},end:{line:72,column:57}},39:{start:{line:74,column:25},end:{line:80,column:3}},40:{start:{line:81,column:23},end:{line:84,column:3}},41:{start:{line:85,column:2},end:{line:85,column:22}},42:{start:{line:88,column:21},end:{line:88,column:29}},43:{start:{line:89,column:2},end:{line:91,column:5}},44:{start:{line:90,column:4},end:{line:90,column:76}},45:{start:{line:92,column:2},end:{line:100,column:3}},46:{start:{line:93,column:27},end:{line:93,column:73}},47:{start:{line:94,column:4},end:{line:99,column:5}},48:{start:{line:95,column:6},end:{line:98,column:8}},49:{start:{line:101,column:2},end:{line:101,column:22}},50:{start:{line:104,column:26},end:{line:106,column:3}},51:{start:{line:107,column:2},end:{line:107,column:63}},52:{start:{line:108,column:2},end:{line:108,column:64}},53:{start:{line:109,column:2},end:{line:109,column:57}},54:{start:{line:110,column:2},end:{line:113,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:53,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:54,column:9},end:{line:54,column:33}},loc:{start:{line:54,column:67},end:{line:86,column:1}},line:54},9:{name:"replaceAccessTokens",decl:{start:{line:87,column:9},end:{line:87,column:28}},loc:{start:{line:87,column:50},end:{line:102,column:1}},line:87},10:{name:"(anonymous_10)",decl:{start:{line:89,column:40},end:{line:89,column:41}},loc:{start:{line:89,column:56},end:{line:91,column:3}},line:89},11:{name:"stripAccessTokens",decl:{start:{line:103,column:9},end:{line:103,column:26}},loc:{start:{line:103,column:37},end:{line:114,column:1}},line:103}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:19},end:{line:47,column:42}},type:"binary-expr",locations:[{start:{line:47,column:19},end:{line:47,column:36}},{start:{line:47,column:40},end:{line:47,column:42}}],line:47},4:{loc:{start:{line:49,column:2},end:{line:51,column:3}},type:"if",locations:[{start:{line:49,column:2},end:{line:51,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:49,column:6},end:{line:49,column:40}},type:"binary-expr",locations:[{start:{line:49,column:6},end:{line:49,column:24}},{start:{line:49,column:28},end:{line:49,column:40}}],line:49},6:{loc:{start:{line:54,column:56},end:{line:54,column:65}},type:"default-arg",locations:[{start:{line:54,column:63},end:{line:54,column:65}}],line:54},7:{loc:{start:{line:56,column:2},end:{line:56,column:31}},type:"if",locations:[{start:{line:56,column:2},end:{line:56,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},8:{loc:{start:{line:57,column:2},end:{line:57,column:57}},type:"if",locations:[{start:{line:57,column:2},end:{line:57,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},9:{loc:{start:{line:57,column:6},end:{line:57,column:39}},type:"binary-expr",locations:[{start:{line:57,column:6},end:{line:57,column:24}},{start:{line:57,column:28},end:{line:57,column:39}}],line:57},10:{loc:{start:{line:59,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:59,column:2},end:{line:63,column:3}},{start:{line:61,column:9},end:{line:63,column:3}}],line:59},11:{loc:{start:{line:59,column:6},end:{line:59,column:89}},type:"binary-expr",locations:[{start:{line:59,column:6},end:{line:59,column:46}},{start:{line:59,column:50},end:{line:59,column:89}}],line:59},12:{loc:{start:{line:61,column:9},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:9},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},13:{loc:{start:{line:61,column:13},end:{line:61,column:70}},type:"binary-expr",locations:[{start:{line:61,column:13},end:{line:61,column:28}},{start:{line:61,column:32},end:{line:61,column:70}}],line:61},14:{loc:{start:{line:65,column:2},end:{line:67,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:67,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},15:{loc:{start:{line:69,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:69,column:2},end:{line:73,column:3}},{start:{line:71,column:9},end:{line:73,column:3}}],line:69},16:{loc:{start:{line:87,column:39},end:{line:87,column:48}},type:"default-arg",locations:[{start:{line:87,column:46},end:{line:87,column:48}}],line:87},17:{loc:{start:{line:92,column:2},end:{line:100,column:3}},type:"if",locations:[{start:{line:92,column:2},end:{line:100,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},18:{loc:{start:{line:92,column:6},end:{line:92,column:114}},type:"binary-expr",locations:[{start:{line:92,column:6},end:{line:92,column:21}},{start:{line:92,column:26},end:{line:92,column:69}},{start:{line:92,column:73},end:{line:92,column:113}}],line:92},19:{loc:{start:{line:94,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:99,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0],17:[0,0],18:[0,0,0],19:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC,OAAQ,QAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO,IAAK,QAAO;AAE7C,MAAI,iBAAiB;AACrB,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,qBAAiB;AAAA,EACnB,WACU,SAAS,UAAW,OAAO,KAAK,MAAM,mBAAmB,GAAG;AAGpE,qBAAiB;AAAA,EACnB;AAEA,QAAM,cAAc,eAAe,gBAAgB,UAAU,IAAI;AAEjE,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,MAAI;AACJ,MAAI,kBAAkB,UAAU;AAI9B,gBAAY,GAAG,OAAO,GAAG,YAAY,WAAW;AAAA,EAClD,OAAO;AACL,gBAAY,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,EACrD;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK;AAAA,IACP;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO,gBAAgB,qCAAqC;AAC5D,SAAO,gBAAgB,8BAA8B;AACrD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c162664fcb147ac7caff0efb860cd8a0c7d435d1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Bn=function(){return s},s}Bn();const oIe=(Bn().s[0]++,jY({version:8,sources:{},layers:[]}));function zY(){return Bn().f[0]++,Bn().s[1]++,Math.random().toString(36).substring(2,9)}function aIe(n){return Bn().f[1]++,Bn().s[2]++,Bn().b[1][0]++,!("id"in n)||(Bn().b[1][1]++,!n.id)?(Bn().b[0][0]++,Bn().s[3]++,n.id=zY(),Bn().s[4]++,n):(Bn().b[0][1]++,Bn().s[5]++,n)}function sIe(n){Bn().f[2]++;const e=(Bn().s[6]++,n.layers.map(t=>{Bn().f[3]++;const r=(Bn().s[7]++,{...t});return Bn().s[8]++,delete r.interactive,Bn().s[9]++,r}));return Bn().s[10]++,{...n,layers:e}}function lIe(n){return Bn().f[4]++,Bn().s[11]++,{...n,layers:pte(n.layers)}}function jY(n){return Bn().f[5]++,Bn().s[12]++,sIe(lIe(aIe(n)))}function uIe(n,e){Bn().f[6]++,Bn().s[13]++;for(let t=(Bn().s[14]++,0);t<n.length;t++){if(Bn().s[15]++,n[t].id===e)return Bn().b[2][0]++,Bn().s[16]++,t;Bn().b[2][1]++}return Bn().s[17]++,null}function ST(n,e,t){Bn().f[7]++;const r=(Bn().s[18]++,Bn().b[3][0]++,e.metadata||(Bn().b[3][1]++,{}));let i=(Bn().s[19]++,r[`maputnik:${n}_access_token`]);return Bn().s[20]++,Bn().b[5][0]++,t.allowFallback&&(Bn().b[5][1]++,!i)?(Bn().b[4][0]++,Bn().s[21]++,i=UY[n]):Bn().b[4][1]++,Bn().s[22]++,i}function AIe(n,e,t=(Bn().b[6][0]++,{})){var m;Bn().f[8]++;const r=(Bn().s[23]++,n.sources[e]);if(Bn().s[24]++,r)Bn().b[7][1]++;else return Bn().b[7][0]++,Bn().s[25]++,n;if(Bn().s[26]++,Bn().b[9][0]++,!("url"in r)||(Bn().b[9][1]++,!r.url))return Bn().b[8][0]++,Bn().s[27]++,n;Bn().b[8][1]++;let i=(Bn().s[28]++,e);Bn().s[29]++,Bn().b[11][0]++,e==="thunderforest_transport"||(Bn().b[11][1]++,e==="thunderforest_outdoors")?(Bn().b[10][0]++,Bn().s[30]++,i="thunderforest"):(Bn().b[10][1]++,Bn().s[31]++,Bn().b[13][0]++,"url"in r&&(Bn().b[13][1]++,(m=r.url)==null?void 0:m.match(/\.stadiamaps\.com/))?(Bn().b[12][0]++,Bn().s[32]++,i="stadia"):Bn().b[12][1]++);const o=(Bn().s[33]++,ST(i,n,t));if(Bn().s[34]++,o)Bn().b[14][1]++;else return Bn().b[14][0]++,Bn().s[35]++,n;let s;Bn().s[36]++,i=="stadia"?(Bn().b[15][0]++,Bn().s[37]++,s=`${r.url}?api_key=${o}`):(Bn().b[15][1]++,Bn().s[38]++,s=r.url.replace("{key}",o));const a=(Bn().s[39]++,{...n.sources,[e]:{...r,url:s}}),f=(Bn().s[40]++,{...n,sources:a});return Bn().s[41]++,f}function cIe(n,e=(Bn().b[16][0]++,{})){Bn().f[9]++;let t=(Bn().s[42]++,n);if(Bn().s[43]++,Object.keys(n.sources).forEach(r=>{Bn().f[10]++,Bn().s[44]++,t=AIe(t,r,e)}),Bn().s[45]++,Bn().b[18][0]++,n.glyphs&&(Bn().b[18][1]++,n.glyphs.match(/\.tilehosting\.com/)||(Bn().b[18][2]++,n.glyphs.match(/\.maptiler\.com/)))){Bn().b[17][0]++;const r=(Bn().s[46]++,ST("openmaptiles",n,e));Bn().s[47]++,r?(Bn().b[19][0]++,Bn().s[48]++,t={...t,glyphs:n.glyphs.replace("{key}",r)}):Bn().b[19][1]++}else Bn().b[17][1]++;return Bn().s[49]++,t}function hIe(n){Bn().f[11]++;const e=(Bn().s[50]++,{...n.metadata});return Bn().s[51]++,delete e["maputnik:openmaptiles_access_token"],Bn().s[52]++,delete e["maputnik:thunderforest_access_token"],Bn().s[53]++,delete e["maputnik:stadia_access_token"],Bn().s[54]++,{...n,metadata:e}}const aA={ensureStyleValidity:jY,emptyStyle:oIe,indexOfLayer:uIe,generateId:zY,getAccessToken:ST,replaceAccessTokens:cIe,stripAccessTokens:hIe};function fo(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",e="debd59e823fcfb634ba8ff1dd2f4e09babe945ae",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:14,column:28},end:{line:14,column:35}},1:{start:{line:17,column:4},end:{line:21,column:6}},2:{start:{line:24,column:4},end:{line:32,column:5}},3:{start:{line:25,column:6},end:{line:29,column:9}},4:{start:{line:31,column:6},end:{line:31,column:36}},5:{start:{line:35,column:23},end:{line:35,column:44}},6:{start:{line:36,column:22},end:{line:36,column:69}},7:{start:{line:37,column:17},end:{line:61,column:1}},8:{start:{line:62,column:17},end:{line:62,column:70}},9:{start:{line:63,column:23},end:{line:63,column:40}},10:{start:{line:64,column:4},end:{line:64,column:39}},11:{start:{line:67,column:23},end:{line:67,column:44}},12:{start:{line:68,column:17},end:{line:68,column:83}},13:{start:{line:69,column:23},end:{line:69,column:40}},14:{start:{line:70,column:4},end:{line:70,column:39}},15:{start:{line:73,column:25},end:{line:79,column:5}},16:{start:{line:80,column:4},end:{line:80,column:44}},17:{start:{line:83,column:14},end:{line:83,column:26}},18:{start:{line:84,column:16},end:{line:84,column:38}},19:{start:{line:85,column:4},end:{line:149,column:6}},20:{start:{line:152,column:20},end:{line:152,column:58}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:19},end:{line:22,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:23,column:2},end:{line:23,column:3}},loc:{start:{line:23,column:15},end:{line:33,column:3}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:17},end:{line:65,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:66,column:2},end:{line:66,column:3}},loc:{start:{line:66,column:18},end:{line:71,column:3}},line:66},4:{name:"(anonymous_4)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:42},end:{line:81,column:3}},line:72},5:{name:"(anonymous_5)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:11},end:{line:150,column:3}},line:82}},branchMap:{0:{loc:{start:{line:24,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:32,column:5}},{start:{line:30,column:11},end:{line:32,column:5}}],line:24},1:{loc:{start:{line:36,column:22},end:{line:36,column:69}},type:"binary-expr",locations:[{start:{line:36,column:22},end:{line:36,column:46}},{start:{line:36,column:50},end:{line:36,column:69}}],line:36},2:{loc:{start:{line:102,column:24},end:{line:102,column:58}},type:"binary-expr",locations:[{start:{line:102,column:24},end:{line:102,column:52}},{start:{line:102,column:56},end:{line:102,column:58}}],line:102},3:{loc:{start:{line:111,column:24},end:{line:111,column:58}},type:"binary-expr",locations:[{start:{line:111,column:24},end:{line:111,column:52}},{start:{line:111,column:56},end:{line:111,column:58}}],line:111},4:{loc:{start:{line:120,column:24},end:{line:120,column:58}},type:"binary-expr",locations:[{start:{line:120,column:24},end:{line:120,column:52}},{start:{line:120,column:56},end:{line:120,column:58}}],line:120}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AAkHQ,cAKA,YALA;AAlHR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAC7B,SAA0B,uBAAuB;AAEjD,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAE1E,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ,KAAK,MAAM,EAAE,KAAK;AAChE,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,MAAM,oBAAoB,CAAC;AACjC,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,cAAc;AAAA,QACvB,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,UACzB,oBAAC,OACE,YAAE,yCAAyC,GAC9C;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,sBAAsB;AAAA,gBAC1C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,2BAA2B;AAAA,gBAC/C,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,IAAI,SAAS,oBAAoB;AAAA,gBACxC,WAAW,IAAI,SAAS;AAAA,gBACxB,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,8BAA8B;AAAA,gBACjF,UAAU,KAAK,uBAAuB,KAAK,MAAM,8BAA8B;AAAA;AAAA,YACjF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBACf,EAAE,gBAAgB;AAAA;AAAA;AAAA,YACrB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBACf,EAAE,eAAe;AAAA;AAAA;AAAA,YACpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;AAEA,MAAM,cAAc,gBAAgB,EAAE,mBAAmB;AACzD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"debd59e823fcfb634ba8ff1dd2f4e09babe945ae"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return fo=function(){return s},s}fo();const CF=(fo().s[0]++,nIe);class dIe extends Sn.Component{tokenizedStyle(){return fo().f[0]++,fo().s[1]++,Zj(aA.stripAccessTokens(aA.replaceAccessTokens(this.props.mapStyle)))}exportName(){return fo().f[1]++,fo().s[2]++,this.props.mapStyle.name?(fo().b[0][0]++,fo().s[3]++,tIe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(fo().b[0][1]++,fo().s[4]++,this.props.mapStyle.id)}downloadHtml(){fo().f[2]++;const e=(fo().s[5]++,this.tokenizedStyle()),t=(fo().s[6]++,fo().b[1][0]++,this.props.mapStyle.name||(fo().b[1][1]++,this.props.t("Map"))),r=(fo().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${t}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${CF}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${CF}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${e},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(fo().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(fo().s[9]++,this.exportName());fo().s[10]++,_F.saveAs(i,o+".html")}downloadStyle(){fo().f[3]++;const e=(fo().s[11]++,this.tokenizedStyle()),t=(fo().s[12]++,new Blob([e],{type:"application/json;charset=utf-8"})),r=(fo().s[13]++,this.exportName());fo().s[14]++,_F.saveAs(t,r+".json")}changeMetadataProperty(e,t){fo().f[4]++;const r=(fo().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[e]:t}});fo().s[16]++,this.props.onStyleChanged(r)}render(){fo().f[5]++;const e=(fo().s[17]++,this.props.t),t=(fo().s[18]++,DY(e));return fo().s[19]++,q.jsx(W0,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Export Style"),className:"maputnik-export-modal",children:q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:e("Download Style")}),q.jsx("p",{children:e("Download a JSON style to your computer.")}),q.jsxs("div",{children:[q.jsx(up,{label:t.maputnik.maptiler_access_token.label,fieldSpec:t.maputnik.maptiler_access_token,value:(fo().b[2][0]++,this.props.mapStyle.metadata||(fo().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),q.jsx(up,{label:t.maputnik.thunderforest_access_token.label,fieldSpec:t.maputnik.thunderforest_access_token,value:(fo().b[3][0]++,this.props.mapStyle.metadata||(fo().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")}),q.jsx(up,{label:t.maputnik.stadia_access_token.label,fieldSpec:t.maputnik.stadia_access_token,value:(fo().b[4][0]++,this.props.mapStyle.metadata||(fo().b[4][1]++,{}))["maputnik:stadia_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:stadia_access_token")})]}),q.jsxs("div",{className:"maputnik-modal-export-buttons",children:[q.jsxs(ds,{onClick:this.downloadStyle.bind(this),children:[q.jsx(sB,{}),e("Download Style")]}),q.jsxs(ds,{onClick:this.downloadHtml.bind(this),children:[q.jsx(sB,{}),e("Download HTML")]})]})]})})}}const fIe=(fo().s[20]++,zo()(dIe));function s5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",e="950dd35e62562a3439b74678b95f406e749c6958",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return s5=function(){return s},s}s5();class NY extends Sn.Component{render(){return s5().f[0]++,s5().s[0]++,q.jsx($b,{label:this.props.label,children:q.jsx(wY,{...this.props})})}}function l5(){var n="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",e="a27c35e986d22656fa80c276efb67df518853ac2",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return l5=function(){return s},s}l5();class pIe extends Sn.Component{render(){return l5().f[0]++,l5().s[0]++,q.jsx(oa,{label:this.props.label,children:q.jsx(bT,{...this.props})})}}function Dn(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",e="07c52af4b46a9b385386c8ffc87738ddc997ed4f",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:15,column:14},end:{line:15,column:26}},1:{start:{line:16,column:4},end:{line:30,column:9}},2:{start:{line:23,column:29},end:{line:26,column:12}},3:{start:{line:35,column:4},end:{line:38,column:7}},4:{start:{line:41,column:18},end:{line:41,column:47}},5:{start:{line:42,column:4},end:{line:51,column:6}},6:{start:{line:54,column:14},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:99,column:9}},8:{start:{line:66,column:32},end:{line:69,column:12}},9:{start:{line:80,column:33},end:{line:83,column:12}},10:{start:{line:92,column:33},end:{line:95,column:12}},11:{start:{line:102,column:27},end:{line:107,column:1}},12:{start:{line:102,column:34},end:{line:107,column:1}},13:{start:{line:110,column:14},end:{line:110,column:26}},14:{start:{line:111,column:24},end:{line:118,column:5}},15:{start:{line:112,column:26},end:{line:112,column:64}},16:{start:{line:113,column:6},end:{line:113,column:29}},17:{start:{line:114,column:6},end:{line:117,column:9}},18:{start:{line:119,column:4},end:{line:146,column:9}},19:{start:{line:126,column:29},end:{line:129,column:12}},20:{start:{line:133,column:8},end:{line:144,column:10}},21:{start:{line:141,column:31},end:{line:141,column:52}},22:{start:{line:151,column:14},end:{line:151,column:26}},23:{start:{line:152,column:24},end:{line:159,column:5}},24:{start:{line:153,column:26},end:{line:153,column:64}},25:{start:{line:154,column:6},end:{line:154,column:29}},26:{start:{line:155,column:6},end:{line:158,column:9}},27:{start:{line:160,column:23},end:{line:165,column:5}},28:{start:{line:161,column:6},end:{line:164,column:9}},29:{start:{line:166,column:4},end:{line:192,column:9}},30:{start:{line:179,column:8},end:{line:190,column:10}},31:{start:{line:187,column:31},end:{line:187,column:52}},32:{start:{line:197,column:14},end:{line:197,column:26}},33:{start:{line:198,column:4},end:{line:209,column:6}},34:{start:{line:204,column:28},end:{line:207,column:10}},35:{start:{line:214,column:14},end:{line:214,column:26}},36:{start:{line:215,column:4},end:{line:247,column:9}},37:{start:{line:227,column:12},end:{line:230,column:15}},38:{start:{line:240,column:12},end:{line:243,column:15}},39:{start:{line:252,column:14},end:{line:252,column:26}},40:{start:{line:253,column:24},end:{line:259,column:5}},41:{start:{line:260,column:4},end:{line:295,column:5}},42:{start:{line:262,column:8},end:{line:262,column:79}},43:{start:{line:264,column:8},end:{line:264,column:85}},44:{start:{line:266,column:8},end:{line:266,column:77}},45:{start:{line:268,column:8},end:{line:268,column:76}},46:{start:{line:270,column:8},end:{line:270,column:77}},47:{start:{line:272,column:8},end:{line:272,column:76}},48:{start:{line:274,column:8},end:{line:274,column:77}},49:{start:{line:276,column:8},end:{line:288,column:13}},50:{start:{line:282,column:36},end:{line:285,column:14}},51:{start:{line:290,column:8},end:{line:290,column:74}},52:{start:{line:292,column:8},end:{line:292,column:74}},53:{start:{line:294,column:8},end:{line:294,column:20}},54:{start:{line:298,column:31},end:{line:298,column:80}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:31,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:23,column:20},end:{line:23,column:21}},loc:{start:{line:23,column:29},end:{line:26,column:12}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:24},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:19},end:{line:52,column:3}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:100,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:66,column:20},end:{line:66,column:21}},loc:{start:{line:66,column:32},end:{line:69,column:12}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:33},end:{line:83,column:12}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:92,column:20},end:{line:92,column:21}},loc:{start:{line:92,column:33},end:{line:95,column:12}},line:92},8:{name:"(anonymous_8)",decl:{start:{line:102,column:27},end:{line:102,column:28}},loc:{start:{line:102,column:34},end:{line:107,column:1}},line:102},9:{name:"(anonymous_9)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:11},end:{line:147,column:3}},line:109},10:{name:"(anonymous_10)",decl:{start:{line:111,column:24},end:{line:111,column:25}},loc:{start:{line:111,column:38},end:{line:118,column:5}},line:111},11:{name:"(anonymous_11)",decl:{start:{line:126,column:20},end:{line:126,column:21}},loc:{start:{line:126,column:29},end:{line:129,column:12}},line:126},12:{name:"(anonymous_12)",decl:{start:{line:132,column:32},end:{line:132,column:33}},loc:{start:{line:132,column:57},end:{line:145,column:7}},line:132},13:{name:"(anonymous_13)",decl:{start:{line:141,column:22},end:{line:141,column:23}},loc:{start:{line:141,column:31},end:{line:141,column:52}},line:141},14:{name:"(anonymous_14)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:11},end:{line:193,column:3}},line:150},15:{name:"(anonymous_15)",decl:{start:{line:152,column:24},end:{line:152,column:25}},loc:{start:{line:152,column:38},end:{line:159,column:5}},line:152},16:{name:"(anonymous_16)",decl:{start:{line:160,column:23},end:{line:160,column:24}},loc:{start:{line:160,column:33},end:{line:165,column:5}},line:160},17:{name:"(anonymous_17)",decl:{start:{line:178,column:32},end:{line:178,column:33}},loc:{start:{line:178,column:57},end:{line:191,column:7}},line:178},18:{name:"(anonymous_18)",decl:{start:{line:187,column:22},end:{line:187,column:23}},loc:{start:{line:187,column:31},end:{line:187,column:52}},line:187},19:{name:"(anonymous_19)",decl:{start:{line:196,column:2},end:{line:196,column:3}},loc:{start:{line:196,column:11},end:{line:210,column:3}},line:196},20:{name:"(anonymous_20)",decl:{start:{line:204,column:18},end:{line:204,column:19}},loc:{start:{line:204,column:28},end:{line:207,column:10}},line:204},21:{name:"(anonymous_21)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:248,column:3}},line:213},22:{name:"(anonymous_22)",decl:{start:{line:226,column:20},end:{line:226,column:21}},loc:{start:{line:226,column:30},end:{line:231,column:11}},line:226},23:{name:"(anonymous_23)",decl:{start:{line:239,column:20},end:{line:239,column:21}},loc:{start:{line:239,column:33},end:{line:244,column:11}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:11},end:{line:296,column:3}},line:251},25:{name:"(anonymous_25)",decl:{start:{line:282,column:22},end:{line:282,column:23}},loc:{start:{line:282,column:36},end:{line:285,column:14}},line:282}},branchMap:{0:{loc:{start:{line:41,column:18},end:{line:41,column:47}},type:"binary-expr",locations:[{start:{line:41,column:18},end:{line:41,column:41}},{start:{line:41,column:45},end:{line:41,column:47}}],line:41},1:{loc:{start:{line:79,column:17},end:{line:79,column:47}},type:"binary-expr",locations:[{start:{line:79,column:17},end:{line:79,column:42}},{start:{line:79,column:46},end:{line:79,column:47}}],line:79},2:{loc:{start:{line:91,column:17},end:{line:91,column:48}},type:"binary-expr",locations:[{start:{line:91,column:17},end:{line:91,column:42}},{start:{line:91,column:46},end:{line:91,column:48}}],line:91},3:{loc:{start:{line:260,column:4},end:{line:295,column:5}},type:"switch",locations:[{start:{line:261,column:6},end:{line:262,column:79}},{start:{line:263,column:6},end:{line:264,column:85}},{start:{line:265,column:6},end:{line:266,column:77}},{start:{line:267,column:6},end:{line:268,column:76}},{start:{line:269,column:6},end:{line:270,column:77}},{start:{line:271,column:6},end:{line:272,column:76}},{start:{line:273,column:6},end:{line:274,column:77}},{start:{line:275,column:6},end:{line:288,column:13}},{start:{line:289,column:6},end:{line:290,column:74}},{start:{line:291,column:6},end:{line:292,column:74}},{start:{line:293,column:6},end:{line:294,column:20}}],line:260},4:{loc:{start:{line:286,column:19},end:{line:286,column:90}},type:"binary-expr",locations:[{start:{line:286,column:19},end:{line:286,column:45}},{start:{line:286,column:49},end:{line:286,column:90}}],line:286}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AA2BW,SACL,KADK;AA3BX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAC1B,SAA0B,uBAAuB;AAcjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,cAAc;AAAA,UACvB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAaA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM,EAAE,UAAU;AAAA,QAC9B,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW,OAAO,cAAc;AAAA,UAChC,SAAS;AAAA,YACP,CAAC,OAAO,mCAAmC;AAAA,YAC3C,CAAC,OAAO,yBAAyB;AAAA,UACnC;AAAA,UACA,UAAU,YAAU,KAAK,MAAM,SAAS;AAAA,YACtC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA,UACD,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,UAAU;AAAA,UACnB,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAEA,MAAM,qBAAyE,CAAC,MAAO;AAAA,EACrF,EAAE,OAAO,EAAE,gBAAgB,GAAG,KAAK,WAAW;AAAA,EAC9C,EAAE,OAAO,EAAE,iBAAiB,GAAG,KAAK,YAAY;AAAA,EAChD,EAAE,OAAO,EAAE,oBAAoB,GAAG,KAAK,eAAe;AAAA,EACtD,EAAE,OAAO,EAAE,mBAAmB,GAAG,KAAK,cAAc;AACtD;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,mBAAmB,CAAC,EAAE,IAAI,CAAC,EAAC,OAAO,IAAG,GAAG,QAAQ;AAChD,eACE;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YAEA,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,EAAE,aAAa;AAAA,QACtB,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,EAAE,SAAS,GAAG,WAAW,OAAO,eAAe,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,SAAS;AAAA,UAClB,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,MAAM,uCAAuC,MAAM,UAA+C;AAAA,EAChG,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,MACrB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM,KAAK,MAAM;AAAA,MACjB,QAAQ,KAAK,MAAM;AAAA,IACrB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACjE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAe,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACjE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,EAAE,UAAU;AAAA,YACnB,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;AAEA,MAAM,yBAAyB,gBAAgB,EAAE,8BAA8B;AAC/E,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"07c52af4b46a9b385386c8ffc87738ddc997ed4f"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Dn=function(){return s},s}Dn();class E6 extends Sn.Component{render(){Dn().f[0]++;const e=(Dn().s[0]++,this.props.t);return Dn().s[1]++,q.jsxs("div",{children:[q.jsx(Yb,{label:e("TileJSON URL"),fieldSpec:da.source_vector.url,value:this.props.source.url,onChange:t=>(Dn().f[1]++,Dn().s[2]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class O6 extends Sn.Component{changeTileUrls(e){Dn().f[2]++,Dn().s[3]++,this.props.onChange({...this.props.source,tiles:e})}renderTileUrls(){Dn().f[3]++;const e=(Dn().s[4]++,Dn().b[0][0]++,this.props.source.tiles||(Dn().b[0][1]++,[]));return Dn().s[5]++,q.jsx(NY,{label:this.props.t("Tile URL"),fieldSpec:da.source_vector.tiles,type:"url",value:e,onChange:this.changeTileUrls.bind(this)})}render(){Dn().f[4]++;const e=(Dn().s[6]++,this.props.t);return Dn().s[7]++,q.jsxs("div",{children:[this.renderTileUrls(),q.jsx(GM,{label:e("Scheme Type"),fieldSpec:da.source_vector.scheme,options:[["xyz","xyz (Slippy map tilenames scheme)"],["tms","tms (OSGeo spec scheme)"]],onChange:t=>(Dn().f[5]++,Dn().s[8]++,this.props.onChange({...this.props.source,scheme:t})),value:this.props.source.scheme,"data-wd-key":"modal:sources.add.scheme_type"}),q.jsx(sm,{label:e("Min Zoom"),fieldSpec:da.source_vector.minzoom,value:(Dn().b[1][0]++,this.props.source.minzoom||(Dn().b[1][1]++,0)),onChange:t=>(Dn().f[6]++,Dn().s[9]++,this.props.onChange({...this.props.source,minzoom:t}))}),q.jsx(sm,{label:e("Max Zoom"),fieldSpec:da.source_vector.maxzoom,value:(Dn().b[2][0]++,this.props.source.maxzoom||(Dn().b[2][1]++,22)),onChange:t=>(Dn().f[7]++,Dn().s[10]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}Dn().s[11]++;const WY=n=>(Dn().f[8]++,Dn().s[12]++,[{label:n("Coord top left"),key:"top left"},{label:n("Coord top right"),key:"top right"},{label:n("Coord bottom right"),key:"bottom right"},{label:n("Coord bottom left"),key:"bottom left"}]);class mIe extends Sn.Component{render(){Dn().f[9]++;const e=(Dn().s[13]++,this.props.t);Dn().s[14]++;const t=(r,i)=>{Dn().f[10]++;const o=(Dn().s[15]++,this.props.source.coordinates.slice(0));Dn().s[16]++,o[r]=i,Dn().s[17]++,this.props.onChange({...this.props.source,coordinates:o})};return Dn().s[18]++,q.jsxs("div",{children:[q.jsx(Yb,{label:e("Image URL"),fieldSpec:da.source_image.url,value:this.props.source.url,onChange:r=>(Dn().f[11]++,Dn().s[19]++,this.props.onChange({...this.props.source,url:r}))}),WY(e).map(({label:r,key:i},o)=>(Dn().f[12]++,Dn().s[20]++,q.jsx(e5,{label:r,length:2,type:"number",value:this.props.source.coordinates[o],default:[0,0],onChange:s=>(Dn().f[13]++,Dn().s[21]++,t(o,s))},i)))]})}}class gIe extends Sn.Component{render(){Dn().f[14]++;const e=(Dn().s[22]++,this.props.t);Dn().s[23]++;const t=(i,o)=>{Dn().f[15]++;const s=(Dn().s[24]++,this.props.source.coordinates.slice(0));Dn().s[25]++,s[i]=o,Dn().s[26]++,this.props.onChange({...this.props.source,coordinates:s})};Dn().s[27]++;const r=i=>{Dn().f[16]++,Dn().s[28]++,this.props.onChange({...this.props.source,urls:i})};return Dn().s[29]++,q.jsxs("div",{children:[q.jsx(NY,{label:e("Video URL"),fieldSpec:da.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:r}),WY(e).map(({label:i,key:o},s)=>(Dn().f[17]++,Dn().s[30]++,q.jsx(e5,{label:i,length:2,type:"number",value:this.props.source.coordinates[s],default:[0,0],onChange:a=>(Dn().f[18]++,Dn().s[31]++,t(s,a))},o)))]})}}class yIe extends Sn.Component{render(){Dn().f[19]++;const e=(Dn().s[32]++,this.props.t);return Dn().s[33]++,q.jsx(Yb,{label:e("GeoJSON URL"),fieldSpec:da.source_geojson.data,value:this.props.source.data,onChange:t=>(Dn().f[20]++,Dn().s[34]++,this.props.onChange({...this.props.source,data:t}))})}}class vIe extends Sn.Component{render(){Dn().f[21]++;const e=(Dn().s[35]++,this.props.t);return Dn().s[36]++,q.jsxs("div",{children:[q.jsx(oa,{label:e("GeoJSON"),fieldSpec:da.source_geojson.data,children:q.jsx(Wk,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{Dn().f[22]++,Dn().s[37]++,this.props.onChange({...this.props.source,data:t})}})}),q.jsx(pIe,{label:e("Cluster"),value:this.props.source.cluster,onChange:t=>{Dn().f[23]++,Dn().s[38]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class _Ie extends Sn.Component{render(){Dn().f[24]++;const e=(Dn().s[39]++,this.props.t),t=(Dn().s[40]++,{source:this.props.source,onChange:this.props.onChange,t:this.props.t,i18n:this.props.i18n,tReady:this.props.tReady});switch(Dn().s[41]++,this.props.mode){case"geojson_url":return Dn().b[3][0]++,Dn().s[42]++,q.jsx(yIe,{...t});case"geojson_json":return Dn().b[3][1]++,Dn().s[43]++,q.jsx(vIe,{...t});case"tilejson_vector":return Dn().b[3][2]++,Dn().s[44]++,q.jsx(E6,{...t});case"tile_vector":return Dn().b[3][3]++,Dn().s[45]++,q.jsx(O6,{...t});case"tilejson_raster":return Dn().b[3][4]++,Dn().s[46]++,q.jsx(E6,{...t});case"tile_raster":return Dn().b[3][5]++,Dn().s[47]++,q.jsx(O6,{...t});case"tilejson_raster-dem":return Dn().b[3][6]++,Dn().s[48]++,q.jsx(E6,{...t});case"tilexyz_raster-dem":return Dn().b[3][7]++,Dn().s[49]++,q.jsx(O6,{...t,children:q.jsx(GM,{label:e("Encoding"),fieldSpec:da.source_raster_dem.encoding,options:Object.keys(da.source_raster_dem.encoding.values),onChange:r=>(Dn().f[25]++,Dn().s[50]++,this.props.onChange({...this.props.source,encoding:r})),value:(Dn().b[4][0]++,this.props.source.encoding||(Dn().b[4][1]++,da.source_raster_dem.encoding.default))})});case"image":return Dn().b[3][8]++,Dn().s[51]++,q.jsx(mIe,{...t});case"video":return Dn().b[3][9]++,Dn().s[52]++,q.jsx(gIe,{...t});default:return Dn().b[3][10]++,Dn().s[53]++,null}}}const GY=(Dn().s[54]++,zo()(_Ie));function uf(){var n="/home/runner/work/maputnik/maputnik/src/libs/source.ts",e="315b9927ffd3b5bf51669bb9e53779783a451930",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return uf=function(){return s},s}uf();function CIe(n,e){uf().f[0]++;const t=(uf().s[0]++,{...n.sources});return uf().s[1]++,delete t[e],uf().s[2]++,{...n,sources:t}}function bF(n,e,t){return uf().f[1]++,uf().s[3]++,QY(n,e,t)}function QY(n,e,t){uf().f[2]++;const r=(uf().s[4]++,{...n.sources,[e]:t});return uf().s[5]++,{...n,sources:r}}const bIe={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},xIe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},wIe={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},MIe={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},xF={openmaptiles:bIe,thunderforest_transport:xIe,thunderforest_outdoors:wIe,open_zoomstack:MIe};function Zt(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",e="aed9a5f2b4aacdc28d22ab9c0a0d0b5a436373fa",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:33,column:9}},1:{start:{line:20,column:23},end:{line:20,column:57}},2:{start:{line:37,column:2},end:{line:40,column:3}},3:{start:{line:38,column:4},end:{line:38,column:43}},4:{start:{line:38,column:22},end:{line:38,column:43}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:44,column:3}},7:{start:{line:42,column:4},end:{line:42,column:50}},8:{start:{line:42,column:22},end:{line:42,column:50}},9:{start:{line:43,column:4},end:{line:43,column:33}},10:{start:{line:45,column:2},end:{line:48,column:3}},11:{start:{line:46,column:4},end:{line:46,column:43}},12:{start:{line:46,column:22},end:{line:46,column:43}},13:{start:{line:47,column:4},end:{line:47,column:29}},14:{start:{line:49,column:2},end:{line:55,column:3}},15:{start:{line:50,column:4},end:{line:54,column:5}},16:{start:{line:51,column:6},end:{line:51,column:27}},17:{start:{line:53,column:6},end:{line:53,column:28}},18:{start:{line:56,column:2},end:{line:58,column:3}},19:{start:{line:57,column:4},end:{line:57,column:19}},20:{start:{line:59,column:2},end:{line:61,column:3}},21:{start:{line:60,column:4},end:{line:60,column:19}},22:{start:{line:62,column:2},end:{line:62,column:14}},23:{start:{line:66,column:14},end:{line:66,column:26}},24:{start:{line:67,column:4},end:{line:93,column:9}},25:{start:{line:79,column:27},end:{line:79,column:67}},26:{start:{line:98,column:4},end:{line:98,column:17}},27:{start:{line:99,column:4},end:{line:103,column:6}},28:{start:{line:106,column:19},end:{line:106,column:50}},29:{start:{line:107,column:25},end:{line:107,column:40}},30:{start:{line:108,column:4},end:{line:184,column:5}},31:{start:{line:110,column:8},end:{line:113,column:10}},32:{start:{line:115,column:8},end:{line:119,column:10}},33:{start:{line:121,column:8},end:{line:124,column:10}},34:{start:{line:126,column:8},end:{line:132,column:10}},35:{start:{line:134,column:8},end:{line:137,column:10}},36:{start:{line:139,column:8},end:{line:145,column:10}},37:{start:{line:147,column:8},end:{line:150,column:10}},38:{start:{line:152,column:8},end:{line:157,column:10}},39:{start:{line:159,column:8},end:{line:168,column:10}},40:{start:{line:170,column:8},end:{line:181,column:10}},41:{start:{line:183,column:8},end:{line:183,column:18}},42:{start:{line:186,column:10},end:{line:189,column:3}},43:{start:{line:187,column:33},end:{line:187,column:43}},44:{start:{line:188,column:4},end:{line:188,column:39}},45:{start:{line:190,column:19},end:{line:192,column:3}},46:{start:{line:191,column:4},end:{line:191,column:30}},47:{start:{line:194,column:14},end:{line:194,column:26}},48:{start:{line:195,column:32},end:{line:197,column:5}},49:{start:{line:198,column:4},end:{line:248,column:9}},50:{start:{line:205,column:27},end:{line:205,column:57}},51:{start:{line:226,column:30},end:{line:226,column:87}},52:{start:{line:253,column:27},end:{line:253,column:40}},53:{start:{line:254,column:4},end:{line:254,column:35}},54:{start:{line:255,column:4},end:{line:255,column:26}},55:{start:{line:258,column:28},end:{line:258,column:38}},56:{start:{line:259,column:22},end:{line:259,column:77}},57:{start:{line:260,column:26},end:{line:273,column:6}},58:{start:{line:261,column:21},end:{line:261,column:47}},59:{start:{line:262,column:6},end:{line:272,column:8}},60:{start:{line:267,column:29},end:{line:267,column:93}},61:{start:{line:268,column:26},end:{line:268,column:85}},62:{start:{line:274,column:27},end:{line:286,column:6}},63:{start:{line:274,column:75},end:{line:274,column:106}},64:{start:{line:275,column:21},end:{line:275,column:44}},65:{start:{line:276,column:6},end:{line:285,column:8}},66:{start:{line:282,column:26},end:{line:282,column:107}},67:{start:{line:287,column:4},end:{line:317,column:6}},68:{start:{line:310,column:45},end:{line:310,column:109}},69:{start:{line:320,column:21},end:{line:320,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:34,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:57}},line:20},2:{name:"editorMode",decl:{start:{line:36,column:9},end:{line:36,column:19}},loc:{start:{line:36,column:28},end:{line:63,column:1}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:11},end:{line:94,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:79,column:21},end:{line:79,column:22}},loc:{start:{line:79,column:27},end:{line:79,column:67}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:21},end:{line:104,column:3}},line:97},6:{name:"(anonymous_6)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:22},end:{line:185,column:3}},line:105},7:{name:"(anonymous_7)",decl:{start:{line:186,column:10},end:{line:186,column:11}},loc:{start:{line:186,column:16},end:{line:189,column:3}},line:186},8:{name:"(anonymous_8)",decl:{start:{line:190,column:19},end:{line:190,column:20}},loc:{start:{line:190,column:31},end:{line:192,column:3}},line:190},9:{name:"(anonymous_9)",decl:{start:{line:193,column:2},end:{line:193,column:3}},loc:{start:{line:193,column:11},end:{line:249,column:3}},line:193},10:{name:"(anonymous_10)",decl:{start:{line:205,column:20},end:{line:205,column:21}},loc:{start:{line:205,column:27},end:{line:205,column:57}},line:205},11:{name:"(anonymous_11)",decl:{start:{line:226,column:20},end:{line:226,column:21}},loc:{start:{line:226,column:30},end:{line:226,column:87}},line:226},12:{name:"(anonymous_12)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:21},end:{line:256,column:3}},line:252},13:{name:"(anonymous_13)",decl:{start:{line:257,column:2},end:{line:257,column:3}},loc:{start:{line:257,column:11},end:{line:318,column:3}},line:257},14:{name:"(anonymous_14)",decl:{start:{line:260,column:60},end:{line:260,column:61}},loc:{start:{line:260,column:74},end:{line:273,column:5}},line:260},15:{name:"(anonymous_15)",decl:{start:{line:267,column:20},end:{line:267,column:21}},loc:{start:{line:267,column:29},end:{line:267,column:93}},line:267},16:{name:"(anonymous_16)",decl:{start:{line:268,column:20},end:{line:268,column:21}},loc:{start:{line:268,column:26},end:{line:268,column:85}},line:268},17:{name:"(anonymous_17)",decl:{start:{line:274,column:61},end:{line:274,column:62}},loc:{start:{line:274,column:75},end:{line:274,column:106}},line:274},18:{name:"(anonymous_18)",decl:{start:{line:274,column:112},end:{line:274,column:113}},loc:{start:{line:274,column:126},end:{line:286,column:5}},line:274},19:{name:"(anonymous_19)",decl:{start:{line:282,column:20},end:{line:282,column:21}},loc:{start:{line:282,column:26},end:{line:282,column:107}},line:282},20:{name:"(anonymous_20)",decl:{start:{line:310,column:23},end:{line:310,column:24}},loc:{start:{line:310,column:45},end:{line:310,column:109}},line:310}},branchMap:{0:{loc:{start:{line:37,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:37,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},1:{loc:{start:{line:38,column:4},end:{line:38,column:43}},type:"if",locations:[{start:{line:38,column:4},end:{line:38,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},2:{loc:{start:{line:41,column:2},end:{line:44,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:44,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:42,column:50}},type:"if",locations:[{start:{line:42,column:4},end:{line:42,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:45,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:48,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},5:{loc:{start:{line:46,column:4},end:{line:46,column:43}},type:"if",locations:[{start:{line:46,column:4},end:{line:46,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},6:{loc:{start:{line:49,column:2},end:{line:55,column:3}},type:"if",locations:[{start:{line:49,column:2},end:{line:55,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},7:{loc:{start:{line:50,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:54,column:5}},{start:{line:52,column:11},end:{line:54,column:5}}],line:50},8:{loc:{start:{line:56,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:56,column:2},end:{line:58,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},9:{loc:{start:{line:59,column:2},end:{line:61,column:3}},type:"if",locations:[{start:{line:59,column:2},end:{line:61,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:106,column:19},end:{line:106,column:50}},type:"binary-expr",locations:[{start:{line:106,column:19},end:{line:106,column:44}},{start:{line:106,column:48},end:{line:106,column:50}}],line:106},11:{loc:{start:{line:106,column:20},end:{line:106,column:36}},type:"binary-expr",locations:[{start:{line:106,column:20},end:{line:106,column:30}},{start:{line:106,column:34},end:{line:106,column:36}}],line:106},12:{loc:{start:{line:108,column:4},end:{line:184,column:5}},type:"switch",locations:[{start:{line:109,column:6},end:{line:113,column:10}},{start:{line:114,column:6},end:{line:119,column:10}},{start:{line:120,column:6},end:{line:124,column:10}},{start:{line:125,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:145,column:10}},{start:{line:146,column:6},end:{line:150,column:10}},{start:{line:151,column:6},end:{line:157,column:10}},{start:{line:158,column:6},end:{line:168,column:10}},{start:{line:169,column:6},end:{line:181,column:10}},{start:{line:182,column:6},end:{line:183,column:18}}],line:108},13:{loc:{start:{line:117,column:19},end:{line:117,column:42}},type:"binary-expr",locations:[{start:{line:117,column:19},end:{line:117,column:33}},{start:{line:117,column:37},end:{line:117,column:42}}],line:117},14:{loc:{start:{line:123,column:15},end:{line:123,column:72}},type:"binary-expr",locations:[{start:{line:123,column:15},end:{line:123,column:25}},{start:{line:123,column:29},end:{line:123,column:72}}],line:123},15:{loc:{start:{line:128,column:17},end:{line:128,column:80}},type:"binary-expr",locations:[{start:{line:128,column:17},end:{line:128,column:29}},{start:{line:128,column:33},end:{line:128,column:80}}],line:128},16:{loc:{start:{line:129,column:19},end:{line:129,column:38}},type:"binary-expr",locations:[{start:{line:129,column:19},end:{line:129,column:33}},{start:{line:129,column:37},end:{line:129,column:38}}],line:129},17:{loc:{start:{line:130,column:19},end:{line:130,column:39}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:39}}],line:130},18:{loc:{start:{line:131,column:18},end:{line:131,column:40}},type:"binary-expr",locations:[{start:{line:131,column:18},end:{line:131,column:31}},{start:{line:131,column:35},end:{line:131,column:40}}],line:131},19:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},20:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},21:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},22:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},23:{loc:{start:{line:144,column:18},end:{line:144,column:40}},type:"binary-expr",locations:[{start:{line:144,column:18},end:{line:144,column:31}},{start:{line:144,column:35},end:{line:144,column:40}}],line:144},24:{loc:{start:{line:149,column:15},end:{line:149,column:72}},type:"binary-expr",locations:[{start:{line:149,column:15},end:{line:149,column:25}},{start:{line:149,column:29},end:{line:149,column:72}}],line:149},25:{loc:{start:{line:154,column:17},end:{line:154,column:80}},type:"binary-expr",locations:[{start:{line:154,column:17},end:{line:154,column:29}},{start:{line:154,column:33},end:{line:154,column:80}}],line:154},26:{loc:{start:{line:155,column:19},end:{line:155,column:38}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:38}}],line:155},27:{loc:{start:{line:156,column:19},end:{line:156,column:39}},type:"binary-expr",locations:[{start:{line:156,column:19},end:{line:156,column:33}},{start:{line:156,column:37},end:{line:156,column:39}}],line:156}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AAgCU,cACA,YADA;AAhCV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAEnB,SAA0B,uBAAuB;AAEjD,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO,MAAO,QAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,EAAE,gCAAgC,EAAC,UAAU,KAAK,MAAM,SAAQ,CAAC;AAAA,YAC7E,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,QAC1D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,UAC1D,QAAS,OAAqC,UAAU;AAAA,QAC1D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AAQrB,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,WAAW;AAAA,UACpB,WAAW,EAAC,KAAK,EAAE,wFAAwF,EAAC;AAAA,UAC5G,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA,UACrD,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,EAAE,aAAa;AAAA,UACtB,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;AAAA,YACpC,CAAC,eAAe,EAAE,eAAe,CAAC;AAAA,YAClC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,mBAAmB,EAAE,uBAAuB,CAAC;AAAA,YAC9C,CAAC,eAAe,EAAE,oBAAoB,CAAC;AAAA,YACvC,CAAC,uBAAuB,EAAE,2BAA2B,CAAC;AAAA,YACtD,CAAC,sBAAsB,EAAE,uBAAuB,CAAC;AAAA,YACjD,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,YACpB,CAAC,SAAS,EAAE,OAAO,CAAC;AAAA,UACtB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA,UAClB,eAAY;AAAA;AAAA,MACd;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACd,eAAY;AAAA,UAEX,YAAE,YAAY;AAAA;AAAA,MACjB;AAAA,OACF;AAAA,EACF;AACF;AASA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,GAAG,SAAQ,IAAI,KAAK;AAC3B,UAAM,YAAY,EAAC,GAAG,MAAM,KAAK,MAAM,MAAM,QAAQ,KAAK,MAAM,OAAM;AACtE,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA,UACzE,GAAG;AAAA;AAAA,QALC;AAAA,MAMP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,SAAS;AAAA,QAElB;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACxB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,sBAAsB,GAAE;AAAA,YAC/B,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,YACzB,oBAAC,OAAG,YAAE,8FAA8F,GAAE;AAAA,YACtG;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA,gBACxH,GAAG;AAAA;AAAA,YACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aed9a5f2b4aacdc28d22ab9c0a0d0b5a436373fa"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Zt=function(){return s},s}Zt();class SIe extends Sn.Component{render(){return Zt().f[0]++,Zt().s[0]++,q.jsx("div",{className:"maputnik-public-source",children:q.jsxs(ds,{className:"maputnik-public-source-select",onClick:()=>(Zt().f[1]++,Zt().s[1]++,this.props.onSelect(this.props.id)),children:[q.jsxs("div",{className:"maputnik-public-source-info",children:[q.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),q.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),q.jsx("span",{className:"maputnik-space"}),q.jsx(oN,{})]})})}}function EIe(n){return Zt().f[2]++,Zt().s[2]++,n.type==="raster"?(Zt().b[0][0]++,Zt().s[3]++,n.tiles?(Zt().b[1][0]++,Zt().s[4]++,"tile_raster"):(Zt().b[1][1]++,Zt().s[5]++,"tilejson_raster")):(Zt().b[0][1]++,Zt().s[6]++,n.type==="raster-dem"?(Zt().b[2][0]++,Zt().s[7]++,n.tiles?(Zt().b[3][0]++,Zt().s[8]++,"tilexyz_raster-dem"):(Zt().b[3][1]++,Zt().s[9]++,"tilejson_raster-dem")):(Zt().b[2][1]++,Zt().s[10]++,n.type==="vector"?(Zt().b[4][0]++,Zt().s[11]++,n.tiles?(Zt().b[5][0]++,Zt().s[12]++,"tile_vector"):(Zt().b[5][1]++,Zt().s[13]++,"tilejson_vector")):(Zt().b[4][1]++,Zt().s[14]++,n.type==="geojson"?(Zt().b[6][0]++,Zt().s[15]++,typeof n.data=="string"?(Zt().b[7][0]++,Zt().s[16]++,"geojson_url"):(Zt().b[7][1]++,Zt().s[17]++,"geojson_json")):(Zt().b[6][1]++,Zt().s[18]++,n.type==="image"?(Zt().b[8][0]++,Zt().s[19]++,"image"):(Zt().b[8][1]++,Zt().s[20]++,n.type==="video"?(Zt().b[9][0]++,Zt().s[21]++,"video"):(Zt().b[9][1]++,Zt().s[22]++,null))))))}class OIe extends Sn.Component{render(){Zt().f[3]++;const e=(Zt().s[23]++,this.props.t);return Zt().s[24]++,q.jsxs("div",{className:"maputnik-active-source-type-editor",children:[q.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[q.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),q.jsx("span",{className:"maputnik-space"}),q.jsx(ds,{"aria-label":e("Remove '{{sourceId}}' source",{sourceId:this.props.sourceId}),className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Zt().f[4]++,Zt().s[25]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:q.jsx(Zv,{})})]}),q.jsx("div",{className:"maputnik-active-source-type-editor-content",children:q.jsx(GY,{onChange:this.props.onChange,mode:EIe(this.props.source),source:this.props.source})})]})}}class BIe extends Sn.Component{constructor(t){Zt().f[5]++,Zt().s[26]++;super(t);dn(this,"onAdd",(Zt().s[42]++,()=>{Zt().f[7]++;const{source:t,sourceId:r}=(Zt().s[43]++,this.state);Zt().s[44]++,this.props.onAdd(r,t)}));dn(this,"onChangeSource",(Zt().s[45]++,t=>{Zt().f[8]++,Zt().s[46]++,this.setState({source:t})}));Zt().s[27]++,this.state={mode:"tilejson_vector",sourceId:aA.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(t){Zt().f[6]++;const r=(Zt().s[28]++,Zt().b[10][0]++,(Zt().b[11][0]++,this.state||(Zt().b[11][1]++,{})).source||(Zt().b[10][1]++,{})),{protocol:i}=(Zt().s[29]++,window.location);switch(Zt().s[30]++,t){case"geojson_url":return Zt().b[12][0]++,Zt().s[31]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Zt().b[12][1]++,Zt().s[32]++,{type:"geojson",cluster:(Zt().b[13][0]++,r.cluster||(Zt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Zt().b[12][2]++,Zt().s[33]++,{type:"vector",url:(Zt().b[14][0]++,r.url||(Zt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_vector":return Zt().b[12][3]++,Zt().s[34]++,{type:"vector",tiles:(Zt().b[15][0]++,r.tiles||(Zt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Zt().b[16][0]++,r.minzoom||(Zt().b[16][1]++,0)),maxzoom:(Zt().b[17][0]++,r.maxzoom||(Zt().b[17][1]++,14)),scheme:(Zt().b[18][0]++,r.scheme||(Zt().b[18][1]++,"xyz"))};case"tilejson_raster":return Zt().b[12][4]++,Zt().s[35]++,{type:"raster",url:(Zt().b[19][0]++,r.url||(Zt().b[19][1]++,`${i}//localhost:3000/tilejson.json`))};case"tile_raster":return Zt().b[12][5]++,Zt().s[36]++,{type:"raster",tiles:(Zt().b[20][0]++,r.tiles||(Zt().b[20][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Zt().b[21][0]++,r.minzoom||(Zt().b[21][1]++,0)),maxzoom:(Zt().b[22][0]++,r.maxzoom||(Zt().b[22][1]++,14)),scheme:(Zt().b[23][0]++,r.scheme||(Zt().b[23][1]++,"xyz"))};case"tilejson_raster-dem":return Zt().b[12][6]++,Zt().s[37]++,{type:"raster-dem",url:(Zt().b[24][0]++,r.url||(Zt().b[24][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Zt().b[12][7]++,Zt().s[38]++,{type:"raster-dem",tiles:(Zt().b[25][0]++,r.tiles||(Zt().b[25][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Zt().b[26][0]++,r.minzoom||(Zt().b[26][1]++,0)),maxzoom:(Zt().b[27][0]++,r.maxzoom||(Zt().b[27][1]++,14))};case"image":return Zt().b[12][8]++,Zt().s[39]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Zt().b[12][9]++,Zt().s[40]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Zt().b[12][10]++,Zt().s[41]++,{}}}render(){Zt().f[9]++;const t=(Zt().s[47]++,this.props.t),r=(Zt().s[48]++,{doc:zi.source_vector.type.doc});return Zt().s[49]++,q.jsxs("div",{className:"maputnik-add-source",children:[q.jsx(up,{label:t("Source ID"),fieldSpec:{doc:t("Unique ID that identifies the source and is used in the layer to reference the source.")},value:this.state.sourceId,onChange:i=>(Zt().f[10]++,Zt().s[50]++,this.setState({sourceId:i})),"data-wd-key":"modal:sources.add.source_id"}),q.jsx(GM,{label:t("Source Type"),fieldSpec:r,options:[["geojson_json",t("GeoJSON (JSON)")],["geojson_url",t("GeoJSON (URL)")],["tilejson_vector",t("Vector (TileJSON URL)")],["tile_vector",t("Vector (Tile URLs)")],["tilejson_raster",t("Raster (TileJSON URL)")],["tile_raster",t("Raster (Tile URLs)")],["tilejson_raster-dem",t("Raster DEM (TileJSON URL)")],["tilexyz_raster-dem",t("Raster DEM (XYZ URLs)")],["image",t("Image")],["video",t("Video")]],onChange:i=>(Zt().f[11]++,Zt().s[51]++,this.setState({mode:i,source:this.defaultSource(i)})),value:this.state.mode,"data-wd-key":"modal:sources.add.source_type"}),q.jsx(GY,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),q.jsx(ds,{className:"maputnik-add-source-button",onClick:this.onAdd,"data-wd-key":"modal:sources.add.add_source",children:t("Add Source")})]})}}class IIe extends Sn.Component{stripTitle(e){Zt().f[12]++;const t=(Zt().s[52]++,{...e});return Zt().s[53]++,delete t.title,Zt().s[54]++,t}render(){Zt().f[13]++;const{t:e,mapStyle:t}=(Zt().s[55]++,this.props),r=(Zt().s[56]++,{t:e,i18n:this.props.i18n,tReady:this.props.tReady}),i=(Zt().s[57]++,Object.keys(t.sources).map(s=>{Zt().f[14]++;const a=(Zt().s[58]++,t.sources[s]);return Zt().s[59]++,q.jsx(OIe,{sourceId:s,source:a,onChange:f=>(Zt().f[15]++,Zt().s[60]++,this.props.onStyleChanged(QY(t,s,f))),onDelete:()=>(Zt().f[16]++,Zt().s[61]++,this.props.onStyleChanged(CIe(t,s))),...r},s)})),o=(Zt().s[62]++,Object.keys(xF).filter(s=>(Zt().f[17]++,Zt().s[63]++,!(s in t.sources))).map(s=>{Zt().f[18]++;const a=(Zt().s[64]++,xF[s]);return Zt().s[65]++,q.jsx(SIe,{id:s,type:a.type,title:a.title,onSelect:()=>(Zt().f[19]++,Zt().s[66]++,this.props.onStyleChanged(bF(t,s,this.stripTitle(a))))},s)}));return Zt().s[67]++,q.jsxs(W0,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Sources"),children:[q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:e("Active Sources")}),i]}),q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:e("Choose Public Source")}),q.jsx("p",{children:e("Add one of the publicly available sources to your style.")}),q.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:o})]}),q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:e("Add New Source")}),q.jsx("p",{children:e("Add a new source to your style. You can only choose the source type and id at creation time!")}),q.jsx(BIe,{onAdd:(s,a)=>(Zt().f[20]++,Zt().s[68]++,this.props.onStyleChanged(bF(t,s,a))),...r})]})]})}}const kIe=(Zt().s[69]++,zo()(IIe));var $Y={};Object.defineProperty($Y,"__esModule",{value:!0});var TIe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PIe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},KIe=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),LIe=Wn,B6=UIe(LIe),DIe=z0,FIe=RIe(DIe);function RIe(n){return n&&n.__esModule?n:{default:n}}function UIe(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function zIe(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}function jIe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NIe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function WIe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var GIe=function(n){WIe(e,n);function e(t){jIe(this,e);var r=NIe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.handleChange=function(o){var s=Array.prototype.slice.call(o.target.files),a=(r.props.as||"url").toLowerCase();Promise.all(s.map(function(f){return new Promise(function(m,C){var B=new FileReader;switch(B.onload=function(I){m([I,f])},a){case"binary":{B.readAsBinaryString(f);break}case"buffer":{B.readAsArrayBuffer(f);break}case"text":{B.readAsText(f);break}case"url":{B.readAsDataURL(f);break}}})})).then(function(f){r.props.onChange(o,f)})},r.triggerInput=function(){var o=FIe.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":PIe(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return KIe(e,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,s=i.style,a=zIe(i,["as","children","style"]),f=o?{position:"absolute",top:"-9999px"}:{};return B6.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:s},B6.createElement("input",TIe({},a,{type:"file",ref:function(C){r._reactFileReaderInput=C},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:f})),o)}}]),e}(B6.Component),QIe=$Y.default=GIe;function Ec(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",e="8092b056f21d597f3cd7d476fbebca118ff97879",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:24}},1:{start:{line:11,column:14},end:{line:11,column:26}},2:{start:{line:12,column:4},end:{line:29,column:6}},3:{start:{line:20,column:26},end:{line:20,column:42}},4:{start:{line:23,column:28},end:{line:23,column:49}},5:{start:{line:26,column:137},end:{line:26,column:159}},6:{start:{line:32,column:21},end:{line:32,column:60}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:30,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:20,column:19},end:{line:20,column:20}},loc:{start:{line:20,column:26},end:{line:20,column:42}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:23,column:22},end:{line:23,column:23}},loc:{start:{line:23,column:28},end:{line:23,column:49}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:26,column:130},end:{line:26,column:131}},loc:{start:{line:26,column:137},end:{line:26,column:159}},line:26}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAuBW,SAWL,KAXK;AAvBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,SAA0B,uBAAuB;AAWjD,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAC/C,YAAE,QAAQ,GACb,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,eAAe,gBAAgB,EAAE,oBAAoB;AAC3D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8092b056f21d597f3cd7d476fbebca118ff97879"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ec=function(){return s},s}Ec();class $Ie extends Sn.Component{underlayOnClick(e){Ec().f[0]++,Ec().s[0]++,e.stopPropagation()}render(){Ec().f[1]++;const e=(Ec().s[1]++,this.props.t);return Ec().s[2]++,q.jsxs(W0,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:t=>(Ec().f[2]++,Ec().s[3]++,underlayProps(t))},title:this.props.title,onOpenToggle:()=>(Ec().f[3]++,Ec().s[4]++,this.props.onCancel()),children:[q.jsx("p",{children:this.props.message}),q.jsx("p",{className:"maputnik-dialog__buttons",children:q.jsx(ds,{onClick:t=>(Ec().f[4]++,Ec().s[5]++,this.props.onCancel(t)),children:e("Cancel")})})]})}}const YIe=(Ec().s[6]++,zo()($Ie)),YY=[{id:"0-empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="},{id:"americana",title:"Americana",url:"https://americanamap.org/style.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/23fa75ad-63e6-43f5-8837-03cdb0428bac"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"maptiler-basic-gl-style",title:"MapTiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"protomaps-light",title:"Protomaps Light",url:"https://api.protomaps.com/styles/v2/light.json?key=d828297496b11844",thumbnail:"https://github.com/user-attachments/assets/911f9765-4a7d-4736-9ec0-f2d4c90ae587"},{id:"stadia-outdoors",title:"Stadia Outdoors",url:"https://tiles.stadiamaps.com/styles/outdoors.json",thumbnail:"https://tiles.stadiamaps.com/static/outdoors.png?size=480x320&center=47.350259,8.49035&zoom=16"},{id:"versatiles-colorful",title:"Versatiles Colorful",url:"https://tiles.versatiles.org/assets/styles/colorful.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/6cd69818-c541-46e4-a920-65fb4f654931"}];function qn(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",e="0c94e828d96fddb86569ab169f440351a9f2f073",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:38,column:9}},1:{start:{line:20,column:23},end:{line:20,column:58}},2:{start:{line:43,column:4},end:{line:43,column:17}},3:{start:{line:44,column:4},end:{line:46,column:6}},4:{start:{line:49,column:4},end:{line:51,column:7}},5:{start:{line:54,column:4},end:{line:54,column:31}},6:{start:{line:54,column:11},end:{line:54,column:31}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:14},end:{line:139,column:26}},51:{start:{line:140,column:25},end:{line:151,column:6}},52:{start:{line:141,column:6},end:{line:150,column:8}},53:{start:{line:153,column:4},end:{line:158,column:5}},54:{start:{line:154,column:6},end:{line:157,column:11}},55:{start:{line:156,column:61},end:{line:156,column:78}},56:{start:{line:159,column:4},end:{line:226,column:9}},57:{start:{line:165,column:30},end:{line:165,column:49}},58:{start:{line:222,column:27},end:{line:222,column:56}},59:{start:{line:229,column:18},end:{line:229,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:39,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:23},end:{line:20,column:58}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:21},end:{line:47,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:15},end:{line:52,column:3}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:27},end:{line:62,column:3}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:227,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:140,column:42},end:{line:140,column:43}},loc:{start:{line:140,column:54},end:{line:151,column:5}},line:140},18:{name:"(anonymous_18)",decl:{start:{line:156,column:55},end:{line:156,column:56}},loc:{start:{line:156,column:61},end:{line:156,column:78}},line:156},19:{name:"(anonymous_19)",decl:{start:{line:165,column:24},end:{line:165,column:25}},loc:{start:{line:165,column:30},end:{line:165,column:49}},line:165},20:{name:"(anonymous_20)",decl:{start:{line:222,column:20},end:{line:222,column:21}},loc:{start:{line:222,column:27},end:{line:222,column:56}},line:222}},branchMap:{0:{loc:{start:{line:54,column:4},end:{line:54,column:31}},type:"if",locations:[{start:{line:54,column:4},end:{line:54,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:54},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:153,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:153,column:4},end:{line:158,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:153}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA6BQ,SACE,KADF;AA7BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AACxC,SAAS,OAAwB,uBAAuB;AAExD,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,MAAM,0BAA0B,MAAM,UAAkD;AAAA,EACtF,YAAY,OAA+B;AACzC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG,EAAG,GAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO,EAAE,YAAY;AAAA,UAEpB;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAI,YAAE,cAAc,GAAE;AAAA,cACvB,oBAAC,OAAG,YAAE,yCAAyC,GAAE;AAAA,cACjD,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAY,EAAE,YAAY,GAChF,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,gBAAE,EAAE,QAAQ;AAAA,iBAAE,GAChF;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAI,YAAE,eAAe,GAAE;AAAA,cACxB,oBAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,gBACkC,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I,GACF;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAY,EAAE,WAAW;AAAA,kBACzB,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAS,EAAE,cAAc;AAAA,kBACzB,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAI,YAAE,gBAAgB,GAAE;AAAA,cACzB,oBAAC,OACE,YAAE,0DAA0D,GAC/D;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO,EAAE,eAAe;AAAA,UACxB,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,EAAE,2BAA2B,EAAE,YAAY,KAAK,MAAM,iBAAiB,CAAC;AAAA;AAAA,MACnF;AAAA,OACF;AAAA,EAEJ;AACF;AAEA,MAAM,YAAY,gBAAgB,EAAE,iBAAiB;AACrD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0c94e828d96fddb86569ab169f440351a9f2f073"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return qn=function(){return s},s}qn();class qIe extends Sn.Component{render(){return qn().f[0]++,qn().s[0]++,q.jsx("div",{className:"maputnik-public-style",children:q.jsxs(ds,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(qn().f[1]++,qn().s[1]++,this.props.onSelect(this.props.url)),children:[q.jsxs("div",{className:"maputnik-public-style-header",children:[q.jsx("div",{children:this.props.title}),q.jsx("span",{className:"maputnik-space"}),q.jsx(oN,{})]}),q.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class VIe extends Sn.Component{constructor(t){qn().f[2]++,qn().s[2]++;super(t);dn(this,"onStyleSelect",(qn().s[10]++,t=>{qn().f[5]++,qn().s[11]++,this.clearError();let r=(qn().s[12]++,!1);qn().s[13]++,fetch(t,{mode:"cors",credentials:"same-origin"}).then(function(i){return qn().f[6]++,qn().s[14]++,i.json()}).then(i=>{if(qn().f[7]++,qn().s[15]++,r){qn().b[2][0]++,qn().s[16]++;return}else qn().b[2][1]++;qn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(qn().s[18]++,aA.ensureStyleValidity(i));qn().s[19]++,console.log("Loaded style ",o.id),qn().s[20]++,this.props.onStyleOpen(o),qn().s[21]++,this.onOpenToggle()}).catch(i=>{qn().f[8]++,qn().s[22]++,this.setState({error:`Failed to load: '${t}'`,activeRequest:null,activeRequestUrl:null}),qn().s[23]++,console.error(i),qn().s[24]++,console.warn("Could not open the style URL",t)}),qn().s[25]++,this.setState({activeRequest:{abort:function(){qn().f[9]++,qn().s[26]++,r=!0}},activeRequestUrl:t})}));dn(this,"onSubmitUrl",(qn().s[27]++,t=>{qn().f[10]++,qn().s[28]++,t.preventDefault(),qn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));dn(this,"onUpload",(qn().s[30]++,(t,r)=>{qn().f[11]++;const[,i]=(qn().s[31]++,r[0]),o=(qn().s[32]++,new FileReader);qn().s[33]++,this.clearError(),qn().s[34]++,o.readAsText(i,"UTF-8"),qn().s[35]++,o.onload=s=>{var f;qn().f[12]++;let a;qn().s[36]++;try{qn().s[37]++,a=JSON.parse((f=s.target)==null?void 0:f.result)}catch(m){qn().s[38]++,this.setState({error:m.toString()}),qn().s[39]++;return}qn().s[40]++,a=aA.ensureStyleValidity(a),qn().s[41]++,this.props.onStyleOpen(a),qn().s[42]++,this.onOpenToggle()},qn().s[43]++,o.onerror=s=>(qn().f[13]++,qn().s[44]++,console.log(s.target))}));dn(this,"onChangeUrl",(qn().s[48]++,t=>{qn().f[15]++,qn().s[49]++,this.setState({styleUrl:t})}));qn().s[3]++,this.state={styleUrl:""}}clearError(){qn().f[3]++,qn().s[4]++,this.setState({error:null})}onCancelActiveRequest(t){qn().f[4]++,qn().s[5]++,t?(qn().b[0][0]++,qn().s[6]++,t.stopPropagation()):qn().b[0][1]++,qn().s[7]++,this.state.activeRequest?(qn().b[1][0]++,qn().s[8]++,this.state.activeRequest.abort(),qn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):qn().b[1][1]++}onOpenToggle(){qn().f[14]++,qn().s[45]++,this.setState({styleUrl:""}),qn().s[46]++,this.clearError(),qn().s[47]++,this.props.onOpenToggle()}render(){qn().f[16]++;const t=(qn().s[50]++,this.props.t),r=(qn().s[51]++,YY.map(o=>(qn().f[17]++,qn().s[52]++,q.jsx(qIe,{url:o.url,title:o.title,thumbnailUrl:o.thumbnail,onSelect:this.onStyleSelect},o.id))));let i;return qn().s[53]++,this.state.error?(qn().b[3][0]++,qn().s[54]++,i=q.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,q.jsx("a",{href:"#",onClick:()=>(qn().f[18]++,qn().s[55]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):qn().b[3][1]++,qn().s[56]++,q.jsxs("div",{children:[q.jsxs(W0,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(qn().f[19]++,qn().s[57]++,this.onOpenToggle()),title:t("Open Style"),children:[i,q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:t("Upload Style")}),q.jsx("p",{children:t("Upload a JSON style from your computer.")}),q.jsx(QIe,{onChange:this.onUpload,tabIndex:-1,"aria-label":t("Style file"),children:q.jsxs(ds,{className:"maputnik-upload-button",children:[q.jsx(Aie,{})," ",t("Upload")]})})]}),q.jsx("section",{className:"maputnik-modal-section",children:q.jsxs("form",{onSubmit:this.onSubmitUrl,children:[q.jsx("h1",{children:t("Load from URL")}),q.jsx("p",{children:q.jsxs(S0,{t,children:["Load from a URL. Note that the URL must have ",q.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]})}),q.jsx(wT,{"aria-label":t("Style URL"),"data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:t("Enter URL..."),value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),q.jsx("div",{children:q.jsx(ds,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),q.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[q.jsx("h1",{children:t("Gallery Styles")}),q.jsx("p",{children:t("Open one of the publicly available styles to start from.")}),q.jsx("div",{className:"maputnik-style-gallery-container",children:r})]})]}),q.jsx(YIe,{isOpen:!!this.state.activeRequest,title:t("Loading style"),onCancel:o=>(qn().f[20]++,qn().s[58]++,this.onCancelActiveRequest(o)),message:t("Loading: {{requestUrl}}",{requestUrl:this.state.activeRequestUrl})})]})}}const HIe=(qn().s[59]++,zo()(VIe));function Ad(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",e="2fa0c1760625a188da3b2788fa0924b96bb7f3e1",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:26}},1:{start:{line:8,column:17},end:{line:41,column:5}},2:{start:{line:42,column:25},end:{line:115,column:5}},3:{start:{line:116,column:4},end:{line:145,column:6}},4:{start:{line:130,column:12},end:{line:133,column:22}},5:{start:{line:137,column:12},end:{line:141,column:22}},6:{start:{line:148,column:23},end:{line:148,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:146,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:129,column:57},end:{line:129,column:58}},loc:{start:{line:129,column:72},end:{line:134,column:11}},line:129},2:{name:"(anonymous_2)",decl:{start:{line:136,column:65},end:{line:136,column:66}},loc:{start:{line:136,column:80},end:{line:142,column:11}},line:136}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAiBa,SAwCA,UAxCA,KAwCA,YAxCA;AAjBb,OAAO,WAAW;AAClB,SAAS,OAAwB,uBAAuB;AAExD,OAAO,WAAW;AASlB,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,YAAY;AAAA,MACtB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,cAAc;AAAA,MACxB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,oBAAoB;AAAA,MAC9B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,sBAAsB;AAAA,MAChC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,gBAAgB;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,WAAW;AAAA,MACrB;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,aAAa;AAAA,MACvB;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM,EAAE,+BAAgC;AAAA,MAC1C;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM,EAAE,uBAAwB;AAAA,MAClC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM,EAAE,yBAA0B;AAAA,MACpC;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM,EAAE,0BAA2B;AAAA,MACrC;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM,EAAE,sCAAuC;AAAA,MACjD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,sCAAsC;AAAA,MAChD;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM,EAAE,mCAAmC;AAAA,MAC7C;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,WAAW;AAAA,QAEpB,+BAAC,aAAQ,WAAU,mDACjB;AAAA,8BAAC,OACC,+BAAC,SAAM,GAAM;AAAA;AAAA,YACL,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB,GACF;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAG,YAAE,8DAA8D,GAAE;AAAA,UACtE,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,iBAAiB,gBAAgB,EAAE,sBAAsB;AAC/D,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2fa0c1760625a188da3b2788fa0924b96bb7f3e1"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ad=function(){return s},s}Ad();class ZIe extends Sn.Component{render(){Ad().f[0]++;const e=(Ad().s[0]++,this.props.t),t=(Ad().s[1]++,[{key:q.jsx("kbd",{children:"?"}),text:e("Shortcuts menu")},{key:q.jsx("kbd",{children:"o"}),text:e("Open modal")},{key:q.jsx("kbd",{children:"e"}),text:e("Export modal")},{key:q.jsx("kbd",{children:"d"}),text:e("Data Sources modal")},{key:q.jsx("kbd",{children:"s"}),text:e("Style Settings modal")},{key:q.jsx("kbd",{children:"i"}),text:e("Toggle inspect")},{key:q.jsx("kbd",{children:"m"}),text:e("Focus map")},{key:q.jsx("kbd",{children:"!"}),text:e("Debug modal")}]),r=(Ad().s[2]++,[{key:q.jsx("kbd",{children:"+"}),text:e("Increase the zoom level by 1.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"+"})]}),text:e("Increase the zoom level by 2.")},{key:q.jsx("kbd",{children:"-"}),text:e("Decrease the zoom level by 1.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"-"})]}),text:e("Decrease the zoom level by 2.")},{key:q.jsx("kbd",{children:"Up"}),text:e("Pan up by 100 pixels.")},{key:q.jsx("kbd",{children:"Down"}),text:e("Pan down by 100 pixels.")},{key:q.jsx("kbd",{children:"Left"}),text:e("Pan left by 100 pixels.")},{key:q.jsx("kbd",{children:"Right"}),text:e("Pan right by 100 pixels.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"Right"})]}),text:e("Increase the rotation by 15 degrees.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"Left"})]}),text:e("Decrease the rotation by 15 degrees.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"Up"})]}),text:e("Increase the pitch by 10 degrees.")},{key:q.jsxs(q.Fragment,{children:[q.jsx("kbd",{children:"Shift"})," + ",q.jsx("kbd",{children:"Down"})]}),text:e("Decrease the pitch by 10 degrees.")}]);return Ad().s[3]++,q.jsx(W0,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Shortcuts"),children:q.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[q.jsx("p",{children:q.jsxs(S0,{t:e,children:["Press ",q.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]})}),q.jsx("dl",{children:t.map((i,o)=>(Ad().f[1]++,Ad().s[4]++,q.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[q.jsx("dt",{children:i.key},"dt"+o),q.jsx("dd",{children:i.text},"dd"+o)]},o)))}),q.jsx("p",{children:e("If the Map is in focused you can use the following shortcuts")}),q.jsx("ul",{children:r.map((i,o)=>(Ad().f[2]++,Ad().s[5]++,q.jsxs("li",{children:[q.jsx("span",{children:i.key})," ",i.text]},o)))})]})})}}const XIe=(Ad().s[6]++,zo()(ZIe));function El(){var n="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",e="a1d210f2dd55b03f0e8aae655258e8184b2d45b3",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:7,column:27},end:{line:7,column:37}},1:{start:{line:8,column:20},end:{line:8,column:48}},2:{start:{line:9,column:19},end:{line:9,column:49}},3:{start:{line:10,column:19},end:{line:10,column:49}},4:{start:{line:11,column:4},end:{line:53,column:6}},5:{start:{line:22,column:14},end:{line:26,column:27}},6:{start:{line:23,column:96},end:{line:23,column:153}},7:{start:{line:29,column:14},end:{line:33,column:27}},8:{start:{line:30,column:96},end:{line:30,column:153}},9:{start:{line:56,column:19},end:{line:56,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:54,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:21,column:140},end:{line:21,column:141}},loc:{start:{line:21,column:156},end:{line:27,column:13}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:23,column:89},end:{line:23,column:90}},loc:{start:{line:23,column:96},end:{line:23,column:153}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:28,column:136},end:{line:28,column:137}},loc:{start:{line:28,column:152},end:{line:34,column:13}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:30,column:89},end:{line:30,column:90}},loc:{start:{line:30,column:96},end:{line:30,column:153}},line:30}},branchMap:{0:{loc:{start:{line:21,column:12},end:{line:27,column:17}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:44}},{start:{line:21,column:64},end:{line:27,column:17}}],line:21},1:{loc:{start:{line:28,column:12},end:{line:34,column:17}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:40}},{start:{line:28,column:60},end:{line:34,column:17}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAuCQ,cAKQ,YALR;AAvCR,OAAO,WAAW;AAElB,SAAS,OAAwB,uBAAuB;AACxD,OAAO,WAAW;AAqBlB,MAAM,2BAA2B,MAAM,UAAmC;AAAA,EACxE,SAAS;AACP,UAAM,EAAC,GAAG,QAAO,IAAI,KAAK;AAE1B,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO,EAAE,OAAO;AAAA,QAEhB;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAI,YAAE,SAAS,GAAE;AAAA,YACjB,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,oBAAC,OACC,+BAAC,SAAM,GACL;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN,GACF;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa,gBAAgB,EAAE,kBAAkB;AACvD,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a1d210f2dd55b03f0e8aae655258e8184b2d45b3"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return El=function(){return s},s}El();class JIe extends Sn.Component{render(){El().f[0]++;const{t:e,mapView:t}=(El().s[0]++,this.props),r=(El().s[1]++,Math.round(t.zoom)+1),i=(El().s[2]++,+t.center.lng.toFixed(5)),o=(El().s[3]++,+t.center.lat.toFixed(5));return El().s[4]++,q.jsxs(W0,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:e("Debug"),children:[q.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[q.jsx("h1",{children:e("Options")}),(El().b[0][0]++,this.props.renderer==="mlgljs"&&(El().b[0][1]++,q.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([s,a])=>(El().f[1]++,El().s[5]++,q.jsx("li",{children:q.jsxs("label",{children:[q.jsx("input",{type:"checkbox",checked:a,onChange:f=>(El().f[2]++,El().s[6]++,this.props.onChangeMaplibreGlDebug(s,f.target.checked))})," ",s]})},s)))}))),(El().b[1][0]++,this.props.renderer==="ol"&&(El().b[1][1]++,q.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([s,a])=>(El().f[3]++,El().s[7]++,q.jsx("li",{children:q.jsxs("label",{children:[q.jsx("input",{type:"checkbox",checked:a,onChange:f=>(El().f[4]++,El().s[8]++,this.props.onChangeOpenlayersDebug(s,f.target.checked))})," ",s]})},s)))})))]}),q.jsxs("section",{className:"maputnik-modal-section",children:[q.jsx("h1",{children:"Links"}),q.jsx("p",{children:q.jsxs(S0,{t:e,children:[q.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${r}/${o}/${i}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})})]})]})}}const eke=(El().s[9]++,zo()(JIe));var p1={},u5={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */u5.exports;(function(n,e){(function(t){var r=e&&!e.nodeType&&e,i=n&&!n.nodeType&&n,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,a=2147483647,f=36,m=1,C=26,B=38,I=700,K=72,L=128,Y="-",ee=/^xn--/,V=/[^\x20-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,ne={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ce=f-m,ge=Math.floor,fe=String.fromCharCode,H;function X($e){throw new RangeError(ne[$e])}function Me($e,et){for(var nt=$e.length,en=[];nt--;)en[nt]=et($e[nt]);return en}function be($e,et){var nt=$e.split("@"),en="";nt.length>1&&(en=nt[0]+"@",$e=nt[1]),$e=$e.replace(W,".");var nn=$e.split("."),Et=Me(nn,et).join(".");return en+Et}function Fe($e){for(var et=[],nt=0,en=$e.length,nn,Et;nt<en;)nn=$e.charCodeAt(nt++),nn>=55296&&nn<=56319&&nt<en?(Et=$e.charCodeAt(nt++),(Et&64512)==56320?et.push(((nn&1023)<<10)+(Et&1023)+65536):(et.push(nn),nt--)):et.push(nn);return et}function Ue($e){return Me($e,function(et){var nt="";return et>65535&&(et-=65536,nt+=fe(et>>>10&1023|55296),et=56320|et&1023),nt+=fe(et),nt}).join("")}function me($e){return $e-48<10?$e-22:$e-65<26?$e-65:$e-97<26?$e-97:f}function Ve($e,et){return $e+22+75*($e<26)-((et!=0)<<5)}function _e($e,et,nt){var en=0;for($e=nt?ge($e/I):$e>>1,$e+=ge($e/et);$e>ce*C>>1;en+=f)$e=ge($e/ce);return ge(en+(ce+1)*$e/($e+B))}function Ot($e){var et=[],nt=$e.length,en,nn=0,Et=L,Vt=K,Jt,Le,ye,Te,Qe,st,lt,Kt,Ht;for(Jt=$e.lastIndexOf(Y),Jt<0&&(Jt=0),Le=0;Le<Jt;++Le)$e.charCodeAt(Le)>=128&&X("not-basic"),et.push($e.charCodeAt(Le));for(ye=Jt>0?Jt+1:0;ye<nt;){for(Te=nn,Qe=1,st=f;ye>=nt&&X("invalid-input"),lt=me($e.charCodeAt(ye++)),(lt>=f||lt>ge((a-nn)/Qe))&&X("overflow"),nn+=lt*Qe,Kt=st<=Vt?m:st>=Vt+C?C:st-Vt,!(lt<Kt);st+=f)Ht=f-Kt,Qe>ge(a/Ht)&&X("overflow"),Qe*=Ht;en=et.length+1,Vt=_e(nn-Te,en,Te==0),ge(nn/en)>a-Et&&X("overflow"),Et+=ge(nn/en),nn%=en,et.splice(nn++,0,Et)}return Ue(et)}function St($e){var et,nt,en,nn,Et,Vt,Jt,Le,ye,Te,Qe,st=[],lt,Kt,Ht,Wt;for($e=Fe($e),lt=$e.length,et=L,nt=0,Et=K,Vt=0;Vt<lt;++Vt)Qe=$e[Vt],Qe<128&&st.push(fe(Qe));for(en=nn=st.length,nn&&st.push(Y);en<lt;){for(Jt=a,Vt=0;Vt<lt;++Vt)Qe=$e[Vt],Qe>=et&&Qe<Jt&&(Jt=Qe);for(Kt=en+1,Jt-et>ge((a-nt)/Kt)&&X("overflow"),nt+=(Jt-et)*Kt,et=Jt,Vt=0;Vt<lt;++Vt)if(Qe=$e[Vt],Qe<et&&++nt>a&&X("overflow"),Qe==et){for(Le=nt,ye=f;Te=ye<=Et?m:ye>=Et+C?C:ye-Et,!(Le<Te);ye+=f)Wt=Le-Te,Ht=f-Te,st.push(fe(Ve(Te+Wt%Ht,0))),Le=ge(Wt/Ht);st.push(fe(Ve(Le,0))),Et=_e(nt,Kt,en==nn),nt=0,++en}++nt,++et}return st.join("")}function _t($e){return be($e,function(et){return ee.test(et)?Ot(et.slice(4).toLowerCase()):et})}function ft($e){return be($e,function(et){return V.test(et)?"xn--"+St(et):et})}if(s={version:"1.4.1",ucs2:{decode:Fe,encode:Ue},decode:Ot,encode:St,toASCII:ft,toUnicode:_t},r&&i)if(n.exports==r)i.exports=s;else for(H in s)s.hasOwnProperty(H)&&(r[H]=s[H]);else t.punycode=s})(Bp)})(u5,u5.exports);var tke=u5.exports,nke=Error,rke=EvalError,ike=RangeError,oke=ReferenceError,qY=SyntaxError,z2=TypeError,ake=URIError,ske=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},wF=typeof Symbol<"u"&&Symbol,lke=ske,uke=function(){return typeof wF!="function"||typeof Symbol!="function"||typeof wF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lke()},I6={__proto__:null,foo:{}},Ake=Object,cke=function(){return{__proto__:I6}.foo===I6.foo&&!(I6 instanceof Ake)},hke="Function.prototype.bind called on incompatible ",dke=Object.prototype.toString,fke=Math.max,pke="[object Function]",MF=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},mke=function(e,t){for(var r=[],i=t,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},gke=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},yke=function(e){var t=this;if(typeof t!="function"||dke.apply(t)!==pke)throw new TypeError(hke+t);for(var r=mke(arguments,1),i,o=function(){if(this instanceof i){var C=t.apply(this,MF(r,arguments));return Object(C)===C?C:this}return t.apply(e,MF(r,arguments))},s=fke(0,t.length-r.length),a=[],f=0;f<s;f++)a[f]="$"+f;if(i=Function("binder","return function ("+gke(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var m=function(){};m.prototype=t.prototype,i.prototype=new m,m.prototype=null}return i},vke=yke,ET=Function.prototype.bind||vke,_ke=Function.prototype.call,Cke=Object.prototype.hasOwnProperty,bke=ET,xke=bke.call(_ke,Cke),So,wke=nke,Mke=rke,Ske=ike,Eke=oke,zv=qY,Cv=z2,Oke=ake,VY=Function,k6=function(n){try{return VY('"use strict"; return ('+n+").constructor;")()}catch{}},Xg=Object.getOwnPropertyDescriptor;if(Xg)try{Xg({},"")}catch{Xg=null}var T6=function(){throw new Cv},Bke=Xg?function(){try{return arguments.callee,T6}catch{try{return Xg(arguments,"callee").get}catch{return T6}}}():T6,cy=uke(),Ike=cke(),Lu=Object.getPrototypeOf||(Ike?function(n){return n.__proto__}:null),by={},kke=typeof Uint8Array>"u"||!Lu?So:Lu(Uint8Array),Jg={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?So:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?So:ArrayBuffer,"%ArrayIteratorPrototype%":cy&&Lu?Lu([][Symbol.iterator]()):So,"%AsyncFromSyncIteratorPrototype%":So,"%AsyncFunction%":by,"%AsyncGenerator%":by,"%AsyncGeneratorFunction%":by,"%AsyncIteratorPrototype%":by,"%Atomics%":typeof Atomics>"u"?So:Atomics,"%BigInt%":typeof BigInt>"u"?So:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?So:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?So:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?So:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":wke,"%eval%":eval,"%EvalError%":Mke,"%Float32Array%":typeof Float32Array>"u"?So:Float32Array,"%Float64Array%":typeof Float64Array>"u"?So:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?So:FinalizationRegistry,"%Function%":VY,"%GeneratorFunction%":by,"%Int8Array%":typeof Int8Array>"u"?So:Int8Array,"%Int16Array%":typeof Int16Array>"u"?So:Int16Array,"%Int32Array%":typeof Int32Array>"u"?So:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":cy&&Lu?Lu(Lu([][Symbol.iterator]())):So,"%JSON%":typeof JSON=="object"?JSON:So,"%Map%":typeof Map>"u"?So:Map,"%MapIteratorPrototype%":typeof Map>"u"||!cy||!Lu?So:Lu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?So:Promise,"%Proxy%":typeof Proxy>"u"?So:Proxy,"%RangeError%":Ske,"%ReferenceError%":Eke,"%Reflect%":typeof Reflect>"u"?So:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?So:Set,"%SetIteratorPrototype%":typeof Set>"u"||!cy||!Lu?So:Lu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?So:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":cy&&Lu?Lu(""[Symbol.iterator]()):So,"%Symbol%":cy?Symbol:So,"%SyntaxError%":zv,"%ThrowTypeError%":Bke,"%TypedArray%":kke,"%TypeError%":Cv,"%Uint8Array%":typeof Uint8Array>"u"?So:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?So:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?So:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?So:Uint32Array,"%URIError%":Oke,"%WeakMap%":typeof WeakMap>"u"?So:WeakMap,"%WeakRef%":typeof WeakRef>"u"?So:WeakRef,"%WeakSet%":typeof WeakSet>"u"?So:WeakSet};if(Lu)try{null.error}catch(n){var Tke=Lu(Lu(n));Jg["%Error.prototype%"]=Tke}var Pke=function n(e){var t;if(e==="%AsyncFunction%")t=k6("async function () {}");else if(e==="%GeneratorFunction%")t=k6("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=k6("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&Lu&&(t=Lu(i.prototype))}return Jg[e]=t,t},SF={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j2=ET,A5=xke,Kke=j2.call(Function.call,Array.prototype.concat),Lke=j2.call(Function.apply,Array.prototype.splice),EF=j2.call(Function.call,String.prototype.replace),c5=j2.call(Function.call,String.prototype.slice),Dke=j2.call(Function.call,RegExp.prototype.exec),Fke=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Rke=/\\(\\)?/g,Uke=function(e){var t=c5(e,0,1),r=c5(e,-1);if(t==="%"&&r!=="%")throw new zv("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new zv("invalid intrinsic syntax, expected opening `%`");var i=[];return EF(e,Fke,function(o,s,a,f){i[i.length]=a?EF(f,Rke,"$1"):s||o}),i},zke=function(e,t){var r=e,i;if(A5(SF,r)&&(i=SF[r],r="%"+i[0]+"%"),A5(Jg,r)){var o=Jg[r];if(o===by&&(o=Pke(r)),typeof o>"u"&&!t)throw new Cv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new zv("intrinsic "+e+" does not exist!")},c_=function(e,t){if(typeof e!="string"||e.length===0)throw new Cv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Cv('"allowMissing" argument must be a boolean');if(Dke(/^%?[^%]*%?$/,e)===null)throw new zv("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Uke(e),i=r.length>0?r[0]:"",o=zke("%"+i+"%",t),s=o.name,a=o.value,f=!1,m=o.alias;m&&(i=m[0],Lke(r,Kke([0,1],m)));for(var C=1,B=!0;C<r.length;C+=1){var I=r[C],K=c5(I,0,1),L=c5(I,-1);if((K==='"'||K==="'"||K==="`"||L==='"'||L==="'"||L==="`")&&K!==L)throw new zv("property names with quotes must have matching quotes");if((I==="constructor"||!B)&&(f=!0),i+="."+I,s="%"+i+"%",A5(Jg,s))a=Jg[s];else if(a!=null){if(!(I in a)){if(!t)throw new Cv("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xg&&C+1>=r.length){var Y=Xg(a,I);B=!!Y,B&&"get"in Y&&!("originalValue"in Y.get)?a=Y.get:a=a[I]}else B=A5(a,I),a=a[I];B&&!f&&(Jg[s]=a)}}return a},HY={exports:{}},P6,OF;function OT(){if(OF)return P6;OF=1;var n=c_,e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return P6=e,P6}var jke=c_,c4=jke("%Object.getOwnPropertyDescriptor%",!0);if(c4)try{c4([],"length")}catch{c4=null}var ZY=c4,BF=OT(),Nke=qY,hy=z2,IF=ZY,Wke=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new hy("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new hy("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new hy("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new hy("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new hy("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new hy("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,f=!!IF&&IF(e,t);if(BF)BF(e,t,{configurable:s===null&&f?f.configurable:!s,enumerable:i===null&&f?f.enumerable:!i,value:r,writable:o===null&&f?f.writable:!o});else if(a||!i&&!o&&!s)e[t]=r;else throw new Nke("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},T8=OT(),XY=function(){return!!T8};XY.hasArrayLengthDefineBug=function(){if(!T8)return null;try{return T8([],"length",{value:1}).length!==1}catch{return!0}};var Gke=XY,Qke=c_,kF=Wke,$ke=Gke(),TF=ZY,PF=z2,Yke=Qke("%Math.floor%"),qke=function(e,t){if(typeof e!="function")throw new PF("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||Yke(t)!==t)throw new PF("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&TF){var s=TF(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&($ke?kF(e,"length",t,!0,!0):kF(e,"length",t)),e};(function(n){var e=ET,t=c_,r=qke,i=z2,o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(s,o),f=OT(),m=t("%Math.max%");n.exports=function(I){if(typeof I!="function")throw new i("a function is required");var K=a(e,s,arguments);return r(K,1+m(0,I.length-(arguments.length-1)),!0)};var C=function(){return a(e,o,arguments)};f?f(n.exports,"apply",{value:C}):n.exports.apply=C})(HY);var Vke=HY.exports,JY=c_,eq=Vke,Hke=eq(JY("String.prototype.indexOf")),Zke=function(e,t){var r=JY(e,!!t);return typeof r=="function"&&Hke(e,".prototype.")>-1?eq(r):r};const Xke={},Jke=Object.freeze(Object.defineProperty({__proto__:null,default:Xke},Symbol.toStringTag,{value:"Module"})),eTe=G8(Jke);var BT=typeof Map=="function"&&Map.prototype,K6=Object.getOwnPropertyDescriptor&&BT?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,h5=BT&&K6&&typeof K6.get=="function"?K6.get:null,KF=BT&&Map.prototype.forEach,IT=typeof Set=="function"&&Set.prototype,L6=Object.getOwnPropertyDescriptor&&IT?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d5=IT&&L6&&typeof L6.get=="function"?L6.get:null,LF=IT&&Set.prototype.forEach,tTe=typeof WeakMap=="function"&&WeakMap.prototype,JC=tTe?WeakMap.prototype.has:null,nTe=typeof WeakSet=="function"&&WeakSet.prototype,eb=nTe?WeakSet.prototype.has:null,rTe=typeof WeakRef=="function"&&WeakRef.prototype,DF=rTe?WeakRef.prototype.deref:null,iTe=Boolean.prototype.valueOf,oTe=Object.prototype.toString,aTe=Function.prototype.toString,sTe=String.prototype.match,kT=String.prototype.slice,g0=String.prototype.replace,lTe=String.prototype.toUpperCase,FF=String.prototype.toLowerCase,tq=RegExp.prototype.test,RF=Array.prototype.concat,Ap=Array.prototype.join,uTe=Array.prototype.slice,UF=Math.floor,P8=typeof BigInt=="function"?BigInt.prototype.valueOf:null,D6=Object.getOwnPropertySymbols,K8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,jv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",RA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===jv||!0)?Symbol.toStringTag:null,nq=Object.prototype.propertyIsEnumerable,zF=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function jF(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||tq.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var r=n<0?-UF(-n):UF(n);if(r!==n){var i=String(r),o=kT.call(e,i.length+1);return g0.call(i,t,"$&_")+"."+g0.call(g0.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g0.call(e,t,"$&_")}var L8=eTe,NF=L8.custom,WF=iq(NF)?NF:null,ATe=function n(e,t,r,i){var o=t||{};if(a0(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(a0(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=a0(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(a0(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(a0(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return aq(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return a?jF(e,f):f}if(typeof e=="bigint"){var m=String(e)+"n";return a?jF(e,m):m}var C=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=C&&C>0&&typeof e=="object")return D8(e)?"[Array]":"[Object]";var B=OTe(o,r);if(typeof i>"u")i=[];else if(oq(i,e)>=0)return"[Circular]";function I(me,Ve,_e){if(Ve&&(i=uTe.call(i),i.push(Ve)),_e){var Ot={depth:o.depth};return a0(o,"quoteStyle")&&(Ot.quoteStyle=o.quoteStyle),n(me,Ot,r+1,i)}return n(me,o,r+1,i)}if(typeof e=="function"&&!GF(e)){var K=vTe(e),L=D3(e,I);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(L.length>0?" { "+Ap.call(L,", ")+" }":"")}if(iq(e)){var Y=jv?g0.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):K8.call(e);return typeof e=="object"&&!jv?AC(Y):Y}if(MTe(e)){for(var ee="<"+FF.call(String(e.nodeName)),V=e.attributes||[],W=0;W<V.length;W++)ee+=" "+V[W].name+"="+rq(cTe(V[W].value),"double",o);return ee+=">",e.childNodes&&e.childNodes.length&&(ee+="..."),ee+="</"+FF.call(String(e.nodeName))+">",ee}if(D8(e)){if(e.length===0)return"[]";var ne=D3(e,I);return B&&!ETe(ne)?"["+F8(ne,B)+"]":"[ "+Ap.call(ne,", ")+" ]"}if(dTe(e)){var ce=D3(e,I);return!("cause"in Error.prototype)&&"cause"in e&&!nq.call(e,"cause")?"{ ["+String(e)+"] "+Ap.call(RF.call("[cause]: "+I(e.cause),ce),", ")+" }":ce.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ap.call(ce,", ")+" }"}if(typeof e=="object"&&s){if(WF&&typeof e[WF]=="function"&&L8)return L8(e,{depth:C-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(_Te(e)){var ge=[];return KF&&KF.call(e,function(me,Ve){ge.push(I(Ve,e,!0)+" => "+I(me,e))}),QF("Map",h5.call(e),ge,B)}if(xTe(e)){var fe=[];return LF&&LF.call(e,function(me){fe.push(I(me,e))}),QF("Set",d5.call(e),fe,B)}if(CTe(e))return F6("WeakMap");if(wTe(e))return F6("WeakSet");if(bTe(e))return F6("WeakRef");if(pTe(e))return AC(I(Number(e)));if(gTe(e))return AC(I(P8.call(e)));if(mTe(e))return AC(iTe.call(e));if(fTe(e))return AC(I(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===window)return"{ [object globalThis] }";if(!hTe(e)&&!GF(e)){var H=D3(e,I),X=zF?zF(e)===Object.prototype:e instanceof Object||e.constructor===Object,Me=e instanceof Object?"":"null prototype",be=!X&&RA&&Object(e)===e&&RA in e?kT.call(G0(e),8,-1):Me?"Object":"",Fe=X||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Ue=Fe+(be||Me?"["+Ap.call(RF.call([],be||[],Me||[]),": ")+"] ":"");return H.length===0?Ue+"{}":B?Ue+"{"+F8(H,B)+"}":Ue+"{ "+Ap.call(H,", ")+" }"}return String(e)};function rq(n,e,t){var r=(t.quoteStyle||e)==="double"?'"':"'";return r+n+r}function cTe(n){return g0.call(String(n),/"/g,"&quot;")}function D8(n){return G0(n)==="[object Array]"&&(!RA||!(typeof n=="object"&&RA in n))}function hTe(n){return G0(n)==="[object Date]"&&(!RA||!(typeof n=="object"&&RA in n))}function GF(n){return G0(n)==="[object RegExp]"&&(!RA||!(typeof n=="object"&&RA in n))}function dTe(n){return G0(n)==="[object Error]"&&(!RA||!(typeof n=="object"&&RA in n))}function fTe(n){return G0(n)==="[object String]"&&(!RA||!(typeof n=="object"&&RA in n))}function pTe(n){return G0(n)==="[object Number]"&&(!RA||!(typeof n=="object"&&RA in n))}function mTe(n){return G0(n)==="[object Boolean]"&&(!RA||!(typeof n=="object"&&RA in n))}function iq(n){if(jv)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!K8)return!1;try{return K8.call(n),!0}catch{}return!1}function gTe(n){if(!n||typeof n!="object"||!P8)return!1;try{return P8.call(n),!0}catch{}return!1}var yTe=Object.prototype.hasOwnProperty||function(n){return n in this};function a0(n,e){return yTe.call(n,e)}function G0(n){return oTe.call(n)}function vTe(n){if(n.name)return n.name;var e=sTe.call(aTe.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function oq(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function _Te(n){if(!h5||!n||typeof n!="object")return!1;try{h5.call(n);try{d5.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function CTe(n){if(!JC||!n||typeof n!="object")return!1;try{JC.call(n,JC);try{eb.call(n,eb)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function bTe(n){if(!DF||!n||typeof n!="object")return!1;try{return DF.call(n),!0}catch{}return!1}function xTe(n){if(!d5||!n||typeof n!="object")return!1;try{d5.call(n);try{h5.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function wTe(n){if(!eb||!n||typeof n!="object")return!1;try{eb.call(n,eb);try{JC.call(n,JC)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function MTe(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function aq(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return aq(kT.call(n,0,e.maxStringLength),e)+r}var i=g0.call(g0.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,STe);return rq(i,"single",e)}function STe(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+lTe.call(e.toString(16))}function AC(n){return"Object("+n+")"}function F6(n){return n+" { ? }"}function QF(n,e,t,r){var i=r?F8(t,r):Ap.call(t,", ");return n+" ("+e+") {"+i+"}"}function ETe(n){for(var e=0;e<n.length;e++)if(oq(n[e],`
`)>=0)return!1;return!0}function OTe(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=Ap.call(Array(n.indent+1)," ");else return null;return{base:t,prev:Ap.call(Array(e+1),t)}}function F8(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+Ap.call(n,","+t)+`
`+e.prev}function D3(n,e){var t=D8(n),r=[];if(t){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=a0(n,i)?e(n[i],n):""}var o=typeof D6=="function"?D6(n):[],s;if(jv){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var f in n)a0(n,f)&&(t&&String(Number(f))===f&&f<n.length||jv&&s["$"+f]instanceof Symbol||(tq.call(/[^\w$]/,f)?r.push(e(f,n)+": "+e(n[f],n)):r.push(f+": "+e(n[f],n))));if(typeof D6=="function")for(var m=0;m<o.length;m++)nq.call(n,o[m])&&r.push("["+e(o[m])+"]: "+e(n[o[m]],n));return r}var sq=c_,h_=Zke,BTe=ATe,ITe=z2,F3=sq("%WeakMap%",!0),R3=sq("%Map%",!0),kTe=h_("WeakMap.prototype.get",!0),TTe=h_("WeakMap.prototype.set",!0),PTe=h_("WeakMap.prototype.has",!0),KTe=h_("Map.prototype.get",!0),LTe=h_("Map.prototype.set",!0),DTe=h_("Map.prototype.has",!0),TT=function(n,e){for(var t=n,r;(r=t.next)!==null;t=r)if(r.key===e)return t.next=r.next,r.next=n.next,n.next=r,r},FTe=function(n,e){var t=TT(n,e);return t&&t.value},RTe=function(n,e,t){var r=TT(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}},UTe=function(n,e){return!!TT(n,e)},zTe=function(){var e,t,r,i={assert:function(o){if(!i.has(o))throw new ITe("Side channel does not contain "+BTe(o))},get:function(o){if(F3&&o&&(typeof o=="object"||typeof o=="function")){if(e)return kTe(e,o)}else if(R3){if(t)return KTe(t,o)}else if(r)return FTe(r,o)},has:function(o){if(F3&&o&&(typeof o=="object"||typeof o=="function")){if(e)return PTe(e,o)}else if(R3){if(t)return DTe(t,o)}else if(r)return UTe(r,o);return!1},set:function(o,s){F3&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new F3),TTe(e,o,s)):R3?(t||(t=new R3),LTe(t,o,s)):(r||(r={key:{},next:null}),RTe(r,o,s))}};return i},jTe=String.prototype.replace,NTe=/%20/g,R6={RFC1738:"RFC1738",RFC3986:"RFC3986"},PT={default:R6.RFC3986,formatters:{RFC1738:function(n){return jTe.call(n,NTe,"+")},RFC3986:function(n){return String(n)}},RFC1738:R6.RFC1738,RFC3986:R6.RFC3986},WTe=PT,U6=Object.prototype.hasOwnProperty,kg=Array.isArray,tp=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),GTe=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(kg(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);t.obj[t.prop]=i}}},lq=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},QTe=function n(e,t,r){if(!t)return e;if(typeof t!="object"){if(kg(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!U6.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return kg(e)&&!kg(t)&&(i=lq(e,r)),kg(e)&&kg(t)?(t.forEach(function(o,s){if(U6.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=n(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(t).reduce(function(o,s){var a=t[s];return U6.call(o,s)?o[s]=n(o[s],a,r):o[s]=a,o},i)},$Te=function(e,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},e)},YTe=function(n,e,t){var r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},qTe=function(e,t,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var a="",f=0;f<s.length;++f){var m=s.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===WTe.RFC1738&&(m===40||m===41)){a+=s.charAt(f);continue}if(m<128){a=a+tp[m];continue}if(m<2048){a=a+(tp[192|m>>6]+tp[128|m&63]);continue}if(m<55296||m>=57344){a=a+(tp[224|m>>12]+tp[128|m>>6&63]+tp[128|m&63]);continue}f+=1,m=65536+((m&1023)<<10|s.charCodeAt(f)&1023),a+=tp[240|m>>18]+tp[128|m>>12&63]+tp[128|m>>6&63]+tp[128|m&63]}return a},VTe=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],a=Object.keys(s),f=0;f<a.length;++f){var m=a[f],C=s[m];typeof C=="object"&&C!==null&&r.indexOf(C)===-1&&(t.push({obj:s,prop:m}),r.push(C))}return GTe(t),e},HTe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ZTe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},XTe=function(e,t){return[].concat(e,t)},JTe=function(e,t){if(kg(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},uq={arrayToObject:lq,assign:$Te,combine:XTe,compact:VTe,decode:YTe,encode:qTe,isBuffer:ZTe,isRegExp:HTe,maybeMap:JTe,merge:QTe},Aq=zTe,h4=uq,tb=PT,e9e=Object.prototype.hasOwnProperty,cq={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},lp=Array.isArray,t9e=Array.prototype.push,hq=function(n,e){t9e.apply(n,lp(e)?e:[e])},n9e=Date.prototype.toISOString,$F=tb.default,Au={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:h4.encode,encodeValuesOnly:!1,format:$F,formatter:tb.formatters[$F],indices:!1,serializeDate:function(e){return n9e.call(e)},skipNulls:!1,strictNullHandling:!1},r9e=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},z6={},i9e=function n(e,t,r,i,o,s,a,f,m,C,B,I,K,L,Y,ee,V,W){for(var ne=e,ce=W,ge=0,fe=!1;(ce=ce.get(z6))!==void 0&&!fe;){var H=ce.get(e);if(ge+=1,typeof H<"u"){if(H===ge)throw new RangeError("Cyclic object value");fe=!0}typeof ce.get(z6)>"u"&&(ge=0)}if(typeof C=="function"?ne=C(t,ne):ne instanceof Date?ne=K(ne):r==="comma"&&lp(ne)&&(ne=h4.maybeMap(ne,function($e){return $e instanceof Date?K($e):$e})),ne===null){if(s)return m&&!ee?m(t,Au.encoder,V,"key",L):t;ne=""}if(r9e(ne)||h4.isBuffer(ne)){if(m){var X=ee?t:m(t,Au.encoder,V,"key",L);return[Y(X)+"="+Y(m(ne,Au.encoder,V,"value",L))]}return[Y(t)+"="+Y(String(ne))]}var Me=[];if(typeof ne>"u")return Me;var be;if(r==="comma"&&lp(ne))ee&&m&&(ne=h4.maybeMap(ne,m)),be=[{value:ne.length>0?ne.join(",")||null:void 0}];else if(lp(C))be=C;else{var Fe=Object.keys(ne);be=B?Fe.sort(B):Fe}var Ue=f?t.replace(/\./g,"%2E"):t,me=i&&lp(ne)&&ne.length===1?Ue+"[]":Ue;if(o&&lp(ne)&&ne.length===0)return me+"[]";for(var Ve=0;Ve<be.length;++Ve){var _e=be[Ve],Ot=typeof _e=="object"&&typeof _e.value<"u"?_e.value:ne[_e];if(!(a&&Ot===null)){var St=I&&f?_e.replace(/\./g,"%2E"):_e,_t=lp(ne)?typeof r=="function"?r(me,St):me:me+(I?"."+St:"["+St+"]");W.set(e,ge);var ft=Aq();ft.set(z6,W),hq(Me,n(Ot,_t,r,i,o,s,a,f,r==="comma"&&ee&&lp(ne)?null:m,C,B,I,K,L,Y,ee,V,ft))}}return Me},o9e=function(e){if(!e)return Au;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Au.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=tb.default;if(typeof e.format<"u"){if(!e9e.call(tb.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=tb.formatters[r],o=Au.filter;(typeof e.filter=="function"||lp(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in cq?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Au.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Au.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Au.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Au.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Au.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Au.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Au.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Au.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Au.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Au.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Au.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Au.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Au.strictNullHandling}},a9e=function(n,e){var t=n,r=o9e(e),i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):lp(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof t!="object"||t===null)return"";var a=cq[r.arrayFormat],f=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var m=Aq(),C=0;C<i.length;++C){var B=i[C];r.skipNulls&&t[B]===null||hq(s,i9e(t[B],B,a,f,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,m))}var I=s.join(r.delimiter),K=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),I.length>0?K+I:""},Nv=uq,R8=Object.prototype.hasOwnProperty,s9e=Array.isArray,Ol={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Nv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l9e=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},dq=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},u9e="utf8=%26%2310003%3B",A9e="utf8=%E2%9C%93",c9e=function(e,t){var r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,o),a=-1,f,m=t.charset;if(t.charsetSentinel)for(f=0;f<s.length;++f)s[f].indexOf("utf8=")===0&&(s[f]===A9e?m="utf-8":s[f]===u9e&&(m="iso-8859-1"),a=f,f=s.length);for(f=0;f<s.length;++f)if(f!==a){var C=s[f],B=C.indexOf("]="),I=B===-1?C.indexOf("="):B+1,K,L;I===-1?(K=t.decoder(C,Ol.decoder,m,"key"),L=t.strictNullHandling?null:""):(K=t.decoder(C.slice(0,I),Ol.decoder,m,"key"),L=Nv.maybeMap(dq(C.slice(I+1),t),function(ee){return t.decoder(ee,Ol.decoder,m,"value")})),L&&t.interpretNumericEntities&&m==="iso-8859-1"&&(L=l9e(L)),C.indexOf("[]=")>-1&&(L=s9e(L)?[L]:L);var Y=R8.call(r,K);Y&&t.duplicates==="combine"?r[K]=Nv.combine(r[K],L):(!Y||t.duplicates==="last")&&(r[K]=L)}return r},h9e=function(n,e,t,r){for(var i=r?e:dq(e,t),o=n.length-1;o>=0;--o){var s,a=n[o];if(a==="[]"&&t.parseArrays)s=t.allowEmptyArrays&&i===""?[]:[].concat(i);else{s=t.plainObjects?Object.create(null):{};var f=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,m=t.decodeDotInKeys?f.replace(/%2E/g,"."):f,C=parseInt(m,10);!t.parseArrays&&m===""?s={0:i}:!isNaN(C)&&a!==m&&String(C)===m&&C>=0&&t.parseArrays&&C<=t.arrayLimit?(s=[],s[C]=i):m!=="__proto__"&&(s[m]=i)}i=s}return i},d9e=function(e,t,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=r.depth>0&&s.exec(o),m=f?o.slice(0,f.index):o,C=[];if(m){if(!r.plainObjects&&R8.call(Object.prototype,m)&&!r.allowPrototypes)return;C.push(m)}for(var B=0;r.depth>0&&(f=a.exec(o))!==null&&B<r.depth;){if(B+=1,!r.plainObjects&&R8.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;C.push(f[1])}return f&&C.push("["+o.slice(f.index)+"]"),h9e(C,t,r,i)}},f9e=function(e){if(!e)return Ol;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Ol.charset:e.charset,r=typeof e.duplicates>"u"?Ol.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ol.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ol.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ol.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ol.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ol.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ol.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ol.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ol.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ol.decoder,delimiter:typeof e.delimiter=="string"||Nv.isRegExp(e.delimiter)?e.delimiter:Ol.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ol.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ol.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ol.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ol.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ol.strictNullHandling}},p9e=function(n,e){var t=f9e(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof n=="string"?c9e(n,t):n,i=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],f=d9e(a,r[a],t,typeof n=="string");i=Nv.merge(i,f,t)}return t.allowSparse===!0?i:Nv.compact(i)},m9e=a9e,g9e=p9e,y9e=PT,v9e={formats:y9e,parse:g9e,stringify:m9e},_9e=tke;function vd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var C9e=/^([a-z0-9.+-]+:)/i,b9e=/:[0-9]*$/,x9e=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,w9e=["<",">",'"',"`"," ","\r",`
`,"	"],M9e=["{","}","|","\\","^","`"].concat(w9e),U8=["'"].concat(M9e),YF=["%","/","?",";","#"].concat(U8),qF=["/","?","#"],S9e=255,VF=/^[+a-z0-9A-Z_-]{0,63}$/,E9e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O9e={javascript:!0,"javascript:":!0},z8={javascript:!0,"javascript:":!0},bv={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j8=v9e;function N2(n,e,t){if(n&&typeof n=="object"&&n instanceof vd)return n;var r=new vd;return r.parse(n,e,t),r}vd.prototype.parse=function(n,e,t){if(typeof n!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",o=n.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),n=o.join(i);var a=n;if(a=a.trim(),!t&&n.split("#").length===1){var f=x9e.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=j8.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var m=C9e.exec(a);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,a=a.substr(m.length)}if(t||m||a.match(/^\/\/[^@/]+@[^@/]+/)){var B=a.substr(0,2)==="//";B&&!(m&&z8[m])&&(a=a.substr(2),this.slashes=!0)}if(!z8[m]&&(B||m&&!bv[m])){for(var I=-1,K=0;K<qF.length;K++){var L=a.indexOf(qF[K]);L!==-1&&(I===-1||L<I)&&(I=L)}var Y,ee;I===-1?ee=a.lastIndexOf("@"):ee=a.lastIndexOf("@",I),ee!==-1&&(Y=a.slice(0,ee),a=a.slice(ee+1),this.auth=decodeURIComponent(Y)),I=-1;for(var K=0;K<YF.length;K++){var L=a.indexOf(YF[K]);L!==-1&&(I===-1||L<I)&&(I=L)}I===-1&&(I=a.length),this.host=a.slice(0,I),a=a.slice(I),this.parseHost(),this.hostname=this.hostname||"";var V=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!V)for(var W=this.hostname.split(/\./),K=0,ne=W.length;K<ne;K++){var ce=W[K];if(ce&&!ce.match(VF)){for(var ge="",fe=0,H=ce.length;fe<H;fe++)ce.charCodeAt(fe)>127?ge+="x":ge+=ce[fe];if(!ge.match(VF)){var X=W.slice(0,K),Me=W.slice(K+1),be=ce.match(E9e);be&&(X.push(be[1]),Me.unshift(be[2])),Me.length&&(a="/"+Me.join(".")+a),this.hostname=X.join(".");break}}}this.hostname.length>S9e?this.hostname="":this.hostname=this.hostname.toLowerCase(),V||(this.hostname=_9e.toASCII(this.hostname));var Fe=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+Fe,this.href+=this.host,V&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!O9e[C])for(var K=0,ne=U8.length;K<ne;K++){var me=U8[K];if(a.indexOf(me)!==-1){var Ve=encodeURIComponent(me);Ve===me&&(Ve=escape(me)),a=a.split(me).join(Ve)}}var _e=a.indexOf("#");_e!==-1&&(this.hash=a.substr(_e),a=a.slice(0,_e));var Ot=a.indexOf("?");if(Ot!==-1?(this.search=a.substr(Ot),this.query=a.substr(Ot+1),e&&(this.query=j8.parse(this.query)),a=a.slice(0,Ot)):e&&(this.search="",this.query={}),a&&(this.pathname=a),bv[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Fe=this.pathname||"",St=this.search||"";this.path=Fe+St}return this.href=this.format(),this};function B9e(n){return typeof n=="string"&&(n=N2(n)),n instanceof vd?n.format():vd.prototype.format.call(n)}vd.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=j8.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||bv[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+t+s+r};function I9e(n,e){return N2(n,!1,!0).resolve(e)}vd.prototype.resolve=function(n){return this.resolveObject(N2(n,!1,!0)).format()};function k9e(n,e){return n?N2(n,!1,!0).resolveObject(e):e}vd.prototype.resolveObject=function(n){if(typeof n=="string"){var e=new vd;e.parse(n,!1,!0),n=e}for(var t=new vd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];t[o]=this[o]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(t[f]=n[f])}return bv[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!bv[n.protocol]){for(var m=Object.keys(n),C=0;C<m.length;C++){var B=m[C];t[B]=n[B]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!z8[n.protocol]){for(var ne=(n.pathname||"").split("/");ne.length&&!(n.host=ne.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),ne[0]!==""&&ne.unshift(""),ne.length<2&&ne.unshift(""),t.pathname=ne.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var I=t.pathname||"",K=t.search||"";t.path=I+K}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var L=t.pathname&&t.pathname.charAt(0)==="/",Y=n.host||n.pathname&&n.pathname.charAt(0)==="/",ee=Y||L||t.host&&n.pathname,V=ee,W=t.pathname&&t.pathname.split("/")||[],ne=n.pathname&&n.pathname.split("/")||[],ce=t.protocol&&!bv[t.protocol];if(ce&&(t.hostname="",t.port=null,t.host&&(W[0]===""?W[0]=t.host:W.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(ne[0]===""?ne[0]=n.host:ne.unshift(n.host)),n.host=null),ee=ee&&(ne[0]===""||W[0]==="")),Y)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,W=ne;else if(ne.length)W||(W=[]),W.pop(),W=W.concat(ne),t.search=n.search,t.query=n.query;else if(n.search!=null){if(ce){t.host=W.shift(),t.hostname=t.host;var ge=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ge&&(t.auth=ge.shift(),t.hostname=ge.shift(),t.host=t.hostname)}return t.search=n.search,t.query=n.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!W.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var fe=W.slice(-1)[0],H=(t.host||n.host||W.length>1)&&(fe==="."||fe==="..")||fe==="",X=0,Me=W.length;Me>=0;Me--)fe=W[Me],fe==="."?W.splice(Me,1):fe===".."?(W.splice(Me,1),X++):X&&(W.splice(Me,1),X--);if(!ee&&!V)for(;X--;X)W.unshift("..");ee&&W[0]!==""&&(!W[0]||W[0].charAt(0)!=="/")&&W.unshift(""),H&&W.join("/").substr(-1)!=="/"&&W.push("");var be=W[0]===""||W[0]&&W[0].charAt(0)==="/";if(ce){t.hostname=be?"":W.length?W.shift():"",t.host=t.hostname;var ge=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;ge&&(t.auth=ge.shift(),t.hostname=ge.shift(),t.host=t.hostname)}return ee=ee||t.host&&W.length,ee&&!be&&W.unshift(""),W.length>0?t.pathname=W.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};vd.prototype.parseHost=function(){var n=this.host,e=b9e.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};p1.parse=N2;p1.resolve=I9e;p1.resolveObject=k9e;p1.format=B9e;p1.Url=vd;function Ro(){var n="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",e="8eedc6c4f661a6bd38a2227269e9dcc5dcb1f437",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:16,column:34}},6:{start:{line:16,column:20},end:{line:16,column:34}},7:{start:{line:17,column:17},end:{line:17,column:42}},8:{start:{line:18,column:23},end:{line:18,column:57}},9:{start:{line:19,column:2},end:{line:23,column:3}},10:{start:{line:20,column:4},end:{line:20,column:41}},11:{start:{line:22,column:4},end:{line:22,column:69}},12:{start:{line:24,column:14},end:{line:24,column:35}},13:{start:{line:25,column:2},end:{line:25,column:24}},14:{start:{line:28,column:2},end:{line:28,column:30}},15:{start:{line:28,column:16},end:{line:28,column:30}},16:{start:{line:29,column:14},end:{line:29,column:31}},17:{start:{line:30,column:2},end:{line:30,column:57}},18:{start:{line:30,column:32},end:{line:30,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:26,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:27,column:16},end:{line:27,column:38}},loc:{start:{line:27,column:52},end:{line:31,column:1}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:30,column:20},end:{line:30,column:21}},loc:{start:{line:30,column:32},end:{line:30,column:55}},line:30}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:16,column:34}},type:"if",locations:[{start:{line:16,column:2},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:19,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:23,column:3}},{start:{line:21,column:9},end:{line:23,column:3}}],line:19},2:{loc:{start:{line:28,column:2},end:{line:28,column:30}},type:"if",locations:[{start:{line:28,column:2},end:{line:28,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC,YAAa,QAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC,QAAS,QAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8eedc6c4f661a6bd38a2227269e9dcc5dcb1f437"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ro=function(){return s},s}Ro();function fq(n,e,t){Ro().f[0]++,Ro().s[0]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(r){return Ro().f[1]++,Ro().s[1]++,r.json()}).then(function(r){Ro().f[2]++,Ro().s[2]++,t(r)}).catch(function(){Ro().f[3]++,Ro().s[3]++,console.warn("Can not metadata for "+n),Ro().s[4]++,t(e)})}function T9e(n,e){if(Ro().f[4]++,Ro().s[5]++,n)Ro().b[0][1]++;else return Ro().b[0][0]++,Ro().s[6]++,e([]);const t=(Ro().s[7]++,p1.parse(n)),r=(Ro().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");Ro().s[9]++,t.pathname===r?(Ro().b[1][0]++,Ro().s[10]++,t.pathname="/fontstacks.json"):(Ro().b[1][1]++,Ro().s[11]++,t.pathname=t.pathname.replace(r,".json"));const i=(Ro().s[12]++,p1.format(t));Ro().s[13]++,fq(i,[],e)}function P9e(n,e){if(Ro().f[5]++,Ro().s[14]++,n)Ro().b[2][1]++;else return Ro().b[2][0]++,Ro().s[15]++,e([]);const t=(Ro().s[16]++,n+".json");Ro().s[17]++,fq(t,{},r=>(Ro().f[6]++,Ro().s[18]++,e(Object.keys(r))))}function cu(){var n="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",e="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return cu=function(){return s},s}cu();function K9e(){cu().f[0]++;const n=(cu().s[0]++,new URL(window.location.href));return cu().s[1]++,n.searchParams.get("style")}function pq(n,e){cu().f[1]++,cu().s[2]++,console.log("Loading style",n),cu().s[3]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(t){return cu().f[2]++,cu().s[4]++,t.json()}).then(function(t){cu().f[3]++,cu().s[5]++,e(aA.ensureStyleValidity(t))}).catch(function(){cu().f[4]++,cu().s[6]++,console.warn("Could not fetch default style",n),cu().s[7]++,e(aA.emptyStyle)})}function HF(){cu().f[5]++;const n=(cu().s[8]++,new URL(window.location.href));cu().s[9]++,n.searchParams.delete("style"),cu().s[10]++,window.history.replaceState({},document.title,n.toString())}function nc(){var n="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",e="f92fa2abb31199d99fd3ae02d967dc6702faf862",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return nc=function(){return s},s}nc();function mq(n,e){nc().f[0]++;const t=(nc().s[0]++,_te(n,e));return nc().s[1]++,t.map(r=>(nc().f[1]++,nc().s[2]++,r.command+" "+r.args.join(" ")))}function L9e(n,e){return nc().f[2]++,nc().s[3]++,mq(n,e).map(t=>(nc().f[3]++,nc().s[4]++,"Undo "+t))}function D9e(n,e){return nc().f[4]++,nc().s[5]++,mq(n,e).map(t=>(nc().f[5]++,nc().s[6]++,"Redo "+t))}function Nr(){var n="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",e="d0461aebf8a7391762efd074af8c5c2674087e64",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:63,column:65}},28:{start:{line:63,column:37},end:{line:63,column:65}},29:{start:{line:64,column:20},end:{line:64,column:67}},30:{start:{line:65,column:22},end:{line:65,column:68}},31:{start:{line:66,column:4},end:{line:66,column:52}},32:{start:{line:66,column:19},end:{line:66,column:52}},33:{start:{line:67,column:4},end:{line:67,column:25}},34:{start:{line:71,column:4},end:{line:71,column:51}},35:{start:{line:72,column:16},end:{line:72,column:37}},36:{start:{line:73,column:4},end:{line:73,column:63}},37:{start:{line:74,column:4},end:{line:74,column:65}},38:{start:{line:75,column:4},end:{line:75,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:68,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:17},end:{line:76,column:3}},line:70}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:63,column:65}},type:"if",locations:[{start:{line:63,column:4},end:{line:63,column:65}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:66,column:4},end:{line:66,column:52}},type:"if",locations:[{start:{line:66,column:4},end:{line:66,column:52}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW,EAAG,QAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG,UAAW,QAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d0461aebf8a7391762efd074af8c5c2674087e64"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Nr=function(){return s},s}Nr();const Vb=(Nr().s[0]++,"maputnik"),gq=(Nr().s[1]++,"style"),ZF=(Nr().s[2]++,{latest:[Vb,"latest_style"].join(":"),accessToken:[Vb,"access_token"].join(":")}),F9e=(Nr().s[3]++,YY[0].url);function XF(n){Nr().f[0]++,Nr().s[4]++,pq(F9e,n)}function R9e(){Nr().f[1]++;const n=(Nr().s[5]++,[]);Nr().s[6]++;for(let e=(Nr().s[7]++,0);e<window.localStorage.length;e++){const t=(Nr().s[8]++,window.localStorage.key(e));Nr().s[9]++,yq(t)?(Nr().b[0][0]++,Nr().s[10]++,n.push(U9e(t))):Nr().b[0][1]++}return Nr().s[11]++,n}function yq(n){Nr().f[2]++;const e=(Nr().s[12]++,n.split(":"));return Nr().s[13]++,Nr().b[1][0]++,e.length===3&&(Nr().b[1][1]++,e[0]===Vb)&&(Nr().b[1][2]++,e[1]===gq)}function U9e(n){if(Nr().f[3]++,Nr().s[14]++,yq(n))Nr().b[2][1]++;else throw Nr().b[2][0]++,Nr().s[15]++,"Key is not a valid style key";const e=(Nr().s[16]++,n.split(":")),t=(Nr().s[17]++,e[2]);return Nr().s[18]++,t}function JF(n){return Nr().f[4]++,Nr().s[19]++,[Vb,gq,n].join(":")}class eR{constructor(){dn(this,"mapStyles");Nr().f[5]++,Nr().s[20]++,this.mapStyles=R9e()}init(e){Nr().f[6]++,Nr().s[21]++,e(null)}purge(){Nr().f[7]++,Nr().s[22]++;for(let e=(Nr().s[23]++,0);e<window.localStorage.length;e++){const t=(Nr().s[24]++,window.localStorage.key(e));Nr().s[25]++,t.startsWith(Vb)?(Nr().b[3][0]++,Nr().s[26]++,window.localStorage.removeItem(t)):Nr().b[3][1]++}}latestStyle(e){if(Nr().f[8]++,Nr().s[27]++,this.mapStyles.length===0)return Nr().b[4][0]++,Nr().s[28]++,XF(e);Nr().b[4][1]++;const t=(Nr().s[29]++,window.localStorage.getItem(ZF.latest)),r=(Nr().s[30]++,window.localStorage.getItem(JF(t)));if(Nr().s[31]++,r)return Nr().b[5][0]++,Nr().s[32]++,e(JSON.parse(r));Nr().b[5][1]++,Nr().s[33]++,XF(e)}save(e){Nr().f[9]++,Nr().s[34]++,e=aA.ensureStyleValidity(e);const t=(Nr().s[35]++,JF(e.id));return Nr().s[36]++,window.localStorage.setItem(t,JSON.stringify(e)),Nr().s[37]++,window.localStorage.setItem(ZF.latest,e.id),Nr().s[38]++,e}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var N8=function(n,e){return N8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},N8(n,e)};function vq(n,e){N8(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function z9e(n){var e=typeof Symbol=="function"&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function j9e(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function N9e(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(j9e(arguments[e]));return n}var _q=function(){function n(e,t){this.target=t,this.type=e}return n}(),W9e=function(n){vq(e,n);function e(t,r){var i=n.call(this,"error",r)||this;return i.message=t.message,i.error=t,i}return e}(_q),G9e=function(n){vq(e,n);function e(t,r,i){t===void 0&&(t=1e3),r===void 0&&(r="");var o=n.call(this,"close",i)||this;return o.wasClean=!0,o.code=t,o.reason=r,o}return e}(_q);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var Q9e=function(){if(typeof WebSocket<"u")return WebSocket},$9e=function(n){return typeof n<"u"&&!!n&&n.CLOSING===2},yg={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},Y9e=function(){function n(e,t,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var s=i._options.minUptime,a=s===void 0?yg.minUptime:s;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},a),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(f){return i._ws.send(f)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(f){return i._callEventListener(o,f)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(s){return i._callEventListener(o,s)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(s){return i._callEventListener(o,s)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(s){return i._callEventListener(o,s)})},this._url=e,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(n,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CONNECTING",{get:function(){return n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OPEN",{get:function(){return n.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSING",{get:function(){return n.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CLOSED",{get:function(){return n.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(t,r){return typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?n.CLOSED:n.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),n.prototype.close=function(e,t){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)},n.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,t),this._connect())},n.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,r=t===void 0?yg.maxEnqueuedMessages:t;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}},n.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},n.prototype.dispatchEvent=function(e){var t,r,i=this._listeners[e.type];if(i)try{for(var o=z9e(i),s=o.next();!s.done;s=o.next()){var a=s.value;this._callEventListener(e,a)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0},n.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(r){return r!==t}))},n.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,N9e(["RWS>"],e))},n.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,r=t===void 0?yg.reconnectionDelayGrowFactor:t,i=e.minReconnectionDelay,o=i===void 0?yg.minReconnectionDelay:i,s=e.maxReconnectionDelay,a=s===void 0?yg.maxReconnectionDelay:s,f=0;return this._retryCount>0&&(f=o*Math.pow(r,this._retryCount-1),f>a&&(f=a)),this._debug("next delay",f),f},n.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},n.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var t=e();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},n.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,r=t.maxRetries,i=r===void 0?yg.maxRetries:r,o=t.connectionTimeout,s=o===void 0?yg.connectionTimeout:o,a=t.WebSocket,f=a===void 0?Q9e():a;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!$9e(f))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(m){e._closeCalled||(e._debug("connect",{url:m,protocols:e._protocols}),e._ws=e._protocols?new f(m,e._protocols):new f(m),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},s))})}},n.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new W9e(Error("TIMEOUT"),this))},n.prototype._disconnect=function(e,t){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new G9e(e,t,this))}catch{}}},n.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},n.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},n.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},n.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},n.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},n}();function Qr(){var n="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",e="fa2411bec13fe7a0c74835456fb0c60c3fdde9e5",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:45,column:6}},16:{start:{line:35,column:6},end:{line:35,column:26}},17:{start:{line:35,column:19},end:{line:35,column:26}},18:{start:{line:36,column:6},end:{line:36,column:52}},19:{start:{line:37,column:24},end:{line:37,column:40}},20:{start:{line:38,column:6},end:{line:42,column:7}},21:{start:{line:39,column:8},end:{line:39,column:41}},22:{start:{line:41,column:8},end:{line:41,column:27}},23:{start:{line:43,column:27},end:{line:43,column:65}},24:{start:{line:44,column:6},end:{line:44,column:44}},25:{start:{line:48,column:4},end:{line:58,column:5}},26:{start:{line:49,column:6},end:{line:55,column:9}},27:{start:{line:52,column:8},end:{line:52,column:31}},28:{start:{line:54,column:8},end:{line:54,column:44}},29:{start:{line:57,column:6},end:{line:57,column:92}},30:{start:{line:62,column:22},end:{line:66,column:5}},31:{start:{line:67,column:15},end:{line:67,column:26}},32:{start:{line:68,column:4},end:{line:77,column:7}},33:{start:{line:76,column:6},end:{line:76,column:38}},34:{start:{line:76,column:17},end:{line:76,column:38}},35:{start:{line:78,column:4},end:{line:78,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:46,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:45,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:18},end:{line:59,column:3}},line:47},9:{name:"(anonymous_9)",decl:{start:{line:51,column:14},end:{line:51,column:15}},loc:{start:{line:51,column:33},end:{line:53,column:7}},line:51},10:{name:"(anonymous_10)",decl:{start:{line:53,column:14},end:{line:53,column:15}},loc:{start:{line:53,column:29},end:{line:55,column:7}},line:53},11:{name:"(anonymous_11)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:17},end:{line:79,column:3}},line:61},12:{name:"(anonymous_12)",decl:{start:{line:75,column:13},end:{line:75,column:14}},loc:{start:{line:75,column:29},end:{line:77,column:5}},line:75}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:35,column:26}},type:"if",locations:[{start:{line:35,column:6},end:{line:35,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:48,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:48},5:{loc:{start:{line:76,column:6},end:{line:76,column:38}},type:"if",locations:[{start:{line:76,column:6},end:{line:76,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE,KAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG,MAAO,SAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fa2411bec13fe7a0c74835456fb0c60c3fdde9e5"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Qr=function(){return s},s}Qr();class q9e{constructor(e){dn(this,"localUrl");dn(this,"websocketUrl");dn(this,"latestStyleId",(Qr().s[0]++,void 0));dn(this,"onLocalStyleChange");Qr().f[0]++,Qr().s[1]++,this.onLocalStyleChange=(Qr().b[0][0]++,e.onLocalStyleChange||(Qr().b[0][1]++,()=>{Qr().f[1]++}));const t=(Qr().s[2]++,Qr().b[1][0]++,e.port||(Qr().b[1][1]++,"8000")),r=(Qr().s[3]++,Qr().b[2][0]++,e.host||(Qr().b[2][1]++,"localhost"));Qr().s[4]++,this.localUrl=`http://${r}:${t}`,Qr().s[5]++,this.websocketUrl=`ws://${r}:${t}/ws`,Qr().s[6]++,this.init=this.init.bind(this)}init(e){Qr().f[2]++,Qr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(t=>(Qr().f[3]++,Qr().s[8]++,t.json())).then(t=>{Qr().f[4]++;const r=(Qr().s[9]++,t);Qr().s[10]++,this.latestStyleId=r[0],Qr().s[11]++,this.notifyLocalChanges(),Qr().s[12]++,e(null)}).catch(()=>{Qr().f[5]++,Qr().s[13]++,e(new Error("Can not connect to style API"))})}notifyLocalChanges(){Qr().f[6]++;const e=(Qr().s[14]++,new Y9e(this.websocketUrl));Qr().s[15]++,e.onmessage=t=>{if(Qr().f[7]++,Qr().s[16]++,t.data)Qr().b[3][1]++;else{Qr().b[3][0]++,Qr().s[17]++;return}Qr().s[18]++,console.log("Received style update from API");let r=(Qr().s[19]++,aA.emptyStyle);Qr().s[20]++;try{Qr().s[21]++,r=JSON.parse(t.data)}catch(o){Qr().s[22]++,console.error(o)}const i=(Qr().s[23]++,aA.ensureStyleValidity(r));Qr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(e){if(Qr().f[8]++,Qr().s[25]++,this.latestStyleId)Qr().b[4][0]++,Qr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(t){return Qr().f[9]++,Qr().s[27]++,t.json()}).then(function(t){Qr().f[10]++,Qr().s[28]++,e(aA.ensureStyleValidity(t))});else throw Qr().b[4][1]++,Qr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(e){Qr().f[11]++;const t=(Qr().s[30]++,Zj(aA.stripAccessTokens(aA.replaceAccessTokens(e)))),r=(Qr().s[31]++,e.id);return Qr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t}).catch(function(i){Qr().f[12]++,Qr().s[33]++,i?(Qr().b[5][0]++,Qr().s[34]++,console.error(i)):Qr().b[5][1]++}),Qr().s[35]++,e}}function ss(){var n="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",e="9277d165d3b1fd7c235a1faab33cf41596d9966e",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9277d165d3b1fd7c235a1faab33cf41596d9966e"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ss=function(){return s},s}ss();class V9e{constructor(e=(ss().b[0][0]++,[])){dn(this,"revisions");dn(this,"currentIdx");ss().f[0]++,ss().s[0]++,this.revisions=e,ss().s[1]++,this.currentIdx=e.length-1}get latest(){return ss().f[1]++,ss().s[2]++,this.revisions[this.revisions.length-1]}get current(){return ss().f[2]++,ss().s[3]++,this.revisions[this.currentIdx]}addRevision(e){ss().f[3]++,ss().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),ss().s[5]++,this.revisions.push(e),ss().s[6]++,this.currentIdx++}undo(){return ss().f[4]++,ss().s[7]++,this.currentIdx>0?(ss().b[1][0]++,ss().s[8]++,this.currentIdx--):ss().b[1][1]++,ss().s[9]++,this.current}redo(){return ss().f[5]++,ss().s[10]++,this.currentIdx<this.revisions.length-1?(ss().b[2][0]++,ss().s[11]++,this.currentIdx++):ss().b[2][1]++,ss().s[12]++,this.current}}var Cq="Expected a function",tR=NaN,H9e="[object Symbol]",Z9e=/^\s+|\s+$/g,X9e=/^[-+]0x[0-9a-f]+$/i,J9e=/^0b[01]+$/i,ePe=/^0o[0-7]+$/i,tPe=parseInt,nPe=typeof window=="object"&&window&&window.Object===Object&&window,rPe=typeof self=="object"&&self&&self.Object===Object&&self,iPe=nPe||rPe||Function("return this")(),oPe=Object.prototype,aPe=oPe.toString,sPe=Math.max,lPe=Math.min,j6=function(){return iPe.Date.now()};function uPe(n,e,t){var r,i,o,s,a,f,m=0,C=!1,B=!1,I=!0;if(typeof n!="function")throw new TypeError(Cq);e=nR(e)||0,f5(t)&&(C=!!t.leading,B="maxWait"in t,o=B?sPe(nR(t.maxWait)||0,e):o,I="trailing"in t?!!t.trailing:I);function K(fe){var H=r,X=i;return r=i=void 0,m=fe,s=n.apply(X,H),s}function L(fe){return m=fe,a=setTimeout(V,e),C?K(fe):s}function Y(fe){var H=fe-f,X=fe-m,Me=e-H;return B?lPe(Me,o-X):Me}function ee(fe){var H=fe-f,X=fe-m;return f===void 0||H>=e||H<0||B&&X>=o}function V(){var fe=j6();if(ee(fe))return W(fe);a=setTimeout(V,Y(fe))}function W(fe){return a=void 0,I&&r?K(fe):(r=i=void 0,s)}function ne(){a!==void 0&&clearTimeout(a),m=0,r=f=i=a=void 0}function ce(){return a===void 0?s:W(j6())}function ge(){var fe=j6(),H=ee(fe);if(r=arguments,i=this,f=fe,H){if(a===void 0)return L(f);if(B)return a=setTimeout(V,e),K(f)}return a===void 0&&(a=setTimeout(V,e)),s}return ge.cancel=ne,ge.flush=ce,ge}function APe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Cq);return f5(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),uPe(n,e,{leading:r,maxWait:e,trailing:i})}function f5(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function cPe(n){return!!n&&typeof n=="object"}function hPe(n){return typeof n=="symbol"||cPe(n)&&aPe.call(n)==H9e}function nR(n){if(typeof n=="number")return n;if(hPe(n))return tR;if(f5(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=f5(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Z9e,"");var t=J9e.test(n);return t||ePe.test(n)?tPe(n.slice(2),t?2:8):X9e.test(n)?tR:+n}var dPe=APe;const fPe=wa(dPe);var p5={exports:{}};p5.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",f="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",B="[object Date]",I="[object Error]",K="[object Function]",L="[object GeneratorFunction]",Y="[object Map]",ee="[object Number]",V="[object Null]",W="[object Object]",ne="[object Promise]",ce="[object Proxy]",ge="[object RegExp]",fe="[object Set]",H="[object String]",X="[object Symbol]",Me="[object Undefined]",be="[object WeakMap]",Fe="[object ArrayBuffer]",Ue="[object DataView]",me="[object Float32Array]",Ve="[object Float64Array]",_e="[object Int8Array]",Ot="[object Int16Array]",St="[object Int32Array]",_t="[object Uint8Array]",ft="[object Uint8ClampedArray]",$e="[object Uint16Array]",et="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,en=/^\[object .+?Constructor\]$/,nn=/^(?:0|[1-9]\d*)$/,Et={};Et[me]=Et[Ve]=Et[_e]=Et[Ot]=Et[St]=Et[_t]=Et[ft]=Et[$e]=Et[et]=!0,Et[a]=Et[f]=Et[Fe]=Et[C]=Et[Ue]=Et[B]=Et[I]=Et[K]=Et[Y]=Et[ee]=Et[W]=Et[ge]=Et[fe]=Et[H]=Et[be]=!1;var Vt=typeof window=="object"&&window&&window.Object===Object&&window,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Le=Vt||Jt||Function("return this")(),ye=e&&!e.nodeType&&e,Te=ye&&!0&&n&&!n.nodeType&&n,Qe=Te&&Te.exports===ye,st=Qe&&Vt.process,lt=function(){try{return st&&st.binding&&st.binding("util")}catch{}}(),Kt=lt&&lt.isTypedArray;function Ht(j,le){for(var We=-1,xt=j==null?0:j.length,Hn=0,bn=[];++We<xt;){var kr=j[We];le(kr,We,j)&&(bn[Hn++]=kr)}return bn}function Wt(j,le){for(var We=-1,xt=le.length,Hn=j.length;++We<xt;)j[Hn+We]=le[We];return j}function Rn(j,le){for(var We=-1,xt=j==null?0:j.length;++We<xt;)if(le(j[We],We,j))return!0;return!1}function nr(j,le){for(var We=-1,xt=Array(j);++We<j;)xt[We]=le(We);return xt}function _n(j){return function(le){return j(le)}}function tr(j,le){return j.has(le)}function ur(j,le){return j==null?void 0:j[le]}function _r(j){var le=-1,We=Array(j.size);return j.forEach(function(xt,Hn){We[++le]=[Hn,xt]}),We}function Sr(j,le){return function(We){return j(le(We))}}function fr(j){var le=-1,We=Array(j.size);return j.forEach(function(xt){We[++le]=xt}),We}var pr=Array.prototype,fi=Function.prototype,Pe=Object.prototype,Q=Le["__core-js_shared__"],oe=fi.toString,Re=Pe.hasOwnProperty,ut=function(){var j=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),Tt=Pe.toString,jt=RegExp("^"+oe.call(Re).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ar=Qe?Le.Buffer:void 0,ht=Le.Symbol,Ee=Le.Uint8Array,ve=Pe.propertyIsEnumerable,p=pr.splice,Ke=ht?ht.toStringTag:void 0,ze=Object.getOwnPropertySymbols,it=ar?ar.isBuffer:void 0,dt=Sr(Object.keys,Object),ot=no(Le,"DataView"),Ft=no(Le,"Map"),rt=no(Le,"Promise"),mt=no(Le,"Set"),Bt=no(Le,"WeakMap"),cn=no(Object,"create"),mn=Bo(ot),fn=Bo(Ft),Cr=Bo(rt),rr=Bo(mt),Mr=Bo(Bt),oi=ht?ht.prototype:void 0,$r=oi?oi.valueOf:void 0;function Un(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function On(){this.__data__=cn?cn(null):{},this.size=0}function Er(j){var le=this.has(j)&&delete this.__data__[j];return this.size-=le?1:0,le}function ti(j){var le=this.__data__;if(cn){var We=le[j];return We===r?void 0:We}return Re.call(le,j)?le[j]:void 0}function ji(j){var le=this.__data__;return cn?le[j]!==void 0:Re.call(le,j)}function ei(j,le){var We=this.__data__;return this.size+=this.has(j)?0:1,We[j]=cn&&le===void 0?r:le,this}Un.prototype.clear=On,Un.prototype.delete=Er,Un.prototype.get=ti,Un.prototype.has=ji,Un.prototype.set=ei;function Wr(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Ni(){this.__data__=[],this.size=0}function Ko(j){var le=this.__data__,We=En(le,j);if(We<0)return!1;var xt=le.length-1;return We==xt?le.pop():p.call(le,We,1),--this.size,!0}function aa(j){var le=this.__data__,We=En(le,j);return We<0?void 0:le[We][1]}function yo(j){return En(this.__data__,j)>-1}function qa(j,le){var We=this.__data__,xt=En(We,j);return xt<0?(++this.size,We.push([j,le])):We[xt][1]=le,this}Wr.prototype.clear=Ni,Wr.prototype.delete=Ko,Wr.prototype.get=aa,Wr.prototype.has=yo,Wr.prototype.set=qa;function Wi(j){var le=-1,We=j==null?0:j.length;for(this.clear();++le<We;){var xt=j[le];this.set(xt[0],xt[1])}}function Ho(){this.size=0,this.__data__={hash:new Un,map:new(Ft||Wr),string:new Un}}function Ma(j){var le=No(this,j).delete(j);return this.size-=le?1:0,le}function Gi(j){return No(this,j).get(j)}function sa(j){return No(this,j).has(j)}function Va(j,le){var We=No(this,j),xt=We.size;return We.set(j,le),this.size+=We.size==xt?0:1,this}Wi.prototype.clear=Ho,Wi.prototype.delete=Ma,Wi.prototype.get=Gi,Wi.prototype.has=sa,Wi.prototype.set=Va;function ci(j){var le=-1,We=j==null?0:j.length;for(this.__data__=new Wi;++le<We;)this.add(j[le])}function er(j){return this.__data__.set(j,r),this}function jo(j){return this.__data__.has(j)}ci.prototype.add=ci.prototype.push=er,ci.prototype.has=jo;function co(j){var le=this.__data__=new Wr(j);this.size=le.size}function Qi(){this.__data__=new Wr,this.size=0}function Oe(j){var le=this.__data__,We=le.delete(j);return this.size=le.size,We}function Je(j){return this.__data__.get(j)}function rn(j){return this.__data__.has(j)}function pn(j,le){var We=this.__data__;if(We instanceof Wr){var xt=We.__data__;if(!Ft||xt.length<t-1)return xt.push([j,le]),this.size=++We.size,this;We=this.__data__=new Wi(xt)}return We.set(j,le),this.size=We.size,this}co.prototype.clear=Qi,co.prototype.delete=Oe,co.prototype.get=Je,co.prototype.has=rn,co.prototype.set=pn;function Pt(j,le){var We=Za(j),xt=!We&&yi(j),Hn=!We&&!xt&&Xa(j),bn=!We&&!xt&&!Hn&&Us(j),kr=We||xt||Hn||bn,Ur=kr?nr(j.length,String):[],yr=Ur.length;for(var Tr in j)Re.call(j,Tr)&&!(kr&&(Tr=="length"||Hn&&(Tr=="offset"||Tr=="parent")||bn&&(Tr=="buffer"||Tr=="byteLength"||Tr=="byteOffset")||cA(Tr,yr)))&&Ur.push(Tr);return Ur}function En(j,le){for(var We=j.length;We--;)if(Io(j[We][0],le))return We;return-1}function Hr(j,le,We){var xt=le(j);return Za(j)?xt:Wt(xt,We(j))}function Yr(j){return j==null?j===void 0?Me:V:Ke&&Ke in Object(j)?Rs(j):hA(j)}function ni(j){return Zo(j)&&Yr(j)==a}function Sa(j,le,We,xt,Hn){return j===le?!0:j==null||le==null||!Zo(j)&&!Zo(le)?j!==j&&le!==le:la(j,le,We,xt,Sa,Hn)}function la(j,le,We,xt,Hn,bn){var kr=Za(j),Ur=Za(le),yr=kr?f:Ea(j),Tr=Ur?f:Ea(le);yr=yr==a?W:yr,Tr=Tr==a?W:Tr;var Di=yr==W,ro=Tr==W,vi=yr==Tr;if(vi&&Xa(j)){if(!Xa(le))return!1;kr=!0,Di=!1}if(vi&&!Di)return bn||(bn=new co),kr||Us(j)?Hi(j,le,We,xt,Hn,bn):Ha(j,le,yr,We,xt,Hn,bn);if(!(We&i)){var Xr=Di&&Re.call(j,"__wrapped__"),ki=ro&&Re.call(le,"__wrapped__");if(Xr||ki){var pi=Xr?j.value():j,$i=ki?le.value():le;return bn||(bn=new co),Hn(pi,$i,We,xt,bn)}}return vi?(bn||(bn=new co),dl(j,le,We,xt,Hn,bn)):!1}function mr(j){if(!Js(j)||gu(j))return!1;var le=ql(j)?jt:en;return le.test(Bo(j))}function Fs(j){return Zo(j)&&Vl(j.length)&&!!Et[Yr(j)]}function Ms(j){if(!zu(j))return dt(j);var le=[];for(var We in Object(j))Re.call(j,We)&&We!="constructor"&&le.push(We);return le}function Hi(j,le,We,xt,Hn,bn){var kr=We&i,Ur=j.length,yr=le.length;if(Ur!=yr&&!(kr&&yr>Ur))return!1;var Tr=bn.get(j);if(Tr&&bn.get(le))return Tr==le;var Di=-1,ro=!0,vi=We&o?new ci:void 0;for(bn.set(j,le),bn.set(le,j);++Di<Ur;){var Xr=j[Di],ki=le[Di];if(xt)var pi=kr?xt(ki,Xr,Di,le,j,bn):xt(Xr,ki,Di,j,le,bn);if(pi!==void 0){if(pi)continue;ro=!1;break}if(vi){if(!Rn(le,function($i,La){if(!tr(vi,La)&&(Xr===$i||Hn(Xr,$i,We,xt,bn)))return vi.push(La)})){ro=!1;break}}else if(!(Xr===ki||Hn(Xr,ki,We,xt,bn))){ro=!1;break}}return bn.delete(j),bn.delete(le),ro}function Ha(j,le,We,xt,Hn,bn,kr){switch(We){case Ue:if(j.byteLength!=le.byteLength||j.byteOffset!=le.byteOffset)return!1;j=j.buffer,le=le.buffer;case Fe:return!(j.byteLength!=le.byteLength||!bn(new Ee(j),new Ee(le)));case C:case B:case ee:return Io(+j,+le);case I:return j.name==le.name&&j.message==le.message;case ge:case H:return j==le+"";case Y:var Ur=_r;case fe:var yr=xt&i;if(Ur||(Ur=fr),j.size!=le.size&&!yr)return!1;var Tr=kr.get(j);if(Tr)return Tr==le;xt|=o,kr.set(j,le);var Di=Hi(Ur(j),Ur(le),xt,Hn,bn,kr);return kr.delete(j),Di;case X:if($r)return $r.call(j)==$r.call(le)}return!1}function dl(j,le,We,xt,Hn,bn){var kr=We&i,Ur=to(j),yr=Ur.length,Tr=to(le),Di=Tr.length;if(yr!=Di&&!kr)return!1;for(var ro=yr;ro--;){var vi=Ur[ro];if(!(kr?vi in le:Re.call(le,vi)))return!1}var Xr=bn.get(j);if(Xr&&bn.get(le))return Xr==le;var ki=!0;bn.set(j,le),bn.set(le,j);for(var pi=kr;++ro<yr;){vi=Ur[ro];var $i=j[vi],La=le[vi];if(xt)var Ss=kr?xt(La,$i,vi,le,j,bn):xt($i,La,vi,j,le,bn);if(!(Ss===void 0?$i===La||Hn($i,La,We,xt,bn):Ss)){ki=!1;break}pi||(pi=vi=="constructor")}if(ki&&!pi){var ho=j.constructor,Lo=le.constructor;ho!=Lo&&"constructor"in j&&"constructor"in le&&!(typeof ho=="function"&&ho instanceof ho&&typeof Lo=="function"&&Lo instanceof Lo)&&(ki=!1)}return bn.delete(j),bn.delete(le),ki}function to(j){return Hr(j,fl,Ka)}function No(j,le){var We=j.__data__;return Xs(le)?We[typeof le=="string"?"string":"hash"]:We.map}function no(j,le){var We=ur(j,le);return mr(We)?We:void 0}function Rs(j){var le=Re.call(j,Ke),We=j[Ke];try{j[Ke]=void 0;var xt=!0}catch{}var Hn=Tt.call(j);return xt&&(le?j[Ke]=We:delete j[Ke]),Hn}var Ka=ze?function(j){return j==null?[]:(j=Object(j),Ht(ze(j),function(le){return ve.call(j,le)}))}:gr,Ea=Yr;(ot&&Ea(new ot(new ArrayBuffer(1)))!=Ue||Ft&&Ea(new Ft)!=Y||rt&&Ea(rt.resolve())!=ne||mt&&Ea(new mt)!=fe||Bt&&Ea(new Bt)!=be)&&(Ea=function(j){var le=Yr(j),We=le==W?j.constructor:void 0,xt=We?Bo(We):"";if(xt)switch(xt){case mn:return Ue;case fn:return Y;case Cr:return ne;case rr:return fe;case Mr:return be}return le});function cA(j,le){return le=le??s,!!le&&(typeof j=="number"||nn.test(j))&&j>-1&&j%1==0&&j<le}function Xs(j){var le=typeof j;return le=="string"||le=="number"||le=="symbol"||le=="boolean"?j!=="__proto__":j===null}function gu(j){return!!ut&&ut in j}function zu(j){var le=j&&j.constructor,We=typeof le=="function"&&le.prototype||Pe;return j===We}function hA(j){return Tt.call(j)}function Bo(j){if(j!=null){try{return oe.call(j)}catch{}try{return j+""}catch{}}return""}function Io(j,le){return j===le||j!==j&&le!==le}var yi=ni(function(){return arguments}())?ni:function(j){return Zo(j)&&Re.call(j,"callee")&&!ve.call(j,"callee")},Za=Array.isArray;function Oa(j){return j!=null&&Vl(j.length)&&!ql(j)}var Xa=it||li;function yu(j,le){return Sa(j,le)}function ql(j){if(!Js(j))return!1;var le=Yr(j);return le==K||le==L||le==m||le==ce}function Vl(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=s}function Js(j){var le=typeof j;return j!=null&&(le=="object"||le=="function")}function Zo(j){return j!=null&&typeof j=="object"}var Us=Kt?_n(Kt):Fs;function fl(j){return Oa(j)?Pt(j):Ms(j)}function gr(){return[]}function li(){return!1}n.exports=yu})(p5,p5.exports);var pPe=p5.exports;const W8=wa(pPe);function ii(){var n="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",e="77d2098743f5a64765174c6e14fc4dc25f900f6c",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return ii=function(){return s},s}ii();class mPe{constructor(e=(ii().b[0][0]++,{})){dn(this,"onSourcesChange");dn(this,"onVectorLayersChange");dn(this,"throttledAnalyzeVectorLayerFields");dn(this,"_sources");dn(this,"_vectorLayers");ii().f[0]++,ii().s[0]++,this.onSourcesChange=(ii().b[1][0]++,e.onSourcesChange||(ii().b[1][1]++,()=>{ii().f[1]++})),ii().s[1]++,this.onVectorLayersChange=(ii().b[2][0]++,e.onVectorLayersChange||(ii().b[2][1]++,()=>{ii().f[2]++})),ii().s[2]++,this._sources={},ii().s[3]++,this._vectorLayers={},ii().s[4]++,this.throttledAnalyzeVectorLayerFields=fPe(this.analyzeVectorLayerFields,5e3)}analyzeMap(e){ii().f[3]++;const t=(ii().s[5]++,{...this._sources});ii().s[6]++,Object.keys(e.style.sourceCaches).forEach(r=>{ii().f[4]++,ii().s[7]++,this._sources[r]=e.style.sourceCaches[r]._source.vectorLayerIds}),ii().s[8]++,W8(t,this._sources)?ii().b[3][1]++:(ii().b[3][0]++,ii().s[9]++,this.onSourcesChange(this._sources)),ii().s[10]++,this.throttledAnalyzeVectorLayerFields(e)}analyzeVectorLayerFields(e){ii().f[5]++;const t=(ii().s[11]++,{...this._vectorLayers});ii().s[12]++,Object.keys(this._sources).forEach(r=>{ii().f[6]++,ii().s[13]++,(ii().b[4][0]++,this._sources[r]||(ii().b[4][1]++,[])).forEach(i=>{ii().f[7]++;const o=(ii().s[14]++,ii().b[5][0]++,this._vectorLayers[i]||(ii().b[5][1]++,{})),s=(ii().s[15]++,{sourceLayer:i});ii().s[16]++,e.querySourceFeatures(r,s).forEach(a=>{ii().f[8]++,ii().s[17]++,Object.keys(a.properties).forEach(f=>{ii().f[9]++;const m=(ii().s[18]++,ii().b[6][0]++,o[f]||(ii().b[6][1]++,{}));ii().s[19]++,m[a.properties[f]]={},ii().s[20]++,o[f]=m})}),ii().s[21]++,this._vectorLayers[i]=o})}),ii().s[22]++,W8(t,this._vectorLayers)?ii().b[7][1]++:(ii().b[7][0]++,ii().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ii().f[10]++,ii().s[24]++,this._sources}get vectorLayers(){return ii().f[11]++,ii().s[25]++,this._vectorLayers}}function Qo(){var n="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",e="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Qo=function(){return s},s}Qo();const nb=(Qo().s[0]++,{});function KT(){Qo().f[0]++;const n=(Qo().s[1]++,new URL(window.location.href).searchParams),e=(Qo().s[2]++,n.get("debug"));return Qo().s[3]++,e?(Qo().b[0][0]++,Qo().s[4]++,!!e.match(/^(|1|true)$/)):(Qo().b[0][1]++,Qo().s[5]++,!1)}function bq(){return Qo().f[1]++,Qo().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function gPe(n,e,t){if(Qo().f[2]++,Qo().s[7]++,KT())Qo().b[1][1]++;else throw Qo().b[1][0]++,Qo().s[8]++,bq();Qo().s[9]++,nb[n]=(Qo().b[2][0]++,nb[n]||(Qo().b[2][1]++,{})),Qo().s[10]++,nb[n][e]=t}function yPe(n,e){if(Qo().f[3]++,Qo().s[11]++,KT())Qo().b[3][1]++;else throw Qo().b[3][0]++,Qo().s[12]++,bq();if(Qo().s[13]++,Object.prototype.hasOwnProperty.call(nb,n))return Qo().b[4][0]++,Qo().s[14]++,nb[n][e];Qo().b[4][1]++}const Mg=(Qo().s[15]++,{enabled:KT,get:yPe,set:gPe});Qo().s[16]++;window.debug=Mg;function Ae(){var n="/home/runner/work/maputnik/maputnik/src/components/App.tsx",e="6e6297bb6f56e55ebc65f06899b9c27f67a26f58",t=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:36,column:0},end:{line:36,column:30}},1:{start:{line:38,column:29},end:{line:38,column:60}},2:{start:{line:39,column:26},end:{line:39,column:54}},3:{start:{line:40,column:31},end:{line:40,column:64}},4:{start:{line:41,column:2},end:{line:53,column:3}},5:{start:{line:42,column:24},end:{line:42,column:95}},6:{start:{line:43,column:4},end:{line:45,column:5}},7:{start:{line:44,column:6},end:{line:44,column:47}},8:{start:{line:46,column:9},end:{line:53,column:3}},9:{start:{line:47,column:24},end:{line:47,column:96}},10:{start:{line:48,column:4},end:{line:50,column:5}},11:{start:{line:49,column:6},end:{line:49,column:47}},12:{start:{line:52,column:4},end:{line:52,column:15}},13:{start:{line:56,column:2},end:{line:65,column:4}},14:{start:{line:72,column:4},end:{line:72,column:17}},15:{start:{line:73,column:4},end:{line:73,column:19}},16:{start:{line:74,column:4},end:{line:74,column:45}},17:{start:{line:75,column:19},end:{line:75,column:75}},18:{start:{line:76,column:15},end:{line:76,column:38}},19:{start:{line:77,column:4},end:{line:79,column:5}},20:{start:{line:78,column:6},end:{line:78,column:34}},21:{start:{line:80,column:4},end:{line:84,column:7}},22:{start:{line:81,column:40},end:{line:81,column:86}},23:{start:{line:85,column:22},end:{line:136,column:5}},24:{start:{line:89,column:10},end:{line:89,column:40}},25:{start:{line:95,column:10},end:{line:95,column:35}},26:{start:{line:101,column:10},end:{line:101,column:37}},27:{start:{line:107,column:10},end:{line:107,column:38}},28:{start:{line:113,column:10},end:{line:113,column:39}},29:{start:{line:119,column:10},end:{line:121,column:12}},30:{start:{line:127,column:10},end:{line:127,column:63}},31:{start:{line:133,column:10},end:{line:133,column:36}},32:{start:{line:137,column:4},end:{line:150,column:7}},33:{start:{line:138,column:6},end:{line:149,column:7}},34:{start:{line:139,column:8},end:{line:139,column:24}},35:{start:{line:140,column:8},end:{line:140,column:30}},36:{start:{line:141,column:13},end:{line:149,column:7}},37:{start:{line:142,column:25},end:{line:144,column:10}},38:{start:{line:143,column:10},end:{line:143,column:41}},39:{start:{line:145,column:8},end:{line:148,column:9}},40:{start:{line:146,column:10},end:{line:146,column:44}},41:{start:{line:147,column:10},end:{line:147,column:29}},42:{start:{line:151,column:21},end:{line:151,column:38}},43:{start:{line:152,column:4},end:{line:171,column:5}},44:{start:{line:153,column:6},end:{line:153,column:41}},45:{start:{line:154,column:6},end:{line:154,column:74}},46:{start:{line:154,column:43},end:{line:154,column:72}},47:{start:{line:155,column:6},end:{line:155,column:31}},48:{start:{line:157,column:6},end:{line:159,column:7}},49:{start:{line:158,column:8},end:{line:158,column:33}},50:{start:{line:160,column:6},end:{line:170,column:9}},51:{start:{line:161,column:8},end:{line:164,column:9}},52:{start:{line:162,column:10},end:{line:162,column:74}},53:{start:{line:163,column:10},end:{line:163,column:45}},54:{start:{line:165,column:8},end:{line:165,column:104}},55:{start:{line:165,column:50},end:{line:165,column:102}},56:{start:{line:166,column:8},end:{line:169,column:9}},57:{start:{line:167,column:10},end:{line:167,column:63}},58:{start:{line:168,column:10},end:{line:168,column:69}},59:{start:{line:172,column:4},end:{line:175,column:5}},60:{start:{line:173,column:6},end:{line:173,column:65}},61:{start:{line:174,column:6},end:{line:174,column:59}},62:{start:{line:176,column:4},end:{line:209,column:6}},63:{start:{line:210,column:4},end:{line:212,column:7}},64:{start:{line:211,column:35},end:{line:211,column:69}},65:{start:{line:214,column:19},end:{line:232,column:3}},66:{start:{line:215,column:4},end:{line:231,column:5}},67:{start:{line:216,column:6},end:{line:222,column:7}},68:{start:{line:217,column:8},end:{line:217,column:27}},69:{start:{line:218,column:8},end:{line:218,column:22}},70:{start:{line:219,column:13},end:{line:222,column:7}},71:{start:{line:220,column:8},end:{line:220,column:27}},72:{start:{line:221,column:8},end:{line:221,column:22}},73:{start:{line:224,column:6},end:{line:230,column:7}},74:{start:{line:225,column:8},end:{line:225,column:27}},75:{start:{line:226,column:8},end:{line:226,column:22}},76:{start:{line:227,column:13},end:{line:230,column:7}},77:{start:{line:228,column:8},end:{line:228,column:27}},78:{start:{line:229,column:8},end:{line:229,column:22}},79:{start:{line:234,column:4},end:{line:234,column:60}},80:{start:{line:237,column:4},end:{line:237,column:63}},81:{start:{line:240,column:4},end:{line:240,column:40}},82:{start:{line:243,column:21},end:{line:243,column:55}},83:{start:{line:244,column:24},end:{line:244,column:93}},84:{start:{line:245,column:21},end:{line:245,column:110}},85:{start:{line:246,column:4},end:{line:248,column:7}},86:{start:{line:247,column:6},end:{line:247,column:80}},87:{start:{line:251,column:4},end:{line:253,column:7}},88:{start:{line:252,column:6},end:{line:252,column:80}},89:{start:{line:255,column:29},end:{line:269,column:3}},90:{start:{line:256,column:4},end:{line:260,column:5}},91:{start:{line:257,column:6},end:{line:259,column:9}},92:{start:{line:261,column:25},end:{line:267,column:5}},93:{start:{line:268,column:4},end:{line:268,column:38}},94:{start:{line:270,column:19},end:{line:382,column:3}},95:{start:{line:271,column:4},end:{line:276,column:6}},96:{start:{line:277,column:4},end:{line:279,column:5}},97:{start:{line:278,column:6},end:{line:278,column:44}},98:{start:{line:280,column:19},end:{line:280,column:51}},99:{start:{line:281,column:24},end:{line:281,column:26}},100:{start:{line:282,column:4},end:{line:293,column:5}},101:{start:{line:283,column:26},end:{line:283,column:42}},102:{start:{line:284,column:6},end:{line:292,column:9}},103:{start:{line:285,column:8},end:{line:290,column:9}},104:{start:{line:286,column:24},end:{line:288,column:11}},105:{start:{line:289,column:10},end:{line:289,column:34}},106:{start:{line:291,column:8},end:{line:291,column:40}},107:{start:{line:294,column:25},end:{line:345,column:6}},108:{start:{line:295,column:23},end:{line:295,column:109}},109:{start:{line:296,column:6},end:{line:309,column:7}},110:{start:{line:297,column:35},end:{line:297,column:43}},111:{start:{line:298,column:8},end:{line:308,column:10}},112:{start:{line:310,column:33},end:{line:310,column:100}},113:{start:{line:311,column:6},end:{line:324,column:7}},114:{start:{line:312,column:35},end:{line:312,column:53}},115:{start:{line:313,column:8},end:{line:323,column:10}},116:{start:{line:325,column:25},end:{line:325,column:88}},117:{start:{line:326,column:6},end:{line:344,column:7}},118:{start:{line:327,column:52},end:{line:327,column:62}},119:{start:{line:328,column:20},end:{line:328,column:78}},120:{start:{line:329,column:8},end:{line:339,column:10}},121:{start:{line:341,column:8},end:{line:343,column:10}},122:{start:{line:346,column:24},end:{line:346,column:30}},123:{start:{line:347,column:4},end:{line:361,column:5}},124:{start:{line:348,column:6},end:{line:348,column:42}},125:{start:{line:349,column:6},end:{line:360,column:9}},126:{start:{line:350,column:28},end:{line:350,column:33}},127:{start:{line:351,column:8},end:{line:359,column:9}},128:{start:{line:352,column:10},end:{line:358,column:11}},129:{start:{line:353,column:28},end:{line:353,column:49}},130:{start:{line:354,column:30},end:{line:354,column:69}},131:{start:{line:355,column:12},end:{line:355,column:44}},132:{start:{line:357,column:12},end:{line:357,column:30}},133:{start:{line:362,column:4},end:{line:364,column:5}},134:{start:{line:363,column:6},end:{line:363,column:40}},135:{start:{line:365,column:4},end:{line:367,column:5}},136:{start:{line:366,column:6},end:{line:366,column:40}},137:{start:{line:368,column:4},end:{line:370,column:5}},138:{start:{line:369,column:6},end:{line:369,column:47}},139:{start:{line:371,column:4},end:{line:373,column:5}},140:{start:{line:372,column:6},end:{line:372,column:31}},141:{start:{line:374,column:4},end:{line:381,column:7}},142:{start:{line:379,column:6},end:{line:379,column:26}},143:{start:{line:380,column:6},end:{line:380,column:27}},144:{start:{line:383,column:11},end:{line:390,column:3}},145:{start:{line:384,column:24},end:{line:384,column:49}},146:{start:{line:385,column:21},end:{line:385,column:67}},147:{start:{line:386,column:4},end:{line:386,column:61}},148:{start:{line:387,column:4},end:{line:389,column:7}},149:{start:{line:391,column:11},end:{line:398,column:3}},150:{start:{line:392,column:24},end:{line:392,column:49}},151:{start:{line:393,column:21},end:{line:393,column:67}},152:{start:{line:394,column:4},end:{line:394,column:61}},153:{start:{line:395,column:4},end:{line:397,column:7}},154:{start:{line:399,column:16},end:{line:413,column:3}},155:{start:{line:400,column:33},end:{line:400,column:37}},156:{start:{line:401,column:17},end:{line:401,column:43}},157:{start:{line:402,column:4},end:{line:402,column:53}},158:{start:{line:403,column:4},end:{line:403,column:53}},159:{start:{line:404,column:4},end:{line:404,column:38}},160:{start:{line:404,column:31},end:{line:404,column:38}},161:{start:{line:405,column:4},end:{line:409,column:5}},162:{start:{line:406,column:6},end:{line:408,column:9}},163:{start:{line:410,column:4},end:{line:410,column:29}},164:{start:{line:411,column:4},end:{line:411,column:49}},165:{start:{line:412,column:4},end:{line:412,column:32}},166:{start:{line:414,column:19},end:{line:420,column:3}},167:{start:{line:415,column:25},end:{line:418,column:5}},168:{start:{line:419,column:4},end:{line:419,column:38}},169:{start:{line:421,column:19},end:{line:426,column:3}},170:{start:{line:422,column:19},end:{line:422,column:45}},171:{start:{line:423,column:28},end:{line:423,column:43}},172:{start:{line:424,column:4},end:{line:424,column:37}},173:{start:{line:425,column:4},end:{line:425,column:41}},174:{start:{line:427,column:16},end:{line:434,column:3}},175:{start:{line:428,column:19},end:{line:428,column:45}},176:{start:{line:429,column:26},end:{line:429,column:41}},177:{start:{line:430,column:24},end:{line:430,column:55}},178:{start:{line:431,column:4},end:{line:431,column:46}},179:{start:{line:432,column:4},end:{line:432,column:48}},180:{start:{line:433,column:4},end:{line:433,column:39}},181:{start:{line:435,column:28},end:{line:444,column:3}},182:{start:{line:436,column:19},end:{line:436,column:45}},183:{start:{line:437,column:26},end:{line:437,column:41}},184:{start:{line:438,column:18},end:{line:438,column:45}},185:{start:{line:439,column:26},end:{line:439,column:70}},186:{start:{line:440,column:4},end:{line:440,column:88}},187:{start:{line:441,column:4},end:{line:441,column:33}},188:{start:{line:442,column:4},end:{line:442,column:33}},189:{start:{line:443,column:4},end:{line:443,column:39}},190:{start:{line:445,column:20},end:{line:452,column:3}},191:{start:{line:446,column:26},end:{line:446,column:61}},192:{start:{line:447,column:4},end:{line:450,column:6}},193:{start:{line:451,column:4},end:{line:451,column:39}},194:{start:{line:453,column:19},end:{line:457,column:3}},195:{start:{line:454,column:26},end:{line:454,column:61}},196:{start:{line:455,column:4},end:{line:455,column:33}},197:{start:{line:456,column:4},end:{line:456,column:39}},198:{start:{line:458,column:16},end:{line:462,column:3}},199:{start:{line:459,column:4},end:{line:461,column:27}},200:{start:{line:463,column:21},end:{line:477,column:3}},201:{start:{line:464,column:21},end:{line:464,column:44}},202:{start:{line:465,column:4},end:{line:476,column:5}},203:{start:{line:466,column:27},end:{line:472,column:7}},204:{start:{line:473,column:6},end:{line:473,column:26}},205:{start:{line:475,column:6},end:{line:475,column:22}},206:{start:{line:478,column:14},end:{line:481,column:3}},207:{start:{line:479,column:4},end:{line:479,column:47}},208:{start:{line:480,column:4},end:{line:480,column:34}},209:{start:{line:483,column:23},end:{line:483,column:25}},210:{start:{line:484,column:4},end:{line:518,column:5}},211:{start:{line:485,column:6},end:{line:517,column:7}},212:{start:{line:486,column:8},end:{line:489,column:10}},213:{start:{line:490,column:18},end:{line:490,column:25}},214:{start:{line:491,column:8},end:{line:495,column:9}},215:{start:{line:492,column:10},end:{line:492,column:62}},216:{start:{line:494,column:10},end:{line:494,column:63}},217:{start:{line:496,column:8},end:{line:514,column:11}},218:{start:{line:498,column:30},end:{line:498,column:45}},219:{start:{line:499,column:10},end:{line:501,column:11}},220:{start:{line:500,column:12},end:{line:500,column:19}},221:{start:{line:502,column:26},end:{line:504,column:12}},222:{start:{line:505,column:10},end:{line:507,column:11}},223:{start:{line:506,column:12},end:{line:506,column:47}},224:{start:{line:508,column:10},end:{line:508,column:51}},225:{start:{line:509,column:10},end:{line:511,column:13}},226:{start:{line:513,column:10},end:{line:513,column:72}},227:{start:{line:516,column:8},end:{line:516,column:86}},228:{start:{line:519,column:4},end:{line:524,column:5}},229:{start:{line:520,column:6},end:{line:520,column:39}},230:{start:{line:521,column:6},end:{line:523,column:9}},231:{start:{line:527,column:21},end:{line:527,column:55}},232:{start:{line:528,column:4},end:{line:528,column:53}},233:{start:{line:530,column:16},end:{line:534,column:3}},234:{start:{line:531,column:4},end:{line:533,column:7}},235:{start:{line:536,column:40},end:{line:536,column:50}},236:{start:{line:537,column:21},end:{line:548,column:5}},237:{start:{line:540,column:8},end:{line:542,column:11}},238:{start:{line:545,column:8},end:{line:545,column:44}},239:{start:{line:546,column:8},end:{line:546,column:28}},240:{start:{line:549,column:21},end:{line:549,column:40}},241:{start:{line:551,column:4},end:{line:573,column:5}},242:{start:{line:552,column:6},end:{line:560,column:8}},243:{start:{line:562,column:6},end:{line:572,column:8}},244:{start:{line:575,column:4},end:{line:577,column:5}},245:{start:{line:576,column:6},end:{line:576,column:63}},246:{start:{line:578,column:25},end:{line:578,column:27}},247:{start:{line:579,column:4},end:{line:581,column:5}},248:{start:{line:580,column:6},end:{line:580,column:52}},249:{start:{line:582,column:4},end:{line:582,column:160}},250:{start:{line:584,column:18},end:{line:602,column:3}},251:{start:{line:585,column:43},end:{line:585,column:53}},252:{start:{line:586,column:35},end:{line:586,column:45}},253:{start:{line:587,column:16},end:{line:587,column:38}},254:{start:{line:588,column:20},end:{line:588,column:50}},255:{start:{line:589,column:4},end:{line:589,column:70}},256:{start:{line:590,column:23},end:{line:590,column:122}},257:{start:{line:590,column:66},end:{line:590,column:91}},258:{start:{line:590,column:109},end:{line:590,column:121}},259:{start:{line:591,column:4},end:{line:595,column:5}},260:{start:{line:592,column:6},end:{line:592,column:58}},261:{start:{line:594,column:6},end:{line:594,column:39}},262:{start:{line:596,column:4},end:{line:600,column:5}},263:{start:{line:597,column:6},end:{line:597,column:38}},264:{start:{line:598,column:11},end:{line:600,column:5}},265:{start:{line:599,column:6},end:{line:599,column:46}},266:{start:{line:601,column:4},end:{line:601,column:71}},267:{start:{line:603,column:27},end:{line:648,column:3}},268:{start:{line:604,column:16},end:{line:604,column:38}},269:{start:{line:605,column:23},end:{line:605,column:52}},270:{start:{line:606,column:4},end:{line:618,column:5}},271:{start:{line:607,column:21},end:{line:607,column:42}},272:{start:{line:608,column:23},end:{line:608,column:25}},273:{start:{line:609,column:6},end:{line:611,column:9}},274:{start:{line:610,column:8},end:{line:610,column:35}},275:{start:{line:612,column:6},end:{line:617,column:9}},276:{start:{line:619,column:17},end:{line:619,column:45}},277:{start:{line:620,column:4},end:{line:622,column:5}},278:{start:{line:621,column:6},end:{line:621,column:29}},279:{start:{line:623,column:17},end:{line:623,column:46}},280:{start:{line:624,column:4},end:{line:647,column:5}},281:{start:{line:625,column:6},end:{line:646,column:7}},282:{start:{line:626,column:22},end:{line:626,column:37}},283:{start:{line:627,column:46},end:{line:630,column:9}},284:{start:{line:631,column:20},end:{line:631,column:24}},285:{start:{line:632,column:8},end:{line:637,column:9}},286:{start:{line:633,column:33},end:{line:633,column:63}},287:{start:{line:634,column:10},end:{line:636,column:11}},288:{start:{line:635,column:12},end:{line:635,column:26}},289:{start:{line:638,column:8},end:{line:643,column:9}},290:{start:{line:639,column:10},end:{line:642,column:13}},291:{start:{line:645,column:8},end:{line:645,column:26}},292:{start:{line:649,column:18},end:{line:654,column:3}},293:{start:{line:650,column:4},end:{line:653,column:27}},294:{start:{line:656,column:4},end:{line:661,column:27}},295:{start:{line:664,column:4},end:{line:664,column:60}},296:{start:{line:666,column:28},end:{line:673,column:3}},297:{start:{line:667,column:4},end:{line:672,column:7}},298:{start:{line:674,column:28},end:{line:681,column:3}},299:{start:{line:675,column:4},end:{line:680,column:7}},300:{start:{line:683,column:19},end:{line:683,column:51}},301:{start:{line:684,column:26},end:{line:684,column:92}},302:{start:{line:685,column:36},end:{line:698,column:5}},303:{start:{line:699,column:38},end:{line:713,column:5}},304:{start:{line:714,column:24},end:{line:733,column:14}},305:{start:{line:734,column:24},end:{line:744,column:14}},306:{start:{line:745,column:35},end:{line:802,column:8}},307:{start:{line:803,column:4},end:{line:813,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:37,column:9},end:{line:37,column:28}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},1:{name:"updateRootSpec",decl:{start:{line:55,column:9},end:{line:55,column:23}},loc:{start:{line:55,column:52},end:{line:66,column:1}},line:55},2:{name:"(anonymous_2)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:21},end:{line:213,column:3}},line:71},3:{name:"(anonymous_3)",decl:{start:{line:81,column:26},end:{line:81,column:27}},loc:{start:{line:81,column:40},end:{line:81,column:86}},line:81},4:{name:"(anonymous_4)",decl:{start:{line:88,column:17},end:{line:88,column:18}},loc:{start:{line:88,column:23},end:{line:90,column:9}},line:88},5:{name:"(anonymous_5)",decl:{start:{line:94,column:17},end:{line:94,column:18}},loc:{start:{line:94,column:23},end:{line:96,column:9}},line:94},6:{name:"(anonymous_6)",decl:{start:{line:100,column:17},end:{line:100,column:18}},loc:{start:{line:100,column:23},end:{line:102,column:9}},line:100},7:{name:"(anonymous_7)",decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:23},end:{line:108,column:9}},line:106},8:{name:"(anonymous_8)",decl:{start:{line:112,column:17},end:{line:112,column:18}},loc:{start:{line:112,column:23},end:{line:114,column:9}},line:112},9:{name:"(anonymous_9)",decl:{start:{line:118,column:17},end:{line:118,column:18}},loc:{start:{line:118,column:23},end:{line:122,column:9}},line:118},10:{name:"(anonymous_10)",decl:{start:{line:126,column:17},end:{line:126,column:18}},loc:{start:{line:126,column:23},end:{line:128,column:9}},line:126},11:{name:"(anonymous_11)",decl:{start:{line:132,column:17},end:{line:132,column:18}},loc:{start:{line:132,column:23},end:{line:134,column:9}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:137,column:44},end:{line:137,column:45}},loc:{start:{line:137,column:51},end:{line:150,column:5}},line:137},13:{name:"(anonymous_13)",decl:{start:{line:142,column:40},end:{line:142,column:41}},loc:{start:{line:142,column:55},end:{line:144,column:9}},line:142},14:{name:"(anonymous_14)",decl:{start:{line:154,column:29},end:{line:154,column:30}},loc:{start:{line:154,column:43},end:{line:154,column:72}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:160,column:27},end:{line:160,column:28}},loc:{start:{line:160,column:36},end:{line:170,column:7}},line:160},16:{name:"(anonymous_16)",decl:{start:{line:165,column:36},end:{line:165,column:37}},loc:{start:{line:165,column:50},end:{line:165,column:102}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:211,column:28},end:{line:211,column:29}},loc:{start:{line:211,column:35},end:{line:211,column:69}},line:211},18:{name:"(anonymous_18)",decl:{start:{line:214,column:19},end:{line:214,column:20}},loc:{start:{line:214,column:26},end:{line:232,column:3}},line:214},19:{name:"(anonymous_19)",decl:{start:{line:233,column:2},end:{line:233,column:3}},loc:{start:{line:233,column:22},end:{line:235,column:3}},line:233},20:{name:"(anonymous_20)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:25},end:{line:238,column:3}},line:236},21:{name:"(anonymous_21)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:27},end:{line:241,column:3}},line:239},22:{name:"(anonymous_22)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:27},end:{line:249,column:3}},line:242},23:{name:"(anonymous_23)",decl:{start:{line:246,column:37},end:{line:246,column:38}},loc:{start:{line:246,column:48},end:{line:248,column:5}},line:246},24:{name:"(anonymous_24)",decl:{start:{line:250,column:2},end:{line:250,column:3}},loc:{start:{line:250,column:23},end:{line:254,column:3}},line:250},25:{name:"(anonymous_25)",decl:{start:{line:251,column:36},end:{line:251,column:37}},loc:{start:{line:251,column:47},end:{line:253,column:5}},line:251},26:{name:"(anonymous_26)",decl:{start:{line:255,column:29},end:{line:255,column:30}},loc:{start:{line:255,column:50},end:{line:269,column:3}},line:255},27:{name:"(anonymous_27)",decl:{start:{line:270,column:19},end:{line:270,column:20}},loc:{start:{line:270,column:44},end:{line:382,column:3}},line:270},28:{name:"(anonymous_28)",decl:{start:{line:284,column:30},end:{line:284,column:31}},loc:{start:{line:284,column:48},end:{line:292,column:7}},line:284},29:{name:"(anonymous_29)",decl:{start:{line:294,column:56},end:{line:294,column:57}},loc:{start:{line:294,column:67},end:{line:345,column:5}},line:294},30:{name:"(anonymous_30)",decl:{start:{line:349,column:21},end:{line:349,column:22}},loc:{start:{line:349,column:32},end:{line:360,column:7}},line:349},31:{name:"(anonymous_31)",decl:{start:{line:378,column:7},end:{line:378,column:8}},loc:{start:{line:378,column:13},end:{line:381,column:5}},line:378},32:{name:"(anonymous_32)",decl:{start:{line:383,column:11},end:{line:383,column:12}},loc:{start:{line:383,column:17},end:{line:390,column:3}},line:383},33:{name:"(anonymous_33)",decl:{start:{line:391,column:11},end:{line:391,column:12}},loc:{start:{line:391,column:17},end:{line:398,column:3}},line:391},34:{name:"(anonymous_34)",decl:{start:{line:399,column:16},end:{line:399,column:17}},loc:{start:{line:399,column:26},end:{line:413,column:3}},line:399},35:{name:"(anonymous_35)",decl:{start:{line:414,column:19},end:{line:414,column:20}},loc:{start:{line:414,column:38},end:{line:420,column:3}},line:414},36:{name:"(anonymous_36)",decl:{start:{line:421,column:19},end:{line:421,column:20}},loc:{start:{line:421,column:30},end:{line:426,column:3}},line:421},37:{name:"(anonymous_37)",decl:{start:{line:427,column:16},end:{line:427,column:17}},loc:{start:{line:427,column:27},end:{line:434,column:3}},line:427},38:{name:"(anonymous_38)",decl:{start:{line:435,column:28},end:{line:435,column:29}},loc:{start:{line:435,column:39},end:{line:444,column:3}},line:435},39:{name:"(anonymous_39)",decl:{start:{line:445,column:20},end:{line:445,column:21}},loc:{start:{line:445,column:46},end:{line:452,column:3}},line:445},40:{name:"(anonymous_40)",decl:{start:{line:453,column:19},end:{line:453,column:20}},loc:{start:{line:453,column:37},end:{line:457,column:3}},line:453},41:{name:"(anonymous_41)",decl:{start:{line:458,column:16},end:{line:458,column:17}},loc:{start:{line:458,column:30},end:{line:462,column:3}},line:458},42:{name:"(anonymous_42)",decl:{start:{line:463,column:21},end:{line:463,column:22}},loc:{start:{line:463,column:35},end:{line:477,column:3}},line:463},43:{name:"(anonymous_43)",decl:{start:{line:478,column:14},end:{line:478,column:15}},loc:{start:{line:478,column:28},end:{line:481,column:3}},line:478},44:{name:"(anonymous_44)",decl:{start:{line:482,column:2},end:{line:482,column:3}},loc:{start:{line:482,column:17},end:{line:525,column:3}},line:482},45:{name:"(anonymous_45)",decl:{start:{line:498,column:16},end:{line:498,column:17}},loc:{start:{line:498,column:30},end:{line:498,column:45}},line:498},46:{name:"(anonymous_46)",decl:{start:{line:498,column:52},end:{line:498,column:53}},loc:{start:{line:498,column:62},end:{line:512,column:9}},line:498},47:{name:"(anonymous_47)",decl:{start:{line:512,column:17},end:{line:512,column:18}},loc:{start:{line:512,column:26},end:{line:514,column:9}},line:512},48:{name:"(anonymous_48)",decl:{start:{line:526,column:2},end:{line:526,column:3}},loc:{start:{line:526,column:17},end:{line:529,column:3}},line:526},49:{name:"(anonymous_49)",decl:{start:{line:530,column:16},end:{line:530,column:17}},loc:{start:{line:530,column:29},end:{line:534,column:3}},line:530},50:{name:"(anonymous_50)",decl:{start:{line:535,column:2},end:{line:535,column:3}},loc:{start:{line:535,column:16},end:{line:583,column:3}},line:535},51:{name:"(anonymous_51)",decl:{start:{line:539,column:27},end:{line:539,column:28}},loc:{start:{line:539,column:42},end:{line:543,column:7}},line:539},52:{name:"(anonymous_52)",decl:{start:{line:544,column:20},end:{line:544,column:21}},loc:{start:{line:544,column:27},end:{line:547,column:7}},line:544},53:{name:"(anonymous_53)",decl:{start:{line:584,column:18},end:{line:584,column:19}},loc:{start:{line:584,column:24},end:{line:602,column:3}},line:584},54:{name:"(anonymous_54)",decl:{start:{line:590,column:50},end:{line:590,column:51}},loc:{start:{line:590,column:66},end:{line:590,column:91}},line:590},55:{name:"(anonymous_55)",decl:{start:{line:590,column:100},end:{line:590,column:101}},loc:{start:{line:590,column:109},end:{line:590,column:121}},line:590},56:{name:"(anonymous_56)",decl:{start:{line:603,column:27},end:{line:603,column:28}},loc:{start:{line:603,column:41},end:{line:648,column:3}},line:603},57:{name:"(anonymous_57)",decl:{start:{line:609,column:21},end:{line:609,column:22}},loc:{start:{line:609,column:36},end:{line:611,column:7}},line:609},58:{name:"(anonymous_58)",decl:{start:{line:649,column:18},end:{line:649,column:19}},loc:{start:{line:649,column:29},end:{line:654,column:3}},line:649},59:{name:"(anonymous_59)",decl:{start:{line:655,column:2},end:{line:655,column:3}},loc:{start:{line:655,column:29},end:{line:662,column:3}},line:655},60:{name:"(anonymous_60)",decl:{start:{line:663,column:2},end:{line:663,column:3}},loc:{start:{line:663,column:25},end:{line:665,column:3}},line:663},61:{name:"(anonymous_61)",decl:{start:{line:666,column:28},end:{line:666,column:29}},loc:{start:{line:666,column:44},end:{line:673,column:3}},line:666},62:{name:"(anonymous_62)",decl:{start:{line:674,column:28},end:{line:674,column:29}},loc:{start:{line:674,column:44},end:{line:681,column:3}},line:674},63:{name:"(anonymous_63)",decl:{start:{line:682,column:2},end:{line:682,column:3}},loc:{start:{line:682,column:11},end:{line:814,column:3}},line:682}},branchMap:{0:{loc:{start:{line:41,column:2},end:{line:53,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:53,column:3}},{start:{line:46,column:9},end:{line:53,column:3}}],line:41},1:{loc:{start:{line:41,column:6},end:{line:41,column:43}},type:"binary-expr",locations:[{start:{line:41,column:6},end:{line:41,column:24}},{start:{line:41,column:28},end:{line:41,column:43}}],line:41},2:{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},3:{loc:{start:{line:46,column:9},end:{line:53,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:53,column:3}},{start:{line:51,column:9},end:{line:53,column:3}}],line:46},4:{loc:{start:{line:48,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:77,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:79,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},6:{loc:{start:{line:77,column:8},end:{line:77,column:89}},type:"binary-expr",locations:[{start:{line:77,column:8},end:{line:77,column:20}},{start:{line:77,column:25},end:{line:77,column:54}},{start:{line:77,column:58},end:{line:77,column:88}}],line:77},7:{loc:{start:{line:120,column:12},end:{line:120,column:61}},type:"cond-expr",locations:[{start:{line:120,column:44},end:{line:120,column:53}},{start:{line:120,column:56},end:{line:120,column:61}}],line:120},8:{loc:{start:{line:138,column:6},end:{line:149,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:149,column:7}},{start:{line:141,column:13},end:{line:149,column:7}}],line:138},9:{loc:{start:{line:141,column:13},end:{line:149,column:7}},type:"if",locations:[{start:{line:141,column:13},end:{line:149,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:141},10:{loc:{start:{line:141,column:17},end:{line:141,column:88}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:44}},{start:{line:141,column:48},end:{line:141,column:88}}],line:141},11:{loc:{start:{line:145,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:148,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:145},12:{loc:{start:{line:152,column:4},end:{line:171,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:171,column:5}},{start:{line:156,column:11},end:{line:171,column:5}}],line:152},13:{loc:{start:{line:152,column:8},end:{line:152,column:104}},type:"binary-expr",locations:[{start:{line:152,column:8},end:{line:152,column:16}},{start:{line:152,column:20},end:{line:152,column:104}}],line:152},14:{loc:{start:{line:157,column:6},end:{line:159,column:7}},type:"if",locations:[{start:{line:157,column:6},end:{line:159,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:157},15:{loc:{start:{line:161,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:161,column:8},end:{line:164,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:161},16:{loc:{start:{line:166,column:8},end:{line:169,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:169,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:166},17:{loc:{start:{line:172,column:4},end:{line:175,column:5}},type:"if",locations:[{start:{line:172,column:4},end:{line:175,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:172},18:{loc:{start:{line:215,column:4},end:{line:231,column:5}},type:"if",locations:[{start:{line:215,column:4},end:{line:231,column:5}},{start:{line:223,column:11},end:{line:231,column:5}}],line:215},19:{loc:{start:{line:216,column:6},end:{line:222,column:7}},type:"if",locations:[{start:{line:216,column:6},end:{line:222,column:7}},{start:{line:219,column:13},end:{line:222,column:7}}],line:216},20:{loc:{start:{line:216,column:10},end:{line:216,column:53}},type:"binary-expr",locations:[{start:{line:216,column:10},end:{line:216,column:19}},{start:{line:216,column:23},end:{line:216,column:33}},{start:{line:216,column:37},end:{line:216,column:53}}],line:216},21:{loc:{start:{line:219,column:13},end:{line:222,column:7}},type:"if",locations:[{start:{line:219,column:13},end:{line:222,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:219},22:{loc:{start:{line:219,column:17},end:{line:219,column:46}},type:"binary-expr",locations:[{start:{line:219,column:17},end:{line:219,column:26}},{start:{line:219,column:30},end:{line:219,column:46}}],line:219},23:{loc:{start:{line:224,column:6},end:{line:230,column:7}},type:"if",locations:[{start:{line:224,column:6},end:{line:230,column:7}},{start:{line:227,column:13},end:{line:230,column:7}}],line:224},24:{loc:{start:{line:224,column:10},end:{line:224,column:39}},type:"binary-expr",locations:[{start:{line:224,column:10},end:{line:224,column:19}},{start:{line:224,column:23},end:{line:224,column:39}}],line:224},25:{loc:{start:{line:227,column:13},end:{line:230,column:7}},type:"if",locations:[{start:{line:227,column:13},end:{line:230,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:227},26:{loc:{start:{line:227,column:17},end:{line:227,column:46}},type:"binary-expr",locations:[{start:{line:227,column:17},end:{line:227,column:26}},{start:{line:227,column:30},end:{line:227,column:46}}],line:227},27:{loc:{start:{line:243,column:21},end:{line:243,column:55}},type:"binary-expr",locations:[{start:{line:243,column:21},end:{line:243,column:49}},{start:{line:243,column:53},end:{line:243,column:55}}],line:243},28:{loc:{start:{line:244,column:24},end:{line:244,column:93}},type:"binary-expr",locations:[{start:{line:244,column:24},end:{line:244,column:70}},{start:{line:244,column:74},end:{line:244,column:93}}],line:244},29:{loc:{start:{line:245,column:21},end:{line:245,column:110}},type:"cond-expr",locations:[{start:{line:245,column:55},end:{line:245,column:96}},{start:{line:245,column:99},end:{line:245,column:110}}],line:245},30:{loc:{start:{line:256,column:4},end:{line:260,column:5}},type:"if",locations:[{start:{line:256,column:4},end:{line:260,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:256},31:{loc:{start:{line:256,column:8},end:{line:256,column:123}},type:"binary-expr",locations:[{start:{line:256,column:8},end:{line:256,column:40}},{start:{line:256,column:44},end:{line:256,column:123}}],line:256},32:{loc:{start:{line:270,column:30},end:{line:270,column:39}},type:"default-arg",locations:[{start:{line:270,column:37},end:{line:270,column:39}}],line:270},33:{loc:{start:{line:277,column:4},end:{line:279,column:5}},type:"if",locations:[{start:{line:277,column:4},end:{line:279,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:277},34:{loc:{start:{line:280,column:19},end:{line:280,column:51}},type:"binary-expr",locations:[{start:{line:280,column:19},end:{line:280,column:45}},{start:{line:280,column:49},end:{line:280,column:51}}],line:280},35:{loc:{start:{line:282,column:4},end:{line:293,column:5}},type:"if",locations:[{start:{line:282,column:4},end:{line:293,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:282},36:{loc:{start:{line:282,column:8},end:{line:282,column:35}},type:"binary-expr",locations:[{start:{line:282,column:8},end:{line:282,column:16}},{start:{line:282,column:20},end:{line:282,column:35}}],line:282},37:{loc:{start:{line:285,column:8},end:{line:290,column:9}},type:"if",locations:[{start:{line:285,column:8},end:{line:290,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},38:{loc:{start:{line:285,column:12},end:{line:285,column:56}},type:"binary-expr",locations:[{start:{line:285,column:12},end:{line:285,column:27}},{start:{line:285,column:31},end:{line:285,column:56}}],line:285},39:{loc:{start:{line:296,column:6},end:{line:309,column:7}},type:"if",locations:[{start:{line:296,column:6},end:{line:309,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:296},40:{loc:{start:{line:311,column:6},end:{line:324,column:7}},type:"if",locations:[{start:{line:311,column:6},end:{line:324,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:311},41:{loc:{start:{line:326,column:6},end:{line:344,column:7}},type:"if",locations:[{start:{line:326,column:6},end:{line:344,column:7}},{start:{line:340,column:13},end:{line:344,column:7}}],line:326},42:{loc:{start:{line:328,column:20},end:{line:328,column:78}},type:"cond-expr",locations:[{start:{line:328,column:40},end:{line:328,column:67}},{start:{line:328,column:70},end:{line:328,column:78}}],line:328},43:{loc:{start:{line:328,column:20},end:{line:328,column:37}},type:"binary-expr",locations:[{start:{line:328,column:20},end:{line:328,column:25}},{start:{line:328,column:29},end:{line:328,column:37}}],line:328},44:{loc:{start:{line:347,column:4},end:{line:361,column:5}},type:"if",locations:[{start:{line:347,column:4},end:{line:361,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:347},45:{loc:{start:{line:351,column:8},end:{line:359,column:9}},type:"if",locations:[{start:{line:351,column:8},end:{line:359,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:351},46:{loc:{start:{line:362,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:362,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:362},47:{loc:{start:{line:365,column:4},end:{line:367,column:5}},type:"if",locations:[{start:{line:365,column:4},end:{line:367,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},48:{loc:{start:{line:368,column:4},end:{line:370,column:5}},type:"if",locations:[{start:{line:368,column:4},end:{line:370,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:368},49:{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:371},50:{loc:{start:{line:404,column:4},end:{line:404,column:38}},type:"if",locations:[{start:{line:404,column:4},end:{line:404,column:38}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:404},51:{loc:{start:{line:405,column:4},end:{line:409,column:5}},type:"if",locations:[{start:{line:405,column:4},end:{line:409,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:405},52:{loc:{start:{line:439,column:26},end:{line:439,column:70}},type:"cond-expr",locations:[{start:{line:439,column:46},end:{line:439,column:65}},{start:{line:439,column:68},end:{line:439,column:70}}],line:439},53:{loc:{start:{line:440,column:31},end:{line:440,column:87}},type:"cond-expr",locations:[{start:{line:440,column:69},end:{line:440,column:78}},{start:{line:440,column:81},end:{line:440,column:87}}],line:440},54:{loc:{start:{line:464,column:21},end:{line:464,column:44}},type:"binary-expr",locations:[{start:{line:464,column:21},end:{line:464,column:38}},{start:{line:464,column:42},end:{line:464,column:44}}],line:464},55:{loc:{start:{line:465,column:4},end:{line:476,column:5}},type:"if",locations:[{start:{line:465,column:4},end:{line:476,column:5}},{start:{line:474,column:11},end:{line:476,column:5}}],line:465},56:{loc:{start:{line:485,column:6},end:{line:517,column:7}},type:"if",locations:[{start:{line:485,column:6},end:{line:517,column:7}},{start:{line:515,column:13},end:{line:517,column:7}}],line:485},57:{loc:{start:{line:485,column:10},end:{line:485,column:149}},type:"binary-expr",locations:[{start:{line:485,column:10},end:{line:485,column:72}},{start:{line:485,column:76},end:{line:485,column:97}},{start:{line:485,column:101},end:{line:485,column:149}}],line:485},58:{loc:{start:{line:499,column:10},end:{line:501,column:11}},type:"if",locations:[{start:{line:499,column:10},end:{line:501,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:499},59:{loc:{start:{line:516,column:26},end:{line:516,column:85}},type:"binary-expr",locations:[{start:{line:516,column:26},end:{line:516,column:49}},{start:{line:516,column:53},end:{line:516,column:85}}],line:516},60:{loc:{start:{line:519,column:4},end:{line:524,column:5}},type:"if",locations:[{start:{line:519,column:4},end:{line:524,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:519},61:{loc:{start:{line:527,column:21},end:{line:527,column:55}},type:"binary-expr",locations:[{start:{line:527,column:21},end:{line:527,column:49}},{start:{line:527,column:53},end:{line:527,column:55}}],line:527},62:{loc:{start:{line:528,column:11},end:{line:528,column:52}},type:"binary-expr",locations:[{start:{line:528,column:11},end:{line:528,column:40}},{start:{line:528,column:44},end:{line:528,column:52}}],line:528},63:{loc:{start:{line:538,column:16},end:{line:538,column:41}},type:"binary-expr",locations:[{start:{line:538,column:16},end:{line:538,column:29}},{start:{line:538,column:33},end:{line:538,column:41}}],line:538},64:{loc:{start:{line:551,column:4},end:{line:573,column:5}},type:"if",locations:[{start:{line:551,column:4},end:{line:573,column:5}},{start:{line:561,column:11},end:{line:573,column:5}}],line:551},65:{loc:{start:{line:575,column:4},end:{line:577,column:5}},type:"if",locations:[{start:{line:575,column:4},end:{line:577,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:575},66:{loc:{start:{line:579,column:4},end:{line:581,column:5}},type:"if",locations:[{start:{line:579,column:4},end:{line:581,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:579},67:{loc:{start:{line:590,column:66},end:{line:590,column:91}},type:"cond-expr",locations:[{start:{line:590,column:81},end:{line:590,column:84}},{start:{line:590,column:87},end:{line:590,column:91}}],line:590},68:{loc:{start:{line:591,column:4},end:{line:595,column:5}},type:"if",locations:[{start:{line:591,column:4},end:{line:595,column:5}},{start:{line:593,column:11},end:{line:595,column:5}}],line:591},69:{loc:{start:{line:596,column:4},end:{line:600,column:5}},type:"if",locations:[{start:{line:596,column:4},end:{line:600,column:5}},{start:{line:598,column:11},end:{line:600,column:5}}],line:596},70:{loc:{start:{line:598,column:11},end:{line:600,column:5}},type:"if",locations:[{start:{line:598,column:11},end:{line:600,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:598},71:{loc:{start:{line:606,column:4},end:{line:618,column:5}},type:"if",locations:[{start:{line:606,column:4},end:{line:618,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:606},72:{loc:{start:{line:606,column:8},end:{line:606,column:39}},type:"binary-expr",locations:[{start:{line:606,column:8},end:{line:606,column:18}},{start:{line:606,column:22},end:{line:606,column:39}}],line:606},73:{loc:{start:{line:620,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:620,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:620},74:{loc:{start:{line:620,column:8},end:{line:620,column:27}},type:"binary-expr",locations:[{start:{line:620,column:8},end:{line:620,column:12}},{start:{line:620,column:16},end:{line:620,column:27}}],line:620},75:{loc:{start:{line:624,column:4},end:{line:647,column:5}},type:"if",locations:[{start:{line:624,column:4},end:{line:647,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:624},76:{loc:{start:{line:632,column:8},end:{line:637,column:9}},type:"if",locations:[{start:{line:632,column:8},end:{line:637,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:632},77:{loc:{start:{line:634,column:10},end:{line:636,column:11}},type:"if",locations:[{start:{line:634,column:10},end:{line:636,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:634},78:{loc:{start:{line:638,column:8},end:{line:643,column:9}},type:"if",locations:[{start:{line:638,column:8},end:{line:643,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:638},79:{loc:{start:{line:683,column:19},end:{line:683,column:51}},type:"binary-expr",locations:[{start:{line:683,column:19},end:{line:683,column:45}},{start:{line:683,column:49},end:{line:683,column:51}}],line:683},80:{loc:{start:{line:684,column:26},end:{line:684,column:92}},type:"cond-expr",locations:[{start:{line:684,column:46},end:{line:684,column:83}},{start:{line:684,column:86},end:{line:684,column:92}}],line:684},81:{loc:{start:{line:714,column:24},end:{line:733,column:14}},type:"cond-expr",locations:[{start:{line:714,column:56},end:{line:733,column:5}},{start:{line:733,column:8},end:{line:733,column:14}}],line:714},82:{loc:{start:{line:734,column:24},end:{line:744,column:14}},type:"cond-expr",locations:[{start:{line:734,column:97},end:{line:744,column:5}},{start:{line:744,column:8},end:{line:744,column:14}}],line:734}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAgtBmB,SAAA,KA4MA,YA5MA;AA/sBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAwDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa,SAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AAC5D,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6e6297bb6f56e55ebc65f06899b9c27f67a26f58"},o=t[r]||(t[r]={});(!o[n]||o[n].hash!==e)&&(o[n]=i);var s=o[n];return Ae=function(){return s},s}Ae();Ae().s[0]++;window.Buffer=MJ.Buffer;function vPe(n,e){Ae().f[0]++;const t=(Ae().s[1]++,n.match(/\.tilehosting\.com/)),r=(Ae().s[2]++,n.match(/\.maptiler\.com/)),i=(Ae().s[3]++,n.match(/\.thunderforest\.com/));if(Ae().s[4]++,Ae().b[1][0]++,t||(Ae().b[1][1]++,r)){Ae().b[0][0]++;const o=(Ae().s[5]++,aA.getAccessToken("openmaptiles",e,{allowFallback:!0}));if(Ae().s[6]++,o)return Ae().b[2][0]++,Ae().s[7]++,n.replace("{key}",o);Ae().b[2][1]++}else if(Ae().b[0][1]++,Ae().s[8]++,i){Ae().b[3][0]++;const o=(Ae().s[9]++,aA.getAccessToken("thunderforest",e,{allowFallback:!0}));if(Ae().s[10]++,o)return Ae().b[4][0]++,Ae().s[11]++,n.replace("{key}",o);Ae().b[4][1]++}else return Ae().b[3][1]++,Ae().s[12]++,n}function rR(n,e,t){return Ae().f[1]++,Ae().s[13]++,{...n,$root:{...n.$root,[e]:{...n.$root[e],values:t}}}}class _Pe extends Sn.Component{constructor(t){Ae().f[2]++,Ae().s[14]++;super(t);dn(this,"revisionStore");dn(this,"styleStore");dn(this,"layerWatcher");dn(this,"handleKeyPress",(Ae().s[65]++,t=>{Ae().f[18]++,Ae().s[66]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(Ae().b[18][0]++,Ae().s[67]++,Ae().b[20][0]++,t.metaKey&&(Ae().b[20][1]++,t.shiftKey)&&(Ae().b[20][2]++,t.keyCode===90)?(Ae().b[19][0]++,Ae().s[68]++,t.preventDefault(),Ae().s[69]++,this.onRedo()):(Ae().b[19][1]++,Ae().s[70]++,Ae().b[22][0]++,t.metaKey&&(Ae().b[22][1]++,t.keyCode===90)?(Ae().b[21][0]++,Ae().s[71]++,t.preventDefault(),Ae().s[72]++,this.onUndo()):Ae().b[21][1]++)):(Ae().b[18][1]++,Ae().s[73]++,Ae().b[24][0]++,t.ctrlKey&&(Ae().b[24][1]++,t.keyCode===90)?(Ae().b[23][0]++,Ae().s[74]++,t.preventDefault(),Ae().s[75]++,this.onUndo()):(Ae().b[23][1]++,Ae().s[76]++,Ae().b[26][0]++,t.ctrlKey&&(Ae().b[26][1]++,t.keyCode===89)?(Ae().b[25][0]++,Ae().s[77]++,t.preventDefault(),Ae().s[78]++,this.onRedo()):Ae().b[25][1]++))}));dn(this,"onChangeMetadataProperty",(Ae().s[89]++,(t,r)=>{Ae().f[26]++,Ae().s[90]++,Ae().b[31][0]++,t==="maputnik:renderer"&&(Ae().b[31][1]++,r!==xee(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(Ae().b[30][0]++,Ae().s[91]++,this.setState({mapState:"map"})):Ae().b[30][1]++;const i=(Ae().s[92]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[t]:r}});Ae().s[93]++,this.onStyleChanged(i)}));dn(this,"onStyleChanged",(Ae().s[94]++,(t,r=(Ae().b[32][0]++,{}))=>{Ae().f[27]++,Ae().s[95]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},Ae().s[96]++,r.initialLoad?(Ae().b[33][0]++,Ae().s[97]++,this.getInitialStateFromUrl(t)):Ae().b[33][1]++;const i=(Ae().s[98]++,Ae().b[34][0]++,wd(t)||(Ae().b[34][1]++,[])),o=(Ae().s[99]++,[]);if(Ae().s[100]++,Ae().b[36][0]++,t&&(Ae().b[36][1]++,t.layers)){Ae().b[35][0]++;const f=(Ae().s[101]++,new window.Map);Ae().s[102]++,t.layers.forEach((m,C)=>{if(Ae().f[28]++,Ae().s[103]++,Ae().b[38][0]++,m.id===""&&(Ae().b[38][1]++,f.has(m.id))){Ae().b[37][0]++;const B=(Ae().s[104]++,new Error(`layers[${C}]: duplicate layer id [empty_string], previously used`));Ae().s[105]++,o.push(B)}else Ae().b[37][1]++;Ae().s[106]++,f.set(m.id,!0)})}else Ae().b[35][1]++;const s=(Ae().s[107]++,o.concat(i).map(f=>{Ae().f[29]++;const m=(Ae().s[108]++,f.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(Ae().s[109]++,m){Ae().b[39][0]++;const[,I,K]=(Ae().s[110]++,m);return Ae().s[111]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:"id",message:K}}}}else Ae().b[39][1]++;const C=(Ae().s[112]++,f.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(Ae().s[113]++,C){Ae().b[40][0]++;const[,I,K]=(Ae().s[114]++,C);return Ae().s[115]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:"source",message:K}}}}else Ae().b[40][1]++;const B=(Ae().s[116]++,f.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(Ae().s[117]++,B){Ae().b[41][0]++;const[,I,K,L,Y]=(Ae().s[118]++,B),ee=(Ae().s[119]++,Ae().b[43][0]++,K&&(Ae().b[43][1]++,L)?(Ae().b[42][0]++,[K,L].join(".")):(Ae().b[42][1]++,L));return Ae().s[120]++,{message:f.message,parsed:{type:"layer",data:{index:parseInt(I,10),key:ee,message:Y}}}}else return Ae().b[41][1]++,Ae().s[121]++,{message:f.message}}));let a=(Ae().s[122]++,void 0);Ae().s[123]++,i.length>0?(Ae().b[44][0]++,Ae().s[124]++,a=dP(t),Ae().s[125]++,i.forEach(f=>{Ae().f[30]++;const{message:m}=(Ae().s[126]++,f);if(Ae().s[127]++,m){Ae().b[45][0]++,Ae().s[128]++;try{const C=(Ae().s[129]++,m.split(":")[0]),B=(Ae().s[130]++,C.match(/^\S+?\[\d+\]\.[^[]+/)[0]);Ae().s[131]++,F5.unset(a,B)}catch(C){Ae().s[132]++,console.warn(C)}}else Ae().b[45][1]++})):Ae().b[44][1]++,Ae().s[133]++,t.glyphs!==this.state.mapStyle.glyphs?(Ae().b[46][0]++,Ae().s[134]++,this.updateFonts(t.glyphs)):Ae().b[46][1]++,Ae().s[135]++,t.sprite!==this.state.mapStyle.sprite?(Ae().b[47][0]++,Ae().s[136]++,this.updateIcons(t.sprite)):Ae().b[47][1]++,Ae().s[137]++,r.addRevision?(Ae().b[48][0]++,Ae().s[138]++,this.revisionStore.addRevision(t)):Ae().b[48][1]++,Ae().s[139]++,r.save?(Ae().b[49][0]++,Ae().s[140]++,this.saveStyle(t)):Ae().b[49][1]++,Ae().s[141]++,this.setState({mapStyle:t,dirtyMapStyle:a,errors:s},()=>{Ae().f[31]++,Ae().s[142]++,this.fetchSources(),Ae().s[143]++,this.setStateInUrl()})}));dn(this,"onUndo",(Ae().s[144]++,()=>{Ae().f[32]++;const t=(Ae().s[145]++,this.revisionStore.undo()),r=(Ae().s[146]++,L9e(this.state.mapStyle,t));Ae().s[147]++,this.onStyleChanged(t,{addRevision:!1}),Ae().s[148]++,this.setState({infos:r})}));dn(this,"onRedo",(Ae().s[149]++,()=>{Ae().f[33]++;const t=(Ae().s[150]++,this.revisionStore.redo()),r=(Ae().s[151]++,D9e(this.state.mapStyle,t));Ae().s[152]++,this.onStyleChanged(t,{addRevision:!1}),Ae().s[153]++,this.setState({infos:r})}));dn(this,"onMoveLayer",(Ae().s[154]++,t=>{Ae().f[34]++;let{oldIndex:r,newIndex:i}=(Ae().s[155]++,t),o=(Ae().s[156]++,this.state.mapStyle.layers);if(Ae().s[157]++,r=mP(r,0,o.length-1),Ae().s[158]++,i=mP(i,0,o.length-1),Ae().s[159]++,r===i){Ae().b[50][0]++,Ae().s[160]++;return}else Ae().b[50][1]++;Ae().s[161]++,r===this.state.selectedLayerIndex?(Ae().b[51][0]++,Ae().s[162]++,this.setState({selectedLayerIndex:i})):Ae().b[51][1]++,Ae().s[163]++,o=o.slice(0),Ae().s[164]++,wee(o,r,i),Ae().s[165]++,this.onLayersChange(o)}));dn(this,"onLayersChange",(Ae().s[166]++,t=>{Ae().f[35]++;const r=(Ae().s[167]++,{...this.state.mapStyle,layers:t});Ae().s[168]++,this.onStyleChanged(r)}));dn(this,"onLayerDestroy",(Ae().s[169]++,t=>{Ae().f[36]++;const r=(Ae().s[170]++,this.state.mapStyle.layers),i=(Ae().s[171]++,r.slice(0));Ae().s[172]++,i.splice(t,1),Ae().s[173]++,this.onLayersChange(i)}));dn(this,"onLayerCopy",(Ae().s[174]++,t=>{Ae().f[37]++;const r=(Ae().s[175]++,this.state.mapStyle.layers),i=(Ae().s[176]++,r.slice(0)),o=(Ae().s[177]++,dP(i[t]));Ae().s[178]++,o.id=o.id+"-copy",Ae().s[179]++,i.splice(t,0,o),Ae().s[180]++,this.onLayersChange(i)}));dn(this,"onLayerVisibilityToggle",(Ae().s[181]++,t=>{Ae().f[38]++;const r=(Ae().s[182]++,this.state.mapStyle.layers),i=(Ae().s[183]++,r.slice(0)),o=(Ae().s[184]++,{...i[t]}),s=(Ae().s[185]++,"layout"in o?(Ae().b[52][0]++,{...o.layout}):(Ae().b[52][1]++,{}));Ae().s[186]++,s.visibility=s.visibility==="none"?(Ae().b[53][0]++,"visible"):(Ae().b[53][1]++,"none"),Ae().s[187]++,o.layout=s,Ae().s[188]++,i[t]=o,Ae().s[189]++,this.onLayersChange(i)}));dn(this,"onLayerIdChange",(Ae().s[190]++,(t,r,i)=>{Ae().f[39]++;const o=(Ae().s[191]++,this.state.mapStyle.layers.slice(0));Ae().s[192]++,o[t]={...o[t],id:i},Ae().s[193]++,this.onLayersChange(o)}));dn(this,"onLayerChanged",(Ae().s[194]++,(t,r)=>{Ae().f[40]++;const i=(Ae().s[195]++,this.state.mapStyle.layers.slice(0));Ae().s[196]++,i[t]=r,Ae().s[197]++,this.onLayersChange(i)}));dn(this,"setMapState",(Ae().s[198]++,t=>{Ae().f[41]++,Ae().s[199]++,this.setState({mapState:t},this.setStateInUrl)}));dn(this,"setDefaultValues",(Ae().s[200]++,t=>{Ae().f[42]++;const r=(Ae().s[201]++,Ae().b[54][0]++,t.metadata||(Ae().b[54][1]++,{}));if(Ae().s[202]++,r["maputnik:renderer"]===void 0){Ae().b[55][0]++;const i=(Ae().s[203]++,{...t,metadata:{...t.metadata,"maputnik:renderer":"mlgljs"}});return Ae().s[204]++,i}else return Ae().b[55][1]++,Ae().s[205]++,t}));dn(this,"openStyle",(Ae().s[206]++,t=>{Ae().f[43]++,Ae().s[207]++,t=this.setDefaultValues(t),Ae().s[208]++,this.onStyleChanged(t)}));dn(this,"onMapChange",(Ae().s[233]++,t=>{Ae().f[49]++,Ae().s[234]++,this.setState({mapView:t})}));dn(this,"setStateInUrl",(Ae().s[250]++,()=>{Ae().f[53]++;const{mapState:t,mapStyle:r,isOpen:i}=(Ae().s[251]++,this.state),{selectedLayerIndex:o}=(Ae().s[252]++,this.state),s=(Ae().s[253]++,new URL(location.href)),a=(Ae().s[254]++,CP(JSON.stringify(r)));Ae().s[255]++,s.searchParams.set("layer",`${a}~${o}`);const f=(Ae().s[256]++,Object.entries(i).map(([m,C])=>(Ae().f[54]++,Ae().s[257]++,C===!0?(Ae().b[67][0]++,m):(Ae().b[67][1]++,null))).filter(m=>(Ae().f[55]++,Ae().s[258]++,m!==null)));Ae().s[259]++,f.length>0?(Ae().b[68][0]++,Ae().s[260]++,s.searchParams.set("modal",f.join(","))):(Ae().b[68][1]++,Ae().s[261]++,s.searchParams.delete("modal")),Ae().s[262]++,t==="map"?(Ae().b[69][0]++,Ae().s[263]++,s.searchParams.delete("view")):(Ae().b[69][1]++,Ae().s[264]++,t==="inspect"?(Ae().b[70][0]++,Ae().s[265]++,s.searchParams.set("view","inspect")):Ae().b[70][1]++),Ae().s[266]++,history.replaceState({selectedLayerIndex:o},"Maputnik",s.href)}));dn(this,"getInitialStateFromUrl",(Ae().s[267]++,t=>{Ae().f[56]++;const r=(Ae().s[268]++,new URL(location.href)),i=(Ae().s[269]++,r.searchParams.get("modal"));if(Ae().s[270]++,Ae().b[72][0]++,i&&(Ae().b[72][1]++,i!=="")){Ae().b[71][0]++;const a=(Ae().s[271]++,i.split(",")),f=(Ae().s[272]++,{});Ae().s[273]++,a.forEach(m=>{Ae().f[57]++,Ae().s[274]++,f[m]=!0}),Ae().s[275]++,this.setState({isOpen:{...this.state.isOpen,...f}})}else Ae().b[71][1]++;const o=(Ae().s[276]++,r.searchParams.get("view"));Ae().s[277]++,Ae().b[74][0]++,o&&(Ae().b[74][1]++,o!=="")?(Ae().b[73][0]++,Ae().s[278]++,this.setMapState(o)):Ae().b[73][1]++;const s=(Ae().s[279]++,r.searchParams.get("layer"));if(Ae().s[280]++,s){Ae().b[75][0]++,Ae().s[281]++;try{const a=(Ae().s[282]++,s.split("~")),[f,m]=(Ae().s[283]++,[a[0],parseInt(a[1],10)]);let C=(Ae().s[284]++,!0);if(Ae().s[285]++,f!=="-"){Ae().b[76][0]++;const B=(Ae().s[286]++,CP(JSON.stringify(t)));Ae().s[287]++,B!==parseInt(f,10)?(Ae().b[77][0]++,Ae().s[288]++,C=!1):Ae().b[77][1]++}else Ae().b[76][1]++;Ae().s[289]++,C?(Ae().b[78][0]++,Ae().s[290]++,this.setState({selectedLayerIndex:m,selectedLayerOriginalId:t.layers[m].id})):Ae().b[78][1]++}catch(a){Ae().s[291]++,console.warn(a)}}else Ae().b[75][1]++}));dn(this,"onLayerSelect",(Ae().s[292]++,t=>{Ae().f[58]++,Ae().s[293]++,this.setState({selectedLayerIndex:t,selectedLayerOriginalId:this.state.mapStyle.layers[t].id},this.setStateInUrl)}));dn(this,"onChangeOpenlayersDebug",(Ae().s[296]++,(t,r)=>{Ae().f[61]++,Ae().s[297]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[t]:r}})}));dn(this,"onChangeMaplibreGlDebug",(Ae().s[298]++,(t,r)=>{Ae().f[62]++,Ae().s[299]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[t]:r}})}));Ae().s[15]++,nJ(this),Ae().s[16]++,this.revisionStore=new V9e;const r=(Ae().s[17]++,new URLSearchParams(window.location.search.substring(1)));let i=(Ae().s[18]++,r.get("localport"));Ae().s[19]++,Ae().b[6][0]++,i==null&&(Ae().b[6][1]++,window.location.port!=="80")&&(Ae().b[6][2]++,window.location.port!=="443")?(Ae().b[5][0]++,Ae().s[20]++,i=window.location.port):Ae().b[5][1]++,Ae().s[21]++,this.styleStore=new q9e({onLocalStyleChange:a=>(Ae().f[3]++,Ae().s[22]++,this.onStyleChanged(a,{save:!1})),port:i,host:r.get("localhost")});const o=(Ae().s[23]++,[{key:"?",handler:()=>{Ae().f[4]++,Ae().s[24]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{Ae().f[5]++,Ae().s[25]++,this.toggleModal("open")}},{key:"e",handler:()=>{Ae().f[6]++,Ae().s[26]++,this.toggleModal("export")}},{key:"d",handler:()=>{Ae().f[7]++,Ae().s[27]++,this.toggleModal("sources")}},{key:"s",handler:()=>{Ae().f[8]++,Ae().s[28]++,this.toggleModal("settings")}},{key:"i",handler:()=>{Ae().f[9]++,Ae().s[29]++,this.setMapState(this.state.mapState==="map"?(Ae().b[7][0]++,"inspect"):(Ae().b[7][1]++,"map"))}},{key:"m",handler:()=>{Ae().f[10]++,Ae().s[30]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{Ae().f[11]++,Ae().s[31]++,this.toggleModal("debug")}}]);Ae().s[32]++,document.body.addEventListener("keyup",a=>{if(Ae().f[12]++,Ae().s[33]++,a.key==="Escape")Ae().b[8][0]++,Ae().s[34]++,a.target.blur(),Ae().s[35]++,document.body.focus();else if(Ae().b[8][1]++,Ae().s[36]++,Ae().b[10][0]++,this.state.isOpen.shortcuts||(Ae().b[10][1]++,document.activeElement===document.body)){Ae().b[9][0]++;const f=(Ae().s[37]++,o.find(m=>(Ae().f[13]++,Ae().s[38]++,m.key===a.key)));Ae().s[39]++,f?(Ae().b[11][0]++,Ae().s[40]++,this.setModal("shortcuts",!1),Ae().s[41]++,f.handler()):Ae().b[11][1]++}else Ae().b[9][1]++});const s=(Ae().s[42]++,K9e());Ae().s[43]++,Ae().b[13][0]++,s&&(Ae().b[13][1]++,window.confirm("Load style from URL: "+s+" and discard current changes?"))?(Ae().b[12][0]++,Ae().s[44]++,this.styleStore=new eR,Ae().s[45]++,pq(s,a=>(Ae().f[14]++,Ae().s[46]++,this.onStyleChanged(a))),Ae().s[47]++,HF()):(Ae().b[12][1]++,Ae().s[48]++,s?(Ae().b[14][0]++,Ae().s[49]++,HF()):Ae().b[14][1]++,Ae().s[50]++,this.styleStore.init(a=>{Ae().f[15]++,Ae().s[51]++,a?(Ae().b[15][0]++,Ae().s[52]++,console.log("Falling back to local storage for storing styles"),Ae().s[53]++,this.styleStore=new eR):Ae().b[15][1]++,Ae().s[54]++,this.styleStore.latestStyle(f=>(Ae().f[16]++,Ae().s[55]++,this.onStyleChanged(f,{initialLoad:!0}))),Ae().s[56]++,Mg.enabled()?(Ae().b[16][0]++,Ae().s[57]++,Mg.set("maputnik","styleStore",this.styleStore),Ae().s[58]++,Mg.set("maputnik","revisionStore",this.revisionStore)):Ae().b[16][1]++})),Ae().s[59]++,Mg.enabled()?(Ae().b[17][0]++,Ae().s[60]++,Mg.set("maputnik","revisionStore",this.revisionStore),Ae().s[61]++,Mg.set("maputnik","styleStore",this.styleStore)):Ae().b[17][1]++,Ae().s[62]++,this.state={errors:[],infos:[],mapStyle:aA.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:da,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},Ae().s[63]++,this.layerWatcher=new mPe({onVectorLayersChange:a=>(Ae().f[17]++,Ae().s[64]++,this.setState({vectorLayers:a}))})}componentDidMount(){Ae().f[19]++,Ae().s[79]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){Ae().f[20]++,Ae().s[80]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(t){Ae().f[21]++,Ae().s[81]++,this.styleStore.save(t)}updateFonts(t){Ae().f[22]++;const r=(Ae().s[82]++,Ae().b[27][0]++,this.state.mapStyle.metadata||(Ae().b[27][1]++,{})),i=(Ae().s[83]++,Ae().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(Ae().b[28][1]++,UY.openmaptiles)),o=(Ae().s[84]++,typeof t=="string"?(Ae().b[29][0]++,t.replace("{key}",i)):(Ae().b[29][1]++,t));Ae().s[85]++,T9e(o,s=>{Ae().f[23]++,Ae().s[86]++,this.setState({spec:rR(this.state.spec,"glyphs",s)})})}updateIcons(t){Ae().f[24]++,Ae().s[87]++,P9e(t,r=>{Ae().f[25]++,Ae().s[88]++,this.setState({spec:rR(this.state.spec,"sprite",r)})})}fetchSources(){Ae().f[44]++;const t=(Ae().s[209]++,{});Ae().s[210]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(Ae().s[211]++,Ae().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(Ae().b[57][1]++,i.type==="vector")&&(Ae().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){Ae().b[56][0]++,Ae().s[212]++,t[r]={type:i.type,layers:[]};let o=(Ae().s[213]++,i.url);Ae().s[214]++;try{Ae().s[215]++,o=vPe(o,this.state.mapStyle)}catch(s){Ae().s[216]++,console.warn("Failed to setFetchAccessToken: ",s)}Ae().s[217]++,fetch(o,{mode:"cors"}).then(s=>(Ae().f[45]++,Ae().s[218]++,s.json())).then(s=>{if(Ae().f[46]++,Ae().s[219]++,Object.prototype.hasOwnProperty.call(s,"vector_layers"))Ae().b[58][1]++;else{Ae().b[58][0]++,Ae().s[220]++;return}const a=(Ae().s[221]++,Object.assign({},{[r]:this.state.sources[r]}));Ae().s[222]++;for(const f of s.vector_layers)Ae().s[223]++,a[r].layers.push(f.id);Ae().s[224]++,console.debug("Updating source: "+r),Ae().s[225]++,this.setState({sources:a})}).catch(s=>{Ae().f[47]++,Ae().s[226]++,console.error("Failed to process sources for '%s'",o,s)})}else Ae().b[56][1]++,Ae().s[227]++,t[r]=(Ae().b[59][0]++,this.state.sources[r]||(Ae().b[59][1]++,this.state.mapStyle.sources[r]));Ae().s[228]++,W8(this.state.sources,t)?Ae().b[60][1]++:(Ae().b[60][0]++,Ae().s[229]++,console.debug("Setting sources"),Ae().s[230]++,this.setState({sources:t}))}_getRenderer(){Ae().f[48]++;const t=(Ae().s[231]++,Ae().b[61][0]++,this.state.mapStyle.metadata||(Ae().b[61][1]++,{}));return Ae().s[232]++,Ae().b[62][0]++,t["maputnik:renderer"]||(Ae().b[62][1]++,"mlgljs")}mapRenderer(){Ae().f[50]++;const{mapStyle:t,dirtyMapStyle:r}=(Ae().s[235]++,this.state),i=(Ae().s[236]++,{mapStyle:(Ae().b[63][0]++,r||(Ae().b[63][1]++,t)),replaceAccessTokens:m=>(Ae().f[51]++,Ae().s[237]++,aA.replaceAccessTokens(m,{allowFallback:!0})),onDataChange:m=>{Ae().f[52]++,Ae().s[238]++,this.layerWatcher.analyzeMap(m.map),Ae().s[239]++,this.fetchSources()}}),o=(Ae().s[240]++,this._getRenderer());let s;Ae().s[241]++,o==="ol"?(Ae().b[64][0]++,Ae().s[242]++,s=q.jsx(epe,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(Ae().b[64][1]++,Ae().s[243]++,s=q.jsx(Koe,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let a;Ae().s[244]++,this.state.mapState.match(/^filter-/)?(Ae().b[65][0]++,Ae().s[245]++,a=this.state.mapState.replace(/^filter-/,"")):Ae().b[65][1]++;const f=(Ae().s[246]++,{});return Ae().s[247]++,a?(Ae().b[66][0]++,Ae().s[248]++,f.filter=`url('#${a}')`):Ae().b[66][1]++,Ae().s[249]++,q.jsx("div",{style:f,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:s})}setModal(t,r){Ae().f[59]++,Ae().s[294]++,this.setState({isOpen:{...this.state.isOpen,[t]:r}},this.setStateInUrl)}toggleModal(t){Ae().f[60]++,Ae().s[295]++,this.setModal(t,!this.state.isOpen[t])}render(){Ae().f[63]++;const t=(Ae().s[300]++,Ae().b[79][0]++,this.state.mapStyle.layers||(Ae().b[79][1]++,[])),r=(Ae().s[301]++,t.length>0?(Ae().b[80][0]++,t[this.state.selectedLayerIndex]):(Ae().b[80][1]++,void 0)),i=(Ae().s[302]++,q.jsx(Y7e,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(Ae().s[303]++,q.jsx(ege,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:t,sources:this.state.sources,errors:this.state.errors})),s=(Ae().s[304]++,r?(Ae().b[81][0]++,q.jsx(f7e,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(Ae().b[81][1]++,void 0)),a=(Ae().s[305]++,this.state.errors.length+this.state.infos.length>0?(Ae().b[82][0]++,q.jsx(H7e,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(Ae().b[82][1]++,void 0)),f=(Ae().s[306]++,q.jsxs("div",{children:[q.jsx(eke,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),q.jsx(XIe,{isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),q.jsx(J7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),q.jsx(fIe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),q.jsx(HIe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),q.jsx(kIe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")})]}));return Ae().s[307]++,q.jsx(V7e,{toolbar:i,layerList:o,layerEditor:s,map:this.mapRenderer(),bottom:a,modals:f})}}const CPe=vz(document.querySelector("#app"));CPe.render(q.jsx(W6.Provider,{value:{className:"react-icons"},children:q.jsx(_Pe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-D2-9UTas.js.map
